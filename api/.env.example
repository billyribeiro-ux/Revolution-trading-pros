# Revolution Trading Pros - Rust API Environment Variables
# Copy to .env and fill in your values

#------------------------------------------------------------------------------
# SERVER
#------------------------------------------------------------------------------
PORT=8080
ENVIRONMENT=development

#------------------------------------------------------------------------------
# DATABASE (Fly.io PostgreSQL)
# Attached via: fly postgres attach --app revolution-trading-pros-api
# Or use: fly postgres connect -a <postgres-app-name>
#------------------------------------------------------------------------------
DATABASE_URL=postgres://user:password@your-postgres-app.flycast:5432/revolution_trading_pros?sslmode=disable

#------------------------------------------------------------------------------
# REDIS (Upstash)
# Get from: https://console.upstash.com
#------------------------------------------------------------------------------
REDIS_URL=rediss://default:xxx@xxx.upstash.io:6379

#------------------------------------------------------------------------------
# CLOUDFLARE R2 STORAGE
# Get from: https://dash.cloudflare.com > R2
#------------------------------------------------------------------------------
R2_ENDPOINT=https://xxx.r2.cloudflarestorage.com
R2_ACCESS_KEY_ID=your-access-key
R2_SECRET_ACCESS_KEY=your-secret-key
R2_BUCKET=revolution-trading-media
R2_PUBLIC_URL=https://pub-a6d59af18a9645e6a7b38dca4d53f2af.r2.dev

#------------------------------------------------------------------------------
# AUTHENTICATION
#------------------------------------------------------------------------------
JWT_SECRET=your-super-secret-jwt-key-min-32-chars
JWT_EXPIRES_IN=24

#------------------------------------------------------------------------------
# OAUTH - Google Sign-In (ICT Level 7)
# Get from: https://console.cloud.google.com/apis/credentials
# 1. Create OAuth 2.0 Client ID (Web application)
# 2. Add authorized redirect URI: https://your-api.fly.dev/api/auth/google/callback
#------------------------------------------------------------------------------
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

#------------------------------------------------------------------------------
# OAUTH - Apple Sign-In (ICT Level 7)
# Get from: https://developer.apple.com/account/resources/identifiers
# 1. Register App ID with Sign in with Apple capability
# 2. Create Services ID for web auth
# 3. Create Key for Sign in with Apple
# 4. Configure domains and return URLs
#------------------------------------------------------------------------------
APPLE_CLIENT_ID=com.your.app.service-id
APPLE_TEAM_ID=YOUR_TEAM_ID
APPLE_KEY_ID=YOUR_KEY_ID
APPLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour key content\n-----END PRIVATE KEY-----"

#------------------------------------------------------------------------------
# STRIPE
# Get from: https://dashboard.stripe.com/apikeys
#------------------------------------------------------------------------------
STRIPE_SECRET=sk_test_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx

#------------------------------------------------------------------------------
# EMAIL (Postmark)
# Get from: https://postmarkapp.com
#------------------------------------------------------------------------------
POSTMARK_TOKEN=xxx
FROM_EMAIL=noreply@example.com

#------------------------------------------------------------------------------
# CORS
#-----------------------------------------------------------------------------# CORS Origins (comma-separated)
CORS_ORIGINS=https://revolution-trading-pros.pages.dev,https://revolution-trading-pros.pages.dev,https://www.revolution-trading-pros.pages.dev

#------------------------------------------------------------------------------
# DEVELOPER BOOTSTRAP (ICT 7 - No Hardcoded Credentials)
# These environment variables bootstrap the developer account on startup.
# The password hash should be generated using Argon2id with OWASP parameters.
# Email must also be in DEVELOPER_EMAILS and/or SUPERADMIN_EMAILS for bypass.
#------------------------------------------------------------------------------
DEVELOPER_BOOTSTRAP_EMAIL=your-email@example.com
DEVELOPER_BOOTSTRAP_PASSWORD_HASH=$argon2id$v=19$m=65536,t=3,p=4$SALT$HASH
DEVELOPER_BOOTSTRAP_NAME=Developer Name

#------------------------------------------------------------------------------
# MEILISEARCH
# Get from: https://cloud.meilisearch.com
#------------------------------------------------------------------------------
MEILISEARCH_HOST=https://ms-xxx.meilisearch.io
MEILISEARCH_API_KEY=your-meilisearch-master-key

#------------------------------------------------------------------------------
# BUNNY.NET (Video Streaming & CDN)
# Get from: https://bunny.net - Lightning-fast video delivery
#------------------------------------------------------------------------------
# Stream Library (for video hosting)
BUNNY_STREAM_LIBRARY_ID=your-library-id
BUNNY_STREAM_API_KEY=your-stream-api-key

# Storage Zone (for thumbnails)
BUNNY_STORAGE_ZONE=revolution-trading-thumbnails
BUNNY_STORAGE_API_KEY=your-storage-api-key
BUNNY_STORAGE_HOSTNAME=ny.storage.bunnycdn.com

# CDN URL (for thumbnail delivery)
BUNNY_CDN_URL=https://revolution-thumbnails-cdn.b-cdn.net
