###############################################################################
# REVOLUTION TRADING PROS - LIGHTNING STACK CONFIGURATION
# âš¡ ICT 11+ Principal Engineer Production Configuration
#
# This file contains all environment variables needed for the Lightning Stack.
# Copy this to .env and fill in your credentials.
#
# NEVER commit .env to version control.
#
# Setup Guide: docs/LIGHTNING_STACK_SETUP.md
###############################################################################

#------------------------------------------------------------------------------
# APPLICATION SETTINGS
#------------------------------------------------------------------------------

APP_NAME="Revolution Trading Pros"
APP_ENV=production
APP_KEY=base64:YOUR_GENERATED_KEY_HERE
APP_DEBUG=false
APP_URL=https://revolutiontradingpros.com
APP_TIMEZONE=UTC

#------------------------------------------------------------------------------
# LIGHTNING STACK - DATABASE (Neon PostgreSQL)
#------------------------------------------------------------------------------
# Get credentials: https://console.neon.tech
#
# 1. Create a new project at https://console.neon.tech
# 2. Copy the connection string from the dashboard
# 3. Fill in the values below
#------------------------------------------------------------------------------

DB_CONNECTION=neon
NEON_ENABLED=true
NEON_PROJECT_ID=your-project-id

# Option 1: Use connection URL (recommended)
NEON_DATABASE_URL=postgres://username:password@ep-xxx.us-east-2.aws.neon.tech/neondb?sslmode=require

# Option 2: Individual credentials
NEON_DB_HOST=ep-xxx.us-east-2.aws.neon.tech
NEON_DB_PORT=5432
NEON_DB_DATABASE=neondb
NEON_DB_USERNAME=your-username
NEON_DB_PASSWORD=your-password

#------------------------------------------------------------------------------
# LIGHTNING STACK - CACHE (Upstash Redis)
#------------------------------------------------------------------------------
# Get credentials: https://console.upstash.com
#
# 1. Create a Redis database at https://console.upstash.com
# 2. Choose "Global" for best latency worldwide
# 3. Copy the credentials from the dashboard
#------------------------------------------------------------------------------

CACHE_STORE=upstash
UPSTASH_ENABLED=true

# Redis connection (for phpredis)
UPSTASH_REDIS_URL=rediss://default:xxx@xxx.upstash.io:6379
UPSTASH_REDIS_HOST=xxx.upstash.io
UPSTASH_REDIS_PASSWORD=your-password
UPSTASH_REDIS_PORT=6379

# REST API (for serverless/edge)
UPSTASH_REDIS_REST_URL=https://xxx.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-rest-token

# Session and Queue using Upstash
SESSION_DRIVER=redis
QUEUE_CONNECTION=redis
REDIS_CLIENT=phpredis

#------------------------------------------------------------------------------
# LIGHTNING STACK - STORAGE (Cloudflare R2)
#------------------------------------------------------------------------------
# Get credentials: https://dash.cloudflare.com > R2
#
# 1. Go to R2 in Cloudflare Dashboard
# 2. Create a bucket named "revolution-trading-media"
# 3. Create API token with R2 permissions
# 4. Enable public access or create a custom domain
#------------------------------------------------------------------------------

FILESYSTEM_DISK=r2
MEDIA_DISK=r2
CLOUDFLARE_R2_ENABLED=true

R2_ACCESS_KEY_ID=your-access-key-id
R2_SECRET_ACCESS_KEY=your-secret-access-key
R2_BUCKET=revolution-trading-media
R2_ENDPOINT=https://YOUR_ACCOUNT_ID.r2.cloudflarestorage.com
R2_PUBLIC_URL=https://media.revolutiontradingpros.com

#------------------------------------------------------------------------------
# LIGHTNING STACK - IMAGES (Cloudflare Images)
#------------------------------------------------------------------------------
# Get credentials: https://dash.cloudflare.com > Images
#
# 1. Go to Images in Cloudflare Dashboard
# 2. Subscribe to Cloudflare Images ($5/month)
# 3. Create an API token with Images permissions
# 4. Copy your Account Hash from the dashboard
#------------------------------------------------------------------------------

CLOUDFLARE_IMAGES_ENABLED=true
CLOUDFLARE_ACCOUNT_ID=your-account-id
CLOUDFLARE_API_TOKEN=your-api-token
CLOUDFLARE_IMAGES_TOKEN=your-images-token
CLOUDFLARE_IMAGES_HASH=your-account-hash

#------------------------------------------------------------------------------
# SECURITY SETTINGS (Production)
#------------------------------------------------------------------------------

BCRYPT_ROUNDS=12
SESSION_ENCRYPT=true
SESSION_SECURE_COOKIE=true
SESSION_SAME_SITE=strict

# CORS - Update with your frontend domain
CORS_ALLOWED_ORIGINS=https://revolutiontradingpros.com,https://www.revolutiontradingpros.com

# Sanctum - Update with your domains
SANCTUM_STATEFUL_DOMAINS=revolutiontradingpros.com,www.revolutiontradingpros.com

#------------------------------------------------------------------------------
# MAIL CONFIGURATION
#------------------------------------------------------------------------------

MAIL_MAILER=smtp
MAIL_HOST=smtp.postmarkapp.com
MAIL_PORT=587
MAIL_USERNAME=your-postmark-token
MAIL_PASSWORD=your-postmark-token
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=noreply@revolutiontradingpros.com
MAIL_FROM_NAME="${APP_NAME}"

#------------------------------------------------------------------------------
# LOGGING & MONITORING
#------------------------------------------------------------------------------

LOG_CHANNEL=stack
LOG_LEVEL=warning

# Sentry Error Tracking (recommended)
SENTRY_LARAVEL_DSN=https://xxx@xxx.ingest.sentry.io/xxx

#------------------------------------------------------------------------------
# OPTIONAL: Additional Performance Settings
#------------------------------------------------------------------------------

# Cache TTL presets (in seconds)
CACHE_TTL_STATIC=86400
CACHE_TTL_POSTS=3600
CACHE_TTL_API=300
CACHE_TTL_SESSION=7200
CACHE_TTL_REALTIME=60

# Rate limiting
RATE_LIMIT_API=120
RATE_LIMIT_AUTH=10
