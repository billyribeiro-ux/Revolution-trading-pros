# REVOLUTION-SVELTE: ULTIMATE COMPLETE ARCHIVE
# FRONTEND + BACKEND | Generated: Fri Nov 21 03:49:02 UTC 2025
# Frontend: 378 files | Backend: ~50 files | EVERYTHING!
# ================================================================


###############################################################################
# PART 1: BACKEND - LARAVEL API
###############################################################################

# ============= CONTROLLERS =============

##################################################################
# FILE: backend/Controller.php
# PATH: backend/app/Http/Controllers/Controller.php
##################################################################

<?php

namespace App\Http\Controllers;

abstract class Controller
{
    //
}

# END OF backend/Controller.php


# ============= API CONTROLLERS =============

##################################################################
# FILE: backend/api/AuthController.php
# PATH: backend/app/Http/Controllers/Api/AuthController.php
##################################################################

<?php

namespace App\Http\Controllers\Api;

use App\Http\Controllers\Controller;
use App\Models\User;
use Illuminate\Auth\Events\Registered;
use Illuminate\Auth\Events\Verified;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Hash;
use Illuminate\Validation\ValidationException;

class AuthController extends Controller
{
    public function register(Request $request)
    {
        $request->validate([
            'name' => 'required|string|max:255',
            'email' => 'required|string|email|max:255|unique:users',
            'password' => 'required|string|min:8|confirmed',
        ]);

        $user = User::create([
            'name' => $request->name,
            'email' => $request->email,
            'password' => Hash::make($request->password),
        ]);

        event(new Registered($user));

        $token = $user->createToken('auth_token')->plainTextToken;

        return response()->json([
            'user' => $user,
            'token' => $token,
            'message' => 'Registration successful. Please verify your email.',
        ], 201);
    }

    public function login(Request $request)
    {
        $request->validate([
            'email' => 'required|email',
            'password' => 'required',
        ]);

        $user = User::where('email', $request->email)->first();

        if (! $user || ! Hash::check($request->password, $user->password)) {
            throw ValidationException::withMessages([
                'email' => ['The provided credentials are incorrect.'],
            ]);
        }

        $token = $user->createToken('auth_token')->plainTextToken;

        return response()->json([
            'user' => $user,
            'token' => $token,
        ]);
    }

    public function logout(Request $request)
    {
        $request->user()->currentAccessToken()->delete();

        return response()->json(['message' => 'Logged out successfully']);
    }

    public function verify(Request $request)
    {
        $user = User::findOrFail($request->route('id'));

        if (! hash_equals((string) $request->route('hash'), sha1($user->getEmailForVerification()))) {
            return response()->json(['message' => 'Invalid verification link'], 403);
        }

        if ($user->hasVerifiedEmail()) {
            return response()->json(['message' => 'Email already verified']);
        }

        $user->markEmailAsVerified();
        event(new Verified($user));

        return response()->json(['message' => 'Email verified successfully']);
    }

    public function sendVerification(Request $request)
    {
        if ($request->user()->hasVerifiedEmail()) {
            return response()->json(['message' => 'Email already verified']);
        }

        $request->user()->sendEmailVerificationNotification();

        return response()->json(['message' => 'Verification link sent']);
    }
}

# END OF backend/api/AuthController.php


##################################################################
# FILE: backend/api/CartController.php
# PATH: backend/app/Http/Controllers/Api/CartController.php
##################################################################

<?php

namespace App\Http\Controllers\Api;

use App\Http\Controllers\Controller;
use App\Models\MembershipPlan;
use App\Models\Order;
use App\Models\Product;
use Illuminate\Http\Request;
use Illuminate\Support\Str;

class CartController extends Controller
{
    public function checkout(Request $request)
    {
        $request->validate([
            'items' => 'required|array',
            'items.*.type' => 'required|in:product,membership',
            'items.*.id' => 'required|integer',
            'items.*.quantity' => 'integer|min:1',
        ]);

        $user = $request->user();
        $items = $request->items;

        $subtotal = 0;
        $orderItems = [];

        foreach ($items as $item) {
            if ($item['type'] === 'product') {
                $product = Product::findOrFail($item['id']);
                $price = $product->price;
                $name = $product->name;
            } else {
                $plan = MembershipPlan::findOrFail($item['id']);
                $price = $plan->price;
                $name = $plan->name;
            }

            $quantity = $item['quantity'] ?? 1;
            $subtotal += $price * $quantity;

            $orderItems[] = [
                'item_type' => $item['type'],
                'item_id' => $item['id'],
                'name' => $name,
                'price' => $price,
                'quantity' => $quantity,
            ];
        }

        $order = Order::create([
            'user_id' => $user->id,
            'order_number' => 'ORD-'.strtoupper(Str::random(10)),
            'subtotal' => $subtotal,
            'tax' => 0,
            'total' => $subtotal,
            'status' => 'pending',
        ]);

        foreach ($orderItems as $item) {
            $order->items()->create($item);
        }

        // TODO: Integrate payment provider

        return response()->json([
            'order' => $order->load('items'),
            'message' => 'Order created. Proceed with payment.',
        ], 201);
    }
}

# END OF backend/api/CartController.php


##################################################################
# FILE: backend/api/IndicatorController.php
# PATH: backend/app/Http/Controllers/Api/IndicatorController.php
##################################################################

<?php

namespace App\Http\Controllers\Api;

use App\Http\Controllers\Controller;
use App\Models\Media;
use App\Models\Product;
use App\Services\MembershipService;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Storage;

class IndicatorController extends Controller
{
    public function __construct(
        protected MembershipService $membershipService
    ) {}

    public function index()
    {
        $indicators = Product::where('type', 'indicator')
            ->where('is_active', true)
            ->select('id', 'name', 'slug', 'description', 'price', 'thumbnail', 'meta_description')
            ->get();

        return response()->json($indicators);
    }

    public function show(string $slug)
    {
        $indicator = Product::where('slug', $slug)
            ->where('type', 'indicator')
            ->where('is_active', true)
            ->firstOrFail();

        return response()->json($indicator);
    }

    public function download(Request $request, string $slug, int $downloadId)
    {
        $user = $request->user();

        if (! $this->membershipService->userOwnsProduct($user, $slug)) {
            return response()->json(['message' => 'You do not own this indicator'], 403);
        }

        $media = Media::findOrFail($downloadId);

        if (! Storage::exists($media->path)) {
            return response()->json(['message' => 'File not found'], 404);
        }

        return Storage::download($media->path, $media->filename);
    }
}

# END OF backend/api/IndicatorController.php


##################################################################
# FILE: backend/api/MeController.php
# PATH: backend/app/Http/Controllers/Api/MeController.php
##################################################################

<?php

namespace App\Http\Controllers\Api;

use App\Http\Controllers\Controller;
use Illuminate\Http\Request;

class MeController extends Controller
{
    public function show(Request $request)
    {
        return response()->json($request->user());
    }

    public function memberships(Request $request)
    {
        $memberships = $request->user()
            ->memberships()
            ->with('plan')
            ->where('status', 'active')
            ->get();

        return response()->json($memberships);
    }

    public function products(Request $request)
    {
        $products = $request->user()
            ->products()
            ->get();

        return response()->json($products);
    }

    public function indicators(Request $request)
    {
        $indicators = $request->user()
            ->products()
            ->where('type', 'indicator')
            ->get();

        return response()->json($indicators);
    }
}

# END OF backend/api/MeController.php


##################################################################
# FILE: backend/api/NewsletterController.php
# PATH: backend/app/Http/Controllers/Api/NewsletterController.php
##################################################################

<?php

namespace App\Http\Controllers\Api;

use App\Http\Controllers\Controller;
use App\Models\NewsletterSubscription;
use Illuminate\Http\Request;
use Illuminate\Support\Str;

class NewsletterController extends Controller
{
    public function subscribe(Request $request)
    {
        $request->validate([
            'email' => 'required|email|unique:newsletter_subscriptions,email',
            'name' => 'nullable|string|max:255',
        ]);

        $subscription = NewsletterSubscription::create([
            'email' => $request->email,
            'name' => $request->name,
            'status' => 'pending',
            'verification_token' => Str::random(64),
            'unsubscribe_token' => Str::random(64),
        ]);

        // TODO: Send verification email

        return response()->json([
            'message' => 'Please check your email to confirm your subscription.',
        ], 201);
    }

    public function confirm(Request $request)
    {
        $request->validate([
            'token' => 'required|string',
        ]);

        $subscription = NewsletterSubscription::where('verification_token', $request->token)->firstOrFail();

        if ($subscription->status === 'active') {
            return response()->json(['message' => 'Subscription already confirmed']);
        }

        $subscription->update([
            'status' => 'active',
            'verified_at' => now(),
            'verification_token' => null,
        ]);

        return response()->json(['message' => 'Subscription confirmed successfully']);
    }

    public function unsubscribe(Request $request)
    {
        $request->validate([
            'token' => 'required|string',
        ]);

        $subscription = NewsletterSubscription::where('unsubscribe_token', $request->token)->firstOrFail();

        $subscription->update(['status' => 'unsubscribed']);

        return response()->json(['message' => 'Unsubscribed successfully']);
    }
}

# END OF backend/api/NewsletterController.php


##################################################################
# FILE: backend/api/PostController.php
# PATH: backend/app/Http/Controllers/Api/PostController.php
##################################################################

<?php

namespace App\Http\Controllers\Api;

use App\Http\Controllers\Controller;
use App\Models\Post;

class PostController extends Controller
{
    public function index()
    {
        $posts = Post::where('status', 'published')
            ->where('published_at', '<=', now())
            ->orderBy('published_at', 'desc')
            ->select('id', 'title', 'slug', 'excerpt', 'featured_image', 'published_at')
            ->paginate(12);

        return response()->json($posts);
    }

    public function show(string $slug)
    {
        $post = Post::where('slug', $slug)
            ->where('status', 'published')
            ->with('author:id,name')
            ->firstOrFail();

        return response()->json($post);
    }
}

# END OF backend/api/PostController.php


# ============= MODELS =============

##################################################################
# FILE: backend/models/Media.php
# PATH: backend/app/Models/Media.php
##################################################################

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;

class Media extends Model
{
    protected $fillable = [
        'filename', 'path', 'mime_type', 'size', 'alt_text', 'title', 'uploaded_by',
    ];

    public function uploader()
    {
        return $this->belongsTo(User::class, 'uploaded_by');
    }

    public function posts()
    {
        return $this->belongsToMany(Post::class, 'post_media');
    }
}

# END OF backend/models/Media.php


##################################################################
# FILE: backend/models/MembershipFeature.php
# PATH: backend/app/Models/MembershipFeature.php
##################################################################

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;

class MembershipFeature extends Model
{
    protected $fillable = [
        'plan_id', 'feature_code', 'feature_name', 'description',
    ];

    public function plan()
    {
        return $this->belongsTo(MembershipPlan::class, 'plan_id');
    }
}

# END OF backend/models/MembershipFeature.php


##################################################################
# FILE: backend/models/MembershipPlan.php
# PATH: backend/app/Models/MembershipPlan.php
##################################################################

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;

class MembershipPlan extends Model
{
    protected $fillable = [
        'name', 'slug', 'description', 'price', 'billing_cycle', 'is_active', 'metadata',
    ];

    protected $casts = [
        'metadata' => 'array',
        'is_active' => 'boolean',
        'price' => 'decimal:2',
    ];

    public function features()
    {
        return $this->hasMany(MembershipFeature::class, 'plan_id');
    }

    public function userMemberships()
    {
        return $this->hasMany(UserMembership::class, 'plan_id');
    }
}

# END OF backend/models/MembershipPlan.php


##################################################################
# FILE: backend/models/NewsletterSubscription.php
# PATH: backend/app/Models/NewsletterSubscription.php
##################################################################

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;

class NewsletterSubscription extends Model
{
    protected $fillable = [
        'email', 'name', 'status', 'verification_token', 'verified_at', 'unsubscribe_token',
    ];

    protected $casts = [
        'verified_at' => 'datetime',
    ];
}

# END OF backend/models/NewsletterSubscription.php


##################################################################
# FILE: backend/models/Order.php
# PATH: backend/app/Models/Order.php
##################################################################

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;

class Order extends Model
{
    protected $fillable = [
        'user_id', 'order_number', 'subtotal', 'tax', 'total',
        'status', 'payment_provider', 'payment_intent_id', 'metadata',
    ];

    protected $casts = [
        'metadata' => 'array',
        'subtotal' => 'decimal:2',
        'tax' => 'decimal:2',
        'total' => 'decimal:2',
    ];

    public function user()
    {
        return $this->belongsTo(User::class);
    }

    public function items()
    {
        return $this->hasMany(OrderItem::class);
    }
}

# END OF backend/models/Order.php


##################################################################
# FILE: backend/models/OrderItem.php
# PATH: backend/app/Models/OrderItem.php
##################################################################

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;

class OrderItem extends Model
{
    protected $fillable = [
        'order_id', 'item_type', 'item_id', 'name', 'price', 'quantity', 'metadata',
    ];

    protected $casts = [
        'metadata' => 'array',
        'price' => 'decimal:2',
    ];

    public function order()
    {
        return $this->belongsTo(Order::class);
    }
}

# END OF backend/models/OrderItem.php


##################################################################
# FILE: backend/models/Post.php
# PATH: backend/app/Models/Post.php
##################################################################

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;

class Post extends Model
{
    protected $fillable = [
        'author_id', 'title', 'slug', 'excerpt', 'content_blocks',
        'featured_image', 'status', 'published_at',
        'meta_title', 'meta_description', 'indexable', 'canonical_url', 'schema_markup',
    ];

    protected $casts = [
        'content_blocks' => 'array',
        'schema_markup' => 'array',
        'indexable' => 'boolean',
        'published_at' => 'datetime',
    ];

    public function author()
    {
        return $this->belongsTo(User::class, 'author_id');
    }

    public function media()
    {
        return $this->belongsToMany(Media::class, 'post_media');
    }
}

# END OF backend/models/Post.php


##################################################################
# FILE: backend/models/Product.php
# PATH: backend/app/Models/Product.php
##################################################################

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;

class Product extends Model
{
    protected $fillable = [
        'name', 'slug', 'type', 'description', 'long_description',
        'price', 'is_active', 'metadata', 'thumbnail',
        'meta_title', 'meta_description', 'indexable', 'canonical_url',
    ];

    protected $casts = [
        'metadata' => 'array',
        'is_active' => 'boolean',
        'indexable' => 'boolean',
        'price' => 'decimal:2',
    ];

    public function users()
    {
        return $this->belongsToMany(User::class, 'user_products')
            ->withPivot('purchased_at', 'order_id')
            ->withTimestamps();
    }
}

# END OF backend/models/Product.php


##################################################################
# FILE: backend/models/User.php
# PATH: backend/app/Models/User.php
##################################################################

<?php

namespace App\Models;

use Illuminate\Contracts\Auth\MustVerifyEmail;
use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Foundation\Auth\User as Authenticatable;
use Illuminate\Notifications\Notifiable;
use Laravel\Sanctum\HasApiTokens;
use Spatie\Permission\Traits\HasRoles;

class User extends Authenticatable implements MustVerifyEmail
{
    use HasApiTokens, HasFactory, HasRoles, Notifiable;

    protected $fillable = [
        'name',
        'email',
        'password',
    ];

    protected $hidden = [
        'password',
        'remember_token',
    ];

    protected $casts = [
        'email_verified_at' => 'datetime',
        'password' => 'hashed',
    ];

    public function memberships()
    {
        return $this->hasMany(UserMembership::class);
    }

    public function products()
    {
        return $this->belongsToMany(Product::class, 'user_products')
            ->withPivot('purchased_at', 'order_id')
            ->withTimestamps();
    }

    public function orders()
    {
        return $this->hasMany(Order::class);
    }
}

# END OF backend/models/User.php


##################################################################
# FILE: backend/models/UserMembership.php
# PATH: backend/app/Models/UserMembership.php
##################################################################

<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;

class UserMembership extends Model
{
    protected $fillable = [
        'user_id', 'plan_id', 'starts_at', 'expires_at', 'status',
        'payment_provider', 'subscription_id',
    ];

    protected $casts = [
        'starts_at' => 'datetime',
        'expires_at' => 'datetime',
    ];

    public function user()
    {
        return $this->belongsTo(User::class);
    }

    public function plan()
    {
        return $this->belongsTo(MembershipPlan::class, 'plan_id');
    }
}

# END OF backend/models/UserMembership.php


# ============= MIDDLEWARE =============

# ============= ROUTES =============

##################################################################
# FILE: backend/routes/api.php
# PATH: backend/routes/api.php
##################################################################

<?php

use App\Http\Controllers\Api\AuthController;
use App\Http\Controllers\Api\CartController;
use App\Http\Controllers\Api\IndicatorController;
use App\Http\Controllers\Api\MeController;
use App\Http\Controllers\Api\NewsletterController;
use App\Http\Controllers\Api\PostController;
use Illuminate\Support\Facades\Route;

// Public routes
Route::post('/register', [AuthController::class, 'register']);
Route::post('/login', [AuthController::class, 'login']);

// Email verification routes
Route::get('/email/verify/{id}/{hash}', [AuthController::class, 'verify'])
    ->middleware(['signed'])->name('verification.verify');
Route::post('/email/verification-notification', [AuthController::class, 'sendVerification'])
    ->middleware(['auth:sanctum'])->name('verification.send');

// Newsletter
Route::post('/newsletter/subscribe', [NewsletterController::class, 'subscribe']);
Route::get('/newsletter/confirm', [NewsletterController::class, 'confirm']);
Route::get('/newsletter/unsubscribe', [NewsletterController::class, 'unsubscribe']);

// Public content
Route::get('/posts', [PostController::class, 'index']);
Route::get('/posts/{slug}', [PostController::class, 'show']);
Route::get('/indicators', [IndicatorController::class, 'index']);
Route::get('/indicators/{slug}', [IndicatorController::class, 'show']);

// Protected routes
Route::middleware(['auth:sanctum'])->group(function () {
    Route::post('/logout', [AuthController::class, 'logout']);
    Route::get('/me', [MeController::class, 'show']);
    Route::get('/me/memberships', [MeController::class, 'memberships']);
    Route::get('/me/products', [MeController::class, 'products']);
    Route::get('/me/indicators', [MeController::class, 'indicators']);

    Route::post('/cart/checkout', [CartController::class, 'checkout']);
});

// Download routes
Route::middleware(['auth:sanctum', 'verified'])->group(function () {
    Route::get('/download/indicator/{slug}/{downloadId}', [IndicatorController::class, 'download']);
});

# END OF backend/routes/api.php


##################################################################
# FILE: backend/routes/web.php
# PATH: backend/routes/web.php
##################################################################

<?php

use Illuminate\Support\Facades\Route;

Route::get('/', function () {
    return view('welcome');
});

# END OF backend/routes/web.php


##################################################################
# FILE: backend/routes/console.php
# PATH: backend/routes/console.php
##################################################################

<?php

use Illuminate\Foundation\Inspiring;
use Illuminate\Support\Facades\Artisan;

Artisan::command('inspire', function () {
    $this->comment(Inspiring::quote());
})->purpose('Display an inspiring quote');

# END OF backend/routes/console.php


# ============= MIGRATIONS =============

##################################################################
# FILE: backend/migrations/0001_01_01_000000_create_users_table.php
# PATH: backend/database/migrations/0001_01_01_000000_create_users_table.php
##################################################################

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create('users', function (Blueprint $table) {
            $table->id();
            $table->string('name');
            $table->string('email')->unique();
            $table->timestamp('email_verified_at')->nullable();
            $table->string('password');
            $table->rememberToken();
            $table->timestamps();
        });

        Schema::create('password_reset_tokens', function (Blueprint $table) {
            $table->string('email')->primary();
            $table->string('token');
            $table->timestamp('created_at')->nullable();
        });

        Schema::create('sessions', function (Blueprint $table) {
            $table->string('id')->primary();
            $table->foreignId('user_id')->nullable()->index();
            $table->string('ip_address', 45)->nullable();
            $table->text('user_agent')->nullable();
            $table->longText('payload');
            $table->integer('last_activity')->index();
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists('users');
        Schema::dropIfExists('password_reset_tokens');
        Schema::dropIfExists('sessions');
    }
};

# END OF backend/migrations/0001_01_01_000000_create_users_table.php


##################################################################
# FILE: backend/migrations/0001_01_01_000001_create_cache_table.php
# PATH: backend/database/migrations/0001_01_01_000001_create_cache_table.php
##################################################################

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create('cache', function (Blueprint $table) {
            $table->string('key')->primary();
            $table->mediumText('value');
            $table->integer('expiration');
        });

        Schema::create('cache_locks', function (Blueprint $table) {
            $table->string('key')->primary();
            $table->string('owner');
            $table->integer('expiration');
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists('cache');
        Schema::dropIfExists('cache_locks');
    }
};

# END OF backend/migrations/0001_01_01_000001_create_cache_table.php


##################################################################
# FILE: backend/migrations/0001_01_01_000002_create_jobs_table.php
# PATH: backend/database/migrations/0001_01_01_000002_create_jobs_table.php
##################################################################

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create('jobs', function (Blueprint $table) {
            $table->id();
            $table->string('queue')->index();
            $table->longText('payload');
            $table->unsignedTinyInteger('attempts');
            $table->unsignedInteger('reserved_at')->nullable();
            $table->unsignedInteger('available_at');
            $table->unsignedInteger('created_at');
        });

        Schema::create('job_batches', function (Blueprint $table) {
            $table->string('id')->primary();
            $table->string('name');
            $table->integer('total_jobs');
            $table->integer('pending_jobs');
            $table->integer('failed_jobs');
            $table->longText('failed_job_ids');
            $table->mediumText('options')->nullable();
            $table->integer('cancelled_at')->nullable();
            $table->integer('created_at');
            $table->integer('finished_at')->nullable();
        });

        Schema::create('failed_jobs', function (Blueprint $table) {
            $table->id();
            $table->string('uuid')->unique();
            $table->text('connection');
            $table->text('queue');
            $table->longText('payload');
            $table->longText('exception');
            $table->timestamp('failed_at')->useCurrent();
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists('jobs');
        Schema::dropIfExists('job_batches');
        Schema::dropIfExists('failed_jobs');
    }
};

# END OF backend/migrations/0001_01_01_000002_create_jobs_table.php


##################################################################
# FILE: backend/migrations/2025_11_08_132227_create_personal_access_tokens_table.php
# PATH: backend/database/migrations/2025_11_08_132227_create_personal_access_tokens_table.php
##################################################################

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create('personal_access_tokens', function (Blueprint $table) {
            $table->id();
            $table->morphs('tokenable');
            $table->text('name');
            $table->string('token', 64)->unique();
            $table->text('abilities')->nullable();
            $table->timestamp('last_used_at')->nullable();
            $table->timestamp('expires_at')->nullable()->index();
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists('personal_access_tokens');
    }
};

# END OF backend/migrations/2025_11_08_132227_create_personal_access_tokens_table.php


##################################################################
# FILE: backend/migrations/2025_11_08_132229_create_permission_tables.php
# PATH: backend/database/migrations/2025_11_08_132229_create_permission_tables.php
##################################################################

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        $teams = config('permission.teams');
        $tableNames = config('permission.table_names');
        $columnNames = config('permission.column_names');
        $pivotRole = $columnNames['role_pivot_key'] ?? 'role_id';
        $pivotPermission = $columnNames['permission_pivot_key'] ?? 'permission_id';

        throw_if(empty($tableNames), Exception::class, 'Error: config/permission.php not loaded. Run [php artisan config:clear] and try again.');
        throw_if($teams && empty($columnNames['team_foreign_key'] ?? null), Exception::class, 'Error: team_foreign_key on config/permission.php not loaded. Run [php artisan config:clear] and try again.');

        Schema::create($tableNames['permissions'], static function (Blueprint $table) {
            // $table->engine('InnoDB');
            $table->bigIncrements('id'); // permission id
            $table->string('name');       // For MyISAM use string('name', 225); // (or 166 for InnoDB with Redundant/Compact row format)
            $table->string('guard_name'); // For MyISAM use string('guard_name', 25);
            $table->timestamps();

            $table->unique(['name', 'guard_name']);
        });

        Schema::create($tableNames['roles'], static function (Blueprint $table) use ($teams, $columnNames) {
            // $table->engine('InnoDB');
            $table->bigIncrements('id'); // role id
            if ($teams || config('permission.testing')) { // permission.testing is a fix for sqlite testing
                $table->unsignedBigInteger($columnNames['team_foreign_key'])->nullable();
                $table->index($columnNames['team_foreign_key'], 'roles_team_foreign_key_index');
            }
            $table->string('name');       // For MyISAM use string('name', 225); // (or 166 for InnoDB with Redundant/Compact row format)
            $table->string('guard_name'); // For MyISAM use string('guard_name', 25);
            $table->timestamps();
            if ($teams || config('permission.testing')) {
                $table->unique([$columnNames['team_foreign_key'], 'name', 'guard_name']);
            } else {
                $table->unique(['name', 'guard_name']);
            }
        });

        Schema::create($tableNames['model_has_permissions'], static function (Blueprint $table) use ($tableNames, $columnNames, $pivotPermission, $teams) {
            $table->unsignedBigInteger($pivotPermission);

            $table->string('model_type');
            $table->unsignedBigInteger($columnNames['model_morph_key']);
            $table->index([$columnNames['model_morph_key'], 'model_type'], 'model_has_permissions_model_id_model_type_index');

            $table->foreign($pivotPermission)
                ->references('id') // permission id
                ->on($tableNames['permissions'])
                ->onDelete('cascade');
            if ($teams) {
                $table->unsignedBigInteger($columnNames['team_foreign_key']);
                $table->index($columnNames['team_foreign_key'], 'model_has_permissions_team_foreign_key_index');

                $table->primary([$columnNames['team_foreign_key'], $pivotPermission, $columnNames['model_morph_key'], 'model_type'],
                    'model_has_permissions_permission_model_type_primary');
            } else {
                $table->primary([$pivotPermission, $columnNames['model_morph_key'], 'model_type'],
                    'model_has_permissions_permission_model_type_primary');
            }

        });

        Schema::create($tableNames['model_has_roles'], static function (Blueprint $table) use ($tableNames, $columnNames, $pivotRole, $teams) {
            $table->unsignedBigInteger($pivotRole);

            $table->string('model_type');
            $table->unsignedBigInteger($columnNames['model_morph_key']);
            $table->index([$columnNames['model_morph_key'], 'model_type'], 'model_has_roles_model_id_model_type_index');

            $table->foreign($pivotRole)
                ->references('id') // role id
                ->on($tableNames['roles'])
                ->onDelete('cascade');
            if ($teams) {
                $table->unsignedBigInteger($columnNames['team_foreign_key']);
                $table->index($columnNames['team_foreign_key'], 'model_has_roles_team_foreign_key_index');

                $table->primary([$columnNames['team_foreign_key'], $pivotRole, $columnNames['model_morph_key'], 'model_type'],
                    'model_has_roles_role_model_type_primary');
            } else {
                $table->primary([$pivotRole, $columnNames['model_morph_key'], 'model_type'],
                    'model_has_roles_role_model_type_primary');
            }
        });

        Schema::create($tableNames['role_has_permissions'], static function (Blueprint $table) use ($tableNames, $pivotRole, $pivotPermission) {
            $table->unsignedBigInteger($pivotPermission);
            $table->unsignedBigInteger($pivotRole);

            $table->foreign($pivotPermission)
                ->references('id') // permission id
                ->on($tableNames['permissions'])
                ->onDelete('cascade');

            $table->foreign($pivotRole)
                ->references('id') // role id
                ->on($tableNames['roles'])
                ->onDelete('cascade');

            $table->primary([$pivotPermission, $pivotRole], 'role_has_permissions_permission_id_role_id_primary');
        });

        app('cache')
            ->store(config('permission.cache.store') != 'default' ? config('permission.cache.store') : null)
            ->forget(config('permission.cache.key'));
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        $tableNames = config('permission.table_names');

        throw_if(empty($tableNames), Exception::class, 'Error: config/permission.php not found and defaults could not be merged. Please publish the package configuration before proceeding, or drop the tables manually.');

        Schema::drop($tableNames['role_has_permissions']);
        Schema::drop($tableNames['model_has_roles']);
        Schema::drop($tableNames['model_has_permissions']);
        Schema::drop($tableNames['roles']);
        Schema::drop($tableNames['permissions']);
    }
};

# END OF backend/migrations/2025_11_08_132229_create_permission_tables.php


##################################################################
# FILE: backend/migrations/2025_11_08_132651_create_membership_plans_table.php
# PATH: backend/database/migrations/2025_11_08_132651_create_membership_plans_table.php
##################################################################

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('membership_plans', function (Blueprint $table) {
            $table->id();
            $table->string('name');
            $table->string('slug')->unique();
            $table->text('description')->nullable();
            $table->decimal('price', 10, 2);
            $table->enum('billing_cycle', ['monthly', 'quarterly', 'annual']);
            $table->boolean('is_active')->default(true);
            $table->json('metadata')->nullable();
            $table->timestamps();
        });

        Schema::create('membership_features', function (Blueprint $table) {
            $table->id();
            $table->foreignId('plan_id')->constrained('membership_plans')->onDelete('cascade');
            $table->string('feature_code');
            $table->string('feature_name');
            $table->text('description')->nullable();
            $table->timestamps();

            $table->unique(['plan_id', 'feature_code']);
        });

        Schema::create('user_memberships', function (Blueprint $table) {
            $table->id();
            $table->foreignId('user_id')->constrained()->onDelete('cascade');
            $table->foreignId('plan_id')->constrained('membership_plans')->onDelete('cascade');
            $table->timestamp('starts_at');
            $table->timestamp('expires_at')->nullable();
            $table->enum('status', ['active', 'cancelled', 'expired', 'pending'])->default('pending');
            $table->string('payment_provider')->nullable();
            $table->string('subscription_id')->nullable();
            $table->timestamps();

            $table->index(['user_id', 'status']);
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('user_memberships');
        Schema::dropIfExists('membership_features');
        Schema::dropIfExists('membership_plans');
    }
};

# END OF backend/migrations/2025_11_08_132651_create_membership_plans_table.php


##################################################################
# FILE: backend/migrations/2025_11_08_132654_create_products_table.php
# PATH: backend/database/migrations/2025_11_08_132654_create_products_table.php
##################################################################

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('products', function (Blueprint $table) {
            $table->id();
            $table->string('name');
            $table->string('slug')->unique();
            $table->enum('type', ['course', 'indicator', 'bundle']);
            $table->text('description')->nullable();
            $table->text('long_description')->nullable();
            $table->decimal('price', 10, 2);
            $table->boolean('is_active')->default(true);
            $table->json('metadata')->nullable();
            $table->string('thumbnail')->nullable();

            // SEO
            $table->string('meta_title')->nullable();
            $table->text('meta_description')->nullable();
            $table->boolean('indexable')->default(true);
            $table->string('canonical_url')->nullable();

            $table->timestamps();
        });

        Schema::create('user_products', function (Blueprint $table) {
            $table->id();
            $table->foreignId('user_id')->constrained()->onDelete('cascade');
            $table->foreignId('product_id')->constrained()->onDelete('cascade');
            $table->timestamp('purchased_at');
            $table->foreignId('order_id')->nullable()->constrained();
            $table->timestamps();

            $table->unique(['user_id', 'product_id']);
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('user_products');
        Schema::dropIfExists('products');
    }
};

# END OF backend/migrations/2025_11_08_132654_create_products_table.php


##################################################################
# FILE: backend/migrations/2025_11_08_132657_create_orders_table.php
# PATH: backend/database/migrations/2025_11_08_132657_create_orders_table.php
##################################################################

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('orders', function (Blueprint $table) {
            $table->id();
            $table->foreignId('user_id')->constrained()->onDelete('cascade');
            $table->string('order_number')->unique();
            $table->decimal('subtotal', 10, 2);
            $table->decimal('tax', 10, 2)->default(0);
            $table->decimal('total', 10, 2);
            $table->enum('status', ['pending', 'paid', 'failed', 'refunded'])->default('pending');
            $table->string('payment_provider')->nullable();
            $table->string('payment_intent_id')->nullable();
            $table->json('metadata')->nullable();
            $table->timestamps();

            $table->index(['user_id', 'status']);
        });

        Schema::create('order_items', function (Blueprint $table) {
            $table->id();
            $table->foreignId('order_id')->constrained()->onDelete('cascade');
            $table->string('item_type');
            $table->unsignedBigInteger('item_id');
            $table->string('name');
            $table->decimal('price', 10, 2);
            $table->integer('quantity')->default(1);
            $table->json('metadata')->nullable();
            $table->timestamps();
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('order_items');
        Schema::dropIfExists('orders');
    }
};

# END OF backend/migrations/2025_11_08_132657_create_orders_table.php


##################################################################
# FILE: backend/migrations/2025_11_08_132659_create_posts_table.php
# PATH: backend/database/migrations/2025_11_08_132659_create_posts_table.php
##################################################################

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('posts', function (Blueprint $table) {
            $table->id();
            $table->foreignId('author_id')->constrained('users')->onDelete('cascade');
            $table->string('title');
            $table->string('slug')->unique();
            $table->text('excerpt')->nullable();
            $table->json('content_blocks')->nullable();
            $table->string('featured_image')->nullable();
            $table->enum('status', ['draft', 'published', 'archived'])->default('draft');
            $table->timestamp('published_at')->nullable();

            // SEO
            $table->string('meta_title')->nullable();
            $table->text('meta_description')->nullable();
            $table->boolean('indexable')->default(true);
            $table->string('canonical_url')->nullable();
            $table->json('schema_markup')->nullable();

            $table->timestamps();

            $table->index(['status', 'published_at']);
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('posts');
    }
};

# END OF backend/migrations/2025_11_08_132659_create_posts_table.php


##################################################################
# FILE: backend/migrations/2025_11_08_132701_create_media_table.php
# PATH: backend/database/migrations/2025_11_08_132701_create_media_table.php
##################################################################

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('media', function (Blueprint $table) {
            $table->id();
            $table->string('filename');
            $table->string('path');
            $table->string('mime_type');
            $table->unsignedBigInteger('size');
            $table->string('alt_text')->nullable();
            $table->string('title')->nullable();
            $table->foreignId('uploaded_by')->nullable()->constrained('users')->nullOnDelete();
            $table->timestamps();
        });

        Schema::create('post_media', function (Blueprint $table) {
            $table->foreignId('post_id')->constrained()->onDelete('cascade');
            $table->foreignId('media_id')->constrained()->onDelete('cascade');

            $table->primary(['post_id', 'media_id']);
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('post_media');
        Schema::dropIfExists('media');
    }
};

# END OF backend/migrations/2025_11_08_132701_create_media_table.php


##################################################################
# FILE: backend/migrations/2025_11_08_132704_create_newsletter_subscriptions_table.php
# PATH: backend/database/migrations/2025_11_08_132704_create_newsletter_subscriptions_table.php
##################################################################

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('newsletter_subscriptions', function (Blueprint $table) {
            $table->id();
            $table->string('email')->unique();
            $table->string('name')->nullable();
            $table->enum('status', ['pending', 'active', 'unsubscribed'])->default('pending');
            $table->string('verification_token')->nullable();
            $table->timestamp('verified_at')->nullable();
            $table->string('unsubscribe_token')->unique();
            $table->timestamps();

            $table->index(['status', 'verified_at']);
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('newsletter_subscriptions');
    }
};

# END OF backend/migrations/2025_11_08_132704_create_newsletter_subscriptions_table.php


##################################################################
# FILE: backend/migrations/2025_11_08_132706_create_seo_settings_table.php
# PATH: backend/database/migrations/2025_11_08_132706_create_seo_settings_table.php
##################################################################

<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('seo_settings', function (Blueprint $table) {
            $table->id();
            $table->string('key')->unique();
            $table->text('value')->nullable();
            $table->timestamps();
        });

        Schema::create('redirects', function (Blueprint $table) {
            $table->id();
            $table->string('from_path');
            $table->string('to_path');
            $table->integer('status_code')->default(301);
            $table->boolean('is_active')->default(true);
            $table->timestamps();

            $table->index('from_path');
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('redirects');
        Schema::dropIfExists('seo_settings');
    }
};

# END OF backend/migrations/2025_11_08_132706_create_seo_settings_table.php


# ============= SEEDERS =============

##################################################################
# FILE: backend/seeders/DatabaseSeeder.php
# PATH: backend/database/seeders/DatabaseSeeder.php
##################################################################

<?php

namespace Database\Seeders;

use App\Models\User;
use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;

class DatabaseSeeder extends Seeder
{
    use WithoutModelEvents;

    /**
     * Seed the application's database.
     */
    public function run(): void
    {
        // User::factory(10)->create();

        User::factory()->create([
            'name' => 'Test User',
            'email' => 'test@example.com',
        ]);
    }
}

# END OF backend/seeders/DatabaseSeeder.php


# ============= FACTORIES =============

##################################################################
# FILE: backend/factories/UserFactory.php
# PATH: backend/database/factories/UserFactory.php
##################################################################

<?php

namespace Database\Factories;

use Illuminate\Database\Eloquent\Factories\Factory;
use Illuminate\Support\Facades\Hash;
use Illuminate\Support\Str;

/**
 * @extends \Illuminate\Database\Eloquent\Factories\Factory<\App\Models\User>
 */
class UserFactory extends Factory
{
    /**
     * The current password being used by the factory.
     */
    protected static ?string $password;

    /**
     * Define the model's default state.
     *
     * @return array<string, mixed>
     */
    public function definition(): array
    {
        return [
            'name' => fake()->name(),
            'email' => fake()->unique()->safeEmail(),
            'email_verified_at' => now(),
            'password' => static::$password ??= Hash::make('password'),
            'remember_token' => Str::random(10),
        ];
    }

    /**
     * Indicate that the model's email address should be unverified.
     */
    public function unverified(): static
    {
        return $this->state(fn (array $attributes) => [
            'email_verified_at' => null,
        ]);
    }
}

# END OF backend/factories/UserFactory.php


# ============= CONFIG =============

##################################################################
# FILE: backend/config/app.php
# PATH: backend/config/app.php
##################################################################

<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Application Name
    |--------------------------------------------------------------------------
    |
    | This value is the name of your application, which will be used when the
    | framework needs to place the application's name in a notification or
    | other UI elements where an application name needs to be displayed.
    |
    */

    'name' => env('APP_NAME', 'Laravel'),

    /*
    |--------------------------------------------------------------------------
    | Application Environment
    |--------------------------------------------------------------------------
    |
    | This value determines the "environment" your application is currently
    | running in. This may determine how you prefer to configure various
    | services the application utilizes. Set this in your ".env" file.
    |
    */

    'env' => env('APP_ENV', 'production'),

    /*
    |--------------------------------------------------------------------------
    | Application Debug Mode
    |--------------------------------------------------------------------------
    |
    | When your application is in debug mode, detailed error messages with
    | stack traces will be shown on every error that occurs within your
    | application. If disabled, a simple generic error page is shown.
    |
    */

    'debug' => (bool) env('APP_DEBUG', false),

    /*
    |--------------------------------------------------------------------------
    | Application URL
    |--------------------------------------------------------------------------
    |
    | This URL is used by the console to properly generate URLs when using
    | the Artisan command line tool. You should set this to the root of
    | the application so that it's available within Artisan commands.
    |
    */

    'url' => env('APP_URL', 'http://localhost'),

    /*
    |--------------------------------------------------------------------------
    | Application Timezone
    |--------------------------------------------------------------------------
    |
    | Here you may specify the default timezone for your application, which
    | will be used by the PHP date and date-time functions. The timezone
    | is set to "UTC" by default as it is suitable for most use cases.
    |
    */

    'timezone' => 'UTC',

    /*
    |--------------------------------------------------------------------------
    | Application Locale Configuration
    |--------------------------------------------------------------------------
    |
    | The application locale determines the default locale that will be used
    | by Laravel's translation / localization methods. This option can be
    | set to any locale for which you plan to have translation strings.
    |
    */

    'locale' => env('APP_LOCALE', 'en'),

    'fallback_locale' => env('APP_FALLBACK_LOCALE', 'en'),

    'faker_locale' => env('APP_FAKER_LOCALE', 'en_US'),

    /*
    |--------------------------------------------------------------------------
    | Encryption Key
    |--------------------------------------------------------------------------
    |
    | This key is utilized by Laravel's encryption services and should be set
    | to a random, 32 character string to ensure that all encrypted values
    | are secure. You should do this prior to deploying the application.
    |
    */

    'cipher' => 'AES-256-CBC',

    'key' => env('APP_KEY'),

    'previous_keys' => [
        ...array_filter(
            explode(',', (string) env('APP_PREVIOUS_KEYS', ''))
        ),
    ],

    /*
    |--------------------------------------------------------------------------
    | Maintenance Mode Driver
    |--------------------------------------------------------------------------
    |
    | These configuration options determine the driver used to determine and
    | manage Laravel's "maintenance mode" status. The "cache" driver will
    | allow maintenance mode to be controlled across multiple machines.
    |
    | Supported drivers: "file", "cache"
    |
    */

    'maintenance' => [
        'driver' => env('APP_MAINTENANCE_DRIVER', 'file'),
        'store' => env('APP_MAINTENANCE_STORE', 'database'),
    ],

];

# END OF backend/config/app.php


##################################################################
# FILE: backend/config/auth.php
# PATH: backend/config/auth.php
##################################################################

<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Authentication Defaults
    |--------------------------------------------------------------------------
    |
    | This option defines the default authentication "guard" and password
    | reset "broker" for your application. You may change these values
    | as required, but they're a perfect start for most applications.
    |
    */

    'defaults' => [
        'guard' => env('AUTH_GUARD', 'web'),
        'passwords' => env('AUTH_PASSWORD_BROKER', 'users'),
    ],

    /*
    |--------------------------------------------------------------------------
    | Authentication Guards
    |--------------------------------------------------------------------------
    |
    | Next, you may define every authentication guard for your application.
    | Of course, a great default configuration has been defined for you
    | which utilizes session storage plus the Eloquent user provider.
    |
    | All authentication guards have a user provider, which defines how the
    | users are actually retrieved out of your database or other storage
    | system used by the application. Typically, Eloquent is utilized.
    |
    | Supported: "session"
    |
    */

    'guards' => [
        'web' => [
            'driver' => 'session',
            'provider' => 'users',
        ],
    ],

    /*
    |--------------------------------------------------------------------------
    | User Providers
    |--------------------------------------------------------------------------
    |
    | All authentication guards have a user provider, which defines how the
    | users are actually retrieved out of your database or other storage
    | system used by the application. Typically, Eloquent is utilized.
    |
    | If you have multiple user tables or models you may configure multiple
    | providers to represent the model / table. These providers may then
    | be assigned to any extra authentication guards you have defined.
    |
    | Supported: "database", "eloquent"
    |
    */

    'providers' => [
        'users' => [
            'driver' => 'eloquent',
            'model' => env('AUTH_MODEL', App\Models\User::class),
        ],

        // 'users' => [
        //     'driver' => 'database',
        //     'table' => 'users',
        // ],
    ],

    /*
    |--------------------------------------------------------------------------
    | Resetting Passwords
    |--------------------------------------------------------------------------
    |
    | These configuration options specify the behavior of Laravel's password
    | reset functionality, including the table utilized for token storage
    | and the user provider that is invoked to actually retrieve users.
    |
    | The expiry time is the number of minutes that each reset token will be
    | considered valid. This security feature keeps tokens short-lived so
    | they have less time to be guessed. You may change this as needed.
    |
    | The throttle setting is the number of seconds a user must wait before
    | generating more password reset tokens. This prevents the user from
    | quickly generating a very large amount of password reset tokens.
    |
    */

    'passwords' => [
        'users' => [
            'provider' => 'users',
            'table' => env('AUTH_PASSWORD_RESET_TOKEN_TABLE', 'password_reset_tokens'),
            'expire' => 60,
            'throttle' => 60,
        ],
    ],

    /*
    |--------------------------------------------------------------------------
    | Password Confirmation Timeout
    |--------------------------------------------------------------------------
    |
    | Here you may define the number of seconds before a password confirmation
    | window expires and users are asked to re-enter their password via the
    | confirmation screen. By default, the timeout lasts for three hours.
    |
    */

    'password_timeout' => env('AUTH_PASSWORD_TIMEOUT', 10800),

];

# END OF backend/config/auth.php


##################################################################
# FILE: backend/config/cache.php
# PATH: backend/config/cache.php
##################################################################

<?php

use Illuminate\Support\Str;

return [

    /*
    |--------------------------------------------------------------------------
    | Default Cache Store
    |--------------------------------------------------------------------------
    |
    | This option controls the default cache store that will be used by the
    | framework. This connection is utilized if another isn't explicitly
    | specified when running a cache operation inside the application.
    |
    */

    'default' => env('CACHE_STORE', 'database'),

    /*
    |--------------------------------------------------------------------------
    | Cache Stores
    |--------------------------------------------------------------------------
    |
    | Here you may define all of the cache "stores" for your application as
    | well as their drivers. You may even define multiple stores for the
    | same cache driver to group types of items stored in your caches.
    |
    | Supported drivers: "array", "database", "file", "memcached",
    |                    "redis", "dynamodb", "octane",
    |                    "failover", "null"
    |
    */

    'stores' => [

        'array' => [
            'driver' => 'array',
            'serialize' => false,
        ],

        'database' => [
            'driver' => 'database',
            'connection' => env('DB_CACHE_CONNECTION'),
            'table' => env('DB_CACHE_TABLE', 'cache'),
            'lock_connection' => env('DB_CACHE_LOCK_CONNECTION'),
            'lock_table' => env('DB_CACHE_LOCK_TABLE'),
        ],

        'file' => [
            'driver' => 'file',
            'path' => storage_path('framework/cache/data'),
            'lock_path' => storage_path('framework/cache/data'),
        ],

        'memcached' => [
            'driver' => 'memcached',
            'persistent_id' => env('MEMCACHED_PERSISTENT_ID'),
            'sasl' => [
                env('MEMCACHED_USERNAME'),
                env('MEMCACHED_PASSWORD'),
            ],
            'options' => [
                // Memcached::OPT_CONNECT_TIMEOUT => 2000,
            ],
            'servers' => [
                [
                    'host' => env('MEMCACHED_HOST', '127.0.0.1'),
                    'port' => env('MEMCACHED_PORT', 11211),
                    'weight' => 100,
                ],
            ],
        ],

        'redis' => [
            'driver' => 'redis',
            'connection' => env('REDIS_CACHE_CONNECTION', 'cache'),
            'lock_connection' => env('REDIS_CACHE_LOCK_CONNECTION', 'default'),
        ],

        'dynamodb' => [
            'driver' => 'dynamodb',
            'key' => env('AWS_ACCESS_KEY_ID'),
            'secret' => env('AWS_SECRET_ACCESS_KEY'),
            'region' => env('AWS_DEFAULT_REGION', 'us-east-1'),
            'table' => env('DYNAMODB_CACHE_TABLE', 'cache'),
            'endpoint' => env('DYNAMODB_ENDPOINT'),
        ],

        'octane' => [
            'driver' => 'octane',
        ],

        'failover' => [
            'driver' => 'failover',
            'stores' => [
                'database',
                'array',
            ],
        ],

    ],

    /*
    |--------------------------------------------------------------------------
    | Cache Key Prefix
    |--------------------------------------------------------------------------
    |
    | When utilizing the APC, database, memcached, Redis, and DynamoDB cache
    | stores, there might be other applications using the same cache. For
    | that reason, you may prefix every cache key to avoid collisions.
    |
    */

    'prefix' => env('CACHE_PREFIX', Str::slug((string) env('APP_NAME', 'laravel')).'-cache-'),

];

# END OF backend/config/cache.php


##################################################################
# FILE: backend/config/cors.php
# PATH: backend/config/cors.php
##################################################################

<?php

return [
    'paths' => ['api/*', 'sanctum/csrf-cookie'],
    'allowed_methods' => ['*'],
    'allowed_origins' => [env('FRONTEND_URL', 'http://localhost:5173')],
    'allowed_origins_patterns' => [],
    'allowed_headers' => ['*'],
    'exposed_headers' => [],
    'max_age' => 0,
    'supports_credentials' => true,
];

# END OF backend/config/cors.php


##################################################################
# FILE: backend/config/database.php
# PATH: backend/config/database.php
##################################################################

<?php

use Illuminate\Support\Str;

return [

    /*
    |--------------------------------------------------------------------------
    | Default Database Connection Name
    |--------------------------------------------------------------------------
    |
    | Here you may specify which of the database connections below you wish
    | to use as your default connection for database operations. This is
    | the connection which will be utilized unless another connection
    | is explicitly specified when you execute a query / statement.
    |
    */

    'default' => env('DB_CONNECTION', 'sqlite'),

    /*
    |--------------------------------------------------------------------------
    | Database Connections
    |--------------------------------------------------------------------------
    |
    | Below are all of the database connections defined for your application.
    | An example configuration is provided for each database system which
    | is supported by Laravel. You're free to add / remove connections.
    |
    */

    'connections' => [

        'sqlite' => [
            'driver' => 'sqlite',
            'url' => env('DB_URL'),
            'database' => env('DB_DATABASE', database_path('database.sqlite')),
            'prefix' => '',
            'foreign_key_constraints' => env('DB_FOREIGN_KEYS', true),
            'busy_timeout' => null,
            'journal_mode' => null,
            'synchronous' => null,
            'transaction_mode' => 'DEFERRED',
        ],

        'mysql' => [
            'driver' => 'mysql',
            'url' => env('DB_URL'),
            'host' => env('DB_HOST', '127.0.0.1'),
            'port' => env('DB_PORT', '3306'),
            'database' => env('DB_DATABASE', 'laravel'),
            'username' => env('DB_USERNAME', 'root'),
            'password' => env('DB_PASSWORD', ''),
            'unix_socket' => env('DB_SOCKET', ''),
            'charset' => env('DB_CHARSET', 'utf8mb4'),
            'collation' => env('DB_COLLATION', 'utf8mb4_unicode_ci'),
            'prefix' => '',
            'prefix_indexes' => true,
            'strict' => true,
            'engine' => null,
            'options' => extension_loaded('pdo_mysql') ? array_filter([
                PDO::MYSQL_ATTR_SSL_CA => env('MYSQL_ATTR_SSL_CA'),
            ]) : [],
        ],

        'mariadb' => [
            'driver' => 'mariadb',
            'url' => env('DB_URL'),
            'host' => env('DB_HOST', '127.0.0.1'),
            'port' => env('DB_PORT', '3306'),
            'database' => env('DB_DATABASE', 'laravel'),
            'username' => env('DB_USERNAME', 'root'),
            'password' => env('DB_PASSWORD', ''),
            'unix_socket' => env('DB_SOCKET', ''),
            'charset' => env('DB_CHARSET', 'utf8mb4'),
            'collation' => env('DB_COLLATION', 'utf8mb4_unicode_ci'),
            'prefix' => '',
            'prefix_indexes' => true,
            'strict' => true,
            'engine' => null,
            'options' => extension_loaded('pdo_mysql') ? array_filter([
                PDO::MYSQL_ATTR_SSL_CA => env('MYSQL_ATTR_SSL_CA'),
            ]) : [],
        ],

        'pgsql' => [
            'driver' => 'pgsql',
            'url' => env('DB_URL'),
            'host' => env('DB_HOST', '127.0.0.1'),
            'port' => env('DB_PORT', '5432'),
            'database' => env('DB_DATABASE', 'laravel'),
            'username' => env('DB_USERNAME', 'root'),
            'password' => env('DB_PASSWORD', ''),
            'charset' => env('DB_CHARSET', 'utf8'),
            'prefix' => '',
            'prefix_indexes' => true,
            'search_path' => 'public',
            'sslmode' => 'prefer',
        ],

        'sqlsrv' => [
            'driver' => 'sqlsrv',
            'url' => env('DB_URL'),
            'host' => env('DB_HOST', 'localhost'),
            'port' => env('DB_PORT', '1433'),
            'database' => env('DB_DATABASE', 'laravel'),
            'username' => env('DB_USERNAME', 'root'),
            'password' => env('DB_PASSWORD', ''),
            'charset' => env('DB_CHARSET', 'utf8'),
            'prefix' => '',
            'prefix_indexes' => true,
            // 'encrypt' => env('DB_ENCRYPT', 'yes'),
            // 'trust_server_certificate' => env('DB_TRUST_SERVER_CERTIFICATE', 'false'),
        ],

    ],

    /*
    |--------------------------------------------------------------------------
    | Migration Repository Table
    |--------------------------------------------------------------------------
    |
    | This table keeps track of all the migrations that have already run for
    | your application. Using this information, we can determine which of
    | the migrations on disk haven't actually been run on the database.
    |
    */

    'migrations' => [
        'table' => 'migrations',
        'update_date_on_publish' => true,
    ],

    /*
    |--------------------------------------------------------------------------
    | Redis Databases
    |--------------------------------------------------------------------------
    |
    | Redis is an open source, fast, and advanced key-value store that also
    | provides a richer body of commands than a typical key-value system
    | such as Memcached. You may define your connection settings here.
    |
    */

    'redis' => [

        'client' => env('REDIS_CLIENT', 'phpredis'),

        'options' => [
            'cluster' => env('REDIS_CLUSTER', 'redis'),
            'prefix' => env('REDIS_PREFIX', Str::slug((string) env('APP_NAME', 'laravel')).'-database-'),
            'persistent' => env('REDIS_PERSISTENT', false),
        ],

        'default' => [
            'url' => env('REDIS_URL'),
            'host' => env('REDIS_HOST', '127.0.0.1'),
            'username' => env('REDIS_USERNAME'),
            'password' => env('REDIS_PASSWORD'),
            'port' => env('REDIS_PORT', '6379'),
            'database' => env('REDIS_DB', '0'),
            'max_retries' => env('REDIS_MAX_RETRIES', 3),
            'backoff_algorithm' => env('REDIS_BACKOFF_ALGORITHM', 'decorrelated_jitter'),
            'backoff_base' => env('REDIS_BACKOFF_BASE', 100),
            'backoff_cap' => env('REDIS_BACKOFF_CAP', 1000),
        ],

        'cache' => [
            'url' => env('REDIS_URL'),
            'host' => env('REDIS_HOST', '127.0.0.1'),
            'username' => env('REDIS_USERNAME'),
            'password' => env('REDIS_PASSWORD'),
            'port' => env('REDIS_PORT', '6379'),
            'database' => env('REDIS_CACHE_DB', '1'),
            'max_retries' => env('REDIS_MAX_RETRIES', 3),
            'backoff_algorithm' => env('REDIS_BACKOFF_ALGORITHM', 'decorrelated_jitter'),
            'backoff_base' => env('REDIS_BACKOFF_BASE', 100),
            'backoff_cap' => env('REDIS_BACKOFF_CAP', 1000),
        ],

    ],

];

# END OF backend/config/database.php


##################################################################
# FILE: backend/config/filesystems.php
# PATH: backend/config/filesystems.php
##################################################################

<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Default Filesystem Disk
    |--------------------------------------------------------------------------
    |
    | Here you may specify the default filesystem disk that should be used
    | by the framework. The "local" disk, as well as a variety of cloud
    | based disks are available to your application for file storage.
    |
    */

    'default' => env('FILESYSTEM_DISK', 'local'),

    /*
    |--------------------------------------------------------------------------
    | Filesystem Disks
    |--------------------------------------------------------------------------
    |
    | Below you may configure as many filesystem disks as necessary, and you
    | may even configure multiple disks for the same driver. Examples for
    | most supported storage drivers are configured here for reference.
    |
    | Supported drivers: "local", "ftp", "sftp", "s3"
    |
    */

    'disks' => [

        'local' => [
            'driver' => 'local',
            'root' => storage_path('app/private'),
            'serve' => true,
            'throw' => false,
            'report' => false,
        ],

        'public' => [
            'driver' => 'local',
            'root' => storage_path('app/public'),
            'url' => env('APP_URL').'/storage',
            'visibility' => 'public',
            'throw' => false,
            'report' => false,
        ],

        's3' => [
            'driver' => 's3',
            'key' => env('AWS_ACCESS_KEY_ID'),
            'secret' => env('AWS_SECRET_ACCESS_KEY'),
            'region' => env('AWS_DEFAULT_REGION'),
            'bucket' => env('AWS_BUCKET'),
            'url' => env('AWS_URL'),
            'endpoint' => env('AWS_ENDPOINT'),
            'use_path_style_endpoint' => env('AWS_USE_PATH_STYLE_ENDPOINT', false),
            'throw' => false,
            'report' => false,
        ],

    ],

    /*
    |--------------------------------------------------------------------------
    | Symbolic Links
    |--------------------------------------------------------------------------
    |
    | Here you may configure the symbolic links that will be created when the
    | `storage:link` Artisan command is executed. The array keys should be
    | the locations of the links and the values should be their targets.
    |
    */

    'links' => [
        public_path('storage') => storage_path('app/public'),
    ],

];

# END OF backend/config/filesystems.php


##################################################################
# FILE: backend/config/logging.php
# PATH: backend/config/logging.php
##################################################################

<?php

use Monolog\Handler\NullHandler;
use Monolog\Handler\StreamHandler;
use Monolog\Handler\SyslogUdpHandler;
use Monolog\Processor\PsrLogMessageProcessor;

return [

    /*
    |--------------------------------------------------------------------------
    | Default Log Channel
    |--------------------------------------------------------------------------
    |
    | This option defines the default log channel that is utilized to write
    | messages to your logs. The value provided here should match one of
    | the channels present in the list of "channels" configured below.
    |
    */

    'default' => env('LOG_CHANNEL', 'stack'),

    /*
    |--------------------------------------------------------------------------
    | Deprecations Log Channel
    |--------------------------------------------------------------------------
    |
    | This option controls the log channel that should be used to log warnings
    | regarding deprecated PHP and library features. This allows you to get
    | your application ready for upcoming major versions of dependencies.
    |
    */

    'deprecations' => [
        'channel' => env('LOG_DEPRECATIONS_CHANNEL', 'null'),
        'trace' => env('LOG_DEPRECATIONS_TRACE', false),
    ],

    /*
    |--------------------------------------------------------------------------
    | Log Channels
    |--------------------------------------------------------------------------
    |
    | Here you may configure the log channels for your application. Laravel
    | utilizes the Monolog PHP logging library, which includes a variety
    | of powerful log handlers and formatters that you're free to use.
    |
    | Available drivers: "single", "daily", "slack", "syslog",
    |                    "errorlog", "monolog", "custom", "stack"
    |
    */

    'channels' => [

        'stack' => [
            'driver' => 'stack',
            'channels' => explode(',', (string) env('LOG_STACK', 'single')),
            'ignore_exceptions' => false,
        ],

        'single' => [
            'driver' => 'single',
            'path' => storage_path('logs/laravel.log'),
            'level' => env('LOG_LEVEL', 'debug'),
            'replace_placeholders' => true,
        ],

        'daily' => [
            'driver' => 'daily',
            'path' => storage_path('logs/laravel.log'),
            'level' => env('LOG_LEVEL', 'debug'),
            'days' => env('LOG_DAILY_DAYS', 14),
            'replace_placeholders' => true,
        ],

        'slack' => [
            'driver' => 'slack',
            'url' => env('LOG_SLACK_WEBHOOK_URL'),
            'username' => env('LOG_SLACK_USERNAME', 'Laravel Log'),
            'emoji' => env('LOG_SLACK_EMOJI', ':boom:'),
            'level' => env('LOG_LEVEL', 'critical'),
            'replace_placeholders' => true,
        ],

        'papertrail' => [
            'driver' => 'monolog',
            'level' => env('LOG_LEVEL', 'debug'),
            'handler' => env('LOG_PAPERTRAIL_HANDLER', SyslogUdpHandler::class),
            'handler_with' => [
                'host' => env('PAPERTRAIL_URL'),
                'port' => env('PAPERTRAIL_PORT'),
                'connectionString' => 'tls://'.env('PAPERTRAIL_URL').':'.env('PAPERTRAIL_PORT'),
            ],
            'processors' => [PsrLogMessageProcessor::class],
        ],

        'stderr' => [
            'driver' => 'monolog',
            'level' => env('LOG_LEVEL', 'debug'),
            'handler' => StreamHandler::class,
            'handler_with' => [
                'stream' => 'php://stderr',
            ],
            'formatter' => env('LOG_STDERR_FORMATTER'),
            'processors' => [PsrLogMessageProcessor::class],
        ],

        'syslog' => [
            'driver' => 'syslog',
            'level' => env('LOG_LEVEL', 'debug'),
            'facility' => env('LOG_SYSLOG_FACILITY', LOG_USER),
            'replace_placeholders' => true,
        ],

        'errorlog' => [
            'driver' => 'errorlog',
            'level' => env('LOG_LEVEL', 'debug'),
            'replace_placeholders' => true,
        ],

        'null' => [
            'driver' => 'monolog',
            'handler' => NullHandler::class,
        ],

        'emergency' => [
            'path' => storage_path('logs/laravel.log'),
        ],

    ],

];

# END OF backend/config/logging.php


##################################################################
# FILE: backend/config/mail.php
# PATH: backend/config/mail.php
##################################################################

<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Default Mailer
    |--------------------------------------------------------------------------
    |
    | This option controls the default mailer that is used to send all email
    | messages unless another mailer is explicitly specified when sending
    | the message. All additional mailers can be configured within the
    | "mailers" array. Examples of each type of mailer are provided.
    |
    */

    'default' => env('MAIL_MAILER', 'log'),

    /*
    |--------------------------------------------------------------------------
    | Mailer Configurations
    |--------------------------------------------------------------------------
    |
    | Here you may configure all of the mailers used by your application plus
    | their respective settings. Several examples have been configured for
    | you and you are free to add your own as your application requires.
    |
    | Laravel supports a variety of mail "transport" drivers that can be used
    | when delivering an email. You may specify which one you're using for
    | your mailers below. You may also add additional mailers if needed.
    |
    | Supported: "smtp", "sendmail", "mailgun", "ses", "ses-v2",
    |            "postmark", "resend", "log", "array",
    |            "failover", "roundrobin"
    |
    */

    'mailers' => [

        'smtp' => [
            'transport' => 'smtp',
            'scheme' => env('MAIL_SCHEME'),
            'url' => env('MAIL_URL'),
            'host' => env('MAIL_HOST', '127.0.0.1'),
            'port' => env('MAIL_PORT', 2525),
            'username' => env('MAIL_USERNAME'),
            'password' => env('MAIL_PASSWORD'),
            'timeout' => null,
            'local_domain' => env('MAIL_EHLO_DOMAIN', parse_url((string) env('APP_URL', 'http://localhost'), PHP_URL_HOST)),
        ],

        'ses' => [
            'transport' => 'ses',
        ],

        'postmark' => [
            'transport' => 'postmark',
            // 'message_stream_id' => env('POSTMARK_MESSAGE_STREAM_ID'),
            // 'client' => [
            //     'timeout' => 5,
            // ],
        ],

        'resend' => [
            'transport' => 'resend',
        ],

        'sendmail' => [
            'transport' => 'sendmail',
            'path' => env('MAIL_SENDMAIL_PATH', '/usr/sbin/sendmail -bs -i'),
        ],

        'log' => [
            'transport' => 'log',
            'channel' => env('MAIL_LOG_CHANNEL'),
        ],

        'array' => [
            'transport' => 'array',
        ],

        'failover' => [
            'transport' => 'failover',
            'mailers' => [
                'smtp',
                'log',
            ],
            'retry_after' => 60,
        ],

        'roundrobin' => [
            'transport' => 'roundrobin',
            'mailers' => [
                'ses',
                'postmark',
            ],
            'retry_after' => 60,
        ],

    ],

    /*
    |--------------------------------------------------------------------------
    | Global "From" Address
    |--------------------------------------------------------------------------
    |
    | You may wish for all emails sent by your application to be sent from
    | the same address. Here you may specify a name and address that is
    | used globally for all emails that are sent by your application.
    |
    */

    'from' => [
        'address' => env('MAIL_FROM_ADDRESS', 'hello@example.com'),
        'name' => env('MAIL_FROM_NAME', 'Example'),
    ],

];

# END OF backend/config/mail.php


##################################################################
# FILE: backend/config/permission.php
# PATH: backend/config/permission.php
##################################################################

<?php

return [

    'models' => [

        /*
         * When using the "HasPermissions" trait from this package, we need to know which
         * Eloquent model should be used to retrieve your permissions. Of course, it
         * is often just the "Permission" model but you may use whatever you like.
         *
         * The model you want to use as a Permission model needs to implement the
         * `Spatie\Permission\Contracts\Permission` contract.
         */

        'permission' => Spatie\Permission\Models\Permission::class,

        /*
         * When using the "HasRoles" trait from this package, we need to know which
         * Eloquent model should be used to retrieve your roles. Of course, it
         * is often just the "Role" model but you may use whatever you like.
         *
         * The model you want to use as a Role model needs to implement the
         * `Spatie\Permission\Contracts\Role` contract.
         */

        'role' => Spatie\Permission\Models\Role::class,

    ],

    'table_names' => [

        /*
         * When using the "HasRoles" trait from this package, we need to know which
         * table should be used to retrieve your roles. We have chosen a basic
         * default value but you may easily change it to any table you like.
         */

        'roles' => 'roles',

        /*
         * When using the "HasPermissions" trait from this package, we need to know which
         * table should be used to retrieve your permissions. We have chosen a basic
         * default value but you may easily change it to any table you like.
         */

        'permissions' => 'permissions',

        /*
         * When using the "HasPermissions" trait from this package, we need to know which
         * table should be used to retrieve your models permissions. We have chosen a
         * basic default value but you may easily change it to any table you like.
         */

        'model_has_permissions' => 'model_has_permissions',

        /*
         * When using the "HasRoles" trait from this package, we need to know which
         * table should be used to retrieve your models roles. We have chosen a
         * basic default value but you may easily change it to any table you like.
         */

        'model_has_roles' => 'model_has_roles',

        /*
         * When using the "HasRoles" trait from this package, we need to know which
         * table should be used to retrieve your roles permissions. We have chosen a
         * basic default value but you may easily change it to any table you like.
         */

        'role_has_permissions' => 'role_has_permissions',
    ],

    'column_names' => [
        /*
         * Change this if you want to name the related pivots other than defaults
         */
        'role_pivot_key' => null, // default 'role_id',
        'permission_pivot_key' => null, // default 'permission_id',

        /*
         * Change this if you want to name the related model primary key other than
         * `model_id`.
         *
         * For example, this would be nice if your primary keys are all UUIDs. In
         * that case, name this `model_uuid`.
         */

        'model_morph_key' => 'model_id',

        /*
         * Change this if you want to use the teams feature and your related model's
         * foreign key is other than `team_id`.
         */

        'team_foreign_key' => 'team_id',
    ],

    /*
     * When set to true, the method for checking permissions will be registered on the gate.
     * Set this to false if you want to implement custom logic for checking permissions.
     */

    'register_permission_check_method' => true,

    /*
     * When set to true, Laravel\Octane\Events\OperationTerminated event listener will be registered
     * this will refresh permissions on every TickTerminated, TaskTerminated and RequestTerminated
     * NOTE: This should not be needed in most cases, but an Octane/Vapor combination benefited from it.
     */
    'register_octane_reset_listener' => false,

    /*
     * Events will fire when a role or permission is assigned/unassigned:
     * \Spatie\Permission\Events\RoleAttached
     * \Spatie\Permission\Events\RoleDetached
     * \Spatie\Permission\Events\PermissionAttached
     * \Spatie\Permission\Events\PermissionDetached
     *
     * To enable, set to true, and then create listeners to watch these events.
     */
    'events_enabled' => false,

    /*
     * Teams Feature.
     * When set to true the package implements teams using the 'team_foreign_key'.
     * If you want the migrations to register the 'team_foreign_key', you must
     * set this to true before doing the migration.
     * If you already did the migration then you must make a new migration to also
     * add 'team_foreign_key' to 'roles', 'model_has_roles', and 'model_has_permissions'
     * (view the latest version of this package's migration file)
     */

    'teams' => false,

    /*
     * The class to use to resolve the permissions team id
     */
    'team_resolver' => \Spatie\Permission\DefaultTeamResolver::class,

    /*
     * Passport Client Credentials Grant
     * When set to true the package will use Passports Client to check permissions
     */

    'use_passport_client_credentials' => false,

    /*
     * When set to true, the required permission names are added to exception messages.
     * This could be considered an information leak in some contexts, so the default
     * setting is false here for optimum safety.
     */

    'display_permission_in_exception' => false,

    /*
     * When set to true, the required role names are added to exception messages.
     * This could be considered an information leak in some contexts, so the default
     * setting is false here for optimum safety.
     */

    'display_role_in_exception' => false,

    /*
     * By default wildcard permission lookups are disabled.
     * See documentation to understand supported syntax.
     */

    'enable_wildcard_permission' => false,

    /*
     * The class to use for interpreting wildcard permissions.
     * If you need to modify delimiters, override the class and specify its name here.
     */
    // 'wildcard_permission' => Spatie\Permission\WildcardPermission::class,

    /* Cache-specific settings */

    'cache' => [

        /*
         * By default all permissions are cached for 24 hours to speed up performance.
         * When permissions or roles are updated the cache is flushed automatically.
         */

        'expiration_time' => \DateInterval::createFromDateString('24 hours'),

        /*
         * The cache key used to store all permissions.
         */

        'key' => 'spatie.permission.cache',

        /*
         * You may optionally indicate a specific cache driver to use for permission and
         * role caching using any of the `store` drivers listed in the cache.php config
         * file. Using 'default' here means to use the `default` set in cache.php.
         */

        'store' => 'default',
    ],
];

# END OF backend/config/permission.php


##################################################################
# FILE: backend/config/queue.php
# PATH: backend/config/queue.php
##################################################################

<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Default Queue Connection Name
    |--------------------------------------------------------------------------
    |
    | Laravel's queue supports a variety of backends via a single, unified
    | API, giving you convenient access to each backend using identical
    | syntax for each. The default queue connection is defined below.
    |
    */

    'default' => env('QUEUE_CONNECTION', 'database'),

    /*
    |--------------------------------------------------------------------------
    | Queue Connections
    |--------------------------------------------------------------------------
    |
    | Here you may configure the connection options for every queue backend
    | used by your application. An example configuration is provided for
    | each backend supported by Laravel. You're also free to add more.
    |
    | Drivers: "sync", "database", "beanstalkd", "sqs", "redis",
    |          "deferred", "background", "failover", "null"
    |
    */

    'connections' => [

        'sync' => [
            'driver' => 'sync',
        ],

        'database' => [
            'driver' => 'database',
            'connection' => env('DB_QUEUE_CONNECTION'),
            'table' => env('DB_QUEUE_TABLE', 'jobs'),
            'queue' => env('DB_QUEUE', 'default'),
            'retry_after' => (int) env('DB_QUEUE_RETRY_AFTER', 90),
            'after_commit' => false,
        ],

        'beanstalkd' => [
            'driver' => 'beanstalkd',
            'host' => env('BEANSTALKD_QUEUE_HOST', 'localhost'),
            'queue' => env('BEANSTALKD_QUEUE', 'default'),
            'retry_after' => (int) env('BEANSTALKD_QUEUE_RETRY_AFTER', 90),
            'block_for' => 0,
            'after_commit' => false,
        ],

        'sqs' => [
            'driver' => 'sqs',
            'key' => env('AWS_ACCESS_KEY_ID'),
            'secret' => env('AWS_SECRET_ACCESS_KEY'),
            'prefix' => env('SQS_PREFIX', 'https://sqs.us-east-1.amazonaws.com/your-account-id'),
            'queue' => env('SQS_QUEUE', 'default'),
            'suffix' => env('SQS_SUFFIX'),
            'region' => env('AWS_DEFAULT_REGION', 'us-east-1'),
            'after_commit' => false,
        ],

        'redis' => [
            'driver' => 'redis',
            'connection' => env('REDIS_QUEUE_CONNECTION', 'default'),
            'queue' => env('REDIS_QUEUE', 'default'),
            'retry_after' => (int) env('REDIS_QUEUE_RETRY_AFTER', 90),
            'block_for' => null,
            'after_commit' => false,
        ],

        'deferred' => [
            'driver' => 'deferred',
        ],

        'background' => [
            'driver' => 'background',
        ],

        'failover' => [
            'driver' => 'failover',
            'connections' => [
                'database',
                'deferred',
            ],
        ],

    ],

    /*
    |--------------------------------------------------------------------------
    | Job Batching
    |--------------------------------------------------------------------------
    |
    | The following options configure the database and table that store job
    | batching information. These options can be updated to any database
    | connection and table which has been defined by your application.
    |
    */

    'batching' => [
        'database' => env('DB_CONNECTION', 'sqlite'),
        'table' => 'job_batches',
    ],

    /*
    |--------------------------------------------------------------------------
    | Failed Queue Jobs
    |--------------------------------------------------------------------------
    |
    | These options configure the behavior of failed queue job logging so you
    | can control how and where failed jobs are stored. Laravel ships with
    | support for storing failed jobs in a simple file or in a database.
    |
    | Supported drivers: "database-uuids", "dynamodb", "file", "null"
    |
    */

    'failed' => [
        'driver' => env('QUEUE_FAILED_DRIVER', 'database-uuids'),
        'database' => env('DB_CONNECTION', 'sqlite'),
        'table' => 'failed_jobs',
    ],

];

# END OF backend/config/queue.php


##################################################################
# FILE: backend/config/sanctum.php
# PATH: backend/config/sanctum.php
##################################################################

<?php

use Laravel\Sanctum\Sanctum;

return [

    /*
    |--------------------------------------------------------------------------
    | Stateful Domains
    |--------------------------------------------------------------------------
    |
    | Requests from the following domains / hosts will receive stateful API
    | authentication cookies. Typically, these should include your local
    | and production domains which access your API via a frontend SPA.
    |
    */

    'stateful' => explode(',', env('SANCTUM_STATEFUL_DOMAINS', sprintf(
        '%s%s',
        'localhost,localhost:3000,127.0.0.1,127.0.0.1:8000,::1',
        Sanctum::currentApplicationUrlWithPort(),
        // Sanctum::currentRequestHost(),
    ))),

    /*
    |--------------------------------------------------------------------------
    | Sanctum Guards
    |--------------------------------------------------------------------------
    |
    | This array contains the authentication guards that will be checked when
    | Sanctum is trying to authenticate a request. If none of these guards
    | are able to authenticate the request, Sanctum will use the bearer
    | token that's present on an incoming request for authentication.
    |
    */

    'guard' => ['web'],

    /*
    |--------------------------------------------------------------------------
    | Expiration Minutes
    |--------------------------------------------------------------------------
    |
    | This value controls the number of minutes until an issued token will be
    | considered expired. This will override any values set in the token's
    | "expires_at" attribute, but first-party sessions are not affected.
    |
    */

    'expiration' => null,

    /*
    |--------------------------------------------------------------------------
    | Token Prefix
    |--------------------------------------------------------------------------
    |
    | Sanctum can prefix new tokens in order to take advantage of numerous
    | security scanning initiatives maintained by open source platforms
    | that notify developers if they commit tokens into repositories.
    |
    | See: https://docs.github.com/en/code-security/secret-scanning/about-secret-scanning
    |
    */

    'token_prefix' => env('SANCTUM_TOKEN_PREFIX', ''),

    /*
    |--------------------------------------------------------------------------
    | Sanctum Middleware
    |--------------------------------------------------------------------------
    |
    | When authenticating your first-party SPA with Sanctum you may need to
    | customize some of the middleware Sanctum uses while processing the
    | request. You may change the middleware listed below as required.
    |
    */

    'middleware' => [
        'authenticate_session' => Laravel\Sanctum\Http\Middleware\AuthenticateSession::class,
        'encrypt_cookies' => Illuminate\Cookie\Middleware\EncryptCookies::class,
        'validate_csrf_token' => Illuminate\Foundation\Http\Middleware\ValidateCsrfToken::class,
    ],

];

# END OF backend/config/sanctum.php


##################################################################
# FILE: backend/config/services.php
# PATH: backend/config/services.php
##################################################################

<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Third Party Services
    |--------------------------------------------------------------------------
    |
    | This file is for storing the credentials for third party services such
    | as Mailgun, Postmark, AWS and more. This file provides the de facto
    | location for this type of information, allowing packages to have
    | a conventional file to locate the various service credentials.
    |
    */

    'postmark' => [
        'key' => env('POSTMARK_API_KEY'),
    ],

    'resend' => [
        'key' => env('RESEND_API_KEY'),
    ],

    'ses' => [
        'key' => env('AWS_ACCESS_KEY_ID'),
        'secret' => env('AWS_SECRET_ACCESS_KEY'),
        'region' => env('AWS_DEFAULT_REGION', 'us-east-1'),
    ],

    'slack' => [
        'notifications' => [
            'bot_user_oauth_token' => env('SLACK_BOT_USER_OAUTH_TOKEN'),
            'channel' => env('SLACK_BOT_USER_DEFAULT_CHANNEL'),
        ],
    ],

];

# END OF backend/config/services.php


##################################################################
# FILE: backend/config/session.php
# PATH: backend/config/session.php
##################################################################

<?php

use Illuminate\Support\Str;

return [

    /*
    |--------------------------------------------------------------------------
    | Default Session Driver
    |--------------------------------------------------------------------------
    |
    | This option determines the default session driver that is utilized for
    | incoming requests. Laravel supports a variety of storage options to
    | persist session data. Database storage is a great default choice.
    |
    | Supported: "file", "cookie", "database", "memcached",
    |            "redis", "dynamodb", "array"
    |
    */

    'driver' => env('SESSION_DRIVER', 'database'),

    /*
    |--------------------------------------------------------------------------
    | Session Lifetime
    |--------------------------------------------------------------------------
    |
    | Here you may specify the number of minutes that you wish the session
    | to be allowed to remain idle before it expires. If you want them
    | to expire immediately when the browser is closed then you may
    | indicate that via the expire_on_close configuration option.
    |
    */

    'lifetime' => (int) env('SESSION_LIFETIME', 120),

    'expire_on_close' => env('SESSION_EXPIRE_ON_CLOSE', false),

    /*
    |--------------------------------------------------------------------------
    | Session Encryption
    |--------------------------------------------------------------------------
    |
    | This option allows you to easily specify that all of your session data
    | should be encrypted before it's stored. All encryption is performed
    | automatically by Laravel and you may use the session like normal.
    |
    */

    'encrypt' => env('SESSION_ENCRYPT', false),

    /*
    |--------------------------------------------------------------------------
    | Session File Location
    |--------------------------------------------------------------------------
    |
    | When utilizing the "file" session driver, the session files are placed
    | on disk. The default storage location is defined here; however, you
    | are free to provide another location where they should be stored.
    |
    */

    'files' => storage_path('framework/sessions'),

    /*
    |--------------------------------------------------------------------------
    | Session Database Connection
    |--------------------------------------------------------------------------
    |
    | When using the "database" or "redis" session drivers, you may specify a
    | connection that should be used to manage these sessions. This should
    | correspond to a connection in your database configuration options.
    |
    */

    'connection' => env('SESSION_CONNECTION'),

    /*
    |--------------------------------------------------------------------------
    | Session Database Table
    |--------------------------------------------------------------------------
    |
    | When using the "database" session driver, you may specify the table to
    | be used to store sessions. Of course, a sensible default is defined
    | for you; however, you're welcome to change this to another table.
    |
    */

    'table' => env('SESSION_TABLE', 'sessions'),

    /*
    |--------------------------------------------------------------------------
    | Session Cache Store
    |--------------------------------------------------------------------------
    |
    | When using one of the framework's cache driven session backends, you may
    | define the cache store which should be used to store the session data
    | between requests. This must match one of your defined cache stores.
    |
    | Affects: "dynamodb", "memcached", "redis"
    |
    */

    'store' => env('SESSION_STORE'),

    /*
    |--------------------------------------------------------------------------
    | Session Sweeping Lottery
    |--------------------------------------------------------------------------
    |
    | Some session drivers must manually sweep their storage location to get
    | rid of old sessions from storage. Here are the chances that it will
    | happen on a given request. By default, the odds are 2 out of 100.
    |
    */

    'lottery' => [2, 100],

    /*
    |--------------------------------------------------------------------------
    | Session Cookie Name
    |--------------------------------------------------------------------------
    |
    | Here you may change the name of the session cookie that is created by
    | the framework. Typically, you should not need to change this value
    | since doing so does not grant a meaningful security improvement.
    |
    */

    'cookie' => env(
        'SESSION_COOKIE',
        Str::slug((string) env('APP_NAME', 'laravel')).'-session'
    ),

    /*
    |--------------------------------------------------------------------------
    | Session Cookie Path
    |--------------------------------------------------------------------------
    |
    | The session cookie path determines the path for which the cookie will
    | be regarded as available. Typically, this will be the root path of
    | your application, but you're free to change this when necessary.
    |
    */

    'path' => env('SESSION_PATH', '/'),

    /*
    |--------------------------------------------------------------------------
    | Session Cookie Domain
    |--------------------------------------------------------------------------
    |
    | This value determines the domain and subdomains the session cookie is
    | available to. By default, the cookie will be available to the root
    | domain and all subdomains. Typically, this shouldn't be changed.
    |
    */

    'domain' => env('SESSION_DOMAIN'),

    /*
    |--------------------------------------------------------------------------
    | HTTPS Only Cookies
    |--------------------------------------------------------------------------
    |
    | By setting this option to true, session cookies will only be sent back
    | to the server if the browser has a HTTPS connection. This will keep
    | the cookie from being sent to you when it can't be done securely.
    |
    */

    'secure' => env('SESSION_SECURE_COOKIE'),

    /*
    |--------------------------------------------------------------------------
    | HTTP Access Only
    |--------------------------------------------------------------------------
    |
    | Setting this value to true will prevent JavaScript from accessing the
    | value of the cookie and the cookie will only be accessible through
    | the HTTP protocol. It's unlikely you should disable this option.
    |
    */

    'http_only' => env('SESSION_HTTP_ONLY', true),

    /*
    |--------------------------------------------------------------------------
    | Same-Site Cookies
    |--------------------------------------------------------------------------
    |
    | This option determines how your cookies behave when cross-site requests
    | take place, and can be used to mitigate CSRF attacks. By default, we
    | will set this value to "lax" to permit secure cross-site requests.
    |
    | See: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie#samesitesamesite-value
    |
    | Supported: "lax", "strict", "none", null
    |
    */

    'same_site' => env('SESSION_SAME_SITE', 'lax'),

    /*
    |--------------------------------------------------------------------------
    | Partitioned Cookies
    |--------------------------------------------------------------------------
    |
    | Setting this value to true will tie the cookie to the top-level site for
    | a cross-site context. Partitioned cookies are accepted by the browser
    | when flagged "secure" and the Same-Site attribute is set to "none".
    |
    */

    'partitioned' => env('SESSION_PARTITIONED_COOKIE', false),

];

# END OF backend/config/session.php


# ============= BACKEND SETUP =============

##################################################################
# FILE: backend/composer.json
# PATH: backend/composer.json
##################################################################

{
    "$schema": "https://getcomposer.org/schema.json",
    "name": "laravel/laravel",
    "type": "project",
    "description": "The skeleton application for the Laravel framework.",
    "keywords": ["laravel", "framework"],
    "license": "MIT",
    "require": {
        "php": "^8.2",
        "laravel/framework": "^12.0",
        "laravel/sanctum": "^4.2",
        "laravel/tinker": "^2.10.1",
        "spatie/laravel-permission": "^6.23"
    },
    "require-dev": {
        "fakerphp/faker": "^1.23",
        "laravel/pail": "^1.2.2",
        "laravel/pint": "^1.24",
        "laravel/sail": "^1.41",
        "mockery/mockery": "^1.6",
        "nunomaduro/collision": "^8.6",
        "phpunit/phpunit": "^12.4"
    },
    "autoload": {
        "psr-4": {
            "App\\": "app/",
            "Database\\Factories\\": "database/factories/",
            "Database\\Seeders\\": "database/seeders/"
        }
    },
    "autoload-dev": {
        "psr-4": {
            "Tests\\": "tests/"
        }
    },
    "scripts": {
        "setup": [
            "composer install",
            "@php -r \"file_exists('.env') || copy('.env.example', '.env');\"",
            "@php artisan key:generate",
            "@php artisan migrate --force",
            "npm install",
            "npm run build"
        ],
        "dev": [
            "Composer\\Config::disableProcessTimeout",
            "npx concurrently -c \"#93c5fd,#c4b5fd,#fb7185,#fdba74\" \"php artisan serve\" \"php artisan queue:listen --tries=1\" \"php artisan pail --timeout=0\" \"npm run dev\" --names=server,queue,logs,vite --kill-others"
        ],
        "test": [
            "@php artisan config:clear --ansi",
            "@php artisan test"
        ],
        "post-autoload-dump": [
            "Illuminate\\Foundation\\ComposerScripts::postAutoloadDump",
            "@php artisan package:discover --ansi"
        ],
        "post-update-cmd": [
            "@php artisan vendor:publish --tag=laravel-assets --ansi --force"
        ],
        "post-root-package-install": [
            "@php -r \"file_exists('.env') || copy('.env.example', '.env');\""
        ],
        "post-create-project-cmd": [
            "@php artisan key:generate --ansi",
            "@php -r \"file_exists('database/database.sqlite') || touch('database/database.sqlite');\"",
            "@php artisan migrate --graceful --ansi"
        ],
        "pre-package-uninstall": [
            "Illuminate\\Foundation\\ComposerScripts::prePackageUninstall"
        ]
    },
    "extra": {
        "laravel": {
            "dont-discover": []
        }
    },
    "config": {
        "optimize-autoloader": true,
        "preferred-install": "dist",
        "sort-packages": true,
        "allow-plugins": {
            "pestphp/pest-plugin": true,
            "php-http/discovery": true
        }
    },
    "minimum-stability": "stable",
    "prefer-stable": true
}

# END OF backend/composer.json


##################################################################
# FILE: backend/.env.example
# PATH: backend/.env.example
##################################################################

APP_NAME=Laravel
APP_ENV=local
APP_KEY=
APP_DEBUG=true
APP_URL=http://localhost

APP_LOCALE=en
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=en_US

APP_MAINTENANCE_DRIVER=file
# APP_MAINTENANCE_STORE=database

# PHP_CLI_SERVER_WORKERS=4

BCRYPT_ROUNDS=12

LOG_CHANNEL=stack
LOG_STACK=single
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug

DB_CONNECTION=sqlite
# DB_HOST=127.0.0.1
# DB_PORT=3306
# DB_DATABASE=laravel
# DB_USERNAME=root
# DB_PASSWORD=

SESSION_DRIVER=database
SESSION_LIFETIME=120
SESSION_ENCRYPT=false
SESSION_PATH=/
SESSION_DOMAIN=null

BROADCAST_CONNECTION=log
FILESYSTEM_DISK=local
QUEUE_CONNECTION=database

CACHE_STORE=database
# CACHE_PREFIX=

MEMCACHED_HOST=127.0.0.1

REDIS_CLIENT=phpredis
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

MAIL_MAILER=log
MAIL_SCHEME=null
MAIL_HOST=127.0.0.1
MAIL_PORT=2525
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_FROM_ADDRESS="hello@example.com"
MAIL_FROM_NAME="${APP_NAME}"

AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=false

VITE_APP_NAME="${APP_NAME}"

# END OF backend/.env.example


##################################################################
# FILE: backend/artisan
# PATH: backend/artisan
##################################################################

#!/usr/bin/env php
<?php

use Illuminate\Foundation\Application;
use Symfony\Component\Console\Input\ArgvInput;

define('LARAVEL_START', microtime(true));

// Register the Composer autoloader...
require __DIR__.'/vendor/autoload.php';

// Bootstrap Laravel and handle the command...
/** @var Application $app */
$app = require_once __DIR__.'/bootstrap/app.php';

$status = $app->handleCommand(new ArgvInput);

exit($status);

# END OF backend/artisan


##################################################################
# FILE: backend/pint.json
# PATH: backend/pint.json
##################################################################

# FILE NOT FOUND

# END OF backend/pint.json


###############################################################################
# PART 2: FRONTEND - SVELTEKIT APPLICATION
###############################################################################

# ============= UI COMPONENTS =============

##################################################################
# FILE: frontend/src/lib/components/ui/Badge.svelte
# PATH: frontend/src/lib/components/ui/Badge.svelte
##################################################################

<script lang="ts">
  export let variant: 'default' | 'success' | 'warning' | 'danger' | 'info' = 'default';
  export let size: 'sm' | 'md' = 'sm';

  const variants = {
    default: 'bg-gray-100 text-gray-800',
    success: 'bg-green-100 text-green-800',
    warning: 'bg-yellow-100 text-yellow-800',
    danger: 'bg-red-100 text-red-800',
    info: 'bg-blue-100 text-blue-800'
  };

  const sizes = {
    sm: 'px-2 py-0.5 text-xs',
    md: 'px-3 py-1 text-sm'
  };
</script>

<span class="inline-flex items-center rounded-full font-medium {variants[variant]} {sizes[size]}">
  <slot />
</span>

# END OF frontend/src/lib/components/ui/Badge.svelte


##################################################################
# FILE: frontend/src/lib/components/ui/Button.svelte
# PATH: frontend/src/lib/components/ui/Button.svelte
##################################################################

<script lang="ts">
  import { createEventDispatcher } from 'svelte';

  export let variant: 'primary' | 'secondary' | 'danger' | 'ghost' | 'outline' = 'primary';
  export let size: 'sm' | 'md' | 'lg' = 'md';
  export let disabled: boolean = false;
  export let loading: boolean = false;
  export let type: 'button' | 'submit' = 'button';
  export let fullWidth: boolean = false;
  let className: string = '';
  export { className as class };

  const dispatch = createEventDispatcher();

  const variants = {
    primary: 'bg-blue-600 hover:bg-blue-700 text-white disabled:bg-blue-300',
    secondary: 'bg-gray-600 hover:bg-gray-700 text-white disabled:bg-gray-300',
    danger: 'bg-red-600 hover:bg-red-700 text-white disabled:bg-red-300',
    ghost: 'bg-transparent hover:bg-gray-100 text-gray-700 border border-gray-300 disabled:text-gray-400',
    outline: 'bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 disabled:text-gray-400'
  };

  const sizes = {
    sm: 'px-3 py-1.5 text-sm',
    md: 'px-4 py-2 text-base',
    lg: 'px-6 py-3 text-lg'
  };
</script>

<button
  {type}
  class="rounded-md font-medium transition-colors duration-200 inline-flex items-center justify-center gap-2
    {variants[variant]} {sizes[size]} {fullWidth ? 'w-full' : ''}
    disabled:cursor-not-allowed disabled:opacity-60 {className}"
  disabled={disabled || loading}
  on:click={() => dispatch('click')}
>
  {#if loading}
    <svg class="animate-spin h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
      <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
    </svg>
  {/if}
  <slot />
</button>

# END OF frontend/src/lib/components/ui/Button.svelte


##################################################################
# FILE: frontend/src/lib/components/ui/Card.svelte
# PATH: frontend/src/lib/components/ui/Card.svelte
##################################################################

<script lang="ts">
  export let padding: boolean = true;
  export let hover: boolean = false;
  let className: string = '';
  export { className as class };
</script>

<div
  class="bg-white rounded-lg border border-gray-200 shadow-sm
    {padding ? 'p-6' : ''}
    {hover ? 'hover:shadow-md transition-shadow duration-200' : ''}
    {className}"
>
  <slot />
</div>

# END OF frontend/src/lib/components/ui/Card.svelte


##################################################################
# FILE: frontend/src/lib/components/ui/Input.svelte
# PATH: frontend/src/lib/components/ui/Input.svelte
##################################################################

<script lang="ts">
  export let type: string = 'text';
  export let value: any = '';
  export let placeholder: string = '';
  export let label: string = '';
  export let error: string = '';
  export let disabled: boolean = false;
  export let required: boolean = false;
  export let id: string = '';
  export let min: number | undefined = undefined;
  export let max: number | undefined = undefined;
  export let step: number | undefined = undefined;
</script>

<div class="w-full">
  {#if label}
    <label for={id} class="block text-sm font-medium text-gray-700 mb-1">
      {label}
      {#if required}
        <span class="text-red-500">*</span>
      {/if}
    </label>
  {/if}

  <input
    {id}
    {type}
    bind:value
    {placeholder}
    {disabled}
    {required}
    {min}
    {max}
    {step}
    class="w-full px-3 py-2 border rounded-md shadow-sm
      {error ? 'border-red-500' : 'border-gray-300'}
      focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500
      disabled:bg-gray-100 disabled:cursor-not-allowed"
    on:input
    on:change
    on:blur
  />

  {#if error}
    <p class="mt-1 text-sm text-red-600">{error}</p>
  {/if}
</div>

# END OF frontend/src/lib/components/ui/Input.svelte


##################################################################
# FILE: frontend/src/lib/components/ui/Modal.svelte
# PATH: frontend/src/lib/components/ui/Modal.svelte
##################################################################

<script lang="ts">
  import { createEventDispatcher } from 'svelte';
  import { IconX } from '@tabler/icons-svelte';

  export let open: boolean = false;
  export let title: string = '';
  export let size: 'sm' | 'md' | 'lg' | 'xl' = 'md';

  const dispatch = createEventDispatcher();

  const sizes = {
    sm: 'max-w-md',
    md: 'max-w-lg',
    lg: 'max-w-2xl',
    xl: 'max-w-4xl'
  };

  function close() {
    open = false;
    dispatch('close');
  }

  function handleBackdropClick(e: MouseEvent) {
    if (e.target === e.currentTarget) {
      close();
    }
  }
</script>

{#if open}
  <div
    class="fixed inset-0 z-50 overflow-y-auto"
    on:click={handleBackdropClick}
    role="dialog"
    aria-modal="true"
  >
    <div class="flex min-h-screen items-center justify-center p-4">
      <!-- Backdrop -->
      <div class="fixed inset-0 bg-black bg-opacity-50 transition-opacity"></div>

      <!-- Modal -->
      <div class="relative bg-white rounded-lg shadow-xl {sizes[size]} w-full">
        <!-- Header -->
        {#if title}
          <div class="flex items-center justify-between px-6 py-4 border-b border-gray-200">
            <h3 class="text-lg font-semibold text-gray-900">{title}</h3>
            <button
              on:click={close}
              class="text-gray-400 hover:text-gray-600 transition-colors"
            >
              <IconX size={20} />
            </button>
          </div>
        {/if}

        <!-- Body -->
        <div class="px-6 py-4">
          <slot />
        </div>

        <!-- Footer -->
        {#if $$slots.footer}
          <div class="px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-lg">
            <slot name="footer" />
          </div>
        {/if}
      </div>
    </div>
  </div>
{/if}

# END OF frontend/src/lib/components/ui/Modal.svelte


##################################################################
# FILE: frontend/src/lib/components/ui/Select.svelte
# PATH: frontend/src/lib/components/ui/Select.svelte
##################################################################

<script lang="ts">
  export let value: any = '';
  export let options: { value: any; label: string }[] = [];
  export let placeholder: string = 'Select...';
  export let label: string = '';
  export let error: string = '';
  export let disabled: boolean = false;
  export let required: boolean = false;
  export let id: string = '';
</script>

<div class="w-full">
  {#if label}
    <label for={id} class="block text-sm font-medium text-gray-700 mb-1">
      {label}
      {#if required}
        <span class="text-red-500">*</span>
      {/if}
    </label>
  {/if}

  <select
    {id}
    bind:value
    {disabled}
    {required}
    class="w-full px-3 py-2 border rounded-md shadow-sm
      {error ? 'border-red-500' : 'border-gray-300'}
      focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500
      disabled:bg-gray-100 disabled:cursor-not-allowed"
    on:change
  >
    {#if placeholder}
      <option value="" disabled selected>{placeholder}</option>
    {/if}
    {#each options as option}
      <option value={option.value}>{option.label}</option>
    {/each}
  </select>

  {#if error}
    <p class="mt-1 text-sm text-red-600">{error}</p>
  {/if}
</div>

# END OF frontend/src/lib/components/ui/Select.svelte


##################################################################
# FILE: frontend/src/lib/components/ui/Table.svelte
# PATH: frontend/src/lib/components/ui/Table.svelte
##################################################################

<script lang="ts">
  export let headers: string[] = [];
  export let striped: boolean = false;
  export let hoverable: boolean = true;
</script>

<div class="overflow-x-auto">
  <table class="min-w-full divide-y divide-gray-200">
    {#if headers.length > 0}
      <thead class="bg-gray-50">
        <tr>
          {#each headers as header}
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
              {header}
            </th>
          {/each}
        </tr>
      </thead>
    {/if}

    <tbody class="bg-white divide-y divide-gray-200 {striped ? '[&>tr:nth-child(even)]:bg-gray-50' : ''}">
      <slot />
    </tbody>
  </table>
</div>

<style>
  tbody :global(tr:hover) {
    background-color: rgb(249 250 251);
    transition: colors 150ms;
  }

  tbody :global(td) {
    padding-left: 1.5rem;
    padding-right: 1.5rem;
    padding-top: 1rem;
    padding-bottom: 1rem;
    white-space: nowrap;
    font-size: 0.875rem;
    color: rgb(17 24 39);
  }
</style>

# END OF frontend/src/lib/components/ui/Table.svelte


##################################################################
# FILE: frontend/src/lib/components/ui/Toast.svelte
# PATH: frontend/src/lib/components/ui/Toast.svelte
##################################################################

<script lang="ts">
  import { IconCheck, IconX, IconAlertCircle, IconInfoCircle } from '@tabler/icons-svelte';
  import { toasts, removeToast, type Toast } from '$lib/utils/toast';

  const icons = {
    success: IconCheck,
    error: IconX,
    warning: IconAlertCircle,
    info: IconInfoCircle
  };

  const colors = {
    success: 'bg-green-50 border-green-500 text-green-800',
    error: 'bg-red-50 border-red-500 text-red-800',
    warning: 'bg-yellow-50 border-yellow-500 text-yellow-800',
    info: 'bg-blue-50 border-blue-500 text-blue-800'
  };
</script>

<div class="fixed top-4 right-4 z-50 space-y-2">
  {#each $toasts as toast (toast.id)}
    <div
      class="flex items-center gap-3 px-4 py-3 rounded-lg border-l-4 shadow-lg min-w-[300px] animate-slide-in {colors[toast.type]}"
    >
      <svelte:component this={icons[toast.type]} size={20} />
      <p class="flex-1 text-sm font-medium">{toast.message}</p>
      <button
        on:click={() => removeToast(toast.id)}
        class="text-gray-500 hover:text-gray-700"
      >
        <IconX size={16} />
      </button>
    </div>
  {/each}
</div>

<style>
  @keyframes slide-in {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  .animate-slide-in {
    animation: slide-in 0.3s ease-out;
  }
</style>

# END OF frontend/src/lib/components/ui/Toast.svelte


##################################################################
# FILE: frontend/src/lib/components/ui/index.ts
# PATH: frontend/src/lib/components/ui/index.ts
##################################################################

export { default as Button } from './Button.svelte';
export { default as Card } from './Card.svelte';
export { default as Input } from './Input.svelte';
export { default as Badge } from './Badge.svelte';
export { default as Table } from './Table.svelte';
export { default as Modal } from './Modal.svelte';
export { default as Select } from './Select.svelte';
export { default as Toast } from './Toast.svelte';
export { addToast, removeToast, toasts } from '$lib/utils/toast';

# END OF frontend/src/lib/components/ui/index.ts


# ============= ADMIN COMPONENTS =============

##################################################################
# FILE: frontend/src/lib/components/admin/Sidebar.svelte
# PATH: frontend/src/lib/components/admin/Sidebar.svelte
##################################################################

<script lang="ts">
  import { page } from '$app/stores';
  import {
    IconDashboard,
    IconForms,
    IconUsers,
    IconSeo,
    IconLink,
    IconError404,
    IconSettings,
    IconLogout
  } from '@tabler/icons-svelte';
  import { authStore } from '$lib/stores/auth';
  import { goto } from '$app/navigation';

  interface NavItem {
    label: string;
    href: string;
    icon: any;
    children?: NavItem[];
  }

  const navigation: NavItem[] = [
    {
      label: 'Dashboard',
      href: '/admin',
      icon: IconDashboard
    },
    {
      label: 'Forms',
      href: '/admin/forms',
      icon: IconForms,
      children: [
        { label: 'All Forms', href: '/admin/forms', icon: IconForms },
        { label: 'Entries', href: '/admin/forms/entries', icon: IconForms },
        { label: 'Contacts', href: '/admin/contacts', icon: IconUsers }
      ]
    },
    {
      label: 'SEO',
      href: '/admin/seo',
      icon: IconSeo,
      children: [
        { label: 'Analysis', href: '/admin/seo/analysis', icon: IconSeo },
        { label: 'Redirects', href: '/admin/seo/redirects', icon: IconLink },
        { label: '404 Errors', href: '/admin/seo/404s', icon: IconError404 },
        { label: 'Settings', href: '/admin/seo/settings', icon: IconSettings }
      ]
    }
  ];

  function handleLogout() {
    authStore.logout();
    goto('/login');
  }

  function isActive(href: string): boolean {
    if (href === '/admin') {
      return $page.url.pathname === '/admin';
    }
    return $page.url.pathname.startsWith(href);
  }
</script>

<aside class="w-64 bg-gray-900 text-white h-screen flex flex-col">
  <!-- Logo -->
  <div class="p-6 border-b border-gray-800">
    <h1 class="text-xl font-bold">Revolution Admin</h1>
    <p class="text-xs text-gray-400 mt-1">Fluent Revo & SEO Pro</p>
  </div>

  <!-- Navigation -->
  <nav class="flex-1 overflow-y-auto p-4 space-y-1">
    {#each navigation as item}
      <div>
        <a
          href={item.href}
          class="flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors
            {isActive(item.href) ? 'bg-blue-600 text-white' : 'text-gray-300 hover:bg-gray-800'}"
        >
          <svelte:component this={item.icon} size={20} />
          <span class="font-medium">{item.label}</span>
        </a>

        {#if item.children && isActive(item.href)}
          <div class="ml-8 mt-1 space-y-1">
            {#each item.children as child}
              <a
                href={child.href}
                class="flex items-center gap-2 px-3 py-2 rounded-md text-sm transition-colors
                  {$page.url.pathname === child.href ? 'text-blue-400' : 'text-gray-400 hover:text-white'}"
              >
                {child.label}
              </a>
            {/each}
          </div>
        {/if}
      </div>
    {/each}
  </nav>

  <!-- User Section -->
  <div class="p-4 border-t border-gray-800">
    <div class="flex items-center gap-3 mb-3">
      <div class="w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center">
        <span class="text-sm font-semibold">
          {$authStore.user?.name?.[0]?.toUpperCase() || 'A'}
        </span>
      </div>
      <div class="flex-1 min-w-0">
        <p class="text-sm font-medium truncate">{$authStore.user?.name || 'Admin'}</p>
        <p class="text-xs text-gray-400 truncate">{$authStore.user?.email || ''}</p>
      </div>
    </div>
    <button
      on:click={handleLogout}
      class="w-full flex items-center gap-2 px-4 py-2 text-sm text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition-colors"
    >
      <IconLogout size={18} />
      <span>Logout</span>
    </button>
  </div>
</aside>

# END OF frontend/src/lib/components/admin/Sidebar.svelte


##################################################################
# FILE: frontend/src/lib/components/admin/StatCard.svelte
# PATH: frontend/src/lib/components/admin/StatCard.svelte
##################################################################

<script lang="ts">
  import { Card } from '$lib/components/ui';

  export let title: string;
  export let value: string | number;
  export let icon: any;
  export let trend: string = '';
  export let trendUp: boolean = true;
  export let color: 'blue' | 'green' | 'purple' | 'orange' = 'blue';

  const colors = {
    blue: 'bg-blue-100 text-blue-600',
    green: 'bg-green-100 text-green-600',
    purple: 'bg-purple-100 text-purple-600',
    orange: 'bg-orange-100 text-orange-600'
  };
</script>

<Card hover>
  <div class="flex items-start justify-between">
    <div class="flex-1">
      <p class="text-sm font-medium text-gray-600">{title}</p>
      <p class="text-3xl font-bold text-gray-900 mt-2">{value}</p>
      {#if trend}
        <p class="text-sm mt-2 {trendUp ? 'text-green-600' : 'text-red-600'}">
          {trendUp ? '' : ''} {trend}
        </p>
      {/if}
    </div>
    <div class="p-3 rounded-lg {colors[color]}">
      <svelte:component this={icon} size={24} />
    </div>
  </div>
</Card>

# END OF frontend/src/lib/components/admin/StatCard.svelte


# ============= FORM BUILDER COMPONENTS =============

##################################################################
# FILE: frontend/src/lib/components/forms/FormBuilder.svelte
# PATH: frontend/src/lib/components/forms/FormBuilder.svelte
##################################################################

<script lang="ts">
  import { createEventDispatcher } from 'svelte';
  import type { Form, FormField } from '$lib/api/forms';
  import { getFieldTypes, createForm, updateForm } from '$lib/api/forms';
  import FieldEditor from './FieldEditor.svelte';

  export let form: Partial<Form> | null = null;
  export let isEditing = false;

  const dispatch = createEventDispatcher();

  let formData: Partial<Form> = {
    title: '',
    description: '',
    settings: {
      success_message: 'Thank you for your submission!',
      submit_text: 'Submit',
      send_email: false,
      email_to: '',
    },
    styles: {},
    status: 'draft',
    fields: [],
    ...form,
  };

  let fields: FormField[] = formData.fields || [];
  let availableFieldTypes: Record<string, string> = {};
  let showFieldEditor = false;
  let editingField: FormField | null = null;
  let editingFieldIndex = -1;
  let isSaving = false;
  let saveError = '';

  // Load field types on mount
  (async () => {
    try {
      availableFieldTypes = await getFieldTypes();
    } catch (err) {
      console.error('Failed to load field types:', err);
    }
  })();

  function handleAddField(fieldType: string) {
    const newField: FormField = {
      field_type: fieldType,
      label: availableFieldTypes[fieldType] || fieldType,
      name: `field_${Date.now()}`,
      placeholder: '',
      required: false,
      order: fields.length,
      width: 100,
    };

    editingField = newField;
    editingFieldIndex = -1;
    showFieldEditor = true;
  }

  function handleEditField(index: number) {
    editingField = { ...fields[index] };
    editingFieldIndex = index;
    showFieldEditor = true;
  }

  function handleDeleteField(index: number) {
    if (confirm('Delete this field?')) {
      fields = fields.filter((_, i) => i !== index);
      updateFieldOrders();
    }
  }

  function handleMoveField(index: number, direction: 'up' | 'down') {
    const newIndex = direction === 'up' ? index - 1 : index + 1;
    if (newIndex < 0 || newIndex >= fields.length) return;

    const temp = fields[index];
    fields[index] = fields[newIndex];
    fields[newIndex] = temp;

    updateFieldOrders();
  }

  function handleSaveField(event: CustomEvent<FormField>) {
    const field = event.detail;

    if (editingFieldIndex === -1) {
      // Add new field
      fields = [...fields, field];
    } else {
      // Update existing field
      fields[editingFieldIndex] = field;
      fields = [...fields];
    }

    updateFieldOrders();
    showFieldEditor = false;
    editingField = null;
    editingFieldIndex = -1;
  }

  function handleCancelFieldEdit() {
    showFieldEditor = false;
    editingField = null;
    editingFieldIndex = -1;
  }

  function updateFieldOrders() {
    fields = fields.map((field, index) => ({
      ...field,
      order: index,
    }));
  }

  async function handleSaveForm() {
    if (!formData.title) {
      saveError = 'Please enter a form title';
      return;
    }

    isSaving = true;
    saveError = '';

    try {
      const dataToSave = {
        ...formData,
        fields: fields.map(({ id, created_at, updated_at, ...field }) => field),
      };

      if (isEditing && form?.id) {
        await updateForm(form.id, dataToSave);
      } else {
        await createForm(dataToSave);
      }

      dispatch('save');
    } catch (err) {
      saveError = err instanceof Error ? err.message : 'Failed to save form';
    } finally {
      isSaving = false;
    }
  }

  function handleCancel() {
    dispatch('cancel');
  }
</script>

<div class="form-builder">
  {#if !showFieldEditor}
    <div class="builder-header">
      <h2>{isEditing ? 'Edit Form' : 'Create New Form'}</h2>
    </div>

    <div class="form-settings">
      <div class="settings-section">
        <h3>Form Details</h3>

        <div class="form-group">
          <label for="form-title">Form Title *</label>
          <input
            id="form-title"
            type="text"
            bind:value={formData.title}
            placeholder="Enter form title"
            class="form-input"
          />
        </div>

        <div class="form-group">
          <label for="form-description">Description</label>
          <textarea
            id="form-description"
            bind:value={formData.description}
            placeholder="Optional form description"
            class="form-input"
            rows="3"
          />
        </div>
      </div>

      <div class="settings-section">
        <h3>Form Settings</h3>

        <div class="form-group">
          <label for="success-message">Success Message</label>
          <input
            id="success-message"
            type="text"
            bind:value={formData.settings.success_message}
            placeholder="Thank you message"
            class="form-input"
          />
        </div>

        <div class="form-group">
          <label for="submit-text">Submit Button Text</label>
          <input
            id="submit-text"
            type="text"
            bind:value={formData.settings.submit_text}
            placeholder="Submit"
            class="form-input"
          />
        </div>

        <div class="form-group">
          <label class="checkbox-label">
            <input
              type="checkbox"
              bind:checked={formData.settings.send_email}
            />
            <span>Send email notifications</span>
          </label>
        </div>

        {#if formData.settings.send_email}
          <div class="form-group">
            <label for="email-to">Send To Email</label>
            <input
              id="email-to"
              type="email"
              bind:value={formData.settings.email_to}
              placeholder="admin@example.com"
              class="form-input"
            />
          </div>
        {/if}
      </div>
    </div>

    <div class="fields-section">
      <div class="section-header">
        <h3>Form Fields</h3>
      </div>

      {#if fields.length === 0}
        <div class="empty-fields">
          <p>No fields added yet. Add your first field to get started.</p>
        </div>
      {:else}
        <div class="fields-list">
          {#each fields as field, index (field.name)}
            <div class="field-item">
              <div class="field-info">
                <div class="field-type-badge">{availableFieldTypes[field.field_type] || field.field_type}</div>
                <div class="field-details">
                  <strong>{field.label}</strong>
                  <span class="field-name">{field.name}</span>
                  {#if field.required}
                    <span class="required-badge">Required</span>
                  {/if}
                </div>
              </div>

              <div class="field-actions">
                <button
                  class="btn-icon"
                  on:click={() => handleMoveField(index, 'up')}
                  disabled={index === 0}
                  title="Move up"
                >
                  
                </button>
                <button
                  class="btn-icon"
                  on:click={() => handleMoveField(index, 'down')}
                  disabled={index === fields.length - 1}
                  title="Move down"
                >
                  
                </button>
                <button
                  class="btn-icon"
                  on:click={() => handleEditField(index)}
                  title="Edit"
                >
                  
                </button>
                <button
                  class="btn-icon btn-danger"
                  on:click={() => handleDeleteField(index)}
                  title="Delete"
                >
                  
                </button>
              </div>
            </div>
          {/each}
        </div>
      {/if}

      <div class="add-field-section">
        <h4>Add Field</h4>
        <div class="field-types-grid">
          {#each Object.entries(availableFieldTypes) as [type, label]}
            <button
              class="field-type-button"
              on:click={() => handleAddField(type)}
            >
              {label}
            </button>
          {/each}
        </div>
      </div>
    </div>

    {#if saveError}
      <div class="error-message">{saveError}</div>
    {/if}

    <div class="builder-actions">
      <button class="btn btn-secondary" on:click={handleCancel}>
        Cancel
      </button>
      <button
        class="btn btn-primary"
        on:click={handleSaveForm}
        disabled={isSaving}
      >
        {isSaving ? 'Saving...' : (isEditing ? 'Update Form' : 'Create Form')}
      </button>
    </div>
  {:else}
    <FieldEditor
      field={editingField}
      availableFields={fields.filter((_, i) => i !== editingFieldIndex)}
      on:save={handleSaveField}
      on:cancel={handleCancelFieldEdit}
    />
  {/if}
</div>

<style>
  .form-builder {
    max-width: 900px;
    margin: 0 auto;
    padding: 0;
  }

  .builder-header h2 {
    font-size: 1.5rem;
    font-weight: 600;
    color: #f1f5f9;
    margin: 0 0 2rem 0;
  }

  .form-settings {
    display: flex;
    flex-direction: column;
    gap: 2rem;
    margin-bottom: 3rem;
  }

  .settings-section {
    background: rgba(99, 102, 241, 0.05);
    border: 1px solid rgba(99, 102, 241, 0.1);
    padding: 1.5rem;
    border-radius: 10px;
  }

  .settings-section h3 {
    font-size: 1.125rem;
    font-weight: 600;
    color: #f1f5f9;
    margin: 0 0 1rem 0;
  }

  .form-group {
    margin-bottom: 1rem;
  }

  .form-group:last-child {
    margin-bottom: 0;
  }

  .form-group label {
    display: block;
    font-size: 0.875rem;
    font-weight: 500;
    color: #94a3b8;
    margin-bottom: 0.5rem;
  }

  .form-input {
    width: 100%;
    padding: 0.625rem 0.875rem;
    background: #0f172a;
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 8px;
    font-size: 0.875rem;
    color: #e2e8f0;
  }

  .form-input:focus {
    outline: none;
    border-color: #6366f1;
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
  }

  .checkbox-label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
    color: #94a3b8;
  }

  .checkbox-label input {
    cursor: pointer;
  }

  .fields-section {
    background: #1e293b;
    border: 1px solid rgba(99, 102, 241, 0.1);
    border-radius: 10px;
    padding: 1.5rem;
    margin-bottom: 2rem;
  }

  .section-header {
    margin-bottom: 1.5rem;
  }

  .section-header h3 {
    font-size: 1.125rem;
    font-weight: 600;
    color: #f1f5f9;
    margin: 0;
  }

  .empty-fields {
    text-align: center;
    padding: 3rem 1rem;
    color: #94a3b8;
    background: rgba(99, 102, 241, 0.05);
    border-radius: 8px;
  }

  .fields-list {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    margin-bottom: 2rem;
  }

  .field-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem;
    background: rgba(99, 102, 241, 0.05);
    border: 1px solid rgba(99, 102, 241, 0.1);
    border-radius: 8px;
  }

  .field-info {
    display: flex;
    align-items: center;
    gap: 1rem;
    flex: 1;
  }

  .field-type-badge {
    background: rgba(99, 102, 241, 0.2);
    color: #a5b4fc;
    padding: 0.25rem 0.75rem;
    border-radius: 9999px;
    font-size: 0.75rem;
    font-weight: 500;
    white-space: nowrap;
  }

  .field-details {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex-wrap: wrap;
  }

  .field-details strong {
    color: #f1f5f9;
  }

  .field-name {
    font-size: 0.75rem;
    color: #94a3b8;
    font-family: monospace;
  }

  .required-badge {
    background: rgba(239, 68, 68, 0.2);
    color: #f87171;
    padding: 0.125rem 0.5rem;
    border-radius: 9999px;
    font-size: 0.625rem;
    font-weight: 500;
  }

  .field-actions {
    display: flex;
    gap: 0.5rem;
  }

  .btn-icon {
    background: none;
    border: none;
    font-size: 1.125rem;
    cursor: pointer;
    padding: 0.25rem 0.5rem;
    opacity: 0.7;
    transition: opacity 0.2s;
  }

  .btn-icon:hover:not(:disabled) {
    opacity: 1;
  }

  .btn-icon:disabled {
    opacity: 0.3;
    cursor: not-allowed;
  }

  .btn-danger:hover {
    filter: brightness(0.9);
  }

  .add-field-section {
    margin-top: 2rem;
  }

  .add-field-section h4 {
    font-size: 0.875rem;
    font-weight: 600;
    color: #94a3b8;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin: 0 0 1rem 0;
  }

  .field-types-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: 0.75rem;
  }

  .field-type-button {
    padding: 0.75rem;
    background: #0f172a;
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 8px;
    font-size: 0.75rem;
    font-weight: 500;
    color: #e2e8f0;
    cursor: pointer;
    transition: all 0.2s;
  }

  .field-type-button:hover {
    background: rgba(99, 102, 241, 0.1);
    border-color: #6366f1;
    color: #a5b4fc;
  }

  .error-message {
    background: rgba(239, 68, 68, 0.1);
    color: #f87171;
    padding: 1rem;
    border-radius: 8px;
    margin-bottom: 1.5rem;
    font-size: 0.875rem;
    border: 1px solid rgba(239, 68, 68, 0.2);
  }

  .builder-actions {
    display: flex;
    justify-content: flex-end;
    gap: 1rem;
    padding-top: 2rem;
    border-top: 1px solid rgba(99, 102, 241, 0.1);
  }

  .btn {
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    font-size: 0.875rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
    border: none;
  }

  .btn-primary {
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    color: white;
  }

  .btn-primary:hover:not(:disabled) {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
  }

  .btn-secondary {
    background: rgba(99, 102, 241, 0.1);
    color: #a5b4fc;
    border: 1px solid rgba(99, 102, 241, 0.2);
  }

  .btn-secondary:hover {
    background: rgba(99, 102, 241, 0.2);
  }

  .btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
</style>

# END OF frontend/src/lib/components/forms/FormBuilder.svelte


##################################################################
# FILE: frontend/src/lib/components/forms/FieldEditor.svelte
# PATH: frontend/src/lib/components/forms/FieldEditor.svelte
##################################################################

<script lang="ts">
  import { createEventDispatcher } from 'svelte';
  import type { FormField, ConditionalLogic, ConditionalRule } from '$lib/api/forms';

  export let field: FormField | null;
  export let availableFields: FormField[] = [];

  const dispatch = createEventDispatcher();

  let fieldData: FormField = {
    field_type: 'text',
    label: '',
    name: '',
    placeholder: '',
    help_text: '',
    default_value: '',
    options: null,
    validation: null,
    conditional_logic: null,
    attributes: null,
    required: false,
    order: 0,
    width: 100,
    ...field,
  };

  let showConditionalLogic = !!fieldData.conditional_logic;
  let optionsText = fieldData.options ? fieldData.options.join('\n') : '';

  const needsOptions = ['select', 'radio', 'checkbox'].includes(fieldData.field_type);
  const supportsValidation = !['heading', 'divider', 'html', 'hidden'].includes(fieldData.field_type);

  function handleSave() {
    // Parse options from textarea
    if (needsOptions && optionsText.trim()) {
      fieldData.options = optionsText.split('\n').map(s => s.trim()).filter(Boolean);
    } else {
      fieldData.options = null;
    }

    // Clear conditional logic if not enabled
    if (!showConditionalLogic) {
      fieldData.conditional_logic = null;
    }

    // Generate name from label if empty
    if (!fieldData.name && fieldData.label) {
      fieldData.name = fieldData.label
        .toLowerCase()
        .replace(/[^a-z0-9]+/g, '_')
        .replace(/^_+|_+$/g, '');
    }

    dispatch('save', fieldData);
  }

  function handleCancel() {
    dispatch('cancel');
  }

  function addConditionalRule() {
    if (!fieldData.conditional_logic) {
      fieldData.conditional_logic = {
        action: 'show',
        logic: 'all',
        rules: [],
      };
    }

    fieldData.conditional_logic.rules = [
      ...fieldData.conditional_logic.rules,
      {
        field: '',
        operator: 'equals',
        value: '',
      },
    ];
  }

  function removeConditionalRule(index: number) {
    if (!fieldData.conditional_logic) return;

    fieldData.conditional_logic.rules = fieldData.conditional_logic.rules.filter(
      (_, i) => i !== index
    );

    if (fieldData.conditional_logic.rules.length === 0) {
      showConditionalLogic = false;
      fieldData.conditional_logic = null;
    }
  }

  $: if (showConditionalLogic && !fieldData.conditional_logic) {
    addConditionalRule();
  }
</script>

<div class="field-editor">
  <div class="editor-header">
    <h3>Configure Field</h3>
  </div>

  <div class="editor-body">
    <!-- Basic Properties -->
    <div class="form-group">
      <label for="field-label">Field Label *</label>
      <input
        id="field-label"
        type="text"
        bind:value={fieldData.label}
        placeholder="Enter field label"
        class="form-input"
        required
      />
    </div>

    <div class="form-group">
      <label for="field-name">Field Name *</label>
      <input
        id="field-name"
        type="text"
        bind:value={fieldData.name}
        placeholder="field_name (auto-generated from label)"
        class="form-input"
      />
      <small class="help-text">Unique identifier for this field</small>
    </div>

    {#if fieldData.field_type !== 'heading' && fieldData.field_type !== 'divider' && fieldData.field_type !== 'html'}
      <div class="form-group">
        <label for="field-placeholder">Placeholder Text</label>
        <input
          id="field-placeholder"
          type="text"
          bind:value={fieldData.placeholder}
          placeholder="Placeholder text"
          class="form-input"
        />
      </div>

      <div class="form-group">
        <label for="field-help">Help Text</label>
        <input
          id="field-help"
          type="text"
          bind:value={fieldData.help_text}
          placeholder="Helper text shown below the field"
          class="form-input"
        />
      </div>

      <div class="form-row">
        <div class="form-group">
          <label class="checkbox-label">
            <input type="checkbox" bind:checked={fieldData.required} />
            <span>Required Field</span>
          </label>
        </div>

        <div class="form-group">
          <label for="field-width">Width (%)</label>
          <input
            id="field-width"
            type="number"
            bind:value={fieldData.width}
            min="25"
            max="100"
            step="25"
            class="form-input"
          />
        </div>
      </div>
    {/if}

    <!-- Options for select/radio/checkbox -->
    {#if needsOptions}
      <div class="form-group">
        <label for="field-options">Options (one per line) *</label>
        <textarea
          id="field-options"
          bind:value={optionsText}
          placeholder="Option 1&#10;Option 2&#10;Option 3"
          class="form-input"
          rows="5"
          required
        />
      </div>
    {/if}

    <!-- Validation -->
    {#if supportsValidation}
      <div class="form-section">
        <h4>Validation</h4>

        {#if fieldData.field_type === 'textarea' || fieldData.field_type === 'text'}
          <div class="form-row">
            <div class="form-group">
              <label for="min-length">Min Length</label>
              <input
                id="min-length"
                type="number"
                bind:value={fieldData.validation.min_length}
                class="form-input"
                min="0"
              />
            </div>

            <div class="form-group">
              <label for="max-length">Max Length</label>
              <input
                id="max-length"
                type="number"
                bind:value={fieldData.validation.max_length}
                class="form-input"
                min="1"
              />
            </div>
          </div>
        {/if}

        {#if fieldData.field_type === 'number' || fieldData.field_type === 'range'}
          <div class="form-row">
            <div class="form-group">
              <label for="min-value">Min Value</label>
              <input
                id="min-value"
                type="number"
                bind:value={fieldData.validation.min}
                class="form-input"
              />
            </div>

            <div class="form-group">
              <label for="max-value">Max Value</label>
              <input
                id="max-value"
                type="number"
                bind:value={fieldData.validation.max}
                class="form-input"
              />
            </div>
          </div>
        {/if}

        {#if fieldData.field_type === 'file'}
          <div class="form-group">
            <label for="file-accept">Accepted File Types</label>
            <input
              id="file-accept"
              type="text"
              bind:value={fieldData.validation.accept}
              placeholder=".pdf,.doc,.docx"
              class="form-input"
            />
          </div>

          <div class="form-group">
            <label for="file-size">Max File Size (MB)</label>
            <input
              id="file-size"
              type="number"
              bind:value={fieldData.validation.max_size}
              class="form-input"
              min="1"
              step="1"
            />
          </div>
        {/if}
      </div>
    {/if}

    <!-- Conditional Logic -->
    <div class="form-section">
      <div class="section-header">
        <h4>Conditional Logic</h4>
        <label class="checkbox-label">
          <input type="checkbox" bind:checked={showConditionalLogic} />
          <span>Enable conditional logic</span>
        </label>
      </div>

      {#if showConditionalLogic && fieldData.conditional_logic}
        <div class="conditional-config">
          <div class="form-row">
            <div class="form-group">
              <label>Action</label>
              <select bind:value={fieldData.conditional_logic.action} class="form-input">
                <option value="show">Show this field if</option>
                <option value="hide">Hide this field if</option>
              </select>
            </div>

            <div class="form-group">
              <label>Match</label>
              <select bind:value={fieldData.conditional_logic.logic} class="form-input">
                <option value="all">All conditions are met</option>
                <option value="any">Any condition is met</option>
              </select>
            </div>
          </div>

          <div class="conditional-rules">
            {#each fieldData.conditional_logic.rules as rule, index}
              <div class="rule-row">
                <select bind:value={rule.field} class="form-input">
                  <option value="">Select field...</option>
                  {#each availableFields as availField}
                    <option value={availField.name}>{availField.label}</option>
                  {/each}
                </select>

                <select bind:value={rule.operator} class="form-input">
                  <option value="equals">Equals</option>
                  <option value="not_equals">Not Equals</option>
                  <option value="contains">Contains</option>
                  <option value="greater_than">Greater Than</option>
                  <option value="less_than">Less Than</option>
                  <option value="is_empty">Is Empty</option>
                  <option value="is_not_empty">Is Not Empty</option>
                </select>

                {#if rule.operator !== 'is_empty' && rule.operator !== 'is_not_empty'}
                  <input
                    type="text"
                    bind:value={rule.value}
                    placeholder="Value"
                    class="form-input"
                  />
                {/if}

                <button
                  type="button"
                  class="btn-remove"
                  on:click={() => removeConditionalRule(index)}
                  title="Remove rule"
                >
                  
                </button>
              </div>
            {/each}
          </div>

          <button type="button" class="btn-add-rule" on:click={addConditionalRule}>
            + Add Rule
          </button>
        </div>
      {/if}
    </div>
  </div>

  <div class="editor-actions">
    <button class="btn btn-secondary" on:click={handleCancel}>
      Cancel
    </button>
    <button class="btn btn-primary" on:click={handleSave}>
      Save Field
    </button>
  </div>
</div>

<style>
  .field-editor {
    max-width: 800px;
    margin: 0 auto;
  }

  .editor-header {
    margin-bottom: 2rem;
  }

  .editor-header h3 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #f1f5f9;
    margin: 0;
  }

  .editor-body {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  .form-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .form-group label {
    font-size: 0.875rem;
    font-weight: 500;
    color: #94a3b8;
  }

  .form-input {
    width: 100%;
    padding: 0.625rem 0.875rem;
    background: #0f172a;
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 8px;
    font-size: 0.875rem;
    color: #e2e8f0;
  }

  .form-input:focus {
    outline: none;
    border-color: #6366f1;
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
  }

  .form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
  }

  .checkbox-label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
    font-size: 0.875rem;
    font-weight: 500;
    color: #94a3b8;
  }

  .checkbox-label input {
    cursor: pointer;
  }

  .help-text {
    font-size: 0.75rem;
    color: #94a3b8;
  }

  .form-section {
    background: rgba(99, 102, 241, 0.05);
    border: 1px solid rgba(99, 102, 241, 0.1);
    padding: 1.5rem;
    border-radius: 10px;
  }

  .form-section h4 {
    font-size: 0.875rem;
    font-weight: 600;
    color: #f1f5f9;
    margin: 0 0 1rem 0;
  }

  .section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
  }

  .section-header h4 {
    margin: 0;
  }

  .conditional-config {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .conditional-rules {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  .rule-row {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr auto;
    gap: 0.5rem;
    align-items: center;
  }

  .btn-remove {
    background: rgba(239, 68, 68, 0.1);
    color: #f87171;
    border: 1px solid rgba(239, 68, 68, 0.2);
    border-radius: 8px;
    width: 2rem;
    height: 2rem;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.2s;
  }

  .btn-remove:hover {
    background: rgba(239, 68, 68, 0.2);
  }

  .btn-add-rule {
    align-self: flex-start;
    padding: 0.5rem 1rem;
    background: rgba(99, 102, 241, 0.1);
    color: #a5b4fc;
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 8px;
    font-size: 0.75rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
  }

  .btn-add-rule:hover {
    background: rgba(99, 102, 241, 0.2);
  }

  .editor-actions {
    display: flex;
    justify-content: flex-end;
    gap: 1rem;
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 1px solid rgba(99, 102, 241, 0.1);
  }

  .btn {
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    font-size: 0.875rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
    border: none;
  }

  .btn-primary {
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    color: white;
  }

  .btn-primary:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
  }

  .btn-secondary {
    background: rgba(99, 102, 241, 0.1);
    color: #a5b4fc;
    border: 1px solid rgba(99, 102, 241, 0.2);
  }

  .btn-secondary:hover {
    background: rgba(99, 102, 241, 0.2);
  }
</style>

# END OF frontend/src/lib/components/forms/FieldEditor.svelte


##################################################################
# FILE: frontend/src/lib/components/forms/FormRenderer.svelte
# PATH: frontend/src/lib/components/forms/FormRenderer.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import type { Form, FormField, ConditionalLogic } from '$lib/api/forms';
  import { submitForm } from '$lib/api/forms';
  import FormFieldRenderer from './FormFieldRenderer.svelte';

  export let form: Form;
  export let onSuccess: ((submissionId: string) => void) | undefined = undefined;
  export let onError: ((error: string) => void) | undefined = undefined;

  let formData: Record<string, any> = {};
  let errors: Record<string, string[]> = {};
  let isSubmitting = false;
  let submitSuccess = false;
  let submitMessage = '';
  let visibleFields: Set<number> = new Set();

  // Initialize form data with default values
  onMount(() => {
    if (form.fields) {
      form.fields.forEach(field => {
        if (field.default_value) {
          formData[field.name] = field.default_value;
        }
      });
      updateVisibleFields();
    }
  });

  // Evaluate if a field should be displayed based on conditional logic
  function shouldDisplayField(field: FormField): boolean {
    if (!field.conditional_logic) return true;

    const logic = field.conditional_logic;
    const results: boolean[] = [];

    logic.rules.forEach(rule => {
      const fieldValue = formData[rule.field];
      let result = false;

      switch (rule.operator) {
        case 'equals':
          result = fieldValue == rule.value;
          break;
        case 'not_equals':
          result = fieldValue != rule.value;
          break;
        case 'contains':
          result = String(fieldValue || '').includes(String(rule.value));
          break;
        case 'greater_than':
          result = parseFloat(fieldValue) > parseFloat(rule.value);
          break;
        case 'less_than':
          result = parseFloat(fieldValue) < parseFloat(rule.value);
          break;
        case 'is_empty':
          result = !fieldValue || fieldValue === '';
          break;
        case 'is_not_empty':
          result = !!fieldValue && fieldValue !== '';
          break;
      }

      results.push(result);
    });

    const conditionsMet = logic.logic === 'all'
      ? !results.includes(false)
      : results.includes(true);

    return logic.action === 'show' ? conditionsMet : !conditionsMet;
  }

  // Update which fields are visible
  function updateVisibleFields() {
    if (!form.fields) return;

    const newVisibleFields = new Set<number>();
    form.fields.forEach(field => {
      if (field.id && shouldDisplayField(field)) {
        newVisibleFields.add(field.id);
      }
    });
    visibleFields = newVisibleFields;
  }

  // Handle field value change
  function handleFieldChange(fieldName: string, value: any) {
    formData[fieldName] = value;
    updateVisibleFields();

    // Clear error for this field
    if (errors[fieldName]) {
      const { [fieldName]: _, ...rest } = errors;
      errors = rest;
    }
  }

  // Handle form submission
  async function handleSubmit(event: Event) {
    event.preventDefault();

    if (isSubmitting) return;

    errors = {};
    isSubmitting = true;
    submitSuccess = false;
    submitMessage = '';

    try {
      const result = await submitForm(form.slug, formData);

      if (result.success) {
        submitSuccess = true;
        submitMessage = result.message || 'Form submitted successfully!';

        // Reset form
        formData = {};
        if (form.fields) {
          form.fields.forEach(field => {
            if (field.default_value) {
              formData[field.name] = field.default_value;
            }
          });
        }
        updateVisibleFields();

        // Call success callback
        if (onSuccess && result.submission_id) {
          onSuccess(result.submission_id);
        }

        // Redirect if specified
        if (result.redirect_url) {
          window.location.href = result.redirect_url;
        }
      } else if (result.errors) {
        errors = result.errors;
        submitMessage = 'Please correct the errors below.';

        if (onError) {
          onError(submitMessage);
        }
      }
    } catch (error) {
      const errorMessage = error instanceof Error ? error.message : 'Submission failed. Please try again.';
      submitMessage = errorMessage;

      if (onError) {
        onError(errorMessage);
      }
    } finally {
      isSubmitting = false;
    }
  }

  // Get CSS classes for the form
  function getFormClasses(): string {
    const baseClasses = 'revolution-form';
    const customClasses = form.styles?.form_class || '';
    return `${baseClasses} ${customClasses}`.trim();
  }

  // Get custom styles
  function getFormStyles(): string {
    if (!form.styles) return '';

    const styles: string[] = [];

    if (form.styles.background_color) {
      styles.push(`background-color: ${form.styles.background_color}`);
    }
    if (form.styles.padding) {
      styles.push(`padding: ${form.styles.padding}`);
    }
    if (form.styles.border_radius) {
      styles.push(`border-radius: ${form.styles.border_radius}`);
    }

    return styles.join('; ');
  }
</script>

<div class={getFormClasses()} style={getFormStyles()}>
  {#if form.description}
    <div class="form-description">
      <p>{form.description}</p>
    </div>
  {/if}

  {#if submitSuccess && submitMessage}
    <div class="alert alert-success" role="alert">
      {submitMessage}
    </div>
  {/if}

  {#if !submitSuccess && submitMessage}
    <div class="alert alert-error" role="alert">
      {submitMessage}
    </div>
  {/if}

  <form on:submit={handleSubmit} class="form-fields">
    <div class="fields-container">
      {#if form.fields}
        {#each form.fields.sort((a, b) => a.order - b.order) as field (field.id)}
          {#if field.id && visibleFields.has(field.id)}
            <div class="field-wrapper" style="width: {field.width}%">
              <FormFieldRenderer
                {field}
                value={formData[field.name]}
                error={errors[field.name]}
                on:change={(e) => handleFieldChange(field.name, e.detail)}
              />
            </div>
          {/if}
        {/each}
      {/if}
    </div>

    <div class="form-actions">
      <button
        type="submit"
        class="btn btn-primary"
        disabled={isSubmitting}
      >
        {isSubmitting ? 'Submitting...' : form.settings?.submit_text || 'Submit'}
      </button>
    </div>
  </form>
</div>

<style>
  .revolution-form {
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem;
  }

  .form-description {
    margin-bottom: 2rem;
  }

  .form-description p {
    color: #666;
    font-size: 1rem;
    line-height: 1.5;
  }

  .alert {
    padding: 1rem;
    margin-bottom: 1.5rem;
    border-radius: 0.375rem;
    font-size: 0.875rem;
  }

  .alert-success {
    background-color: #d1fae5;
    color: #065f46;
    border: 1px solid #6ee7b7;
  }

  .alert-error {
    background-color: #fee2e2;
    color: #991b1b;
    border: 1px solid #fca5a5;
  }

  .form-fields {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  .fields-container {
    display: flex;
    flex-wrap: wrap;
    gap: 1.5rem;
  }

  .field-wrapper {
    min-width: 0;
    flex-shrink: 0;
  }

  @media (max-width: 768px) {
    .field-wrapper {
      width: 100% !important;
    }
  }

  .form-actions {
    margin-top: 1.5rem;
    display: flex;
    justify-content: flex-end;
  }

  .btn {
    padding: 0.75rem 1.5rem;
    border-radius: 0.375rem;
    font-size: 1rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
    border: none;
  }

  .btn-primary {
    background-color: #2563eb;
    color: white;
  }

  .btn-primary:hover:not(:disabled) {
    background-color: #1d4ed8;
  }

  .btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
</style>

# END OF frontend/src/lib/components/forms/FormRenderer.svelte


##################################################################
# FILE: frontend/src/lib/components/forms/FormFieldRenderer.svelte
# PATH: frontend/src/lib/components/forms/FormFieldRenderer.svelte
##################################################################

<script lang="ts">
  import { createEventDispatcher } from 'svelte';
  import type { FormField } from '$lib/api/forms';

  export let field: FormField;
  export let value: any = '';
  export let error: string[] | undefined = undefined;

  const dispatch = createEventDispatcher();

  function handleChange(event: Event) {
    const target = event.target as HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement;

    let newValue: any;

    if (target instanceof HTMLInputElement) {
      if (target.type === 'checkbox') {
        if (field.field_type === 'checkbox') {
          // Multiple checkboxes - array
          const currentValues = Array.isArray(value) ? value : [];
          if (target.checked) {
            newValue = [...currentValues, target.value];
          } else {
            newValue = currentValues.filter((v: string) => v !== target.value);
          }
        } else {
          // Single checkbox
          newValue = target.checked;
        }
      } else if (target.type === 'file') {
        newValue = target.files?.[0] || null;
      } else if (target.type === 'number' || target.type === 'range') {
        newValue = target.value ? parseFloat(target.value) : null;
      } else {
        newValue = target.value;
      }
    } else {
      newValue = target.value;
    }

    dispatch('change', newValue);
  }

  function handleCheckboxChange(optionValue: string, checked: boolean) {
    const currentValues = Array.isArray(value) ? value : [];
    const newValue = checked
      ? [...currentValues, optionValue]
      : currentValues.filter((v: string) => v !== optionValue);

    dispatch('change', newValue);
  }

  function isChecked(optionValue: string): boolean {
    return Array.isArray(value) && value.includes(optionValue);
  }

  function getInputClasses(): string {
    const baseClasses = 'form-input';
    const errorClass = error && error.length > 0 ? 'input-error' : '';
    return `${baseClasses} ${errorClass}`.trim();
  }
</script>

<div class="form-field">
  {#if field.field_type === 'heading'}
    <h3 class="field-heading">{field.label}</h3>
  {:else if field.field_type === 'divider'}
    <hr class="field-divider" />
  {:else if field.field_type === 'html'}
    <div class="field-html">
      {@html field.placeholder || ''}
    </div>
  {:else}
    <label class="field-label" for={`field-${field.name}`}>
      {field.label}
      {#if field.required}
        <span class="required">*</span>
      {/if}
    </label>

    {#if field.help_text}
      <div class="field-help">{field.help_text}</div>
    {/if}

    <!-- Text Input -->
    {#if field.field_type === 'text'}
      <input
        type="text"
        id={`field-${field.name}`}
        name={field.name}
        placeholder={field.placeholder || ''}
        {value}
        required={field.required}
        class={getInputClasses()}
        on:input={handleChange}
        {...field.attributes || {}}
      />

    <!-- Email -->
    {:else if field.field_type === 'email'}
      <input
        type="email"
        id={`field-${field.name}`}
        name={field.name}
        placeholder={field.placeholder || ''}
        {value}
        required={field.required}
        class={getInputClasses()}
        on:input={handleChange}
        {...field.attributes || {}}
      />

    <!-- Number -->
    {:else if field.field_type === 'number'}
      <input
        type="number"
        id={`field-${field.name}`}
        name={field.name}
        placeholder={field.placeholder || ''}
        value={value || ''}
        required={field.required}
        class={getInputClasses()}
        on:input={handleChange}
        min={field.validation?.min}
        max={field.validation?.max}
        step={field.validation?.step || 'any'}
        {...field.attributes || {}}
      />

    <!-- Phone -->
    {:else if field.field_type === 'tel'}
      <input
        type="tel"
        id={`field-${field.name}`}
        name={field.name}
        placeholder={field.placeholder || ''}
        {value}
        required={field.required}
        class={getInputClasses()}
        on:input={handleChange}
        {...field.attributes || {}}
      />

    <!-- URL -->
    {:else if field.field_type === 'url'}
      <input
        type="url"
        id={`field-${field.name}`}
        name={field.name}
        placeholder={field.placeholder || ''}
        {value}
        required={field.required}
        class={getInputClasses()}
        on:input={handleChange}
        {...field.attributes || {}}
      />

    <!-- Textarea -->
    {:else if field.field_type === 'textarea'}
      <textarea
        id={`field-${field.name}`}
        name={field.name}
        placeholder={field.placeholder || ''}
        {value}
        required={field.required}
        class={getInputClasses()}
        on:input={handleChange}
        rows={field.attributes?.rows || 5}
        minlength={field.validation?.min_length}
        maxlength={field.validation?.max_length}
        {...field.attributes || {}}
      />

    <!-- Select Dropdown -->
    {:else if field.field_type === 'select'}
      <select
        id={`field-${field.name}`}
        name={field.name}
        {value}
        required={field.required}
        class={getInputClasses()}
        on:change={handleChange}
        {...field.attributes || {}}
      >
        <option value="">-- Select --</option>
        {#if field.options}
          {#each field.options as option}
            <option value={option}>{option}</option>
          {/each}
        {/if}
      </select>

    <!-- Radio Buttons -->
    {:else if field.field_type === 'radio'}
      <div class="radio-group">
        {#if field.options}
          {#each field.options as option}
            <label class="radio-label">
              <input
                type="radio"
                name={field.name}
                value={option}
                checked={value === option}
                required={field.required}
                on:change={handleChange}
                {...field.attributes || {}}
              />
              <span>{option}</span>
            </label>
          {/each}
        {/if}
      </div>

    <!-- Checkboxes -->
    {:else if field.field_type === 'checkbox'}
      <div class="checkbox-group">
        {#if field.options}
          {#each field.options as option}
            <label class="checkbox-label">
              <input
                type="checkbox"
                value={option}
                checked={isChecked(option)}
                on:change={(e) => handleCheckboxChange(option, e.currentTarget.checked)}
                {...field.attributes || {}}
              />
              <span>{option}</span>
            </label>
          {/each}
        {/if}
      </div>

    <!-- File Upload -->
    {:else if field.field_type === 'file'}
      <input
        type="file"
        id={`field-${field.name}`}
        name={field.name}
        required={field.required}
        class={getInputClasses()}
        on:change={handleChange}
        accept={field.validation?.accept}
        {...field.attributes || {}}
      />
      {#if field.validation?.max_size}
        <small class="field-help">Maximum file size: {field.validation.max_size}</small>
      {/if}

    <!-- Date -->
    {:else if field.field_type === 'date'}
      <input
        type="date"
        id={`field-${field.name}`}
        name={field.name}
        {value}
        required={field.required}
        class={getInputClasses()}
        on:input={handleChange}
        min={field.validation?.min}
        max={field.validation?.max}
        {...field.attributes || {}}
      />

    <!-- Time -->
    {:else if field.field_type === 'time'}
      <input
        type="time"
        id={`field-${field.name}`}
        name={field.name}
        {value}
        required={field.required}
        class={getInputClasses()}
        on:input={handleChange}
        {...field.attributes || {}}
      />

    <!-- Date & Time -->
    {:else if field.field_type === 'datetime'}
      <input
        type="datetime-local"
        id={`field-${field.name}`}
        name={field.name}
        {value}
        required={field.required}
        class={getInputClasses()}
        on:input={handleChange}
        {...field.attributes || {}}
      />

    <!-- Range Slider -->
    {:else if field.field_type === 'range'}
      <div class="range-wrapper">
        <input
          type="range"
          id={`field-${field.name}`}
          name={field.name}
          value={value || field.validation?.min || 0}
          required={field.required}
          class="form-range"
          on:input={handleChange}
          min={field.validation?.min || 0}
          max={field.validation?.max || 100}
          step={field.validation?.step || 1}
          {...field.attributes || {}}
        />
        <output class="range-value">{value || field.validation?.min || 0}</output>
      </div>

    <!-- Color Picker -->
    {:else if field.field_type === 'color'}
      <input
        type="color"
        id={`field-${field.name}`}
        name={field.name}
        {value}
        required={field.required}
        class="form-color"
        on:input={handleChange}
        {...field.attributes || {}}
      />

    <!-- Hidden Field -->
    {:else if field.field_type === 'hidden'}
      <input
        type="hidden"
        name={field.name}
        {value}
        {...field.attributes || {}}
      />

    <!-- Rating (Stars) -->
    {:else if field.field_type === 'rating'}
      <div class="rating-wrapper">
        {#each Array(field.validation?.max || 5) as _, i}
          <button
            type="button"
            class="star-button"
            class:active={value > i}
            on:click={() => dispatch('change', i + 1)}
            aria-label={`Rate ${i + 1} stars`}
          >
            
          </button>
        {/each}
      </div>

    <!-- Signature Pad -->
    {:else if field.field_type === 'signature'}
      <div class="signature-wrapper">
        <canvas
          id={`field-${field.name}`}
          class="signature-canvas"
          width="400"
          height="150"
        ></canvas>
        <button type="button" class="btn-clear-signature">Clear</button>
      </div>
    {/if}

    {#if error && error.length > 0}
      <div class="field-error">
        {#each error as err}
          <p>{err}</p>
        {/each}
      </div>
    {/if}
  {/if}
</div>

<style>
  .form-field {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .field-label {
    font-weight: 500;
    font-size: 0.875rem;
    color: #374151;
  }

  .required {
    color: #dc2626;
    margin-left: 0.25rem;
  }

  .field-help {
    font-size: 0.75rem;
    color: #6b7280;
  }

  .form-input,
  .form-range,
  .form-color {
    width: 100%;
    padding: 0.625rem 0.875rem;
    border: 1px solid #d1d5db;
    border-radius: 0.375rem;
    font-size: 0.875rem;
    transition: all 0.2s;
  }

  .form-input:focus {
    outline: none;
    border-color: #2563eb;
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
  }

  .input-error {
    border-color: #dc2626 !important;
  }

  .input-error:focus {
    box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1) !important;
  }

  textarea.form-input {
    resize: vertical;
    min-height: 100px;
  }

  select.form-input {
    cursor: pointer;
    background-color: white;
  }

  .radio-group,
  .checkbox-group {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  .radio-label,
  .checkbox-label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
    font-size: 0.875rem;
  }

  .radio-label input,
  .checkbox-label input {
    cursor: pointer;
  }

  .range-wrapper {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .form-range {
    flex: 1;
    padding: 0;
  }

  .range-value {
    min-width: 3rem;
    text-align: center;
    font-size: 0.875rem;
    font-weight: 500;
  }

  .rating-wrapper {
    display: flex;
    gap: 0.25rem;
  }

  .star-button {
    background: none;
    border: none;
    font-size: 2rem;
    color: #d1d5db;
    cursor: pointer;
    transition: color 0.2s;
    padding: 0;
  }

  .star-button:hover,
  .star-button.active {
    color: #fbbf24;
  }

  .signature-wrapper {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .signature-canvas {
    border: 1px solid #d1d5db;
    border-radius: 0.375rem;
    background-color: white;
    touch-action: none;
  }

  .btn-clear-signature {
    align-self: flex-end;
    padding: 0.5rem 1rem;
    background-color: #6b7280;
    color: white;
    border: none;
    border-radius: 0.375rem;
    font-size: 0.75rem;
    cursor: pointer;
  }

  .btn-clear-signature:hover {
    background-color: #4b5563;
  }

  .field-error {
    font-size: 0.75rem;
    color: #dc2626;
  }

  .field-error p {
    margin: 0;
  }

  .field-heading {
    font-size: 1.25rem;
    font-weight: 600;
    color: #111827;
    margin: 0.5rem 0;
  }

  .field-divider {
    border: none;
    border-top: 1px solid #e5e7eb;
    margin: 1rem 0;
  }

  .field-html {
    font-size: 0.875rem;
    color: #374151;
  }
</style>

# END OF frontend/src/lib/components/forms/FormFieldRenderer.svelte


##################################################################
# FILE: frontend/src/lib/components/forms/FormAnalytics.svelte
# PATH: frontend/src/lib/components/forms/FormAnalytics.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import type { Form } from '$lib/api/forms';
  import { getSubmissionStats, getSubmissions } from '$lib/api/forms';

  export let form: Form;

  let stats: any = null;
  let loading = true;
  let submissionTrend: any[] = [];
  let fieldAnalytics: any[] = [];

  onMount(async () => {
    await loadAnalytics();
  });

  async function loadAnalytics() {
    loading = true;

    try {
      if (form.id) {
        // Load basic stats
        stats = await getSubmissionStats(form.id);

        // Load recent submissions for trend analysis
        const submissions = await getSubmissions(form.id, 1, 100);

        // Calculate submission trend (last 30 days)
        submissionTrend = calculateSubmissionTrend(submissions.submissions);

        // Analyze field completion rates
        fieldAnalytics = analyzeFieldCompletion(submissions.submissions);
      }
    } catch (err) {
      console.error('Failed to load analytics:', err);
    } finally {
      loading = false;
    }
  }

  function calculateSubmissionTrend(submissions: any[]) {
    const last30Days = new Date();
    last30Days.setDate(last30Days.getDate() - 30);

    const dailyCounts: Record<string, number> = {};

    // Initialize all days with 0
    for (let i = 0; i < 30; i++) {
      const date = new Date(last30Days);
      date.setDate(date.getDate() + i);
      const dateKey = date.toISOString().split('T')[0];
      dailyCounts[dateKey] = 0;
    }

    // Count submissions per day
    submissions.forEach(submission => {
      const date = new Date(submission.created_at);
      if (date >= last30Days) {
        const dateKey = date.toISOString().split('T')[0];
        dailyCounts[dateKey] = (dailyCounts[dateKey] || 0) + 1;
      }
    });

    return Object.entries(dailyCounts).map(([date, count]) => ({
      date,
      count
    }));
  }

  function analyzeFieldCompletion(submissions: any[]) {
    if (!form.fields || submissions.length === 0) return [];

    const fieldStats: Record<string, { filled: number; total: number; field: any }> = {};

    // Initialize field stats
    form.fields.forEach(field => {
      fieldStats[field.name] = {
        filled: 0,
        total: submissions.length,
        field
      };
    });

    // Count filled fields
    submissions.forEach(submission => {
      submission.data?.forEach((data: any) => {
        if (data.value && data.value.trim() !== '') {
          if (fieldStats[data.field_name]) {
            fieldStats[data.field_name].filled++;
          }
        }
      });
    });

    return Object.values(fieldStats).map(stat => ({
      label: stat.field.label,
      name: stat.field.name,
      completionRate: stat.total > 0 ? (stat.filled / stat.total) * 100 : 0,
      filled: stat.filled,
      total: stat.total
    }));
  }

  function getConversionRate(): number {
    // This would require view tracking, for now return a placeholder
    return stats ? (stats.total_submissions / Math.max(stats.total_submissions * 2, 1)) * 100 : 0;
  }

  function getAverageCompletionTime(): string {
    // Placeholder - would need to track time on form
    return '2m 34s';
  }

  $: conversionRate = getConversionRate();
  $: readRate = stats && stats.total_submissions > 0
    ? (stats.read_count / stats.total_submissions) * 100
    : 0;
</script>

<div class="analytics-container">
  {#if loading}
    <div class="loading">Loading analytics...</div>
  {:else}
    <div class="analytics-grid">
      <!-- Key Metrics -->
      <div class="metric-card primary">
        <div class="metric-icon"></div>
        <div class="metric-content">
          <div class="metric-value">{stats?.total_submissions || 0}</div>
          <div class="metric-label">Total Submissions</div>
        </div>
      </div>

      <div class="metric-card">
        <div class="metric-icon"></div>
        <div class="metric-content">
          <div class="metric-value">{stats?.recent_submissions || 0}</div>
          <div class="metric-label">Last 7 Days</div>
        </div>
      </div>

      <div class="metric-card">
        <div class="metric-icon"></div>
        <div class="metric-content">
          <div class="metric-value">{stats?.unread_count || 0}</div>
          <div class="metric-label">Unread</div>
        </div>
      </div>

      <div class="metric-card">
        <div class="metric-icon"></div>
        <div class="metric-content">
          <div class="metric-value">{stats?.starred_count || 0}</div>
          <div class="metric-label">Starred</div>
        </div>
      </div>
    </div>

    <!-- Status Breakdown -->
    <div class="chart-card">
      <h3>Status Breakdown</h3>
      <div class="status-bars">
        <div class="status-bar">
          <div class="status-label">
            <span class="status-dot unread"></span>
            Unread ({stats?.unread_count || 0})
          </div>
          <div class="bar-track">
            <div
              class="bar-fill unread"
              style="width: {stats && stats.total_submissions > 0 ? (stats.unread_count / stats.total_submissions) * 100 : 0}%"
            ></div>
          </div>
        </div>

        <div class="status-bar">
          <div class="status-label">
            <span class="status-dot read"></span>
            Read ({stats?.read_count || 0})
          </div>
          <div class="bar-track">
            <div
              class="bar-fill read"
              style="width: {stats && stats.total_submissions > 0 ? (stats.read_count / stats.total_submissions) * 100 : 0}%"
            ></div>
          </div>
        </div>

        <div class="status-bar">
          <div class="status-label">
            <span class="status-dot starred"></span>
            Starred ({stats?.starred_count || 0})
          </div>
          <div class="bar-track">
            <div
              class="bar-fill starred"
              style="width: {stats && stats.total_submissions > 0 ? (stats.starred_count / stats.total_submissions) * 100 : 0}%"
            ></div>
          </div>
        </div>

        <div class="status-bar">
          <div class="status-label">
            <span class="status-dot archived"></span>
            Archived ({stats?.archived_count || 0})
          </div>
          <div class="bar-track">
            <div
              class="bar-fill archived"
              style="width: {stats && stats.total_submissions > 0 ? (stats.archived_count / stats.total_submissions) * 100 : 0}%"
            ></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Submission Trend -->
    {#if submissionTrend.length > 0}
      <div class="chart-card">
        <h3>Submission Trend (Last 30 Days)</h3>
        <div class="trend-chart">
          {#each submissionTrend.slice(-7) as day}
            <div class="trend-bar">
              <div
                class="bar"
                style="height: {day.count > 0 ? Math.max((day.count / Math.max(...submissionTrend.map(d => d.count))) * 100, 10) : 5}%"
                title="{day.count} submissions"
              ></div>
              <div class="bar-label">{new Date(day.date).getDate()}</div>
            </div>
          {/each}
        </div>
        <div class="trend-summary">
          Last 7 days: {submissionTrend.slice(-7).reduce((sum, d) => sum + d.count, 0)} submissions
        </div>
      </div>
    {/if}

    <!-- Field Completion Rates -->
    {#if fieldAnalytics.length > 0}
      <div class="chart-card">
        <h3>Field Completion Rates</h3>
        <div class="field-completion">
          {#each fieldAnalytics.filter(f => f.completionRate > 0).slice(0, 10) as field}
            <div class="completion-row">
              <div class="field-name">{field.label}</div>
              <div class="completion-bar">
                <div class="completion-fill" style="width: {field.completionRate}%"></div>
                <div class="completion-percentage">{field.completionRate.toFixed(0)}%</div>
              </div>
            </div>
          {/each}
        </div>
      </div>
    {/if}

    <!-- Performance Metrics -->
    <div class="performance-grid">
      <div class="performance-card">
        <div class="performance-label">Read Rate</div>
        <div class="performance-value">{readRate.toFixed(1)}%</div>
        <div class="performance-chart">
          <div class="circle-progress" style="--progress: {readRate}"></div>
        </div>
      </div>

      <div class="performance-card">
        <div class="performance-label">Avg. Completion Time</div>
        <div class="performance-value">{getAverageCompletionTime()}</div>
        <div class="performance-note">Estimated</div>
      </div>
    </div>
  {/if}
</div>

<style>
  .analytics-container {
    padding: 0;
  }

  .loading {
    text-align: center;
    padding: 4rem 2rem;
    color: #94a3b8;
  }

  .analytics-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 2rem;
  }

  .metric-card {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1.5rem;
    background: rgba(99, 102, 241, 0.05);
    border: 1px solid rgba(99, 102, 241, 0.1);
    border-radius: 10px;
    transition: all 0.2s;
  }

  .metric-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(99, 102, 241, 0.2);
  }

  .metric-card.primary {
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.2), rgba(139, 92, 246, 0.2));
    border-color: rgba(99, 102, 241, 0.3);
  }

  .metric-icon {
    font-size: 2.5rem;
    opacity: 0.8;
  }

  .metric-value {
    font-size: 2rem;
    font-weight: 700;
    color: #f1f5f9;
    line-height: 1;
  }

  .metric-label {
    font-size: 0.8125rem;
    color: #94a3b8;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-top: 0.25rem;
  }

  .chart-card {
    background: #1e293b;
    border: 1px solid rgba(99, 102, 241, 0.1);
    border-radius: 10px;
    padding: 1.5rem;
    margin-bottom: 2rem;
  }

  .chart-card h3 {
    font-size: 1rem;
    font-weight: 600;
    color: #f1f5f9;
    margin: 0 0 1.5rem 0;
  }

  .status-bars {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .status-bar {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .status-label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.875rem;
    color: #e2e8f0;
  }

  .status-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
  }

  .status-dot.unread { background: #60a5fa; }
  .status-dot.read { background: #4ade80; }
  .status-dot.starred { background: #fbbf24; }
  .status-dot.archived { background: #9ca3af; }

  .bar-track {
    height: 8px;
    background: rgba(99, 102, 241, 0.1);
    border-radius: 4px;
    overflow: hidden;
  }

  .bar-fill {
    height: 100%;
    border-radius: 4px;
    transition: width 0.3s ease;
  }

  .bar-fill.unread { background: #60a5fa; }
  .bar-fill.read { background: #4ade80; }
  .bar-fill.starred { background: #fbbf24; }
  .bar-fill.archived { background: #9ca3af; }

  .trend-chart {
    display: flex;
    align-items: flex-end;
    justify-content: space-around;
    height: 150px;
    gap: 0.5rem;
  }

  .trend-bar {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
  }

  .trend-bar .bar {
    width: 100%;
    background: linear-gradient(180deg, #6366f1, #8b5cf6);
    border-radius: 4px 4px 0 0;
    transition: height 0.3s ease;
    min-height: 5px;
  }

  .bar-label {
    font-size: 0.75rem;
    color: #94a3b8;
  }

  .trend-summary {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid rgba(99, 102, 241, 0.1);
    font-size: 0.875rem;
    color: #94a3b8;
    text-align: center;
  }

  .field-completion {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .completion-row {
    display: grid;
    grid-template-columns: 200px 1fr;
    gap: 1rem;
    align-items: center;
  }

  .field-name {
    font-size: 0.875rem;
    color: #e2e8f0;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  .completion-bar {
    position: relative;
    height: 24px;
    background: rgba(99, 102, 241, 0.1);
    border-radius: 12px;
    overflow: hidden;
  }

  .completion-fill {
    height: 100%;
    background: linear-gradient(90deg, #6366f1, #8b5cf6);
    border-radius: 12px;
    transition: width 0.3s ease;
  }

  .completion-percentage {
    position: absolute;
    right: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
    font-size: 0.75rem;
    font-weight: 600;
    color: #f1f5f9;
  }

  .performance-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
  }

  .performance-card {
    background: rgba(99, 102, 241, 0.05);
    border: 1px solid rgba(99, 102, 241, 0.1);
    border-radius: 10px;
    padding: 1.5rem;
    text-align: center;
  }

  .performance-label {
    font-size: 0.8125rem;
    color: #94a3b8;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 0.75rem;
  }

  .performance-value {
    font-size: 2rem;
    font-weight: 700;
    color: #a5b4fc;
    margin-bottom: 0.5rem;
  }

  .performance-note {
    font-size: 0.75rem;
    color: #6b7280;
    font-style: italic;
  }

  @media (max-width: 768px) {
    .completion-row {
      grid-template-columns: 1fr;
      gap: 0.5rem;
    }
  }
</style>

# END OF frontend/src/lib/components/forms/FormAnalytics.svelte


##################################################################
# FILE: frontend/src/lib/components/forms/ThemeCustomizer.svelte
# PATH: frontend/src/lib/components/forms/ThemeCustomizer.svelte
##################################################################

<script lang="ts">
  import { createEventDispatcher } from 'svelte';
  import type { FormTheme } from '$lib/data/formTemplates';
  import { themes } from '$lib/data/formTemplates';

  export let selectedTheme: FormTheme = themes[0];

  const dispatch = createEventDispatcher<{
    change: FormTheme;
  }>();

  let isCustomizing = false;
  let customTheme: FormTheme = { ...selectedTheme };

  function selectTheme(theme: FormTheme) {
    selectedTheme = theme;
    customTheme = { ...theme };
    isCustomizing = false;
    dispatch('change', selectedTheme);
  }

  function enableCustomization() {
    isCustomizing = true;
    customTheme = { ...selectedTheme };
  }

  function applyCustomTheme() {
    selectedTheme = { ...customTheme, id: 'custom', name: 'Custom Theme' };
    dispatch('change', selectedTheme);
  }

  function handleColorChange(property: keyof FormTheme['colors'], value: string) {
    customTheme = {
      ...customTheme,
      colors: { ...customTheme.colors, [property]: value }
    };
  }

  function handleSpacingChange(value: 'compact' | 'normal' | 'spacious') {
    customTheme = { ...customTheme, spacing: value };
  }

  function handleBorderRadiusChange(value: 'none' | 'small' | 'medium' | 'large') {
    customTheme = { ...customTheme, borderRadius: value };
  }
</script>

<div class="theme-customizer">
  <div class="customizer-header">
    <h3>Theme Settings</h3>
    <p class="header-description">Choose a theme or create your own</p>
  </div>

  <div class="preset-themes">
    <div class="themes-label">Preset Themes</div>
    <div class="themes-grid">
      {#each themes as theme}
        <button
          class="theme-card"
          class:active={selectedTheme.id === theme.id && !isCustomizing}
          on:click={() => selectTheme(theme)}
        >
          <div class="theme-preview" style="background: {theme.colors.background}; border-color: {theme.colors.border}">
            <div class="preview-header" style="background: {theme.colors.primary}"></div>
            <div class="preview-text" style="background: {theme.colors.text}20"></div>
            <div class="preview-text" style="background: {theme.colors.text}20"></div>
            <div class="preview-button" style="background: {theme.colors.primary}"></div>
          </div>
          <div class="theme-name">{theme.name}</div>
        </button>
      {/each}
    </div>
  </div>

  <div class="custom-section">
    {#if !isCustomizing}
      <button class="btn-customize" on:click={enableCustomization}>
         Customize Theme
      </button>
    {:else}
      <div class="custom-controls">
        <div class="control-section">
          <h4>Colors</h4>
          <div class="color-controls">
            <div class="color-input-group">
              <label for="primary-color">Primary</label>
              <div class="color-input-wrapper">
                <input
                  type="color"
                  id="primary-color"
                  value={customTheme.colors.primary}
                  on:input={(e) => handleColorChange('primary', e.currentTarget.value)}
                />
                <span class="color-value">{customTheme.colors.primary}</span>
              </div>
            </div>

            <div class="color-input-group">
              <label for="secondary-color">Secondary</label>
              <div class="color-input-wrapper">
                <input
                  type="color"
                  id="secondary-color"
                  value={customTheme.colors.secondary}
                  on:input={(e) => handleColorChange('secondary', e.currentTarget.value)}
                />
                <span class="color-value">{customTheme.colors.secondary}</span>
              </div>
            </div>

            <div class="color-input-group">
              <label for="background-color">Background</label>
              <div class="color-input-wrapper">
                <input
                  type="color"
                  id="background-color"
                  value={customTheme.colors.background}
                  on:input={(e) => handleColorChange('background', e.currentTarget.value)}
                />
                <span class="color-value">{customTheme.colors.background}</span>
              </div>
            </div>

            <div class="color-input-group">
              <label for="text-color">Text</label>
              <div class="color-input-wrapper">
                <input
                  type="color"
                  id="text-color"
                  value={customTheme.colors.text}
                  on:input={(e) => handleColorChange('text', e.currentTarget.value)}
                />
                <span class="color-value">{customTheme.colors.text}</span>
              </div>
            </div>

            <div class="color-input-group">
              <label for="border-color">Border</label>
              <div class="color-input-wrapper">
                <input
                  type="color"
                  id="border-color"
                  value={customTheme.colors.border}
                  on:input={(e) => handleColorChange('border', e.currentTarget.value)}
                />
                <span class="color-value">{customTheme.colors.border}</span>
              </div>
            </div>
          </div>
        </div>

        <div class="control-section">
          <h4>Spacing</h4>
          <div class="radio-group">
            <label class="radio-label">
              <input
                type="radio"
                name="spacing"
                value="compact"
                checked={customTheme.spacing === 'compact'}
                on:change={() => handleSpacingChange('compact')}
              />
              <span>Compact</span>
            </label>
            <label class="radio-label">
              <input
                type="radio"
                name="spacing"
                value="normal"
                checked={customTheme.spacing === 'normal'}
                on:change={() => handleSpacingChange('normal')}
              />
              <span>Normal</span>
            </label>
            <label class="radio-label">
              <input
                type="radio"
                name="spacing"
                value="spacious"
                checked={customTheme.spacing === 'spacious'}
                on:change={() => handleSpacingChange('spacious')}
              />
              <span>Spacious</span>
            </label>
          </div>
        </div>

        <div class="control-section">
          <h4>Border Radius</h4>
          <div class="radio-group">
            <label class="radio-label">
              <input
                type="radio"
                name="borderRadius"
                value="none"
                checked={customTheme.borderRadius === 'none'}
                on:change={() => handleBorderRadiusChange('none')}
              />
              <span>None</span>
            </label>
            <label class="radio-label">
              <input
                type="radio"
                name="borderRadius"
                value="small"
                checked={customTheme.borderRadius === 'small'}
                on:change={() => handleBorderRadiusChange('small')}
              />
              <span>Small</span>
            </label>
            <label class="radio-label">
              <input
                type="radio"
                name="borderRadius"
                value="medium"
                checked={customTheme.borderRadius === 'medium'}
                on:change={() => handleBorderRadiusChange('medium')}
              />
              <span>Medium</span>
            </label>
            <label class="radio-label">
              <input
                type="radio"
                name="borderRadius"
                value="large"
                checked={customTheme.borderRadius === 'large'}
                on:change={() => handleBorderRadiusChange('large')}
              />
              <span>Large</span>
            </label>
          </div>
        </div>

        <div class="custom-actions">
          <button class="btn-cancel" on:click={() => (isCustomizing = false)}>Cancel</button>
          <button class="btn-apply" on:click={applyCustomTheme}>Apply Custom Theme</button>
        </div>
      </div>
    {/if}
  </div>

  <div class="theme-preview-section">
    <h4>Preview</h4>
    <div class="live-preview" style="background: {selectedTheme.colors.background}">
      <div class="preview-form-container">
        <h3 style="color: {selectedTheme.colors.text}; font-family: {selectedTheme.fonts.heading}">
          Sample Form
        </h3>
        <div class="preview-field-wrapper">
          <label style="color: {selectedTheme.colors.text}; font-family: {selectedTheme.fonts.body}">
            Your Name
          </label>
          <input
            type="text"
            placeholder="Enter your name"
            style="border-color: {selectedTheme.colors.border}; color: {selectedTheme.colors.text}; font-family: {selectedTheme.fonts.body}"
          />
        </div>
        <div class="preview-field-wrapper">
          <label style="color: {selectedTheme.colors.text}; font-family: {selectedTheme.fonts.body}">
            Email Address
          </label>
          <input
            type="email"
            placeholder="you@example.com"
            style="border-color: {selectedTheme.colors.border}; color: {selectedTheme.colors.text}; font-family: {selectedTheme.fonts.body}"
          />
        </div>
        <button
          class="preview-submit"
          style="background: {selectedTheme.colors.primary}; font-family: {selectedTheme.fonts.body}"
        >
          Submit
        </button>
      </div>
    </div>
  </div>
</div>

<style>
  .theme-customizer {
    background: #1e293b;
    border: 1px solid rgba(99, 102, 241, 0.1);
    border-radius: 12px;
    padding: 1.5rem;
  }

  .customizer-header {
    margin-bottom: 1.5rem;
  }

  h3 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #f1f5f9;
    margin: 0 0 0.5rem 0;
  }

  .header-description {
    color: #94a3b8;
    font-size: 0.875rem;
    margin: 0;
  }

  .preset-themes {
    margin-bottom: 1.5rem;
  }

  .themes-label {
    font-size: 0.875rem;
    font-weight: 600;
    color: #94a3b8;
    margin-bottom: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .themes-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    gap: 1rem;
  }

  .theme-card {
    background: #0f172a;
    border: 2px solid rgba(99, 102, 241, 0.1);
    border-radius: 10px;
    padding: 0.75rem;
    cursor: pointer;
    transition: all 0.2s;
  }

  .theme-card:hover {
    border-color: rgba(99, 102, 241, 0.3);
    transform: translateY(-2px);
  }

  .theme-card.active {
    border-color: #6366f1;
    box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2);
  }

  .theme-preview {
    aspect-ratio: 4 / 3;
    border: 1px solid;
    border-radius: 6px;
    padding: 0.5rem;
    margin-bottom: 0.5rem;
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
  }

  .preview-header {
    height: 0.5rem;
    border-radius: 2px;
  }

  .preview-text {
    height: 0.375rem;
    border-radius: 2px;
  }

  .preview-button {
    height: 0.625rem;
    border-radius: 3px;
    margin-top: auto;
  }

  .theme-name {
    font-size: 0.75rem;
    color: #e2e8f0;
    font-weight: 500;
    text-align: center;
  }

  .custom-section {
    margin-bottom: 1.5rem;
  }

  .btn-customize {
    width: 100%;
    padding: 0.875rem;
    background: rgba(99, 102, 241, 0.1);
    color: #a5b4fc;
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 8px;
    font-weight: 600;
    font-size: 0.9375rem;
    cursor: pointer;
    transition: all 0.2s;
  }

  .btn-customize:hover {
    background: rgba(99, 102, 241, 0.2);
    border-color: rgba(99, 102, 241, 0.4);
  }

  .custom-controls {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  .control-section h4 {
    font-size: 0.875rem;
    font-weight: 600;
    color: #94a3b8;
    margin: 0 0 0.75rem 0;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .color-controls {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: 1rem;
  }

  .color-input-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .color-input-group label {
    font-size: 0.8125rem;
    color: #94a3b8;
    font-weight: 500;
  }

  .color-input-wrapper {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .color-input-wrapper input[type='color'] {
    width: 40px;
    height: 40px;
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 6px;
    cursor: pointer;
    background: transparent;
  }

  .color-value {
    font-size: 0.75rem;
    color: #64748b;
    font-family: monospace;
  }

  .radio-group {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
  }

  .radio-label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: #94a3b8;
    font-size: 0.875rem;
    cursor: pointer;
  }

  .radio-label input[type='radio'] {
    accent-color: #6366f1;
  }

  .custom-actions {
    display: flex;
    gap: 1rem;
    padding-top: 1rem;
    border-top: 1px solid rgba(99, 102, 241, 0.1);
  }

  .btn-cancel,
  .btn-apply {
    flex: 1;
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    font-weight: 600;
    font-size: 0.875rem;
    cursor: pointer;
    transition: all 0.2s;
  }

  .btn-cancel {
    background: transparent;
    color: #94a3b8;
    border: 1px solid rgba(99, 102, 241, 0.2);
  }

  .btn-cancel:hover {
    background: rgba(99, 102, 241, 0.05);
    color: #a5b4fc;
  }

  .btn-apply {
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    color: white;
    border: none;
  }

  .btn-apply:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
  }

  .theme-preview-section h4 {
    font-size: 0.875rem;
    font-weight: 600;
    color: #94a3b8;
    margin: 0 0 0.75rem 0;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .live-preview {
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 10px;
    padding: 2rem;
    min-height: 300px;
  }

  .preview-form-container {
    max-width: 400px;
    margin: 0 auto;
  }

  .preview-form-container h3 {
    margin-bottom: 1.5rem;
  }

  .preview-field-wrapper {
    margin-bottom: 1.25rem;
  }

  .preview-field-wrapper label {
    display: block;
    margin-bottom: 0.5rem;
    font-size: 0.875rem;
    font-weight: 500;
  }

  .preview-field-wrapper input {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid;
    border-radius: 6px;
    font-size: 0.9375rem;
    background: transparent;
  }

  .preview-submit {
    width: 100%;
    padding: 0.875rem;
    border: none;
    border-radius: 8px;
    color: white;
    font-weight: 600;
    font-size: 0.9375rem;
    cursor: pointer;
    margin-top: 0.5rem;
  }

  @media (max-width: 768px) {
    .themes-grid {
      grid-template-columns: repeat(2, 1fr);
    }

    .color-controls {
      grid-template-columns: 1fr;
    }

    .custom-actions {
      flex-direction: column;
    }
  }
</style>

# END OF frontend/src/lib/components/forms/ThemeCustomizer.svelte


##################################################################
# FILE: frontend/src/lib/components/forms/FormTemplateSelector.svelte
# PATH: frontend/src/lib/components/forms/FormTemplateSelector.svelte
##################################################################

<script lang="ts">
  import { createEventDispatcher } from 'svelte';
  import type { FormTemplate } from '$lib/data/formTemplates';
  import { templates } from '$lib/data/formTemplates';

  const dispatch = createEventDispatcher<{
    select: FormTemplate;
    cancel: void;
  }>();

  let selectedCategory: string = 'all';
  let searchQuery = '';

  const categories = [
    { id: 'all', label: 'All Templates', icon: '' },
    { id: 'contact', label: 'Contact', icon: '' },
    { id: 'survey', label: 'Survey', icon: '' },
    { id: 'registration', label: 'Registration', icon: '' },
    { id: 'feedback', label: 'Feedback', icon: '' },
    { id: 'order', label: 'Order', icon: '' },
    { id: 'application', label: 'Application', icon: '' }
  ];

  $: filteredTemplates = templates.filter((template) => {
    const matchesCategory = selectedCategory === 'all' || template.category === selectedCategory;
    const matchesSearch =
      searchQuery === '' ||
      template.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
      template.description.toLowerCase().includes(searchQuery.toLowerCase());
    return matchesCategory && matchesSearch;
  });

  function handleSelect(template: FormTemplate) {
    dispatch('select', template);
  }

  function handleStartFromScratch() {
    dispatch('cancel');
  }
</script>

<div class="template-selector">
  <div class="selector-header">
    <div>
      <h2>Choose a Template</h2>
      <p class="header-description">Start with a pre-designed form or build from scratch</p>
    </div>
    <button class="btn-scratch" on:click={handleStartFromScratch}>
       Start from Scratch
    </button>
  </div>

  <div class="search-filter">
    <input
      type="text"
      class="search-input"
      placeholder="Search templates..."
      bind:value={searchQuery}
    />
  </div>

  <div class="categories">
    {#each categories as category}
      <button
        class="category-btn"
        class:active={selectedCategory === category.id}
        on:click={() => (selectedCategory = category.id)}
      >
        <span class="category-icon">{category.icon}</span>
        <span>{category.label}</span>
      </button>
    {/each}
  </div>

  <div class="templates-grid">
    {#if filteredTemplates.length === 0}
      <div class="empty-state">
        <p>No templates found matching your criteria.</p>
      </div>
    {:else}
      {#each filteredTemplates as template}
        <div class="template-card" on:click={() => handleSelect(template)}>
          <div class="template-icon">{template.icon}</div>
          <div class="template-content">
            <h3>{template.name}</h3>
            <p class="template-description">{template.description}</p>
            <div class="template-meta">
              <span class="field-count">{template.fields.length} fields</span>
              <span class="theme-badge" style="background: {template.theme.colors.primary}20; color: {template.theme.colors.primary}">
                {template.theme.name}
              </span>
            </div>
          </div>
          <div class="template-preview">
            <div class="preview-fields">
              {#each template.fields.slice(0, 3) as field}
                <div class="preview-field">
                  <div class="preview-label">{field.label}</div>
                  <div class="preview-input"></div>
                </div>
              {/each}
              {#if template.fields.length > 3}
                <div class="preview-more">+{template.fields.length - 3} more fields</div>
              {/if}
            </div>
          </div>
        </div>
      {/each}
    {/if}
  </div>
</div>

<style>
  .template-selector {
    max-width: 1200px;
    margin: 0 auto;
  }

  .selector-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid rgba(99, 102, 241, 0.1);
  }

  h2 {
    font-size: 1.875rem;
    font-weight: 700;
    color: #f1f5f9;
    margin: 0 0 0.5rem 0;
  }

  .header-description {
    color: #94a3b8;
    font-size: 0.9375rem;
    margin: 0;
  }

  .btn-scratch {
    padding: 0.875rem 1.5rem;
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    color: white;
    border: none;
    border-radius: 10px;
    font-weight: 600;
    font-size: 0.9375rem;
    cursor: pointer;
    transition: all 0.2s;
    box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
  }

  .btn-scratch:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(99, 102, 241, 0.4);
  }

  .search-filter {
    margin-bottom: 1.5rem;
  }

  .search-input {
    width: 100%;
    padding: 0.875rem 1.25rem;
    background: #1e293b;
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 10px;
    color: #e2e8f0;
    font-size: 0.9375rem;
    transition: all 0.2s;
  }

  .search-input:focus {
    outline: none;
    border-color: rgba(99, 102, 241, 0.5);
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
  }

  .search-input::placeholder {
    color: #64748b;
  }

  .categories {
    display: flex;
    gap: 0.75rem;
    margin-bottom: 2rem;
    overflow-x: auto;
    padding-bottom: 0.5rem;
  }

  .category-btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.625rem 1rem;
    background: #1e293b;
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 8px;
    color: #94a3b8;
    font-size: 0.875rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
    white-space: nowrap;
  }

  .category-btn:hover {
    background: rgba(99, 102, 241, 0.1);
    color: #a5b4fc;
    border-color: rgba(99, 102, 241, 0.4);
  }

  .category-btn.active {
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.2), rgba(139, 92, 246, 0.2));
    color: #a5b4fc;
    border-color: rgba(99, 102, 241, 0.5);
  }

  .category-icon {
    font-size: 1.125rem;
  }

  .templates-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 1.5rem;
  }

  .template-card {
    background: #1e293b;
    border: 1px solid rgba(99, 102, 241, 0.1);
    border-radius: 12px;
    padding: 1.5rem;
    cursor: pointer;
    transition: all 0.2s;
    position: relative;
    overflow: hidden;
  }

  .template-card:hover {
    border-color: rgba(99, 102, 241, 0.4);
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(99, 102, 241, 0.2);
  }

  .template-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
  }

  .template-content h3 {
    font-size: 1.125rem;
    font-weight: 600;
    color: #f1f5f9;
    margin: 0 0 0.5rem 0;
  }

  .template-description {
    color: #94a3b8;
    font-size: 0.875rem;
    line-height: 1.5;
    margin: 0 0 1rem 0;
  }

  .template-meta {
    display: flex;
    gap: 0.75rem;
    align-items: center;
    flex-wrap: wrap;
  }

  .field-count {
    font-size: 0.8125rem;
    color: #64748b;
  }

  .theme-badge {
    padding: 0.25rem 0.625rem;
    border-radius: 6px;
    font-size: 0.75rem;
    font-weight: 500;
  }

  .template-preview {
    margin-top: 1.25rem;
    padding-top: 1.25rem;
    border-top: 1px solid rgba(99, 102, 241, 0.1);
  }

  .preview-fields {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  .preview-field {
    display: flex;
    flex-direction: column;
    gap: 0.375rem;
  }

  .preview-label {
    font-size: 0.75rem;
    color: #94a3b8;
    font-weight: 500;
  }

  .preview-input {
    height: 32px;
    background: rgba(99, 102, 241, 0.05);
    border: 1px solid rgba(99, 102, 241, 0.1);
    border-radius: 6px;
  }

  .preview-more {
    text-align: center;
    font-size: 0.75rem;
    color: #64748b;
    font-style: italic;
    padding-top: 0.5rem;
  }

  .empty-state {
    grid-column: 1 / -1;
    text-align: center;
    padding: 4rem 2rem;
    color: #64748b;
  }

  @media (max-width: 768px) {
    .selector-header {
      flex-direction: column;
      gap: 1rem;
    }

    .btn-scratch {
      width: 100%;
    }

    .templates-grid {
      grid-template-columns: 1fr;
    }

    .categories {
      flex-wrap: nowrap;
      overflow-x: auto;
    }
  }
</style>

# END OF frontend/src/lib/components/forms/FormTemplateSelector.svelte


##################################################################
# FILE: frontend/src/lib/components/forms/SubmissionsList.svelte
# PATH: frontend/src/lib/components/forms/SubmissionsList.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import type { FormSubmission } from '$lib/api/forms';
  import {
    getSubmissions,
    getSubmissionStats,
    updateSubmissionStatus,
    deleteSubmission,
    bulkUpdateSubmissionStatus,
    bulkDeleteSubmissions,
    exportSubmissions
  } from '$lib/api/forms';

  export let formId: number;

  let submissions: FormSubmission[] = [];
  let stats: any = null;
  let loading = true;
  let error = '';
  let currentPage = 1;
  let totalPages = 1;
  let statusFilter: string = '';
  let selectedSubmissions: Set<string> = new Set();

  onMount(() => {
    loadData();
  });

  async function loadData() {
    loading = true;
    error = '';

    try {
      const [submissionsData, statsData] = await Promise.all([
        getSubmissions(formId, currentPage, 20, statusFilter || undefined),
        getSubmissionStats(formId)
      ]);

      submissions = submissionsData.submissions;
      totalPages = Math.ceil(submissionsData.total / submissionsData.perPage);
      stats = statsData;
    } catch (err) {
      error = err instanceof Error ? err.message : 'Failed to load submissions';
    } finally {
      loading = false;
    }
  }

  async function handleStatusChange(submission: FormSubmission, newStatus: FormSubmission['status']) {
    try {
      await updateSubmissionStatus(formId, submission.submission_id, newStatus);
      await loadData();
    } catch (err) {
      alert(err instanceof Error ? err.message : 'Failed to update status');
    }
  }

  async function handleDelete(submission: FormSubmission) {
    if (!confirm('Delete this submission?')) return;

    try {
      await deleteSubmission(formId, submission.submission_id);
      await loadData();
    } catch (err) {
      alert(err instanceof Error ? err.message : 'Failed to delete submission');
    }
  }

  async function handleBulkStatusUpdate(newStatus: FormSubmission['status']) {
    if (selectedSubmissions.size === 0) return;

    try {
      await bulkUpdateSubmissionStatus(formId, Array.from(selectedSubmissions), newStatus);
      selectedSubmissions.clear();
      await loadData();
    } catch (err) {
      alert(err instanceof Error ? err.message : 'Failed to update submissions');
    }
  }

  async function handleBulkDelete() {
    if (selectedSubmissions.size === 0) return;
    if (!confirm(`Delete ${selectedSubmissions.size} submissions?`)) return;

    try {
      await bulkDeleteSubmissions(formId, Array.from(selectedSubmissions));
      selectedSubmissions.clear();
      await loadData();
    } catch (err) {
      alert(err instanceof Error ? err.message : 'Failed to delete submissions');
    }
  }

  async function handleExport() {
    try {
      const csv = await exportSubmissions(formId);
      const blob = new Blob([csv], { type: 'text/csv' });
      const url = window.URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `form-submissions-${formId}-${Date.now()}.csv`;
      a.click();
      window.URL.revokeObjectURL(url);
    } catch (err) {
      alert(err instanceof Error ? err.message : 'Failed to export submissions');
    }
  }

  function toggleSelection(submissionId: string) {
    if (selectedSubmissions.has(submissionId)) {
      selectedSubmissions.delete(submissionId);
    } else {
      selectedSubmissions.add(submissionId);
    }
    selectedSubmissions = selectedSubmissions;
  }

  function toggleSelectAll() {
    if (selectedSubmissions.size === submissions.length) {
      selectedSubmissions.clear();
    } else {
      selectedSubmissions = new Set(submissions.map(s => s.submission_id));
    }
    selectedSubmissions = selectedSubmissions;
  }

  function handleFilterChange(event: Event) {
    const target = event.target as HTMLSelectElement;
    statusFilter = target.value;
    currentPage = 1;
    loadData();
  }

  function handlePageChange(page: number) {
    currentPage = page;
    loadData();
  }

  function getStatusBadgeClass(status: string): string {
    switch (status) {
      case 'unread': return 'badge-unread';
      case 'read': return 'badge-read';
      case 'starred': return 'badge-starred';
      case 'archived': return 'badge-archived';
      case 'spam': return 'badge-spam';
      default: return 'badge-default';
    }
  }

  function formatDate(dateString: string | undefined): string {
    if (!dateString) return 'N/A';
    return new Date(dateString).toLocaleString();
  }

  function getFieldValue(submission: FormSubmission, fieldName: string): string {
    const data = submission.data?.find(d => d.field_name === fieldName);
    return data?.value || 'N/A';
  }

  $: hasSelections = selectedSubmissions.size > 0;
  $: allSelected = submissions.length > 0 && selectedSubmissions.size === submissions.length;
</script>

<div class="submissions-container">
  {#if stats}
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-value">{stats.total_submissions}</div>
        <div class="stat-label">Total</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">{stats.unread_count}</div>
        <div class="stat-label">Unread</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">{stats.starred_count}</div>
        <div class="stat-label">Starred</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">{stats.recent_submissions}</div>
        <div class="stat-label">Last 7 Days</div>
      </div>
    </div>
  {/if}

  <div class="submissions-header">
    <div class="header-left">
      <select class="filter-select" on:change={handleFilterChange} bind:value={statusFilter}>
        <option value="">All Submissions</option>
        <option value="unread">Unread</option>
        <option value="read">Read</option>
        <option value="starred">Starred</option>
        <option value="archived">Archived</option>
        <option value="spam">Spam</option>
      </select>

      {#if hasSelections}
        <div class="bulk-actions">
          <span class="selection-count">{selectedSubmissions.size} selected</span>
          <button class="btn-bulk" on:click={() => handleBulkStatusUpdate('read')}>Mark Read</button>
          <button class="btn-bulk" on:click={() => handleBulkStatusUpdate('starred')}>Star</button>
          <button class="btn-bulk" on:click={() => handleBulkStatusUpdate('archived')}>Archive</button>
          <button class="btn-bulk btn-danger" on:click={handleBulkDelete}>Delete</button>
        </div>
      {/if}
    </div>

    <button class="btn-export" on:click={handleExport}>
      Export CSV
    </button>
  </div>

  {#if loading}
    <div class="loading">Loading submissions...</div>
  {:else if error}
    <div class="error-message">{error}</div>
  {:else if submissions.length === 0}
    <div class="empty-state">
      <p>No submissions yet.</p>
    </div>
  {:else}
    <div class="table-container">
      <table class="submissions-table">
        <thead>
          <tr>
            <th>
              <input
                type="checkbox"
                checked={allSelected}
                on:change={toggleSelectAll}
              />
            </th>
            <th>Submission ID</th>
            <th>Status</th>
            <th>Date</th>
            <th>Fields</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          {#each submissions as submission (submission.id)}
            <tr class:selected={selectedSubmissions.has(submission.submission_id)}>
              <td>
                <input
                  type="checkbox"
                  checked={selectedSubmissions.has(submission.submission_id)}
                  on:change={() => toggleSelection(submission.submission_id)}
                />
              </td>
              <td class="submission-id">{submission.submission_id}</td>
              <td>
                <span class="badge {getStatusBadgeClass(submission.status)}">
                  {submission.status}
                </span>
              </td>
              <td>{formatDate(submission.created_at)}</td>
              <td>
                <div class="field-data">
                  {#if submission.data}
                    {#each submission.data.slice(0, 3) as data}
                      <div class="field-item">
                        <strong>{data.field?.label || data.field_name}:</strong>
                        {data.value.substring(0, 50)}{data.value.length > 50 ? '...' : ''}
                      </div>
                    {/each}
                    {#if submission.data.length > 3}
                      <div class="field-more">+{submission.data.length - 3} more</div>
                    {/if}
                  {/if}
                </div>
              </td>
              <td>
                <div class="action-buttons">
                  <select
                    class="status-select"
                    value={submission.status}
                    on:change={(e) => handleStatusChange(submission, e.currentTarget.value as any)}
                  >
                    <option value="unread">Unread</option>
                    <option value="read">Read</option>
                    <option value="starred">Starred</option>
                    <option value="archived">Archived</option>
                    <option value="spam">Spam</option>
                  </select>
                  <button
                    class="btn-icon btn-danger"
                    on:click={() => handleDelete(submission)}
                    title="Delete"
                  >
                    
                  </button>
                </div>
              </td>
            </tr>
          {/each}
        </tbody>
      </table>
    </div>

    {#if totalPages > 1}
      <div class="pagination">
        <button
          class="btn-page"
          disabled={currentPage === 1}
          on:click={() => handlePageChange(currentPage - 1)}
        >
          Previous
        </button>

        <span class="page-info">
          Page {currentPage} of {totalPages}
        </span>

        <button
          class="btn-page"
          disabled={currentPage === totalPages}
          on:click={() => handlePageChange(currentPage + 1)}
        >
          Next
        </button>
      </div>
    {/if}
  {/if}
</div>

<style>
  .submissions-container {
    padding: 0;
  }

  .stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 2rem;
  }

  .stat-card {
    background: rgba(99, 102, 241, 0.05);
    border: 1px solid rgba(99, 102, 241, 0.1);
    border-radius: 10px;
    padding: 1.5rem;
    text-align: center;
  }

  .stat-value {
    font-size: 2rem;
    font-weight: 700;
    color: #a5b4fc;
    margin-bottom: 0.5rem;
  }

  .stat-label {
    font-size: 0.875rem;
    color: #94a3b8;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .submissions-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    gap: 1rem;
    flex-wrap: wrap;
  }

  .header-left {
    display: flex;
    align-items: center;
    gap: 1rem;
    flex-wrap: wrap;
  }

  .filter-select {
    padding: 0.5rem 1rem;
    background: #1e293b;
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 8px;
    color: #e2e8f0;
    font-size: 0.875rem;
    cursor: pointer;
  }

  .bulk-actions {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .selection-count {
    font-size: 0.875rem;
    color: #94a3b8;
  }

  .btn-bulk {
    padding: 0.5rem 0.875rem;
    background: rgba(99, 102, 241, 0.1);
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 6px;
    color: #a5b4fc;
    font-size: 0.75rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
  }

  .btn-bulk:hover {
    background: rgba(99, 102, 241, 0.2);
  }

  .btn-bulk.btn-danger {
    background: rgba(239, 68, 68, 0.1);
    border-color: rgba(239, 68, 68, 0.2);
    color: #f87171;
  }

  .btn-bulk.btn-danger:hover {
    background: rgba(239, 68, 68, 0.2);
  }

  .btn-export {
    padding: 0.625rem 1.25rem;
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    font-size: 0.875rem;
    cursor: pointer;
    transition: all 0.2s;
  }

  .btn-export:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
  }

  .loading,
  .error-message,
  .empty-state {
    text-align: center;
    padding: 3rem 1rem;
    color: #94a3b8;
  }

  .error-message {
    color: #f87171;
  }

  .table-container {
    overflow-x: auto;
    border: 1px solid rgba(99, 102, 241, 0.1);
    border-radius: 10px;
  }

  .submissions-table {
    width: 100%;
    border-collapse: collapse;
    background: #1e293b;
  }

  .submissions-table thead {
    background: rgba(99, 102, 241, 0.05);
  }

  .submissions-table th {
    padding: 0.75rem 1rem;
    text-align: left;
    font-size: 0.75rem;
    font-weight: 600;
    color: #94a3b8;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border-bottom: 1px solid rgba(99, 102, 241, 0.1);
  }

  .submissions-table td {
    padding: 1rem;
    font-size: 0.875rem;
    color: #e2e8f0;
    border-bottom: 1px solid rgba(99, 102, 241, 0.05);
  }

  .submissions-table tbody tr:hover {
    background: rgba(99, 102, 241, 0.05);
  }

  .submissions-table tbody tr.selected {
    background: rgba(99, 102, 241, 0.1);
  }

  .submission-id {
    font-family: monospace;
    font-size: 0.75rem;
    color: #94a3b8;
  }

  .badge {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    border-radius: 9999px;
    font-size: 0.75rem;
    font-weight: 500;
    text-transform: capitalize;
  }

  .badge-unread {
    background: rgba(59, 130, 246, 0.2);
    color: #60a5fa;
  }

  .badge-read {
    background: rgba(34, 197, 94, 0.2);
    color: #4ade80;
  }

  .badge-starred {
    background: rgba(251, 191, 36, 0.2);
    color: #fbbf24;
  }

  .badge-archived {
    background: rgba(107, 114, 128, 0.2);
    color: #9ca3af;
  }

  .badge-spam {
    background: rgba(239, 68, 68, 0.2);
    color: #f87171;
  }

  .field-data {
    max-width: 300px;
    font-size: 0.75rem;
  }

  .field-item {
    margin-bottom: 0.25rem;
    color: #94a3b8;
  }

  .field-item strong {
    color: #e2e8f0;
  }

  .field-more {
    color: #6366f1;
    font-size: 0.7rem;
  }

  .action-buttons {
    display: flex;
    gap: 0.5rem;
    align-items: center;
  }

  .status-select {
    padding: 0.375rem 0.625rem;
    background: #0f172a;
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 6px;
    color: #e2e8f0;
    font-size: 0.75rem;
    cursor: pointer;
  }

  .btn-icon {
    background: none;
    border: none;
    font-size: 1.125rem;
    cursor: pointer;
    padding: 0.25rem;
    opacity: 0.7;
    transition: opacity 0.2s;
  }

  .btn-icon:hover {
    opacity: 1;
  }

  .pagination {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 1rem;
    margin-top: 2rem;
  }

  .btn-page {
    padding: 0.5rem 1rem;
    background: #1e293b;
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 8px;
    color: #e2e8f0;
    font-size: 0.875rem;
    cursor: pointer;
    transition: all 0.2s;
  }

  .btn-page:hover:not(:disabled) {
    background: rgba(99, 102, 241, 0.1);
    border-color: rgba(99, 102, 241, 0.4);
  }

  .btn-page:disabled {
    opacity: 0.3;
    cursor: not-allowed;
  }

  .page-info {
    font-size: 0.875rem;
    color: #94a3b8;
  }
</style>

# END OF frontend/src/lib/components/forms/SubmissionsList.svelte


##################################################################
# FILE: frontend/src/lib/components/forms/EmbedCodeGenerator.svelte
# PATH: frontend/src/lib/components/forms/EmbedCodeGenerator.svelte
##################################################################

<script lang="ts">
  import type { Form } from '$lib/api/forms';

  export let form: Form;

  let embedType: 'iframe' | 'script' | 'link' = 'iframe';
  let copiedMessage = '';

  // Get base URL
  const baseUrl = typeof window !== 'undefined' ? window.location.origin : '';
  const embedUrl = `${baseUrl}/embed/form/${form.slug}`;
  const directUrl = `${baseUrl}/forms/${form.slug}`;

  // Generate embed codes
  $: iframeCode = `<iframe src="${embedUrl}" width="100%" height="600" frameborder="0" style="border: none; max-width: 800px;"></iframe>`;

  $: scriptCode = `<div id="form-${form.slug}"></div>
<script>
(function() {
  const iframe = document.createElement('iframe');
  iframe.src = '${embedUrl}';
  iframe.width = '100%';
  iframe.height = '600';
  iframe.frameBorder = '0';
  iframe.style.border = 'none';
  iframe.style.maxWidth = '800px';
  document.getElementById('form-${form.slug}').appendChild(iframe);

  // Listen for form submission events
  window.addEventListener('message', function(event) {
    if (event.data.type === 'form-submitted' && event.data.formSlug === '${form.slug}') {
      console.log('Form submitted:', event.data.submissionId);
      // You can add custom handling here
    }
  });
})();
<\/script>`;

  $: directLinkCode = `<a href="${directUrl}" target="_blank">Fill out our form</a>`;

  $: shortcode = `[revolution_form slug="${form.slug}"]`;

  function copyToClipboard(text: string, type: string) {
    navigator.clipboard.writeText(text).then(() => {
      copiedMessage = `${type} copied to clipboard!`;
      setTimeout(() => {
        copiedMessage = '';
      }, 3000);
    }).catch(() => {
      copiedMessage = 'Failed to copy';
    });
  }

  function getCode(): string {
    switch (embedType) {
      case 'iframe':
        return iframeCode;
      case 'script':
        return scriptCode;
      case 'link':
        return directLinkCode;
      default:
        return '';
    }
  }
</script>

<div class="embed-generator">
  <h3>Embed This Form</h3>
  <p class="description">Choose how you want to embed this form on your website:</p>

  <div class="embed-type-selector">
    <button
      class="type-btn"
      class:active={embedType === 'iframe'}
      on:click={() => embedType = 'iframe'}
    >
      <span class="icon"></span>
      <span class="label">iFrame Embed</span>
    </button>

    <button
      class="type-btn"
      class:active={embedType === 'script'}
      on:click={() => embedType = 'script'}
    >
      <span class="icon"></span>
      <span class="label">JavaScript Embed</span>
    </button>

    <button
      class="type-btn"
      class:active={embedType === 'link'}
      on:click={() => embedType = 'link'}
    >
      <span class="icon"></span>
      <span class="label">Direct Link</span>
    </button>
  </div>

  <div class="code-section">
    <div class="code-header">
      <h4>
        {#if embedType === 'iframe'}
          iFrame Embed Code
        {:else if embedType === 'script'}
          JavaScript Embed Code
        {:else}
          Direct Link HTML
        {/if}
      </h4>
      <button class="copy-btn" on:click={() => copyToClipboard(getCode(), 'Code')}>
         Copy Code
      </button>
    </div>

    <pre class="code-block"><code>{getCode()}</code></pre>

    <div class="usage-instructions">
      {#if embedType === 'iframe'}
        <p><strong>How to use:</strong> Paste this code into your HTML where you want the form to appear.</p>
        <ul>
          <li>Responsive and works on all devices</li>
          <li>Self-contained (no dependencies)</li>
          <li>Automatically adjusts to your site's width</li>
        </ul>
      {:else if embedType === 'script'}
        <p><strong>How to use:</strong> Paste this code into your HTML. The script will automatically create an iframe.</p>
        <ul>
          <li>More control over placement</li>
          <li>Listens for form submission events</li>
          <li>Can trigger custom JavaScript on submission</li>
        </ul>
      {:else}
        <p><strong>How to use:</strong> Use this link to direct users to the standalone form page.</p>
        <ul>
          <li>Opens in new tab</li>
          <li>Direct URL: {directUrl}</li>
          <li>Great for email campaigns or social media</li>
        </ul>
      {/if}
    </div>
  </div>

  <div class="additional-section">
    <h4>WordPress Shortcode</h4>
    <div class="code-header">
      <pre class="code-block inline"><code>{shortcode}</code></pre>
      <button class="copy-btn" on:click={() => copyToClipboard(shortcode, 'Shortcode')}>
         Copy
      </button>
    </div>
    <p class="note">Use this if you have a Revolution Forms WordPress plugin installed.</p>
  </div>

  <div class="urls-section">
    <h4>Direct URLs</h4>
    <div class="url-row">
      <span class="url-label">Embed URL:</span>
      <code class="url-value">{embedUrl}</code>
      <button class="copy-btn-small" on:click={() => copyToClipboard(embedUrl, 'URL')}></button>
    </div>
    <div class="url-row">
      <span class="url-label">Direct URL:</span>
      <code class="url-value">{directUrl}</code>
      <button class="copy-btn-small" on:click={() => copyToClipboard(directUrl, 'URL')}></button>
    </div>
  </div>

  {#if copiedMessage}
    <div class="copy-notification">
       {copiedMessage}
    </div>
  {/if}
</div>

<style>
  .embed-generator {
    padding: 2rem;
    background: rgba(99, 102, 241, 0.05);
    border: 1px solid rgba(99, 102, 241, 0.1);
    border-radius: 10px;
  }

  h3 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #f1f5f9;
    margin: 0 0 0.5rem 0;
  }

  h4 {
    font-size: 1rem;
    font-weight: 600;
    color: #f1f5f9;
    margin: 0 0 0.75rem 0;
  }

  .description {
    color: #94a3b8;
    font-size: 0.875rem;
    margin: 0 0 1.5rem 0;
  }

  .embed-type-selector {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 1rem;
    margin-bottom: 2rem;
  }

  .type-btn {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    padding: 1rem;
    background: #1e293b;
    border: 2px solid rgba(99, 102, 241, 0.2);
    border-radius: 8px;
    color: #94a3b8;
    cursor: pointer;
    transition: all 0.2s;
  }

  .type-btn:hover {
    border-color: rgba(99, 102, 241, 0.4);
    background: rgba(99, 102, 241, 0.05);
  }

  .type-btn.active {
    border-color: #6366f1;
    background: rgba(99, 102, 241, 0.1);
    color: #a5b4fc;
  }

  .type-btn .icon {
    font-size: 2rem;
  }

  .type-btn .label {
    font-size: 0.875rem;
    font-weight: 500;
  }

  .code-section,
  .additional-section {
    background: #1e293b;
    border: 1px solid rgba(99, 102, 241, 0.1);
    border-radius: 8px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
  }

  .code-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
  }

  .copy-btn,
  .copy-btn-small {
    padding: 0.5rem 1rem;
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    color: white;
    border: none;
    border-radius: 6px;
    font-size: 0.75rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
  }

  .copy-btn:hover,
  .copy-btn-small:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
  }

  .copy-btn-small {
    padding: 0.375rem 0.75rem;
    font-size: 0.7rem;
  }

  .code-block {
    background: #0f172a;
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 6px;
    padding: 1rem;
    overflow-x: auto;
    font-family: 'Monaco', 'Menlo', monospace;
    font-size: 0.75rem;
    line-height: 1.5;
    color: #e2e8f0;
    margin: 0;
  }

  .code-block.inline {
    display: inline-block;
    padding: 0.5rem 0.75rem;
    margin: 0;
  }

  .code-block code {
    color: #a5b4fc;
  }

  .usage-instructions {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid rgba(99, 102, 241, 0.1);
  }

  .usage-instructions p {
    color: #94a3b8;
    font-size: 0.875rem;
    margin: 0 0 0.5rem 0;
  }

  .usage-instructions ul {
    margin: 0.5rem 0 0 1.5rem;
    color: #94a3b8;
    font-size: 0.8125rem;
  }

  .usage-instructions li {
    margin-bottom: 0.25rem;
  }

  .note {
    color: #94a3b8;
    font-size: 0.8125rem;
    margin: 0.5rem 0 0 0;
  }

  .urls-section {
    background: #1e293b;
    border: 1px solid rgba(99, 102, 241, 0.1);
    border-radius: 8px;
    padding: 1.5rem;
  }

  .url-row {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 0.75rem;
  }

  .url-row:last-child {
    margin-bottom: 0;
  }

  .url-label {
    font-size: 0.875rem;
    font-weight: 500;
    color: #94a3b8;
    min-width: 100px;
  }

  .url-value {
    flex: 1;
    padding: 0.5rem 0.75rem;
    background: #0f172a;
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 6px;
    font-family: monospace;
    font-size: 0.75rem;
    color: #a5b4fc;
    overflow-x: auto;
    white-space: nowrap;
  }

  .copy-notification {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    padding: 1rem 1.5rem;
    background: linear-gradient(135deg, #10b981, #059669);
    color: white;
    border-radius: 8px;
    font-size: 0.875rem;
    font-weight: 600;
    box-shadow: 0 10px 25px rgba(16, 185, 129, 0.3);
    animation: slideIn 0.3s ease-out;
    z-index: 1000;
  }

  @keyframes slideIn {
    from {
      transform: translateY(100%);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @media (max-width: 768px) {
    .embed-type-selector {
      grid-template-columns: 1fr;
    }

    .url-row {
      flex-direction: column;
      align-items: stretch;
    }

    .url-label {
      min-width: auto;
    }
  }
</style>

# END OF frontend/src/lib/components/forms/EmbedCodeGenerator.svelte


##################################################################
# FILE: frontend/src/lib/components/forms/FormList.svelte
# PATH: frontend/src/lib/components/forms/FormList.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import type { Form } from '$lib/api/forms';
  import {
    getForms,
    deleteForm,
    publishForm,
    unpublishForm,
    archiveForm,
    duplicateForm
  } from '$lib/api/forms';

  export let onEdit: ((form: Form) => void) | undefined = undefined;
  export let onViewSubmissions: ((form: Form) => void) | undefined = undefined;
  export let onViewAnalytics: ((form: Form) => void) | undefined = undefined;

  let forms: Form[] = [];
  let loading = true;
  let error = '';
  let currentPage = 1;
  let totalPages = 1;
  let statusFilter: string = '';

  onMount(() => {
    loadForms();
  });

  async function loadForms() {
    loading = true;
    error = '';

    try {
      const response = await getForms(currentPage, 20, statusFilter || undefined);
      forms = response.forms;
      totalPages = Math.ceil(response.total / response.perPage);
    } catch (err) {
      error = err instanceof Error ? err.message : 'Failed to load forms';
    } finally {
      loading = false;
    }
  }

  async function handleDelete(form: Form) {
    if (!form.id) return;

    if (!confirm(`Are you sure you want to delete "${form.title}"?`)) {
      return;
    }

    try {
      await deleteForm(form.id);
      await loadForms();
    } catch (err) {
      alert(err instanceof Error ? err.message : 'Failed to delete form');
    }
  }

  async function handlePublish(form: Form) {
    if (!form.id) return;

    try {
      if (form.status === 'published') {
        await unpublishForm(form.id);
      } else {
        await publishForm(form.id);
      }
      await loadForms();
    } catch (err) {
      alert(err instanceof Error ? err.message : 'Failed to update form status');
    }
  }

  async function handleArchive(form: Form) {
    if (!form.id) return;

    if (!confirm(`Archive "${form.title}"?`)) {
      return;
    }

    try {
      await archiveForm(form.id);
      await loadForms();
    } catch (err) {
      alert(err instanceof Error ? err.message : 'Failed to archive form');
    }
  }

  async function handleDuplicate(form: Form) {
    if (!form.id) return;

    try {
      await duplicateForm(form.id);
      await loadForms();
    } catch (err) {
      alert(err instanceof Error ? err.message : 'Failed to duplicate form');
    }
  }

  function handleFilterChange(event: Event) {
    const target = event.target as HTMLSelectElement;
    statusFilter = target.value;
    currentPage = 1;
    loadForms();
  }

  function handlePageChange(page: number) {
    currentPage = page;
    loadForms();
  }

  function getStatusBadgeClass(status: string): string {
    switch (status) {
      case 'published':
        return 'badge-success';
      case 'draft':
        return 'badge-warning';
      case 'archived':
        return 'badge-secondary';
      default:
        return 'badge-default';
    }
  }

  function formatDate(dateString: string | undefined): string {
    if (!dateString) return 'N/A';
    return new Date(dateString).toLocaleDateString();
  }
</script>

<div class="form-list-container">
  <div class="list-header">
    <h2>Forms</h2>
    <div class="header-actions">
      <select class="filter-select" on:change={handleFilterChange} bind:value={statusFilter}>
        <option value="">All Forms</option>
        <option value="published">Published</option>
        <option value="draft">Drafts</option>
        <option value="archived">Archived</option>
      </select>
    </div>
  </div>

  {#if loading}
    <div class="loading">Loading forms...</div>
  {:else if error}
    <div class="error-message">{error}</div>
  {:else if forms.length === 0}
    <div class="empty-state">
      <p>No forms found.</p>
      <p class="empty-hint">Create your first form to get started!</p>
    </div>
  {:else}
    <div class="forms-table-container">
      <table class="forms-table">
        <thead>
          <tr>
            <th>Title</th>
            <th>Status</th>
            <th>Submissions</th>
            <th>Created</th>
            <th>Published</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          {#each forms as form (form.id)}
            <tr>
              <td class="form-title">
                <div class="title-cell">
                  <strong>{form.title}</strong>
                  {#if form.description}
                    <p class="form-description-preview">{form.description}</p>
                  {/if}
                </div>
              </td>
              <td>
                <span class="badge {getStatusBadgeClass(form.status)}">
                  {form.status}
                </span>
              </td>
              <td class="text-center">{form.submission_count || 0}</td>
              <td>{formatDate(form.created_at)}</td>
              <td>{formatDate(form.published_at)}</td>
              <td>
                <div class="action-buttons">
                  {#if onEdit}
                    <button
                      class="btn-icon"
                      on:click={() => onEdit && onEdit(form)}
                      title="Edit"
                    >
                      
                    </button>
                  {/if}

                  {#if onViewSubmissions}
                    <button
                      class="btn-icon"
                      on:click={() => onViewSubmissions && onViewSubmissions(form)}
                      title="View Submissions"
                    >
                      
                    </button>
                  {/if}

                  {#if onViewAnalytics}
                    <button
                      class="btn-icon"
                      on:click={() => onViewAnalytics && onViewAnalytics(form)}
                      title="View Analytics"
                    >
                      
                    </button>
                  {/if}

                  <button
                    class="btn-icon"
                    on:click={() => handlePublish(form)}
                    title={form.status === 'published' ? 'Unpublish' : 'Publish'}
                  >
                    {form.status === 'published' ? '' : ''}
                  </button>

                  <button
                    class="btn-icon"
                    on:click={() => handleDuplicate(form)}
                    title="Duplicate"
                  >
                    
                  </button>

                  {#if form.status !== 'archived'}
                    <button
                      class="btn-icon"
                      on:click={() => handleArchive(form)}
                      title="Archive"
                    >
                      
                    </button>
                  {/if}

                  <button
                    class="btn-icon btn-danger"
                    on:click={() => handleDelete(form)}
                    title="Delete"
                  >
                    
                  </button>
                </div>
              </td>
            </tr>
          {/each}
        </tbody>
      </table>
    </div>

    {#if totalPages > 1}
      <div class="pagination">
        <button
          class="btn-page"
          disabled={currentPage === 1}
          on:click={() => handlePageChange(currentPage - 1)}
        >
          Previous
        </button>

        <span class="page-info">
          Page {currentPage} of {totalPages}
        </span>

        <button
          class="btn-page"
          disabled={currentPage === totalPages}
          on:click={() => handlePageChange(currentPage + 1)}
        >
          Next
        </button>
      </div>
    {/if}
  {/if}
</div>

<style>
  .form-list-container {
    padding: 0;
  }

  .list-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
  }

  .list-header h2 {
    font-size: 1.5rem;
    font-weight: 600;
    color: #f1f5f9;
    margin: 0;
  }

  .header-actions {
    display: flex;
    gap: 1rem;
  }

  .filter-select {
    padding: 0.5rem 1rem;
    background: #1e293b;
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 8px;
    color: #e2e8f0;
    font-size: 0.875rem;
    cursor: pointer;
  }

  .loading,
  .error-message,
  .empty-state {
    text-align: center;
    padding: 3rem 1rem;
    color: #94a3b8;
  }

  .error-message {
    color: #f87171;
  }

  .empty-hint {
    font-size: 0.875rem;
    margin-top: 0.5rem;
  }

  .forms-table-container {
    overflow-x: auto;
    border: 1px solid rgba(99, 102, 241, 0.1);
    border-radius: 10px;
  }

  .forms-table {
    width: 100%;
    border-collapse: collapse;
    background: #1e293b;
  }

  .forms-table thead {
    background: rgba(99, 102, 241, 0.05);
  }

  .forms-table th {
    padding: 0.75rem 1rem;
    text-align: left;
    font-size: 0.75rem;
    font-weight: 600;
    color: #94a3b8;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border-bottom: 1px solid rgba(99, 102, 241, 0.1);
  }

  .forms-table td {
    padding: 1rem;
    font-size: 0.875rem;
    color: #e2e8f0;
    border-bottom: 1px solid rgba(99, 102, 241, 0.05);
  }

  .forms-table tbody tr:hover {
    background: rgba(99, 102, 241, 0.05);
  }

  .form-title {
    min-width: 250px;
  }

  .title-cell strong {
    display: block;
    margin-bottom: 0.25rem;
    color: #f1f5f9;
  }

  .form-description-preview {
    font-size: 0.75rem;
    color: #94a3b8;
    margin: 0;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .text-center {
    text-align: center;
  }

  .badge {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    border-radius: 9999px;
    font-size: 0.75rem;
    font-weight: 500;
    text-transform: capitalize;
  }

  .badge-success {
    background: rgba(34, 197, 94, 0.2);
    color: #4ade80;
  }

  .badge-warning {
    background: rgba(251, 191, 36, 0.2);
    color: #fbbf24;
  }

  .badge-secondary {
    background: rgba(107, 114, 128, 0.2);
    color: #9ca3af;
  }

  .action-buttons {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
  }

  .btn-icon {
    background: none;
    border: none;
    font-size: 1.25rem;
    cursor: pointer;
    padding: 0.25rem;
    opacity: 0.7;
    transition: opacity 0.2s;
  }

  .btn-icon:hover {
    opacity: 1;
  }

  .btn-danger:hover {
    opacity: 1;
    filter: brightness(0.9);
  }

  .pagination {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 1rem;
    margin-top: 2rem;
  }

  .btn-page {
    padding: 0.5rem 1rem;
    background: #1e293b;
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 8px;
    color: #e2e8f0;
    font-size: 0.875rem;
    cursor: pointer;
    transition: all 0.2s;
  }

  .btn-page:hover:not(:disabled) {
    background: rgba(99, 102, 241, 0.1);
    border-color: rgba(99, 102, 241, 0.4);
  }

  .btn-page:disabled {
    opacity: 0.3;
    cursor: not-allowed;
  }

  .page-info {
    font-size: 0.875rem;
    color: #94a3b8;
  }

  @media (max-width: 768px) {
    .forms-table th,
    .forms-table td {
      padding: 0.5rem;
      font-size: 0.75rem;
    }

    .action-buttons {
      flex-direction: column;
    }
  }
</style>

# END OF frontend/src/lib/components/forms/FormList.svelte


# ============= BLOG/CMS COMPONENTS =============

##################################################################
# FILE: frontend/src/lib/components/blog/RichTextEditor.svelte
# PATH: frontend/src/lib/components/blog/RichTextEditor.svelte
##################################################################

<script lang="ts">
  import { createEventDispatcher, onMount } from 'svelte';
  import {
    IconBold,
    IconItalic,
    IconUnderline,
    IconStrikethrough,
    IconAlignLeft,
    IconAlignCenter,
    IconAlignRight,
    IconAlignJustified,
    IconList,
    IconListNumbers,
    IconLink,
    IconPhoto,
    IconTable,
    IconCode,
    IconH1,
    IconH2,
    IconH3,
    IconQuote,
    IconArrowBackUp,
    IconArrowForwardUp
  } from '@tabler/icons-svelte';

  export let content: string = '';
  export let placeholder: string = 'Start writing...';

  const dispatch = createEventDispatcher();

  let editor: HTMLDivElement;
  let showLinkDialog = false;
  let linkUrl = '';
  let showImageDialog = false;
  let imageUrl = '';
  let showColorPicker = false;
  let textColor = '#000000';

  const fonts = [
    'Arial',
    'Helvetica',
    'Times New Roman',
    'Georgia',
    'Verdana',
    'Courier New',
    'Comic Sans MS'
  ];

  const fontSizes = ['12px', '14px', '16px', '18px', '20px', '24px', '28px', '32px', '36px', '48px'];

  let selectedFont = 'Arial';
  let selectedFontSize = '16px';

  onMount(() => {
    if (content) {
      editor.innerHTML = content;
    }
  });

  function execCommand(command: string, value: string | undefined = undefined) {
    document.execCommand(command, false, value);
    editor.focus();
    updateContent();
  }

  function updateContent() {
    content = editor.innerHTML;
    dispatch('change', content);
  }

  function insertHeading(level: number) {
    execCommand('formatBlock', `h${level}`);
  }

  function insertLink() {
    if (linkUrl) {
      execCommand('createLink', linkUrl);
      showLinkDialog = false;
      linkUrl = '';
    }
  }

  function insertImage() {
    if (imageUrl) {
      execCommand('insertImage', imageUrl);
      showImageDialog = false;
      imageUrl = '';
    }
  }

  function insertTable() {
    const rows = prompt('Number of rows:');
    const cols = prompt('Number of columns:');

    if (rows && cols) {
      let table = '<table border="1" style="border-collapse: collapse; width: 100%;"><tbody>';

      for (let i = 0; i < parseInt(rows); i++) {
        table += '<tr>';
        for (let j = 0; j < parseInt(cols); j++) {
          table += '<td style="padding: 8px; border: 1px solid #ddd;">&nbsp;</td>';
        }
        table += '</tr>';
      }

      table += '</tbody></table><p><br></p>';
      execCommand('insertHTML', table);
    }
  }

  function changeFont(font: string) {
    selectedFont = font;
    execCommand('fontName', font);
  }

  function changeFontSize(size: string) {
    selectedFontSize = size;
    const selection = window.getSelection();
    if (selection && selection.toString()) {
      execCommand('fontSize', '7');
      // Change all font tags to have the selected size
      const fontTags = editor.querySelectorAll('font[size="7"]');
      fontTags.forEach(tag => {
        tag.removeAttribute('size');
        (tag as HTMLElement).style.fontSize = size;
      });
      updateContent();
    }
  }

  function changeTextColor(color: string) {
    textColor = color;
    execCommand('foreColor', color);
    showColorPicker = false;
  }

  function handlePaste(e: ClipboardEvent) {
    e.preventDefault();
    const text = e.clipboardData?.getData('text/plain');
    if (text) {
      execCommand('insertText', text);
    }
  }
</script>

<div class="rich-text-editor">
  <div class="toolbar">
    <!-- Undo/Redo -->
    <div class="toolbar-group">
      <button type="button" class="toolbar-btn" on:click={() => execCommand('undo')} title="Undo">
        <IconArrowBackUp size={18} />
      </button>
      <button type="button" class="toolbar-btn" on:click={() => execCommand('redo')} title="Redo">
        <IconArrowForwardUp size={18} />
      </button>
    </div>

    <!-- Font Selection -->
    <div class="toolbar-group">
      <select class="font-select" bind:value={selectedFont} on:change={() => changeFont(selectedFont)}>
        {#each fonts as font}
          <option value={font}>{font}</option>
        {/each}
      </select>

      <select class="size-select" bind:value={selectedFontSize} on:change={() => changeFontSize(selectedFontSize)}>
        {#each fontSizes as size}
          <option value={size}>{size}</option>
        {/each}
      </select>
    </div>

    <!-- Headings -->
    <div class="toolbar-group">
      <button type="button" class="toolbar-btn" on:click={() => insertHeading(1)} title="Heading 1">
        <IconH1 size={18} />
      </button>
      <button type="button" class="toolbar-btn" on:click={() => insertHeading(2)} title="Heading 2">
        <IconH2 size={18} />
      </button>
      <button type="button" class="toolbar-btn" on:click={() => insertHeading(3)} title="Heading 3">
        <IconH3 size={18} />
      </button>
    </div>

    <!-- Text Formatting -->
    <div class="toolbar-group">
      <button type="button" class="toolbar-btn" on:click={() => execCommand('bold')} title="Bold">
        <IconBold size={18} />
      </button>
      <button type="button" class="toolbar-btn" on:click={() => execCommand('italic')} title="Italic">
        <IconItalic size={18} />
      </button>
      <button type="button" class="toolbar-btn" on:click={() => execCommand('underline')} title="Underline">
        <IconUnderline size={18} />
      </button>
      <button type="button" class="toolbar-btn" on:click={() => execCommand('strikeThrough')} title="Strikethrough">
        <IconStrikethrough size={18} />
      </button>
    </div>

    <!-- Color -->
    <div class="toolbar-group">
      <div class="color-picker-wrapper">
        <button
          type="button"
          class="toolbar-btn color-btn"
          on:click={() => showColorPicker = !showColorPicker}
          title="Text Color"
          style="background: {textColor}"
        >
          A
        </button>
        {#if showColorPicker}
          <div class="color-picker-dropdown">
            <input type="color" bind:value={textColor} on:change={() => changeTextColor(textColor)} />
            <div class="preset-colors">
              {#each ['#000000', '#FF0000', '#00FF00', '#0000FF', '#FFFF00', '#FF00FF', '#00FFFF', '#FFFFFF'] as color}
                <button
                  type="button"
                  class="color-preset"
                  style="background: {color}"
                  on:click={() => changeTextColor(color)}
                ></button>
              {/each}
            </div>
          </div>
        {/if}
      </div>
    </div>

    <!-- Alignment -->
    <div class="toolbar-group">
      <button type="button" class="toolbar-btn" on:click={() => execCommand('justifyLeft')} title="Align Left">
        <IconAlignLeft size={18} />
      </button>
      <button type="button" class="toolbar-btn" on:click={() => execCommand('justifyCenter')} title="Align Center">
        <IconAlignCenter size={18} />
      </button>
      <button type="button" class="toolbar-btn" on:click={() => execCommand('justifyRight')} title="Align Right">
        <IconAlignRight size={18} />
      </button>
      <button type="button" class="toolbar-btn" on:click={() => execCommand('justifyFull')} title="Justify">
        <IconAlignJustified size={18} />
      </button>
    </div>

    <!-- Lists -->
    <div class="toolbar-group">
      <button type="button" class="toolbar-btn" on:click={() => execCommand('insertUnorderedList')} title="Bullet List">
        <IconList size={18} />
      </button>
      <button type="button" class="toolbar-btn" on:click={() => execCommand('insertOrderedList')} title="Numbered List">
        <IconListNumbers size={18} />
      </button>
      <button type="button" class="toolbar-btn" on:click={() => execCommand('formatBlock', 'blockquote')} title="Quote">
        <IconQuote size={18} />
      </button>
    </div>

    <!-- Insert Elements -->
    <div class="toolbar-group">
      <button type="button" class="toolbar-btn" on:click={() => showLinkDialog = true} title="Insert Link">
        <IconLink size={18} />
      </button>
      <button type="button" class="toolbar-btn" on:click={() => showImageDialog = true} title="Insert Image">
        <IconPhoto size={18} />
      </button>
      <button type="button" class="toolbar-btn" on:click={insertTable} title="Insert Table">
        <IconTable size={18} />
      </button>
      <button type="button" class="toolbar-btn" on:click={() => execCommand('formatBlock', 'pre')} title="Code Block">
        <IconCode size={18} />
      </button>
    </div>
  </div>

  <div
    bind:this={editor}
    class="editor-content"
    contenteditable="true"
    on:input={updateContent}
    on:paste={handlePaste}
    data-placeholder={placeholder}
  ></div>
</div>

<!-- Link Dialog -->
{#if showLinkDialog}
  <div
    class="dialog-overlay"
    role="button"
    tabindex="0"
    on:click={() => showLinkDialog = false}
    on:keydown={(e) => e.key === 'Escape' && (showLinkDialog = false)}
  >
    <div class="dialog" role="dialog" aria-modal="true" tabindex="-1" on:click|stopPropagation>
      <h3>Insert Link</h3>
      <input type="url" bind:value={linkUrl} placeholder="https://example.com" />
      <div class="dialog-actions">
        <button type="button" class="btn-cancel" on:click={() => showLinkDialog = false}>Cancel</button>
        <button type="button" class="btn-insert" on:click={insertLink}>Insert</button>
      </div>
    </div>
  </div>
{/if}

<!-- Image Dialog -->
{#if showImageDialog}
  <div
    class="dialog-overlay"
    role="button"
    tabindex="0"
    on:click={() => showImageDialog = false}
    on:keydown={(e) => e.key === 'Escape' && (showImageDialog = false)}
  >
    <div class="dialog" role="dialog" aria-modal="true" tabindex="-1" on:click|stopPropagation>
      <h3>Insert Image</h3>
      <input type="url" bind:value={imageUrl} placeholder="https://example.com/image.jpg" />
      <div class="dialog-actions">
        <button type="button" class="btn-cancel" on:click={() => showImageDialog = false}>Cancel</button>
        <button type="button" class="btn-insert" on:click={insertImage}>Insert</button>
      </div>
    </div>
  </div>
{/if}

<style>
  .rich-text-editor {
    border: 1px solid #e5e5e5;
    border-radius: 8px;
    overflow: hidden;
    background: white;
  }

  .toolbar {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    padding: 0.75rem;
    border-bottom: 1px solid #e5e5e5;
    background: #f8f9fa;
  }

  .toolbar-group {
    display: flex;
    gap: 0.25rem;
    padding: 0 0.5rem;
    border-right: 1px solid #e0e0e0;
  }

  .toolbar-group:last-child {
    border-right: none;
  }

  .toolbar-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    border: none;
    background: white;
    border-radius: 4px;
    cursor: pointer;
    color: #666;
    transition: all 0.2s;
  }

  .toolbar-btn:hover {
    background: #e0e0e0;
    color: #1a1a1a;
  }

  .toolbar-btn:active {
    background: #d0d0d0;
  }

  .color-btn {
    font-weight: 700;
    color: white;
    width: 36px;
  }

  .font-select, .size-select {
    padding: 0.375rem 0.5rem;
    border: 1px solid #e0e0e0;
    border-radius: 4px;
    font-size: 0.875rem;
    background: white;
    cursor: pointer;
  }

  .font-select {
    min-width: 120px;
  }

  .size-select {
    min-width: 70px;
  }

  .color-picker-wrapper {
    position: relative;
  }

  .color-picker-dropdown {
    position: absolute;
    top: 100%;
    left: 0;
    margin-top: 0.5rem;
    padding: 1rem;
    background: white;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    z-index: 100;
  }

  .preset-colors {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 0.5rem;
    margin-top: 0.75rem;
  }

  .color-preset {
    width: 32px;
    height: 32px;
    border: 1px solid #e0e0e0;
    border-radius: 4px;
    cursor: pointer;
  }

  .editor-content {
    min-height: 300px;
    max-height: 600px;
    overflow-y: auto;
    padding: 1.5rem;
    font-size: 1rem;
    line-height: 1.6;
    outline: none;
  }

  .editor-content:empty::before {
    content: attr(data-placeholder);
    color: #999;
  }

  .editor-content :global(h1) {
    font-size: 2rem;
    font-weight: 700;
    margin: 1rem 0;
  }

  .editor-content :global(h2) {
    font-size: 1.5rem;
    font-weight: 600;
    margin: 0.875rem 0;
  }

  .editor-content :global(h3) {
    font-size: 1.25rem;
    font-weight: 600;
    margin: 0.75rem 0;
  }

  .editor-content :global(p) {
    margin: 0.5rem 0;
  }

  .editor-content :global(blockquote) {
    border-left: 4px solid #3b82f6;
    padding-left: 1rem;
    margin: 1rem 0;
    color: #666;
    font-style: italic;
  }

  .editor-content :global(pre) {
    background: #1e293b;
    color: #e2e8f0;
    padding: 1rem;
    border-radius: 6px;
    overflow-x: auto;
    font-family: 'Courier New', monospace;
    margin: 1rem 0;
  }

  .editor-content :global(table) {
    border-collapse: collapse;
    width: 100%;
    margin: 1rem 0;
  }

  .editor-content :global(table td),
  .editor-content :global(table th) {
    border: 1px solid #ddd;
    padding: 8px;
  }

  .editor-content :global(img) {
    max-width: 100%;
    height: auto;
    display: block;
    margin: 1rem 0;
  }

  .editor-content :global(a) {
    color: #3b82f6;
    text-decoration: underline;
  }

  .dialog-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
  }

  .dialog {
    background: white;
    padding: 2rem;
    border-radius: 12px;
    width: 100%;
    max-width: 500px;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
  }

  .dialog h3 {
    margin: 0 0 1rem;
    font-size: 1.25rem;
    font-weight: 600;
  }

  .dialog input {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid #e5e5e5;
    border-radius: 6px;
    font-size: 0.95rem;
    margin-bottom: 1rem;
  }

  .dialog-actions {
    display: flex;
    gap: 0.75rem;
    justify-content: flex-end;
  }

  .btn-cancel, .btn-insert {
    padding: 0.625rem 1.25rem;
    border-radius: 6px;
    font-weight: 500;
    cursor: pointer;
    border: none;
    transition: all 0.2s;
  }

  .btn-cancel {
    background: white;
    color: #666;
    border: 1px solid #e5e5e5;
  }

  .btn-cancel:hover {
    background: #f8f9fa;
  }

  .btn-insert {
    background: #3b82f6;
    color: white;
  }

  .btn-insert:hover {
    background: #2563eb;
  }
</style>

# END OF frontend/src/lib/components/blog/RichTextEditor.svelte


##################################################################
# FILE: frontend/src/lib/components/blog/SeoMetaFields.svelte
# PATH: frontend/src/lib/components/blog/SeoMetaFields.svelte
##################################################################

<script lang="ts">
  export let meta: any;

  $: {
    // Auto-generate meta title from post title if not set
    if (!meta.meta_title && meta.title) {
      meta.meta_title = meta.title;
    }
  }
</script>

<div class="seo-fields">
  <div class="form-group">
    <label for="meta-title">
      Meta Title
      <span class="char-count">{(meta.meta_title || '').length}/60</span>
    </label>
    <input
      id="meta-title"
      type="text"
      bind:value={meta.meta_title}
      placeholder="SEO title for search engines"
      maxlength="70"
    />
    <div class="hint">Recommended: 50-60 characters</div>
  </div>

  <div class="form-group">
    <label for="meta-description">
      Meta Description
      <span class="char-count">{(meta.meta_description || '').length}/160</span>
    </label>
    <textarea
      id="meta-description"
      bind:value={meta.meta_description}
      placeholder="Brief description for search results"
      rows="3"
      maxlength="170"
    />
    <div class="hint">Recommended: 150-160 characters</div>
  </div>

  <div class="form-group">
    <label for="canonical-url">Canonical URL</label>
    <input
      id="canonical-url"
      type="url"
      bind:value={meta.canonical_url}
      placeholder="https://example.com/post-url"
    />
    <div class="hint">Leave empty to use default URL</div>
  </div>

  <div class="form-group">
    <label>
      <input type="checkbox" bind:checked={meta.indexable} />
      Allow search engines to index this post
    </label>
  </div>
</div>

<style>
  .seo-fields {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  .form-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .form-group label {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-weight: 500;
    color: #1a1a1a;
    font-size: 0.95rem;
  }

  .char-count {
    font-size: 0.85rem;
    color: #999;
    font-weight: 400;
  }

  .form-group input[type="text"],
  .form-group input[type="url"],
  .form-group textarea {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid #e5e5e5;
    border-radius: 6px;
    font-size: 0.95rem;
    font-family: inherit;
  }

  .form-group textarea {
    resize: vertical;
  }

  .form-group input:focus,
  .form-group textarea:focus {
    outline: none;
    border-color: #3b82f6;
  }

  .hint {
    font-size: 0.85rem;
    color: #999;
  }

  .form-group label:has(input[type="checkbox"]) {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
    font-weight: 400;
  }

  .form-group input[type="checkbox"] {
    width: auto;
    cursor: pointer;
  }
</style>

# END OF frontend/src/lib/components/blog/SeoMetaFields.svelte


# ============= SEO COMPONENTS =============

##################################################################
# FILE: frontend/src/lib/components/seo/SeoAnalyzer.svelte
# PATH: frontend/src/lib/components/seo/SeoAnalyzer.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import {
    IconCircleCheck,
    IconAlertTriangle,
    IconCircleX,
    IconRefresh,
    IconTrendingUp
  } from '@tabler/icons-svelte';

  export let content: string = '';
  export let title: string = '';
  export let description: string = '';
  export let focusKeyword: string = '';
  export let additionalKeywords: string[] = [];

  let analysis: any = null;
  let readability: any = null;
  let loading = false;

  $: if (content || title || description || focusKeyword) {
    analyzeDebounced();
  }

  let debounceTimer: any;
  function analyzeDebounced() {
    clearTimeout(debounceTimer);
    debounceTimer = setTimeout(() => {
      analyze();
    }, 1000);
  }

  async function analyze() {
    if (!content && !title && !description) return;

    loading = true;
    try {
      const response = await fetch('/api/seo/meta/analyze', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          content,
          title,
          description,
          focus_keyword: focusKeyword,
          additional_keywords: additionalKeywords
        })
      });

      if (response.ok) {
        const data = await response.json();
        analysis = data.seo_analysis;
        readability = data.readability;
      }
    } catch (error) {
      console.error('Analysis failed:', error);
    } finally {
      loading = false;
    }
  }

  function getStatusIcon(status: string) {
    switch (status) {
      case 'good':
        return IconCircleCheck;
      case 'warning':
        return IconAlertTriangle;
      case 'error':
        return IconCircleX;
      default:
        return IconAlertTriangle;
    }
  }

  function getStatusColor(status: string) {
    switch (status) {
      case 'good':
        return 'green';
      case 'warning':
        return 'yellow';
      case 'error':
        return 'red';
      default:
        return 'gray';
    }
  }

  onMount(() => {
    analyze();
  });
</script>

<div class="seo-analyzer">
  <div class="analyzer-header">
    <div class="scores">
      {#if analysis}
        <div class="score-card">
          <div class="score-circle" style="--progress: {analysis.score}">
            <span class="score-value">{analysis.score}</span>
          </div>
          <div class="score-label">SEO Score</div>
        </div>
      {/if}

      {#if readability}
        <div class="score-card">
          <div class="score-circle" style="--progress: {readability.score}">
            <span class="score-value">{readability.score}</span>
          </div>
          <div class="score-label">Readability</div>
          <div class="score-sublabel">{readability.level}</div>
        </div>
      {/if}
    </div>

    <button class="refresh-btn" on:click={analyze} disabled={loading}>
      <IconRefresh size={18} class={loading ? 'spinning' : ''} />
      {loading ? 'Analyzing...' : 'Refresh'}
    </button>
  </div>

  {#if analysis}
    <div class="analysis-stats">
      <div class="stat">
        <div class="stat-value">{analysis.passed}</div>
        <div class="stat-label">Passed</div>
      </div>
      <div class="stat warning">
        <div class="stat-value">{analysis.warnings}</div>
        <div class="stat-label">Warnings</div>
      </div>
      <div class="stat error">
        <div class="stat-value">{analysis.errors}</div>
        <div class="stat-label">Errors</div>
      </div>
    </div>

    <div class="analysis-results">
      <h4>Analysis Results</h4>

      <div class="results-list">
        {#each analysis.results as result}
          <div class="result-item {getStatusColor(result.status)}">
            <div class="result-icon">
              <svelte:component this={getStatusIcon(result.status)} size={20} />
            </div>
            <div class="result-content">
              <div class="result-test">{result.test.replace(/_/g, ' ')}</div>
              <div class="result-message">{result.message}</div>
            </div>
          </div>
        {/each}
      </div>
    </div>
  {:else}
    <div class="empty-state">
      <IconTrendingUp size={48} />
      <h4>No Analysis Yet</h4>
      <p>Add content to see SEO analysis results</p>
    </div>
  {/if}

  {#if readability}
    <div class="readability-details">
      <h4>Readability Details</h4>
      <div class="details-grid">
        <div class="detail-item">
          <span class="detail-label">Words</span>
          <span class="detail-value">{readability.details.words}</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">Sentences</span>
          <span class="detail-value">{readability.details.sentences}</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">Avg. Words/Sentence</span>
          <span class="detail-value">{readability.details.avg_words_per_sentence}</span>
        </div>
      </div>
    </div>
  {/if}
</div>

<style>
  .seo-analyzer {
    background: white;
    border: 1px solid #e5e5e5;
    border-radius: 8px;
    padding: 1.5rem;
  }

  .analyzer-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
  }

  .scores {
    display: flex;
    gap: 2rem;
  }

  .score-card {
    text-align: center;
  }

  .score-circle {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: conic-gradient(
      #3b82f6 calc(var(--progress) * 1%),
      #f0f0f0 calc(var(--progress) * 1%)
    );
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 0.75rem;
    position: relative;
  }

  .score-circle::before {
    content: '';
    position: absolute;
    width: 64px;
    height: 64px;
    border-radius: 50%;
    background: white;
  }

  .score-value {
    position: relative;
    z-index: 1;
    font-size: 1.5rem;
    font-weight: 700;
    color: #1a1a1a;
  }

  .score-label {
    font-weight: 500;
    color: #666;
    font-size: 0.9rem;
  }

  .score-sublabel {
    font-size: 0.8rem;
    color: #999;
    margin-top: 0.25rem;
  }

  .refresh-btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.625rem 1.25rem;
    background: white;
    border: 1px solid #e5e5e5;
    border-radius: 6px;
    color: #666;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
  }

  .refresh-btn:hover:not(:disabled) {
    background: #f8f9fa;
  }

  .refresh-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  :global(.spinning) {
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  .analysis-stats {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
    margin-bottom: 2rem;
  }

  .stat {
    text-align: center;
    padding: 1rem;
    background: #f8f9fa;
    border-radius: 6px;
  }

  .stat.warning {
    background: #fef3c7;
  }

  .stat.error {
    background: #fee2e2;
  }

  .stat-value {
    font-size: 1.75rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 0.25rem;
  }

  .stat-label {
    font-size: 0.85rem;
    color: #666;
  }

  .analysis-results h4 {
    font-size: 1rem;
    font-weight: 600;
    color: #1a1a1a;
    margin-bottom: 1rem;
  }

  .results-list {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  .result-item {
    display: flex;
    gap: 0.75rem;
    padding: 1rem;
    border-radius: 6px;
    border: 1px solid;
  }

  .result-item.green {
    background: #dcfce7;
    border-color: #86efac;
    color: #16a34a;
  }

  .result-item.yellow {
    background: #fef3c7;
    border-color: #fde047;
    color: #d97706;
  }

  .result-item.red {
    background: #fee2e2;
    border-color: #fca5a5;
    color: #dc2626;
  }

  .result-icon {
    flex-shrink: 0;
  }

  .result-content {
    flex: 1;
  }

  .result-test {
    font-weight: 600;
    text-transform: capitalize;
    margin-bottom: 0.25rem;
  }

  .result-message {
    font-size: 0.9rem;
    opacity: 0.9;
  }

  .empty-state {
    text-align: center;
    padding: 3rem 1rem;
    color: #999;
  }

  .empty-state h4 {
    margin: 1rem 0 0.5rem;
    color: #666;
    font-weight: 500;
  }

  .empty-state p {
    font-size: 0.95rem;
  }

  .readability-details {
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 1px solid #e5e5e5;
  }

  .readability-details h4 {
    font-size: 1rem;
    font-weight: 600;
    color: #1a1a1a;
    margin-bottom: 1rem;
  }

  .details-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
  }

  .detail-item {
    display: flex;
    flex-direction: column;
    padding: 1rem;
    background: #f8f9fa;
    border-radius: 6px;
  }

  .detail-label {
    font-size: 0.85rem;
    color: #666;
    margin-bottom: 0.5rem;
  }

  .detail-value {
    font-size: 1.5rem;
    font-weight: 600;
    color: #1a1a1a;
  }
</style>

# END OF frontend/src/lib/components/seo/SeoAnalyzer.svelte


##################################################################
# FILE: frontend/src/lib/components/seo/SeoMetaEditor.svelte
# PATH: frontend/src/lib/components/seo/SeoMetaEditor.svelte
##################################################################

<script lang="ts">
  import { createEventDispatcher, onMount } from 'svelte';
  import {
    IconFileText,
    IconPhoto,
    IconBrandTwitter,
    IconBrandFacebook,
    IconRobot,
    IconDeviceFloppy,
    IconRefresh,
    IconEye,
    IconCode
  } from '@tabler/icons-svelte';
  import SeoAnalyzer from './SeoAnalyzer.svelte';
  import SeoPreview from './SeoPreview.svelte';

  export let entity: any;

  const dispatch = createEventDispatcher();

  let activeTab = 'general';
  let meta: any = {
    title: '',
    description: '',
    canonical_url: '',
    focus_keyword: '',
    additional_keywords: [],
    og_title: '',
    og_description: '',
    og_image: '',
    og_type: 'website',
    twitter_title: '',
    twitter_description: '',
    twitter_image: '',
    twitter_card_type: 'summary_large_image',
    noindex: false,
    nofollow: false,
    noarchive: false,
    noimageindex: false,
    nosnippet: false,
    breadcrumb_title: ''
  };

  let content = '';
  let analyzing = false;
  let saving = false;

  const tabs = [
    { id: 'general', label: 'General', icon: IconFileText },
    { id: 'social', label: 'Social Media', icon: IconBrandFacebook },
    { id: 'advanced', label: 'Advanced', icon: IconCode },
    { id: 'analysis', label: 'Analysis', icon: IconEye }
  ];

  onMount(() => {
    loadMeta();
  });

  async function loadMeta() {
    // Load SEO meta from API
    try {
      const response = await fetch(`/api/seo/meta/${entity.type}/${entity.id}`);
      const data = await response.json();
      if (data.data) {
        meta = { ...meta, ...data.data };
      }
    } catch (error) {
      console.error('Failed to load SEO meta:', error);
    }
  }

  async function saveMeta() {
    saving = true;
    try {
      const response = await fetch('/api/seo/meta', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          entity_type: entity.type,
          entity_id: entity.id,
          ...meta
        })
      });

      if (response.ok) {
        dispatch('saved');
      }
    } catch (error) {
      console.error('Failed to save SEO meta:', error);
    } finally {
      saving = false;
    }
  }

  function addKeyword() {
    const input = prompt('Enter keyword:');
    if (input && input.trim()) {
      meta.additional_keywords = [...meta.additional_keywords, input.trim()];
    }
  }

  function removeKeyword(index: number) {
    meta.additional_keywords = meta.additional_keywords.filter((_, i) => i !== index);
  }
</script>

<div class="seo-meta-editor">
  <div class="editor-header">
    <h2>{entity.title}</h2>
    <div class="header-actions">
      <button class="btn-secondary" on:click={loadMeta}>
        <IconRefresh size={18} />
        Refresh
      </button>
      <button class="btn-primary" on:click={saveMeta} disabled={saving}>
        <IconDeviceFloppy size={18} />
        {saving ? 'Saving...' : 'Save Changes'}
      </button>
    </div>
  </div>

  <div class="editor-tabs">
    {#each tabs as tab}
      <button
        class="tab"
        class:active={activeTab === tab.id}
        on:click={() => activeTab = tab.id}
      >
        <svelte:component this={tab.icon} size={18} />
        {tab.label}
      </button>
    {/each}
  </div>

  <div class="editor-content">
    {#if activeTab === 'general'}
      <div class="tab-panel">
        <div class="form-group">
          <label for="title">
            SEO Title
            <span class="char-count">{meta.title.length}/60</span>
          </label>
          <input
            id="title"
            type="text"
            bind:value={meta.title}
            placeholder="Enter SEO title..."
            maxlength="70"
          />
          <div class="hint">Recommended: 50-60 characters</div>
        </div>

        <div class="form-group">
          <label for="description">
            Meta Description
            <span class="char-count">{meta.description.length}/160</span>
          </label>
          <textarea
            id="description"
            bind:value={meta.description}
            placeholder="Enter meta description..."
            rows="3"
            maxlength="170"
          ></textarea>
          <div class="hint">Recommended: 150-160 characters</div>
        </div>

        <div class="form-group">
          <label for="focus-keyword">Focus Keyword</label>
          <input
            id="focus-keyword"
            type="text"
            bind:value={meta.focus_keyword}
            placeholder="Enter your primary keyword..."
          />
        </div>

        <div class="form-group">
          <label for="additional-keywords">Additional Keywords</label>
          <div class="keywords-list" id="additional-keywords">
            {#each meta.additional_keywords as keyword, i}
              <span class="keyword-tag">
                {keyword}
                <button type="button" on:click={() => removeKeyword(i)}></button>
              </span>
            {/each}
            <button type="button" class="add-keyword" on:click={addKeyword}>+ Add Keyword</button>
          </div>
        </div>

        <div class="form-group">
          <label for="canonical">Canonical URL</label>
          <input
            id="canonical"
            type="url"
            bind:value={meta.canonical_url}
            placeholder="https://example.com/page"
          />
        </div>

        <SeoPreview title={meta.title || entity.title} description={meta.description} url={meta.canonical_url || entity.url} />
      </div>
    {:else if activeTab === 'social'}
      <div class="tab-panel">
        <h3><IconBrandFacebook size={20} /> Open Graph (Facebook)</h3>

        <div class="form-group">
          <label for="og-title">OG Title</label>
          <input
            id="og-title"
            type="text"
            bind:value={meta.og_title}
            placeholder="Leave empty to use SEO title"
          />
        </div>

        <div class="form-group">
          <label for="og-description">OG Description</label>
          <textarea
            id="og-description"
            bind:value={meta.og_description}
            placeholder="Leave empty to use meta description"
            rows="2"
          ></textarea>
        </div>

        <div class="form-group">
          <label for="og-image">OG Image URL</label>
          <input
            id="og-image"
            type="url"
            bind:value={meta.og_image}
            placeholder="https://example.com/image.jpg"
          />
          <div class="hint">Recommended: 1200x630px</div>
        </div>

        <div class="form-group">
          <label for="og-type">OG Type</label>
          <select id="og-type" bind:value={meta.og_type}>
            <option value="website">Website</option>
            <option value="article">Article</option>
            <option value="product">Product</option>
          </select>
        </div>

        <hr />

        <h3><IconBrandTwitter size={20} /> Twitter Cards</h3>

        <div class="form-group">
          <label for="twitter-card">Card Type</label>
          <select id="twitter-card" bind:value={meta.twitter_card_type}>
            <option value="summary">Summary</option>
            <option value="summary_large_image">Summary with Large Image</option>
          </select>
        </div>

        <div class="form-group">
          <label for="twitter-title">Twitter Title</label>
          <input
            id="twitter-title"
            type="text"
            bind:value={meta.twitter_title}
            placeholder="Leave empty to use OG title"
          />
        </div>

        <div class="form-group">
          <label for="twitter-description">Twitter Description</label>
          <textarea
            id="twitter-description"
            bind:value={meta.twitter_description}
            placeholder="Leave empty to use OG description"
            rows="2"
          ></textarea>
        </div>

        <div class="form-group">
          <label for="twitter-image">Twitter Image URL</label>
          <input
            id="twitter-image"
            type="url"
            bind:value={meta.twitter_image}
            placeholder="Leave empty to use OG image"
          />
        </div>
      </div>
    {:else if activeTab === 'advanced'}
      <div class="tab-panel">
        <h3><IconRobot size={20} /> Robots Meta</h3>

        <div class="checkbox-group">
          <label>
            <input type="checkbox" bind:checked={meta.noindex} />
            <div>
              <strong>NoIndex</strong>
              <span>Prevent search engines from indexing this page</span>
            </div>
          </label>

          <label>
            <input type="checkbox" bind:checked={meta.nofollow} />
            <div>
              <strong>NoFollow</strong>
              <span>Tell search engines not to follow links on this page</span>
            </div>
          </label>

          <label>
            <input type="checkbox" bind:checked={meta.noarchive} />
            <div>
              <strong>NoArchive</strong>
              <span>Prevent search engines from caching this page</span>
            </div>
          </label>

          <label>
            <input type="checkbox" bind:checked={meta.noimageindex} />
            <div>
              <strong>NoImageIndex</strong>
              <span>Prevent images from being indexed</span>
            </div>
          </label>

          <label>
            <input type="checkbox" bind:checked={meta.nosnippet} />
            <div>
              <strong>NoSnippet</strong>
              <span>Prevent showing snippets in search results</span>
            </div>
          </label>
        </div>

        <hr />

        <div class="form-group">
          <label for="breadcrumb">Breadcrumb Title</label>
          <input
            id="breadcrumb"
            type="text"
            bind:value={meta.breadcrumb_title}
            placeholder="Override breadcrumb title"
          />
        </div>
      </div>
    {:else if activeTab === 'analysis'}
      <div class="tab-panel">
        <SeoAnalyzer
          {content}
          title={meta.title}
          description={meta.description}
          focusKeyword={meta.focus_keyword}
          additionalKeywords={meta.additional_keywords}
        />
      </div>
    {/if}
  </div>
</div>

<style>
  .seo-meta-editor {
    background: white;
    height: 100%;
    display: flex;
    flex-direction: column;
  }

  .editor-header {
    padding: 1.5rem 2rem;
    border-bottom: 1px solid #e5e5e5;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .editor-header h2 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #1a1a1a;
    margin: 0;
  }

  .header-actions {
    display: flex;
    gap: 0.75rem;
  }

  .btn-primary, .btn-secondary {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.625rem 1.25rem;
    border-radius: 6px;
    font-weight: 500;
    font-size: 0.95rem;
    cursor: pointer;
    transition: all 0.2s;
    border: none;
  }

  .btn-primary {
    background: #3b82f6;
    color: white;
  }

  .btn-primary:hover:not(:disabled) {
    background: #2563eb;
  }

  .btn-primary:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  .btn-secondary {
    background: white;
    color: #666;
    border: 1px solid #e5e5e5;
  }

  .btn-secondary:hover {
    background: #f8f9fa;
  }

  .editor-tabs {
    display: flex;
    gap: 0.5rem;
    padding: 1rem 2rem 0;
    border-bottom: 2px solid #f0f0f0;
  }

  .tab {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    background: none;
    border: none;
    color: #666;
    font-weight: 500;
    font-size: 0.95rem;
    cursor: pointer;
    border-bottom: 2px solid transparent;
    margin-bottom: -2px;
    transition: all 0.2s;
  }

  .tab:hover {
    color: #1a1a1a;
  }

  .tab.active {
    color: #3b82f6;
    border-bottom-color: #3b82f6;
  }

  .editor-content {
    flex: 1;
    overflow-y: auto;
    padding: 2rem;
  }

  .tab-panel {
    max-width: 800px;
  }

  .tab-panel h3 {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 1.1rem;
    font-weight: 600;
    color: #1a1a1a;
    margin-bottom: 1.5rem;
  }

  .form-group {
    margin-bottom: 1.5rem;
  }

  .form-group label {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-weight: 500;
    color: #1a1a1a;
    margin-bottom: 0.5rem;
    font-size: 0.95rem;
  }

  .char-count {
    font-size: 0.85rem;
    color: #999;
    font-weight: 400;
  }

  .form-group input,
  .form-group textarea,
  .form-group select {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid #e5e5e5;
    border-radius: 6px;
    font-size: 0.95rem;
    font-family: inherit;
    transition: border-color 0.2s;
  }

  .form-group input:focus,
  .form-group textarea:focus,
  .form-group select:focus {
    outline: none;
    border-color: #3b82f6;
  }

  .form-group textarea {
    resize: vertical;
  }

  .hint {
    margin-top: 0.375rem;
    font-size: 0.85rem;
    color: #999;
  }

  .keywords-list {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    padding: 0.75rem;
    border: 1px solid #e5e5e5;
    border-radius: 6px;
    min-height: 48px;
  }

  .keyword-tag {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.375rem 0.75rem;
    background: #eff6ff;
    color: #3b82f6;
    border-radius: 4px;
    font-size: 0.9rem;
  }

  .keyword-tag button {
    background: none;
    border: none;
    color: #3b82f6;
    font-size: 1.25rem;
    line-height: 1;
    cursor: pointer;
    padding: 0;
  }

  .add-keyword {
    padding: 0.375rem 0.75rem;
    background: white;
    border: 1px dashed #ccc;
    border-radius: 4px;
    color: #666;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.2s;
  }

  .add-keyword:hover {
    border-color: #3b82f6;
    color: #3b82f6;
  }

  .checkbox-group label {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    padding: 1rem;
    border: 1px solid #e5e5e5;
    border-radius: 6px;
    margin-bottom: 0.75rem;
    cursor: pointer;
    transition: background 0.2s;
  }

  .checkbox-group label:hover {
    background: #f8f9fa;
  }

  .checkbox-group input[type="checkbox"] {
    margin-top: 0.25rem;
    width: auto;
    cursor: pointer;
  }

  .checkbox-group label div {
    flex: 1;
  }

  .checkbox-group strong {
    display: block;
    color: #1a1a1a;
    margin-bottom: 0.25rem;
  }

  .checkbox-group span {
    display: block;
    font-size: 0.85rem;
    color: #666;
  }

  hr {
    border: none;
    border-top: 1px solid #e5e5e5;
    margin: 2rem 0;
  }
</style>

# END OF frontend/src/lib/components/seo/SeoMetaEditor.svelte


##################################################################
# FILE: frontend/src/lib/components/seo/SeoPreview.svelte
# PATH: frontend/src/lib/components/seo/SeoPreview.svelte
##################################################################

<script lang="ts">
  import { IconSearch, IconBrandGoogle } from '@tabler/icons-svelte';

  export let title: string = '';
  export let description: string = '';
  export let url: string = '';

  $: displayUrl = url ? new URL(url).hostname + '  ...' : 'example.com  page';
  $: displayTitle = title || 'Untitled Page';
  $: displayDescription = description || 'No description provided';
</script>

<div class="seo-preview">
  <div class="preview-header">
    <IconSearch size={16} />
    <span>Search Preview</span>
  </div>

  <div class="preview-content">
    <div class="google-preview">
      <div class="preview-url">{displayUrl}</div>
      <div class="preview-title">{displayTitle}</div>
      <div class="preview-description">{displayDescription}</div>
    </div>
  </div>

  <div class="preview-footer">
    <small>This is how your page might appear in Google search results</small>
  </div>
</div>

<style>
  .seo-preview {
    margin-top: 2rem;
    border: 1px solid #e5e5e5;
    border-radius: 8px;
    overflow: hidden;
  }

  .preview-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1rem;
    background: #f8f9fa;
    border-bottom: 1px solid #e5e5e5;
    font-weight: 500;
    font-size: 0.9rem;
    color: #666;
  }

  .preview-content {
    padding: 1.5rem;
    background: white;
  }

  .google-preview {
    max-width: 600px;
  }

  .preview-url {
    font-size: 0.85rem;
    color: #1a0dab;
    margin-bottom: 0.25rem;
  }

  .preview-title {
    font-size: 1.25rem;
    color: #1a0dab;
    font-weight: 400;
    margin-bottom: 0.25rem;
    line-height: 1.3;
  }

  .preview-title:hover {
    text-decoration: underline;
  }

  .preview-description {
    font-size: 0.9rem;
    color: #545454;
    line-height: 1.5;
  }

  .preview-footer {
    padding: 0.5rem 1rem;
    background: #f8f9fa;
    border-top: 1px solid #e5e5e5;
    font-size: 0.8rem;
    color: #999;
    text-align: center;
  }
</style>

# END OF frontend/src/lib/components/seo/SeoPreview.svelte


##################################################################
# FILE: frontend/src/lib/components/seo/RedirectEditor.svelte
# PATH: frontend/src/lib/components/seo/RedirectEditor.svelte
##################################################################

<script lang="ts">
  import { createEventDispatcher } from 'svelte';
  import { IconX, IconDeviceFloppy } from '@tabler/icons-svelte';

  export let redirect: any = null;

  const dispatch = createEventDispatcher();

  let form = {
    source_url: redirect?.source_url || '',
    destination_url: redirect?.destination_url || '',
    redirect_type: redirect?.redirect_type || '301',
    is_regex: redirect?.is_regex || false,
    is_active: redirect?.is_active !== undefined ? redirect.is_active : true,
    notes: redirect?.notes || ''
  };

  let saving = false;
  let error = '';

  const redirectTypes = [
    { value: '301', label: '301 - Moved Permanently', description: 'Best for permanently moved content' },
    { value: '302', label: '302 - Found (Temporary)', description: 'For temporary redirects' },
    { value: '307', label: '307 - Temporary Redirect', description: 'Temporary redirect, maintains request method' },
    { value: '308', label: '308 - Permanent Redirect', description: 'Permanent redirect, maintains request method' },
    { value: '410', label: '410 - Gone', description: 'Content permanently removed' }
  ];

  async function save() {
    error = '';
    saving = true;

    try {
      const url = redirect
        ? `/api/seo/redirects/${redirect.id}`
        : '/api/seo/redirects';

      const method = redirect ? 'PUT' : 'POST';

      const response = await fetch(url, {
        method,
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(form)
      });

      if (response.ok) {
        dispatch('saved');
      } else {
        const data = await response.json();
        error = data.message || 'Failed to save redirect';
      }
    } catch (err) {
      error = 'An error occurred while saving';
    } finally {
      saving = false;
    }
  }

  function cancel() {
    dispatch('cancel');
  }
</script>

<div class="modal-overlay" role="button" tabindex="0" on:click={cancel} on:keydown={(e) => e.key === 'Escape' && cancel()}>
  <div class="modal" on:click|stopPropagation>
    <div class="modal-header">
      <h2>{redirect ? 'Edit Redirect' : 'Create Redirect'}</h2>
      <button class="close-btn" on:click={cancel}>
        <IconX size={24} />
      </button>
    </div>

    <form on:submit|preventDefault={save}>
      <div class="modal-body">
        {#if error}
          <div class="error-message">{error}</div>
        {/if}

        <div class="form-group">
          <label for="source-url">Source URL <span class="required">*</span></label>
          <input
            id="source-url"
            type="text"
            bind:value={form.source_url}
            placeholder="/old-page"
            required
          />
          <div class="hint">
            The URL to redirect from. {form.is_regex ? 'Use regex pattern.' : 'Use absolute path (e.g., /old-page).'}
          </div>
        </div>

        <div class="form-group">
          <label>
            <input type="checkbox" bind:checked={form.is_regex} />
            Use Regular Expression
          </label>
          <div class="hint">
            Enable regex for pattern matching (e.g., /product/(.*)  /shop/$1)
          </div>
        </div>

        <div class="form-group">
          <label for="destination-url">Destination URL <span class="required">*</span></label>
          <input
            id="destination-url"
            type="text"
            bind:value={form.destination_url}
            placeholder="/new-page"
            required={form.redirect_type !== '410'}
          />
          <div class="hint">
            The URL to redirect to. Can be absolute or relative.
          </div>
        </div>

        <div class="form-group">
          <label for="redirect-type">Redirect Type <span class="required">*</span></label>
          <select id="redirect-type" bind:value={form.redirect_type} required>
            {#each redirectTypes as type}
              <option value={type.value}>
                {type.label}
              </option>
            {/each}
          </select>
          <div class="hint">
            {redirectTypes.find(t => t.value === form.redirect_type)?.description}
          </div>
        </div>

        <div class="form-group">
          <label for="notes">Notes</label>
          <textarea
            id="notes"
            bind:value={form.notes}
            placeholder="Add notes about this redirect..."
            rows="3"
          ></textarea>
        </div>

        <div class="form-group">
          <label>
            <input type="checkbox" bind:checked={form.is_active} />
            Active
          </label>
          <div class="hint">Only active redirects will be processed</div>
        </div>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn-secondary" on:click={cancel}>
          Cancel
        </button>
        <button type="submit" class="btn-primary" disabled={saving}>
          <IconDeviceFloppy size={18} />
          {saving ? 'Saving...' : 'Save Redirect'}
        </button>
      </div>
    </form>
  </div>
</div>

<style>
  .modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    padding: 1rem;
  }

  .modal {
    background: white;
    border-radius: 12px;
    width: 100%;
    max-width: 600px;
    max-height: 90vh;
    display: flex;
    flex-direction: column;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
  }

  .modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.5rem;
    border-bottom: 1px solid #e5e5e5;
  }

  .modal-header h2 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #1a1a1a;
    margin: 0;
  }

  .close-btn {
    background: none;
    border: none;
    color: #666;
    cursor: pointer;
    padding: 0.25rem;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 4px;
    transition: background 0.2s;
  }

  .close-btn:hover {
    background: #f0f0f0;
  }

  .modal-body {
    padding: 1.5rem;
    overflow-y: auto;
  }

  .error-message {
    padding: 0.75rem 1rem;
    background: #fee2e2;
    color: #dc2626;
    border-radius: 6px;
    margin-bottom: 1rem;
    font-size: 0.9rem;
  }

  .form-group {
    margin-bottom: 1.5rem;
  }

  .form-group label {
    display: block;
    font-weight: 500;
    color: #1a1a1a;
    margin-bottom: 0.5rem;
    font-size: 0.95rem;
  }

  .required {
    color: #ef4444;
  }

  .form-group input[type="text"],
  .form-group select,
  .form-group textarea {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid #e5e5e5;
    border-radius: 6px;
    font-size: 0.95rem;
    font-family: inherit;
    transition: border-color 0.2s;
  }

  .form-group input[type="text"]:focus,
  .form-group select:focus,
  .form-group textarea:focus {
    outline: none;
    border-color: #3b82f6;
  }

  .form-group textarea {
    resize: vertical;
  }

  .form-group input[type="checkbox"] {
    margin-right: 0.5rem;
    cursor: pointer;
  }

  .form-group label:has(input[type="checkbox"]) {
    display: flex;
    align-items: center;
    cursor: pointer;
    font-weight: 400;
  }

  .hint {
    margin-top: 0.375rem;
    font-size: 0.85rem;
    color: #999;
  }

  .modal-footer {
    display: flex;
    justify-content: flex-end;
    gap: 0.75rem;
    padding: 1.5rem;
    border-top: 1px solid #e5e5e5;
  }

  .btn-primary, .btn-secondary {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    font-weight: 500;
    border: none;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 0.95rem;
  }

  .btn-primary {
    background: #3b82f6;
    color: white;
  }

  .btn-primary:hover:not(:disabled) {
    background: #2563eb;
  }

  .btn-primary:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  .btn-secondary {
    background: white;
    color: #666;
    border: 1px solid #e5e5e5;
  }

  .btn-secondary:hover {
    background: #f8f9fa;
  }
</style>

# END OF frontend/src/lib/components/seo/RedirectEditor.svelte


##################################################################
# FILE: frontend/src/lib/components/seo/CreateRedirectModal.svelte
# PATH: frontend/src/lib/components/seo/CreateRedirectModal.svelte
##################################################################

<script lang="ts">
  import { createEventDispatcher } from 'svelte';
  import { IconX, IconDeviceFloppy } from '@tabler/icons-svelte';

  export let url404: string = '';

  const dispatch = createEventDispatcher();

  let form = {
    destination_url: '',
    redirect_type: '301',
    notes: `Redirect created from 404: ${url404}`
  };

  let saving = false;
  let error = '';

  async function save() {
    error = '';
    saving = true;

    try {
      // First, create the redirect
      const response = await fetch('/api/seo/redirects', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          source_url: url404,
          destination_url: form.destination_url,
          redirect_type: form.redirect_type,
          is_active: true,
          is_regex: false,
          notes: form.notes
        })
      });

      if (response.ok) {
        dispatch('created');
      } else {
        const data = await response.json();
        error = data.message || 'Failed to create redirect';
      }
    } catch (err) {
      error = 'An error occurred while creating redirect';
    } finally {
      saving = false;
    }
  }

  function cancel() {
    dispatch('cancel');
  }
</script>

<div class="modal-overlay" on:click={cancel}>
  <div class="modal" on:click|stopPropagation>
    <div class="modal-header">
      <h2>Create Redirect from 404</h2>
      <button class="close-btn" on:click={cancel}>
        <IconX size={24} />
      </button>
    </div>

    <form on:submit|preventDefault={save}>
      <div class="modal-body">
        {#if error}
          <div class="error-message">{error}</div>
        {/if}

        <div class="form-group">
          <label>404 URL</label>
          <div class="readonly-field">{url404}</div>
        </div>

        <div class="form-group">
          <label for="destination-url">Redirect To <span class="required">*</span></label>
          <input
            id="destination-url"
            type="text"
            bind:value={form.destination_url}
            placeholder="/new-page"
            required
            autofocus
          />
          <div class="hint">Enter the destination URL (e.g., /new-page or https://example.com)</div>
        </div>

        <div class="form-group">
          <label for="redirect-type">Redirect Type</label>
          <select id="redirect-type" bind:value={form.redirect_type}>
            <option value="301">301 - Moved Permanently</option>
            <option value="302">302 - Found (Temporary)</option>
            <option value="307">307 - Temporary Redirect</option>
            <option value="308">308 - Permanent Redirect</option>
          </select>
        </div>

        <div class="form-group">
          <label for="notes">Notes</label>
          <textarea
            id="notes"
            bind:value={form.notes}
            rows="2"
          />
        </div>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn-secondary" on:click={cancel}>
          Cancel
        </button>
        <button type="submit" class="btn-primary" disabled={saving}>
          <IconDeviceFloppy size={18} />
          {saving ? 'Creating...' : 'Create Redirect'}
        </button>
      </div>
    </form>
  </div>
</div>

<style>
  .modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    padding: 1rem;
  }

  .modal {
    background: white;
    border-radius: 12px;
    width: 100%;
    max-width: 500px;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
  }

  .modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.5rem;
    border-bottom: 1px solid #e5e5e5;
  }

  .modal-header h2 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #1a1a1a;
    margin: 0;
  }

  .close-btn {
    background: none;
    border: none;
    color: #666;
    cursor: pointer;
    padding: 0.25rem;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 4px;
    transition: background 0.2s;
  }

  .close-btn:hover {
    background: #f0f0f0;
  }

  .modal-body {
    padding: 1.5rem;
  }

  .error-message {
    padding: 0.75rem 1rem;
    background: #fee2e2;
    color: #dc2626;
    border-radius: 6px;
    margin-bottom: 1rem;
    font-size: 0.9rem;
  }

  .form-group {
    margin-bottom: 1.5rem;
  }

  .form-group label {
    display: block;
    font-weight: 500;
    color: #1a1a1a;
    margin-bottom: 0.5rem;
    font-size: 0.95rem;
  }

  .required {
    color: #ef4444;
  }

  .readonly-field {
    padding: 0.75rem;
    background: #f8f9fa;
    border: 1px solid #e5e5e5;
    border-radius: 6px;
    font-family: monospace;
    font-size: 0.9rem;
    color: #dc2626;
  }

  .form-group input[type="text"],
  .form-group select,
  .form-group textarea {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid #e5e5e5;
    border-radius: 6px;
    font-size: 0.95rem;
    font-family: inherit;
    transition: border-color 0.2s;
  }

  .form-group input[type="text"]:focus,
  .form-group select:focus,
  .form-group textarea:focus {
    outline: none;
    border-color: #3b82f6;
  }

  .form-group textarea {
    resize: vertical;
  }

  .hint {
    margin-top: 0.375rem;
    font-size: 0.85rem;
    color: #999;
  }

  .modal-footer {
    display: flex;
    justify-content: flex-end;
    gap: 0.75rem;
    padding: 1.5rem;
    border-top: 1px solid #e5e5e5;
  }

  .btn-primary, .btn-secondary {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    font-weight: 500;
    border: none;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 0.95rem;
  }

  .btn-primary {
    background: #3b82f6;
    color: white;
  }

  .btn-primary:hover:not(:disabled) {
    background: #2563eb;
  }

  .btn-primary:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  .btn-secondary {
    background: white;
    color: #666;
    border: 1px solid #e5e5e5;
  }

  .btn-secondary:hover {
    background: #f8f9fa;
  }
</style>

# END OF frontend/src/lib/components/seo/CreateRedirectModal.svelte


# ============= SECTION COMPONENTS =============

##################################################################
# FILE: frontend/src/lib/components/sections/LatestBlogsSection.svelte
# PATH: frontend/src/lib/components/sections/LatestBlogsSection.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { browser } from '$app/environment';
  import { IconArrowRight, IconClock, IconCalendar } from '@tabler/icons-svelte';
  import { apiFetch, API_ENDPOINTS } from '$lib/api/config';
  import type { Post } from '$lib/types/post';

  // 
  // State Management
  // 
  let posts: Post[] = [];
  let loading = true;
  let error = '';

  /**
   * Fetch latest 6 blog posts from API
   * L70 Standards: Error handling, retry logic, timeout
   */
  async function fetchLatestPosts() {
    if (!browser) return;

    try {
      loading = true;
      error = '';

      const response = await apiFetch<{ data: Post[] }>(`${API_ENDPOINTS.posts.list}?per_page=6`);
      posts = response.data || [];
    } catch (err) {
      console.error('Error fetching latest posts:', err);
      error = 'Failed to load blog posts';
      posts = [];
    } finally {
      loading = false;
    }
  }

  /**
   * Format date to readable string
   */
  function formatDate(dateString: string): string {
    try {
      const date = new Date(dateString);
      return date.toLocaleDateString('en-US', {
        month: 'short',
        day: 'numeric',
        year: 'numeric'
      });
    } catch {
      return dateString;
    }
  }

  /**
   * Get default image if featured image is null
   */
  function getImageUrl(imageUrl: string | null): string {
    return imageUrl || '/images/blog-placeholder.jpg';
  }

  /**
   * Get reading time from post
   */
  function getReadingTime(post: Post): string {
    // Try reading_time_text first (from appends), then reading_time
    if ('reading_time_text' in post && post.reading_time_text) {
      return post.reading_time_text as string;
    }
    if ('reading_time' in post && post.reading_time) {
      return `${post.reading_time} min read`;
    }
    return '5 min read';
  }

  onMount(() => {
    fetchLatestPosts();
  });
</script>

<section class="latest-blogs-section">
  <div class="section-container">
    <!-- Section Header -->
    <div class="section-header">
      <h2 class="section-title">Latest Blog Posts</h2>
      <a href="/blog" class="see-all-button">
        <span>See All Blogs</span>
        <IconArrowRight size={20} />
      </a>
    </div>

    <!-- Loading State -->
    {#if loading}
      <div class="loading-state">
        <div class="spinner"></div>
        <p>Loading latest posts...</p>
      </div>
    {/if}

    <!-- Error State -->
    {#if error && !loading}
      <div class="error-state">
        <p>{error}</p>
      </div>
    {/if}

    <!-- Blog Posts Grid -->
    {#if !loading && !error && posts.length > 0}
      <div class="blog-grid">
        {#each posts as post}
          <article class="blog-card">
            <a href="/blog/{post.slug}" class="card-link">
              <!-- Featured Image -->
              <div class="card-image">
                <img
                  src={getImageUrl(post.featured_image)}
                  alt={post.title}
                  loading="lazy"
                />
                <div class="image-overlay"></div>
              </div>

              <!-- Card Content -->
              <div class="card-content">
                <!-- Metadata -->
                <div class="card-meta">
                  <span class="meta-item">
                    <IconCalendar size={16} />
                    {formatDate(post.published_at)}
                  </span>
                  <span class="meta-item">
                    <IconClock size={16} />
                    {getReadingTime(post)}
                  </span>
                </div>

                <!-- Title -->
                <h3 class="card-title">{post.title}</h3>

                <!-- Excerpt -->
                <p class="card-excerpt">{post.excerpt || 'Read more to discover...'}</p>

                <!-- Read More -->
                <div class="read-more">
                  <span>Read More</span>
                  <IconArrowRight size={18} />
                </div>
              </div>
            </a>
          </article>
        {/each}
      </div>
    {/if}

    <!-- Empty State -->
    {#if !loading && !error && posts.length === 0}
      <div class="empty-state">
        <p>No blog posts available yet. Check back soon!</p>
      </div>
    {/if}
  </div>
</section>

<style>
  .latest-blogs-section {
    position: relative;
    padding: 6rem 1.5rem;
    background: linear-gradient(135deg, #0a1628 0%, #050e1f 100%);
  }

  .section-container {
    max-width: 1280px;
    margin: 0 auto;
  }

  /* Section Header */
  .section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 3rem;
    flex-wrap: wrap;
    gap: 1rem;
  }

  .section-title {
    font-size: clamp(2rem, 4vw, 3rem);
    font-weight: 800;
    color: #ffffff;
    margin: 0;
    background: linear-gradient(135deg, #2e8eff, #60a5fa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .see-all-button {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    background: linear-gradient(to bottom right, #2e8eff 0%, rgba(46, 142, 255, 0) 30%), rgba(46, 142, 255, 0.2);
    color: #ffffff;
    font-weight: 600;
    font-size: 1rem;
    border-radius: 12px;
    text-decoration: none;
    transition: all 0.3s ease;
    border: 1px solid rgba(46, 142, 255, 0.3);
  }

  .see-all-button:hover {
    background: linear-gradient(to bottom right, #2e8eff 0%, rgba(46, 142, 255, 0.3) 30%), rgba(46, 142, 255, 0.4);
    border-color: rgba(46, 142, 255, 0.5);
    transform: translateY(-2px);
    box-shadow: 0 0 20px rgba(46, 142, 255, 0.3);
  }

  /* Blog Grid - 3 per row */
  .blog-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 2rem;
  }

  /* Blog Card */
  .blog-card {
    background: rgba(15, 23, 42, 0.6);
    border: 1px solid rgba(46, 142, 255, 0.15);
    border-radius: 16px;
    overflow: hidden;
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
  }

  .blog-card:hover {
    border-color: rgba(46, 142, 255, 0.4);
    transform: translateY(-4px);
    box-shadow: 0 10px 40px rgba(46, 142, 255, 0.2);
  }

  .card-link {
    text-decoration: none;
    color: inherit;
    display: block;
  }

  /* Card Image */
  .card-image {
    position: relative;
    width: 100%;
    height: 200px;
    overflow: hidden;
  }

  .card-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
  }

  .blog-card:hover .card-image img {
    transform: scale(1.05);
  }

  .image-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(to bottom, transparent, rgba(15, 23, 42, 0.8));
  }

  /* Card Content */
  .card-content {
    padding: 1.5rem;
  }

  .card-meta {
    display: flex;
    gap: 1rem;
    margin-bottom: 1rem;
    flex-wrap: wrap;
  }

  .meta-item {
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
    font-size: 0.85rem;
    color: #94a3b8;
  }

  .card-title {
    font-size: 1.25rem;
    font-weight: 700;
    color: #ffffff;
    margin: 0 0 0.75rem 0;
    line-height: 1.4;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .card-excerpt {
    font-size: 0.95rem;
    color: #cbd5e1;
    line-height: 1.6;
    margin: 0 0 1rem 0;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .read-more {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    color: #2e8eff;
    font-weight: 600;
    font-size: 0.95rem;
    transition: all 0.2s ease;
  }

  .blog-card:hover .read-more {
    gap: 0.75rem;
  }

  /* Loading State */
  .loading-state {
    text-align: center;
    padding: 4rem 2rem;
    color: #cbd5e1;
  }

  .spinner {
    width: 40px;
    height: 40px;
    border: 3px solid rgba(46, 142, 255, 0.2);
    border-top-color: #2e8eff;
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
    margin: 0 auto 1rem;
  }

  @keyframes spin {
    to {
      transform: rotate(360deg);
    }
  }

  /* Error State */
  .error-state {
    text-align: center;
    padding: 4rem 2rem;
    color: #ef4444;
  }

  /* Empty State */
  .empty-state {
    text-align: center;
    padding: 4rem 2rem;
    color: #94a3b8;
    font-size: 1.1rem;
  }

  /* Tablet - 2 per row */
  @media (max-width: 1024px) {
    .blog-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 1.5rem;
    }
  }

  /* Mobile - 1 per row */
  @media (max-width: 768px) {
    .latest-blogs-section {
      padding: 4rem 1rem;
    }

    .section-header {
      flex-direction: column;
      align-items: flex-start;
    }

    .see-all-button {
      width: 100%;
      justify-content: center;
    }

    .blog-grid {
      grid-template-columns: 1fr;
      gap: 1.5rem;
    }

    .card-image {
      height: 180px;
    }
  }
</style>

# END OF frontend/src/lib/components/sections/LatestBlogsSection.svelte


##################################################################
# FILE: frontend/src/lib/components/sections/AlertServicesSection.svelte
# PATH: frontend/src/lib/components/sections/AlertServicesSection.svelte
##################################################################

<script lang="ts">
  import { IconBellRinging } from '@tabler/icons-svelte';
  import { onMount } from 'svelte';
  import { browser } from '$app/environment';

  const alertServices = [
    {
      title: 'SPX Profit Pulse',
      description: 'Context-rich SPX 0DTE alerts with complete trade structure. Entry levels, invalidation points, size guidance, and risk parametersnever lottery tickets.',
      features: ['Full trade context', 'Risk-defined setups', 'Real-time updates', 'Performance tracking'],
      href: '/alert-services/spx-profit-pulse',
      price: 'From $97/mo',
      gradient: 'from-amber-400 via-yellow-500 to-orange-500'
    },
    {
      title: 'Explosive Swings',
      description: 'High-probability swing setups in stocks and ETFs. Multi-day holds with institutional edge and clear risk management.',
      features: ['Multi-day setups', 'Stock & ETF focus', 'Position management', 'Entry/exit guidance'],
      href: '/alert-services/explosive-swings',
      price: 'From $127/mo',
      gradient: 'from-orange-400 via-amber-500 to-yellow-500'
    }
  ];

  let sectionRef: HTMLElement;
  let isVisible = false;

  onMount(() => {
    if (!browser) return;

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            isVisible = true;
          }
        });
      },
      { threshold: 0.1 }
    );

    if (sectionRef) {
      observer.observe(sectionRef);
    }

    return () => observer.disconnect();
  });
</script>

<section
  bind:this={sectionRef}
  class="alert-services-section relative py-24 px-4 sm:px-6 lg:px-8 overflow-hidden"
>
  <!-- Dark background with warmth -->
  <div class="absolute inset-0 bg-gradient-to-br from-slate-950 via-orange-950/20 to-slate-950"></div>

  <!-- Animated particles -->
  <div class="absolute inset-0">
    <div class="particle particle-1"></div>
    <div class="particle particle-2"></div>
    <div class="particle particle-3"></div>
  </div>

  <div class="relative max-w-7xl mx-auto z-10">
    <div class="text-center max-w-3xl mx-auto mb-20">
      <div class="inline-flex items-center gap-2 mb-4 px-4 py-2 bg-amber-500/10 border border-amber-500/30 rounded-full">
        <IconBellRinging size={16} class="text-amber-400 animate-ring" />
        <span class="text-sm font-semibold text-amber-300">PREMIUM OFFERINGS</span>
      </div>
      <h2 class="text-4xl sm:text-5xl font-heading font-bold mb-6 bg-gradient-to-r from-amber-300 via-yellow-300 to-orange-300 bg-clip-text text-transparent">
        Alert Services
      </h2>
      <p class="text-lg text-slate-300 leading-relaxed">
        Receive fully contextualized trade alerts with complete risk parameters.
        No lottery tickets, no spamjust professional setups with clear structure.
      </p>
    </div>

    <div class="grid md:grid-cols-2 gap-10 max-w-6xl mx-auto">
      {#each alertServices as alert, i}
        <div
          class="alert-card group relative"
          class:animate-slide-in-left={isVisible && i === 0}
          class:animate-slide-in-right={isVisible && i === 1}
        >
          <!-- Glowing border effect -->
          <div class="absolute -inset-0.5 bg-gradient-to-r {alert.gradient} rounded-3xl opacity-20 group-hover:opacity-40 blur-lg transition-opacity duration-500"></div>

          <div class="relative bg-slate-900/90 backdrop-blur-xl border border-amber-500/20 rounded-3xl p-10 transform hover:scale-105 transition-all duration-500">
            <!-- Premium badge -->
            <div class="flex items-start justify-between mb-6">
              <div class="relative">
                <!-- Pulsing bell icon -->
                <div class="absolute inset-0 bg-gradient-to-r {alert.gradient} blur-xl opacity-50 animate-pulse-slow"></div>
                <div class="relative w-16 h-16 rounded-2xl bg-gradient-to-br {alert.gradient} p-0.5 transform group-hover:rotate-12 group-hover:scale-110 transition-transform duration-500">
                  <div class="w-full h-full bg-slate-900 rounded-2xl flex items-center justify-center">
                    <IconBellRinging size={32} class="text-white animate-ring-hover" />
                  </div>
                </div>
              </div>

              <!-- Price badge with shine -->
              <div class="relative px-4 py-2 bg-gradient-to-r {alert.gradient} rounded-full overflow-hidden group/badge">
                <div class="absolute inset-0 bg-white/20 transform -skew-x-12 -translate-x-full group-hover/badge:translate-x-full transition-transform duration-1000"></div>
                <span class="relative text-sm font-bold text-slate-900">
                  {alert.price}
                </span>
              </div>
            </div>

            <h3 class="text-3xl font-heading font-bold mb-4 text-white group-hover:text-amber-300 transition-colors duration-300">
              {alert.title}
            </h3>
            <p class="text-slate-400 mb-8 leading-relaxed group-hover:text-slate-300 transition-colors duration-300">
              {alert.description}
            </p>

            <!-- Features with golden checkmarks -->
            <ul class="space-y-4 mb-10">
              {#each alert.features as feature, j}
                <li
                  class="flex items-start gap-3 text-sm text-slate-300 transform group-hover:translate-x-2 transition-transform duration-300"
                  style="transition-delay: {j * 75}ms"
                >
                  <div class="flex-shrink-0 mt-0.5">
                    <div class="w-6 h-6 rounded-lg bg-gradient-to-br {alert.gradient} flex items-center justify-center shadow-lg shadow-amber-500/50">
                      <svg class="w-3.5 h-3.5 text-slate-900 font-bold" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                      </svg>
                    </div>
                  </div>
                  <span class="leading-relaxed">{feature}</span>
                </li>
              {/each}
            </ul>

            <!-- Premium CTA button -->
            <a
              href={alert.href}
              class="block relative px-8 py-5 bg-gradient-to-r {alert.gradient} text-slate-900 text-center font-heading font-bold rounded-xl overflow-hidden group/cta shadow-xl shadow-amber-500/20 hover:shadow-2xl hover:shadow-amber-500/40 transition-all duration-300"
            >
              <span class="relative z-10 flex items-center justify-center gap-2">
                <span>View Details</span>
                <svg class="w-5 h-5 transform group-hover/cta:translate-x-2 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
                </svg>
              </span>
              <div class="absolute inset-0 bg-white/20 transform scale-x-0 group-hover/cta:scale-x-100 transition-transform duration-500 origin-left"></div>
            </a>
          </div>
        </div>
      {/each}
    </div>
  </div>
</section>

<style>
  .alert-services-section {
    position: relative;
  }

  /* Floating particles */
  .particle {
    position: absolute;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(251, 191, 36, 0.15), transparent);
    animation: float-particle 15s ease-in-out infinite;
  }

  .particle-1 {
    width: 300px;
    height: 300px;
    top: 10%;
    left: 10%;
    animation-delay: 0s;
  }

  .particle-2 {
    width: 200px;
    height: 200px;
    top: 60%;
    right: 15%;
    animation-delay: 5s;
  }

  .particle-3 {
    width: 250px;
    height: 250px;
    bottom: 20%;
    left: 50%;
    animation-delay: 10s;
  }

  @keyframes float-particle {
    0%, 100% {
      transform: translate(0, 0) scale(1);
      opacity: 0.3;
    }
    50% {
      transform: translate(30px, -30px) scale(1.1);
      opacity: 0.5;
    }
  }

  /* Bell ringing animation */
  @keyframes ring {
    0%, 100% {
      transform: rotate(0deg);
    }
    10%, 30% {
      transform: rotate(-10deg);
    }
    20%, 40% {
      transform: rotate(10deg);
    }
  }

  .animate-ring {
    animation: ring 2s ease-in-out infinite;
  }

  .group:hover .animate-ring-hover {
    animation: ring 0.5s ease-in-out;
  }

  /* Pulse animation */
  @keyframes pulse-slow {
    0%, 100% {
      opacity: 0.3;
      transform: scale(1);
    }
    50% {
      opacity: 0.6;
      transform: scale(1.05);
    }
  }

  .animate-pulse-slow {
    animation: pulse-slow 3s ease-in-out infinite;
  }

  /* Slide animations */
  @keyframes slide-in-left {
    from {
      opacity: 0;
      transform: translateX(-100px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes slide-in-right {
    from {
      opacity: 0;
      transform: translateX(100px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  .animate-slide-in-left {
    animation: slide-in-left 0.8s ease-out forwards;
    opacity: 0;
  }

  .animate-slide-in-right {
    animation: slide-in-right 0.8s ease-out forwards;
    opacity: 0;
  }
</style>

# END OF frontend/src/lib/components/sections/AlertServicesSection.svelte


##################################################################
# FILE: frontend/src/lib/components/sections/CTASection.svelte
# PATH: frontend/src/lib/components/sections/CTASection.svelte
##################################################################

<script lang="ts">
  import { IconRocket, IconArrowRight, IconStar } from '@tabler/icons-svelte';
  import { onMount } from 'svelte';
  import { browser } from '$app/environment';

  let sectionRef: HTMLElement;
  let isVisible = false;

  onMount(() => {
    if (!browser) return;

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            isVisible = true;
          }
        });
      },
      { threshold: 0.1 }
    );

    if (sectionRef) {
      observer.observe(sectionRef);
    }

    return () => observer.disconnect();
  });
</script>

<section
  bind:this={sectionRef}
  class="cta-section relative py-32 px-4 sm:px-6 lg:px-8 overflow-hidden"
>
  <!-- Vibrant gradient background -->
  <div class="absolute inset-0 bg-gradient-to-br from-yellow-950 via-orange-950 to-red-950"></div>

  <!-- Animated rays -->
  <div class="absolute inset-0 rays"></div>

  <!-- Energetic particles -->
  <div class="absolute inset-0">
    {#each Array(20) as _, i}
      <div
        class="energy-particle"
        style="
          left: {Math.random() * 100}%;
          top: {Math.random() * 100}%;
          animation-delay: {Math.random() * 5}s;
          animation-duration: {3 + Math.random() * 4}s;
        "
      ></div>
    {/each}
  </div>

  <div class="relative max-w-5xl mx-auto z-10">
    <div class="text-center">
      <!-- Urgency badge -->
      <div
        class="inline-flex items-center gap-2 mb-8 px-6 py-3 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 border-2 border-yellow-500/50 rounded-full backdrop-blur-sm animate-pulse-border"
        class:animate-badge-reveal={isVisible}
      >
        <IconStar size={20} class="text-yellow-400 animate-spin-slow" />
        <span class="text-sm font-bold tracking-widest text-yellow-300">JOIN THOUSANDS OF DISCIPLINED TRADERS</span>
        <IconStar size={20} class="text-yellow-400 animate-spin-slow-reverse" />
      </div>

      <!-- Main heading with dramatic reveal -->
      <h2
        class="text-5xl sm:text-6xl lg:text-7xl font-heading font-black mb-8"
        class:animate-title-explode={isVisible}
      >
        <span class="block bg-gradient-to-r from-yellow-300 via-orange-300 to-red-300 bg-clip-text text-transparent">
          Ready to Trade
        </span>
        <span class="block bg-gradient-to-r from-orange-300 via-yellow-300 to-yellow-400 bg-clip-text text-transparent">
          with Discipline?
        </span>
      </h2>

      <!-- Supporting text -->
      <p
        class="text-xl sm:text-2xl text-slate-200 mb-12 leading-relaxed max-w-3xl mx-auto font-semibold"
        class:animate-text-fade-in={isVisible}
      >
        Join thousands of traders who've chosen the risk-first approach.
        <span class="block mt-2 text-yellow-300">Start your journey today.</span>
      </p>

      <!-- Social proof badges -->
      <div class="flex flex-wrap justify-center gap-6 mb-12">
        {#each [
          { icon: '', count: '5,000+', label: 'Active Members' },
          { icon: '', count: '10,000+', label: 'Trades Analyzed' },
          { icon: '', count: '4.9/5', label: 'Member Rating' }
        ] as stat, i}
          <div
            class="bg-slate-900/60 backdrop-blur-xl border border-yellow-500/30 rounded-2xl px-6 py-4 transform hover:scale-110 hover:border-yellow-500/60 transition-all duration-300"
            class:animate-stat-pop={isVisible}
            style="animation-delay: {i * 100}ms"
          >
            <div class="text-3xl mb-1">{stat.icon}</div>
            <div class="text-2xl font-bold text-yellow-300">{stat.count}</div>
            <div class="text-xs text-slate-400">{stat.label}</div>
          </div>
        {/each}
      </div>

      <!-- MASSIVE CTA Button -->
      <div class="relative inline-block" class:animate-cta-reveal={isVisible}>
        <!-- Glowing aura -->
        <div class="absolute -inset-4 bg-gradient-to-r from-yellow-400 via-orange-500 to-red-500 rounded-3xl blur-2xl opacity-60 animate-pulse-glow-intense"></div>

        <a
          href="/signup"
          class="relative block px-16 py-8 bg-gradient-to-r from-yellow-400 via-orange-500 to-red-500 text-slate-900 text-2xl font-heading font-black rounded-2xl hover:shadow-[0_0_80px_rgba(251,191,36,0.8)] transform hover:scale-110 hover:-translate-y-2 transition-all duration-300 overflow-hidden group"
        >
          <span class="relative z-10 flex items-center justify-center gap-4">
            <IconRocket size={32} class="animate-bounce-subtle" />
            <span>Create Your Free Account</span>
            <IconArrowRight size={32} class="transform group-hover:translate-x-3 transition-transform duration-300" />
          </span>

          <!-- Shimmer effect -->
          <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"></div>
        </a>
      </div>

      <!-- Risk-free guarantee -->
      <p class="mt-10 text-sm text-slate-400">
        <span class="inline-flex items-center gap-2">
          <svg class="w-5 h-5 text-emerald-400" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
          </svg>
          <span>No credit card required</span>
        </span>
        <span class="mx-3"></span>
        <span class="inline-flex items-center gap-2">
          <svg class="w-5 h-5 text-emerald-400" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
          </svg>
          <span>Cancel anytime</span>
        </span>
        <span class="mx-3"></span>
        <span class="inline-flex items-center gap-2">
          <svg class="w-5 h-5 text-emerald-400" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
          </svg>
          <span>Instant access</span>
        </span>
      </p>
    </div>
  </div>
</section>

<style>
  .cta-section {
    position: relative;
  }

  /* Animated rays */
  .rays {
    background: repeating-conic-gradient(
      from 0deg,
      transparent 0deg 2deg,
      rgba(251, 191, 36, 0.05) 2deg 4deg
    );
    animation: rotate-rays 30s linear infinite;
  }

  @keyframes rotate-rays {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  /* Energy particles */
  .energy-particle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: radial-gradient(circle, #fbbf24, transparent);
    border-radius: 50%;
    animation: float-energy 5s ease-in-out infinite;
  }

  @keyframes float-energy {
    0%, 100% {
      transform: translateY(0) scale(1);
      opacity: 0;
    }
    50% {
      transform: translateY(-100px) scale(1.5);
      opacity: 1;
    }
  }

  /* Pulse border */
  @keyframes pulse-border {
    0%, 100% {
      box-shadow: 0 0 20px rgba(251, 191, 36, 0.5);
    }
    50% {
      box-shadow: 0 0 40px rgba(251, 191, 36, 0.8);
    }
  }

  .animate-pulse-border {
    animation: pulse-border 2s ease-in-out infinite;
  }

  /* Intense glow pulse */
  @keyframes pulse-glow-intense {
    0%, 100% {
      opacity: 0.4;
      transform: scale(1);
    }
    50% {
      opacity: 0.8;
      transform: scale(1.05);
    }
  }

  .animate-pulse-glow-intense {
    animation: pulse-glow-intense 2s ease-in-out infinite;
  }

  /* Spin animations */
  @keyframes spin-slow {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  @keyframes spin-slow-reverse {
    from {
      transform: rotate(360deg);
    }
    to {
      transform: rotate(0deg);
    }
  }

  :global(.animate-spin-slow) {
    animation: spin-slow 8s linear infinite;
  }

  :global(.animate-spin-slow-reverse) {
    animation: spin-slow-reverse 8s linear infinite;
  }

  /* Bounce subtle */
  @keyframes bounce-subtle {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-10px);
    }
  }

  :global(.animate-bounce-subtle) {
    animation: bounce-subtle 2s ease-in-out infinite;
  }

  /* Reveal animations */
  @keyframes badge-reveal {
    from {
      opacity: 0;
      transform: translateY(-20px) scale(0.8);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  @keyframes title-explode {
    from {
      opacity: 0;
      transform: scale(0.8);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes text-fade-in {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes stat-pop {
    from {
      opacity: 0;
      transform: scale(0) rotate(-180deg);
    }
    to {
      opacity: 1;
      transform: scale(1) rotate(0deg);
    }
  }

  @keyframes cta-reveal {
    from {
      opacity: 0;
      transform: translateY(40px) scale(0.9);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  .animate-badge-reveal {
    animation: badge-reveal 0.6s ease-out forwards;
    opacity: 0;
  }

  .animate-title-explode {
    animation: title-explode 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) 0.2s forwards;
    opacity: 0;
  }

  .animate-text-fade-in {
    animation: text-fade-in 0.8s ease-out 0.4s forwards;
    opacity: 0;
  }

  .animate-stat-pop {
    animation: stat-pop 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    opacity: 0;
  }

  .animate-cta-reveal {
    animation: cta-reveal 0.8s ease-out 0.8s forwards;
    opacity: 0;
  }
</style>

# END OF frontend/src/lib/components/sections/CTASection.svelte


##################################################################
# FILE: frontend/src/lib/components/sections/MentorshipSection.svelte
# PATH: frontend/src/lib/components/sections/MentorshipSection.svelte
##################################################################

<script lang="ts">
  import { IconSchool, IconSparkles } from '@tabler/icons-svelte';
  import { onMount } from 'svelte';
  import { browser } from '$app/environment';

  let sectionRef: HTMLElement;
  let isVisible = false;

  onMount(() => {
    if (!browser) return;

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            isVisible = true;
          }
        });
      },
      { threshold: 0.1 }
    );

    if (sectionRef) {
      observer.observe(sectionRef);
    }

    return () => observer.disconnect();
  });
</script>

<section
  bind:this={sectionRef}
  class="mentorship-section relative py-32 px-4 sm:px-6 lg:px-8 overflow-hidden"
>
  <!-- Luxury gradient background -->
  <div class="absolute inset-0 bg-gradient-to-br from-emerald-950 via-slate-950 to-teal-950"></div>

  <!-- Animated spotlight -->
  <div class="absolute inset-0 spotlight"></div>

  <!-- Floating golden particles -->
  <div class="absolute inset-0">
    <div class="gold-particle" style="top: 20%; left: 15%; animation-delay: 0s;"></div>
    <div class="gold-particle" style="top: 60%; right: 20%; animation-delay: 2s;"></div>
    <div class="gold-particle" style="bottom: 25%; left: 10%; animation-delay: 4s;"></div>
    <div class="gold-particle" style="top: 40%; right: 10%; animation-delay: 6s;"></div>
  </div>

  <div class="relative max-w-5xl mx-auto z-10">
    <div class="text-center">
      <!-- Elite badge -->
      <div class="inline-flex items-center gap-2 mb-6 px-6 py-3 bg-gradient-to-r from-emerald-500/10 to-teal-500/10 border border-emerald-500/30 rounded-full backdrop-blur-sm animate-fade-in">
        <IconSparkles size={20} class="text-emerald-400 animate-sparkle" />
        <span class="text-sm font-bold tracking-wider text-emerald-300">ELITE PROGRAM</span>
        <IconSparkles size={20} class="text-emerald-400 animate-sparkle-delayed" />
      </div>

      <!-- Floating icon -->
      <div
        class="relative inline-block mb-8"
        class:animate-icon-reveal={isVisible}
      >
        <div class="absolute inset-0 bg-gradient-to-r from-emerald-400 to-teal-400 blur-3xl opacity-50 animate-pulse-glow"></div>
        <div class="relative w-24 h-24 mx-auto rounded-3xl bg-gradient-to-br from-emerald-400 via-teal-400 to-cyan-400 p-1 transform hover:scale-110 hover:rotate-12 transition-all duration-500">
          <div class="w-full h-full bg-slate-900 rounded-3xl flex items-center justify-center">
            <IconSchool size={48} class="text-emerald-300" />
          </div>
        </div>
      </div>

      <h2
        class="text-5xl sm:text-6xl font-heading font-bold mb-8 bg-gradient-to-r from-emerald-300 via-teal-300 to-cyan-300 bg-clip-text text-transparent"
        class:animate-title-reveal={isVisible}
      >
        1-on-1 Mentorship
      </h2>

      <p
        class="text-xl text-slate-300 mb-12 leading-relaxed max-w-3xl mx-auto"
        class:animate-text-reveal={isVisible}
      >
        Work directly with experienced traders in private mentorship sessions. Custom curriculum,
        personalized feedback, and accountability to accelerate your development.
        <span class="block mt-4 text-emerald-400 font-semibold">Limited availability.</span>
      </p>

      <!-- Exclusive features grid -->
      <div class="grid sm:grid-cols-3 gap-6 mb-12 max-w-4xl mx-auto">
        {#each [
          { label: 'Private Sessions', icon: '' },
          { label: 'Custom Curriculum', icon: '' },
          { label: 'Direct Feedback', icon: '' }
        ] as feature, i}
          <div
            class="relative bg-slate-900/40 backdrop-blur-xl border border-emerald-500/20 rounded-2xl p-6 hover:border-emerald-500/40 transform hover:scale-105 transition-all duration-500"
            class:animate-feature-reveal={isVisible}
            style="animation-delay: {i * 150}ms"
          >
            <div class="text-4xl mb-3">{feature.icon}</div>
            <div class="text-sm font-semibold text-emerald-300">{feature.label}</div>
          </div>
        {/each}
      </div>

      <!-- Premium CTA -->
      <div class="relative inline-block">
        <div class="absolute -inset-1 bg-gradient-to-r from-emerald-400 to-teal-400 rounded-2xl blur-xl opacity-60 group-hover:opacity-100 transition-opacity duration-500"></div>
        <a
          href="/mentorship"
          class="relative block px-12 py-6 bg-gradient-to-r from-emerald-500 to-teal-500 text-white text-lg font-heading font-bold rounded-2xl hover:shadow-2xl hover:shadow-emerald-500/50 transform hover:scale-105 hover:-translate-y-1 transition-all duration-300 overflow-hidden group"
        >
          <span class="relative z-10 flex items-center gap-3">
            <IconSparkles size={24} class="animate-sparkle" />
            <span>Apply for Mentorship</span>
            <IconSparkles size={24} class="animate-sparkle-delayed" />
          </span>
          <div class="absolute inset-0 bg-white/20 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-700 origin-left"></div>
        </a>
      </div>

      <!-- Exclusivity note -->
      <p class="mt-8 text-sm text-slate-500 italic">
        Application required  Personalized review  Investment starting at $2,500/month
      </p>
    </div>
  </div>
</section>

<style>
  .mentorship-section {
    position: relative;
  }

  /* Animated spotlight effect */
  .spotlight {
    background: radial-gradient(
      circle at 50% 50%,
      rgba(16, 185, 129, 0.15) 0%,
      rgba(20, 184, 166, 0.1) 25%,
      transparent 60%
    );
    animation: spotlight-pulse 8s ease-in-out infinite;
  }

  @keyframes spotlight-pulse {
    0%, 100% {
      transform: scale(1);
      opacity: 0.5;
    }
    50% {
      transform: scale(1.2);
      opacity: 0.8;
    }
  }

  /* Golden floating particles */
  .gold-particle {
    position: absolute;
    width: 8px;
    height: 8px;
    background: radial-gradient(circle, #10b981, transparent);
    border-radius: 50%;
    animation: float-gold 6s ease-in-out infinite;
  }

  @keyframes float-gold {
    0%, 100% {
      transform: translateY(0) scale(1);
      opacity: 0.3;
    }
    50% {
      transform: translateY(-40px) scale(1.5);
      opacity: 1;
    }
  }

  /* Sparkle animation */
  @keyframes sparkle {
    0%, 100% {
      opacity: 1;
      transform: scale(1) rotate(0deg);
    }
    50% {
      opacity: 0.5;
      transform: scale(1.2) rotate(180deg);
    }
  }

  :global(.animate-sparkle) {
    animation: sparkle 2s ease-in-out infinite;
  }

  :global(.animate-sparkle-delayed) {
    animation: sparkle 2s ease-in-out infinite;
    animation-delay: 1s;
  }

  /* Pulse glow */
  @keyframes pulse-glow {
    0%, 100% {
      opacity: 0.3;
      transform: scale(1);
    }
    50% {
      opacity: 0.6;
      transform: scale(1.1);
    }
  }

  .animate-pulse-glow {
    animation: pulse-glow 3s ease-in-out infinite;
  }

  /* Reveal animations */
  @keyframes icon-reveal {
    from {
      opacity: 0;
      transform: translateY(-30px) scale(0.8);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  @keyframes title-reveal {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes text-reveal {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes feature-reveal {
    from {
      opacity: 0;
      transform: translateY(30px) scale(0.9);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  .animate-fade-in {
    animation: title-reveal 0.6s ease-out;
  }

  .animate-icon-reveal {
    animation: icon-reveal 0.8s ease-out forwards;
    opacity: 0;
  }

  .animate-title-reveal {
    animation: title-reveal 0.8s ease-out 0.2s forwards;
    opacity: 0;
  }

  .animate-text-reveal {
    animation: text-reveal 0.8s ease-out 0.4s forwards;
    opacity: 0;
  }

  .animate-feature-reveal {
    animation: feature-reveal 0.6s ease-out forwards;
    opacity: 0;
  }
</style>

# END OF frontend/src/lib/components/sections/MentorshipSection.svelte


##################################################################
# FILE: frontend/src/lib/components/sections/TradingRoomsSection.svelte
# PATH: frontend/src/lib/components/sections/TradingRoomsSection.svelte
##################################################################

<script lang="ts">
  import { IconChartCandle, IconTrendingUp, IconShieldCheck } from '@tabler/icons-svelte';
  import { onMount } from 'svelte';
  import { browser } from '$app/environment';

  const roomCards = [
    {
      title: 'Day Trading Room',
      description: 'Active market sessions with real-time level identification, trade execution process, and risk management. Professional structure, zero chaos.',
      features: ['Live market analysis', 'Clear entry/exit levels', 'Risk-first execution', 'Daily recap & review'],
      href: '/live-trading-rooms/day-trading',
      icon: IconChartCandle,
      gradient: 'from-purple-500 via-violet-500 to-indigo-500',
      accentColor: 'purple'
    },
    {
      title: 'Swing Trading Room',
      description: 'Multi-day setups with institutional positioning analysis. Learn to hold winners and manage overnight risk professionally.',
      features: ['Multi-timeframe analysis', 'Position sizing guidance', 'Exit strategy development', 'Weekly market review'],
      href: '/live-trading-rooms/swing-trading',
      icon: IconTrendingUp,
      gradient: 'from-violet-500 via-purple-500 to-fuchsia-500',
      accentColor: 'violet'
    },
    {
      title: 'Small Accounts Room',
      description: 'Structured approach for accounts under $25K. Focus on risk management, consistency, and building capital systematically.',
      features: ['Capital preservation focus', 'Realistic expectations', 'Scaling strategies', 'Community support'],
      href: '/live-trading-rooms/small-accounts',
      icon: IconShieldCheck,
      gradient: 'from-indigo-500 via-blue-500 to-purple-500',
      accentColor: 'indigo'
    }
  ];

  let sectionRef: HTMLElement;
  let isVisible = false;

  onMount(() => {
    if (!browser) return;

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            isVisible = true;
          }
        });
      },
      { threshold: 0.1 }
    );

    if (sectionRef) {
      observer.observe(sectionRef);
    }

    return () => observer.disconnect();
  });
</script>

<section
  bind:this={sectionRef}
  class="trading-rooms-section relative py-24 px-4 sm:px-6 lg:px-8 overflow-hidden"
>
  <!-- Background with grid pattern -->
  <div class="absolute inset-0 bg-gradient-to-b from-indigo-950 via-purple-950 to-slate-950"></div>

  <!-- Animated grid -->
  <div class="absolute inset-0 bg-grid-pattern opacity-10"></div>

  <!-- Radial gradient overlay -->
  <div class="absolute inset-0 bg-radial-purple"></div>

  <div class="relative max-w-7xl mx-auto z-10">
    <div class="text-center max-w-3xl mx-auto mb-20">
      <div class="inline-block mb-4 px-4 py-2 bg-purple-500/10 border border-purple-500/30 rounded-full">
        <span class="text-sm font-semibold text-purple-300">PROFESSIONAL SERVICES</span>
      </div>
      <h2 class="text-4xl sm:text-5xl font-heading font-bold mb-6 bg-gradient-to-r from-purple-300 via-violet-300 to-indigo-300 bg-clip-text text-transparent">
        Live Trading Rooms
      </h2>
      <p class="text-lg text-slate-300 leading-relaxed">
        Join structured trading sessions where process beats prediction. Learn real-time execution,
        risk management, and market analysis from experienced professionals.
      </p>
    </div>

    <div class="grid md:grid-cols-3 gap-8">
      {#each roomCards as room, i}
        <div
          class="trading-card group perspective-1000"
          class:animate-card-reveal={isVisible}
          style="animation-delay: {i * 200}ms"
        >
          <div class="card-inner relative bg-slate-900/60 backdrop-blur-xl border border-purple-500/20 rounded-3xl p-8 transform-gpu hover:scale-105 transition-all duration-500 hover:shadow-2xl hover:shadow-purple-500/20">
            <!-- 3D Depth Layer -->
            <div class="absolute inset-0 bg-gradient-to-br {room.gradient} opacity-0 group-hover:opacity-10 blur-2xl transition-opacity duration-500 rounded-3xl"></div>

            <!-- Shine effect -->
            <div class="absolute inset-0 bg-gradient-to-tr from-transparent via-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700 rounded-3xl"></div>

            <div class="relative z-10">
              <!-- Icon with 3D effect -->
              <div class="mb-6 relative">
                <div class="absolute inset-0 bg-gradient-to-r {room.gradient} blur-xl opacity-50 group-hover:opacity-100 transition-opacity duration-500"></div>
                <div class="relative w-20 h-20 rounded-2xl bg-gradient-to-br {room.gradient} p-0.5 transform group-hover:rotate-12 transition-transform duration-500">
                  <div class="w-full h-full bg-slate-900 rounded-2xl flex items-center justify-center">
                    <svelte:component this={room.icon} size={40} class="text-white" />
                  </div>
                </div>
              </div>

              <h3 class="text-2xl font-heading font-bold mb-4 text-white group-hover:bg-gradient-to-r group-hover:{room.gradient} group-hover:bg-clip-text group-hover:text-transparent transition-all duration-300">
                {room.title}
              </h3>
              <p class="text-slate-400 mb-6 leading-relaxed group-hover:text-slate-300 transition-colors duration-300">
                {room.description}
              </p>

              <!-- Features list with staggered animation -->
              <ul class="space-y-3 mb-8">
                {#each room.features as feature, j}
                  <li class="flex items-start gap-3 text-sm text-slate-300 transform translate-x-0 group-hover:translate-x-2 transition-transform duration-300"
                      style="transition-delay: {j * 50}ms">
                    <div class="flex-shrink-0 mt-0.5">
                      <div class="w-6 h-6 rounded-lg bg-gradient-to-br {room.gradient} p-0.5">
                        <div class="w-full h-full bg-slate-900 rounded-lg flex items-center justify-center">
                          <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                          </svg>
                        </div>
                      </div>
                    </div>
                    <span class="leading-relaxed">{feature}</span>
                  </li>
                {/each}
              </ul>

              <!-- CTA Button with gradient -->
              <a
                href={room.href}
                class="block w-full text-center px-6 py-4 bg-gradient-to-r {room.gradient} text-white font-heading font-bold rounded-xl hover:shadow-lg hover:shadow-purple-500/50 transform hover:-translate-y-1 transition-all duration-300 relative overflow-hidden group/button"
              >
                <span class="relative z-10">Learn More</span>
                <div class="absolute inset-0 bg-white/20 transform scale-x-0 group-hover/button:scale-x-100 transition-transform duration-500 origin-left"></div>
              </a>
            </div>

            <!-- Corner accents -->
            <div class="absolute top-0 right-0 w-20 h-20 bg-gradient-to-bl {room.gradient} opacity-10 rounded-tr-3xl"></div>
            <div class="absolute bottom-0 left-0 w-20 h-20 bg-gradient-to-tr {room.gradient} opacity-10 rounded-bl-3xl"></div>
          </div>
        </div>
      {/each}
    </div>
  </div>
</section>

<style>
  .trading-rooms-section {
    position: relative;
  }

  /* Grid pattern */
  .bg-grid-pattern {
    background-image: linear-gradient(rgba(139, 92, 246, 0.1) 1px, transparent 1px),
                      linear-gradient(90deg, rgba(139, 92, 246, 0.1) 1px, transparent 1px);
    background-size: 50px 50px;
    animation: grid-move 20s linear infinite;
  }

  @keyframes grid-move {
    0% {
      transform: translate(0, 0);
    }
    100% {
      transform: translate(50px, 50px);
    }
  }

  /* Radial gradient */
  .bg-radial-purple {
    background: radial-gradient(circle at 50% 50%, rgba(139, 92, 246, 0.1) 0%, transparent 70%);
  }

  /* 3D Perspective */
  .perspective-1000 {
    perspective: 1000px;
  }

  /* Card reveal animation */
  @keyframes card-reveal {
    from {
      opacity: 0;
      transform: translateY(60px) rotateX(-15deg);
    }
    to {
      opacity: 1;
      transform: translateY(0) rotateX(0);
    }
  }

  .animate-card-reveal {
    animation: card-reveal 0.8s ease-out forwards;
    opacity: 0;
  }

  /* 3D Card Transform */
  .trading-card:hover .card-inner {
    transform: translateY(-10px) rotateY(5deg) rotateX(5deg);
  }

  /* Shine effect animation */
  @keyframes shine {
    0% {
      transform: translateX(-100%) rotate(45deg);
    }
    100% {
      transform: translateX(100%) rotate(45deg);
    }
  }

  .trading-card:hover .card-inner::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
    animation: shine 1.5s ease-in-out;
  }
</style>

# END OF frontend/src/lib/components/sections/TradingRoomsSection.svelte


##################################################################
# FILE: frontend/src/lib/components/sections/WhySection.svelte
# PATH: frontend/src/lib/components/sections/WhySection.svelte
##################################################################

<script lang="ts">
  import { IconUsers, IconShieldCheck, IconTrendingUp } from '@tabler/icons-svelte';
  import { onMount } from 'svelte';
  import { browser } from '$app/environment';

  const features = [
    {
      title: 'Structured Learning',
      description: 'No random callouts. Learn proven frameworks in live rooms and comprehensive courses designed for real skill development.',
      icon: IconUsers,
      gradient: 'from-cyan-400 to-blue-500'
    },
    {
      title: 'Risk-First Philosophy',
      description: 'Every alert, every trade, every lesson emphasizes risk management and position sizing. We teach survival before growth.',
      icon: IconShieldCheck,
      gradient: 'from-emerald-400 to-teal-500'
    },
    {
      title: 'Professional Tools',
      description: 'Access institutional-grade indicators and analysis tools built by traders, for traders. No toy indicators here.',
      icon: IconTrendingUp,
      gradient: 'from-indigo-400 to-purple-500'
    }
  ];

  let sectionRef: HTMLElement;
  let isVisible = false;

  onMount(() => {
    if (!browser) return;

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            isVisible = true;
          }
        });
      },
      { threshold: 0.1 }
    );

    if (sectionRef) {
      observer.observe(sectionRef);
    }

    return () => observer.disconnect();
  });
</script>

<section
  bind:this={sectionRef}
  class="why-section relative py-24 px-4 sm:px-6 lg:px-8 overflow-hidden"
>
  <!-- Animated Background -->
  <div class="absolute inset-0 bg-gradient-to-br from-slate-900 via-blue-950 to-slate-900"></div>

  <!-- Floating Orbs -->
  <div class="absolute top-20 left-10 w-72 h-72 bg-cyan-500/10 rounded-full blur-3xl animate-float"></div>
  <div class="absolute bottom-20 right-10 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl animate-float-delayed"></div>

  <div class="relative max-w-7xl mx-auto z-10">
    <div class="text-center max-w-3xl mx-auto mb-20">
      <h2 class="text-4xl sm:text-5xl font-heading font-bold mb-6 bg-gradient-to-r from-cyan-300 via-blue-300 to-indigo-300 bg-clip-text text-transparent animate-fade-in">
        Why Revolution Trading Pros?
      </h2>
      <p class="text-lg text-slate-300 leading-relaxed">
        We built Revolution Trading Pros because the industry needed an alternative to hype-driven education.
        Our ecosystem combines live trading rooms, precision alerts, structured courses, and professional indicatorsall
        aligned around one philosophy: <span class="text-white font-semibold bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent">disciplined, risk-first execution</span>.
      </p>
    </div>

    <div class="grid md:grid-cols-3 gap-8">
      {#each features as feature, i}
        <div
          class="feature-card group relative bg-slate-900/40 backdrop-blur-xl border border-slate-700/50 rounded-3xl p-8 hover:border-cyan-500/50 transition-all duration-500"
          class:animate-slide-up={isVisible}
          style="animation-delay: {i * 150}ms"
        >
          <!-- Glass effect overlay -->
          <div class="absolute inset-0 bg-gradient-to-br from-white/5 to-transparent rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>

          <!-- Animated gradient border on hover -->
          <div class="absolute inset-0 rounded-3xl bg-gradient-to-r {feature.gradient} opacity-0 group-hover:opacity-20 blur-xl transition-opacity duration-500"></div>

          <div class="relative z-10">
            <!-- Floating Icon -->
            <div class="mb-6 transform group-hover:scale-110 group-hover:-translate-y-2 transition-transform duration-500">
              <div class="w-16 h-16 rounded-2xl bg-gradient-to-br {feature.gradient} p-0.5">
                <div class="w-full h-full bg-slate-900 rounded-2xl flex items-center justify-center">
                  <svelte:component this={feature.icon} size={32} class="text-white animate-icon-float" />
                </div>
              </div>
            </div>

            <h3 class="text-2xl font-heading font-bold mb-4 text-white group-hover:text-cyan-300 transition-colors duration-300">
              {feature.title}
            </h3>
            <p class="text-slate-400 leading-relaxed group-hover:text-slate-300 transition-colors duration-300">
              {feature.description}
            </p>
          </div>

          <!-- Bottom accent line -->
          <div class="absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r {feature.gradient} transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 rounded-b-3xl"></div>
        </div>
      {/each}
    </div>
  </div>
</section>

<style>
  .why-section {
    position: relative;
  }

  /* Floating animations */
  @keyframes float {
    0%, 100% {
      transform: translateY(0) scale(1);
    }
    50% {
      transform: translateY(-20px) scale(1.05);
    }
  }

  @keyframes float-delayed {
    0%, 100% {
      transform: translateY(0) scale(1);
    }
    50% {
      transform: translateY(30px) scale(0.95);
    }
  }

  .animate-float {
    animation: float 8s ease-in-out infinite;
  }

  .animate-float-delayed {
    animation: float-delayed 10s ease-in-out infinite;
  }

  /* Icon floating */
  @keyframes icon-float {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-8px);
    }
  }

  .animate-icon-float {
    animation: icon-float 3s ease-in-out infinite;
  }

  /* Fade in animation */
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(-20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fade-in 0.8s ease-out;
  }

  /* Slide up animation */
  @keyframes slide-up {
    from {
      opacity: 0;
      transform: translateY(40px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-slide-up {
    animation: slide-up 0.6s ease-out forwards;
    opacity: 0;
  }

  /* Card glow effect */
  .feature-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(6, 182, 212, 0.5), transparent);
    opacity: 0;
    transition: opacity 0.5s;
  }

  .feature-card:hover::before {
    opacity: 1;
  }
</style>

# END OF frontend/src/lib/components/sections/WhySection.svelte


# ============= UTILITY COMPONENTS =============

##################################################################
# FILE: frontend/src/lib/components/Hero.svelte
# PATH: frontend/src/lib/components/Hero.svelte
##################################################################

<script>
  import { onMount, onDestroy, tick } from 'svelte';
  import { browser } from '$app/environment';
  import { createChart, CandlestickSeries, CrosshairMode } from 'lightweight-charts';

  // ============================================================================
  // STATE MANAGEMENT - L68+ Standards
  // ============================================================================

  // Chart state
  let chart = null;
  let series = null;
  let candles = [];

  // Animation state
  let replayInterval = null;
  let slideInterval = null;
  let currentSlide = 0;
  let isLooping = false;
  let isInitialized = false;

  // External libraries
  let gsap = null;

  // DOM references
  let heroSection;
  let chartContainer;
  let resizeObserver = null;

  const slides = [
    {
      title: 'Live Trading Rooms',
      subtitle: 'Institutional-Style Sessions',
      description:
        'Join structured sessions with clear levels, real-time execution, and disciplined risk management.',
      primaryCTA: { text: 'Explore Rooms', href: '/live-trading-rooms/day-trading' },
      secondaryCTA: { text: 'Create Free Account', href: '/signup' }
    },
    {
      title: 'SPX Profit Pulse',
      subtitle: 'Context-Rich Alerts',
      description:
        'Receive SPX alerts with entry context, invalidation, and sizing guidance (not lottery tickets).',
      primaryCTA: { text: 'View Alerts', href: '/alert-services/spx-profit-pulse' },
      secondaryCTA: { text: 'Learn More', href: '/alert-services' }
    },
    {
      title: 'Trading Frameworks',
      subtitle: 'Structured Education',
      description:
        'Master robust frameworks for execution, risk, and review workflows across market conditions.',
      primaryCTA: { text: 'Browse Courses', href: '/courses' },
      secondaryCTA: { text: 'View Mentorship', href: '/mentorship' }
    },
    {
      title: 'Pro Tools & Indicators',
      subtitle: 'Professional-Grade Edge',
      description:
        'Volume profiles, internals, momentum systems, and tooling built for repeatable institutional logic.',
      primaryCTA: { text: 'View Indicators', href: '/indicators' },
      secondaryCTA: { text: 'See All Tools', href: '/store' }
    }
  ];

  /**
   * L70+ Microsoft Principal: Realistic Market Microstructure
   * REALISTIC RANGE-BOUND: Mixed directional moves with chop
   */
  const PREGENERATED_CANDLES = (() => {
    const generatedCandles = [];
    const baseTime = 1704715800; // 9:30 AM EST market open

    // Range-bound parameters
    const rangeCenter = 475.50;
    const rangeHigh = 476.10;
    const rangeLow = 474.90;
    const rangeWidth = rangeHigh - rangeLow;

    let previousClose = rangeCenter;
    let miniTrend = 0; // Small trend bias that changes

    // Generate 220 candles with realistic chop
    for (let i = 0; i < 220; i++) {
      // Change direction randomly every 5-10 candles
      if (i % 7 === 0) {
        miniTrend = (Math.random() - 0.5) * 0.15;
      }

      // Decay mini trend
      miniTrend *= 0.85;

      // Random walk with bias
      const randomMove = (Math.random() - 0.5) * 0.12;

      // Pull toward range center to keep contained
      const distanceFromCenter = previousClose - rangeCenter;
      const pullToCenter = -distanceFromCenter * 0.2;

      // Occasional bigger moves (institutional prints)
      const bigMove = (Math.random() < 0.1) ? (Math.random() - 0.5) * 0.2 : 0;

      // Calculate price move
      const priceMove = miniTrend + randomMove + pullToCenter + bigMove;

      // OHLC construction
      const open = previousClose;
      let close = open + priceMove;

      // Hard clamp to range
      close = Math.max(rangeLow, Math.min(rangeHigh, close));

      // Apple-style minimal wicks - barely visible
      const bodySize = Math.abs(close - open);

      // Extremely small wicks like Apple intraday charts
      // Just 5-10% of body size, or 0.01 minimum for doji candles
      const wickRange = Math.max(bodySize * 0.08, 0.01);

      let high = Math.max(open, close) + (wickRange * Math.random());
      let low = Math.min(open, close) - (wickRange * Math.random());

      // Clamp wicks to range
      high = Math.min(rangeHigh, high);
      low = Math.max(rangeLow, low);

      generatedCandles.push({
        time: baseTime + (i * 60),
        open: parseFloat(open.toFixed(2)),
        high: parseFloat(high.toFixed(2)),
        low: parseFloat(low.toFixed(2)),
        close: parseFloat(close.toFixed(2))
      });

      previousClose = close;
    }

    return generatedCandles;
  })();

  /**
   * Generate Apple-style intraday 1-minute candles with ZERO gaps
   * L68+ Performance: Returns pre-generated data instantly
   */
  function generateIntradayCandles() {
    return PREGENERATED_CANDLES;
  }

  /**
   * Enterprise QA: Validate candle data integrity
   * L68+ Performance: Silent validation, no console spam
   */
  function validateCandleIntegrity() {
    let priceGaps = 0;
    let timeGaps = 0;

    for (let i = 1; i < candles.length; i++) {
      if (Math.abs(candles[i].open - candles[i-1].close) > 0.001) priceGaps++;
      if (candles[i].time - candles[i-1].time !== 60) timeGaps++;
    }

    // Only log errors, not success (reduces console noise)
    if (priceGaps > 0 || timeGaps > 0) {
      console.error(` Validation: ${priceGaps} price gaps, ${timeGaps} time gaps`);
    }
  }

  /**
   * Initialize TradingView Lightweight Chart
   * L68+ Performance: Fast initialization with minimal logging
   */
  function initChart() {
    if (!browser || !chartContainer) return;

    const width = heroSection ? heroSection.clientWidth : window.innerWidth;
    const height = heroSection ? heroSection.clientHeight : window.innerHeight;

    // Clean up existing chart
    if (chart) {
      chart.remove();
      chart = null;
      series = null;
    }

    try {
      // V5 API: createChart with container element
      chart = createChart(chartContainer, {
        layout: {
          background: { type: 'solid', color: 'transparent' },
          textColor: 'rgba(255, 255, 255, 0.1)'
        },
        grid: {
          vertLines: { visible: false },
          horzLines: { visible: false }
        },
        width: width,
        height: height,
        handleScroll: false,
        handleScale: false,
        timeScale: {
          visible: false,
          rightOffset: 0,
          barSpacing: 4,
          minBarSpacing: 2,
          fixLeftEdge: false,
          fixRightEdge: true,
          lockVisibleTimeRangeOnResize: true,
          rightBarStaysOnScroll: true,
          shiftVisibleRangeOnNewBar: true,
          borderColor: 'transparent'
        },
        crosshair: {
          mode: CrosshairMode.Hidden,
        },
        rightPriceScale: {
          visible: true,
          borderColor: 'transparent'
        }
      });

      // V5 API: The correct pattern IS chart.addSeries(CandlestickSeries, options)
      series = chart.addSeries(CandlestickSeries, {
        upColor: 'rgba(52, 211, 153, 0.4)', // More transparent
        downColor: 'rgba(239, 68, 68, 0.4)', // More transparent
        borderVisible: false,
        wickVisible: true,
        wickUpColor: 'rgba(52, 211, 153, 0.4)',
        wickDownColor: 'rgba(239, 68, 68, 0.4)',
        priceLineVisible: false
      });

      // Generate gapless candles (instant - pre-generated)
      candles = generateIntradayCandles();

      // Validate silently
      validateCandleIntegrity();

      // L70+ UX: Start with 8-12 candles (realistic terminal view on load)
      // Enough to show recent context without overwhelming initial load
      const initialCandleCount = 10;

      // Set initial data - realistic starting view
      series.setData(candles.slice(0, initialCandleCount));

      // Set visible range - NO WHITE SPACE, candles go to edge
      if (chart && chart.timeScale() && initialCandleCount > 0) {
        chart.timeScale().setVisibleLogicalRange({
          from: 0,
          to: initialCandleCount
        });
      }

      // Start animation with realistic cadence
      startCenteredReplay(initialCandleCount);

    } catch (error) {
      console.error('Chart initialization error:', error);
    }
  }

  /**
   * Start replay animation from CENTER of viewport
   * L68+ Performance: Minimal logging, maximum speed
   */
  function startCenteredReplay(startIndex = 1) {
    if (!browser || !series || !candles.length || !chart) return;

    // Clear any existing animation
    if (replayInterval) {
      clearInterval(replayInterval);
      replayInterval = null;
    }

    let currentIndex = Math.max(startIndex, 1);
    const totalCandles = candles.length;

    // Calculate viewport dimensions
    const chartWidth = heroSection ? heroSection.clientWidth : window.innerWidth;
    const barSpacing = 4;
    const barsVisible = Math.floor(chartWidth / barSpacing);

    // 2 candles per 1.4 seconds = 700ms interval
    replayInterval = setInterval(() => {
      if (!series || !candles.length || isLooping) return;

      currentIndex++;

      // Handle seamless loop when reaching end
      if (currentIndex >= totalCandles) {
        handleSeamlessLoop();
        return;
      }

      // Progressive display
      series.setData(candles.slice(0, currentIndex));

      // Smooth scrolling - candles go right to the edge
      if (chart && chart.timeScale()) {
        chart.timeScale().setVisibleLogicalRange({
          from: Math.max(0, currentIndex - barsVisible + 1),
          to: currentIndex + 1
        });
      }

    }, 700); // 700ms = 2 candles per 1.4 seconds
  }

  /**
   * Handle seamless loop with fade transition for invisibility
   * L70+ UX: Professional fade timing that feels natural
   */
  function handleSeamlessLoop() {
    if (isLooping || !browser || !chartContainer || !gsap || !series || !candles.length) return;

    isLooping = true;

    // Quick professional fade (500ms out)
    gsap.to(chartContainer, {
      opacity: 0,
      duration: 0.5,
      ease: 'power2.in',
      onComplete: () => {
        // Reset to realistic starting view - 10 candles
        const initialCandleCount = 10;

        series.setData(candles.slice(0, initialCandleCount));

        if (chart && chart.timeScale()) {
          chart.timeScale().setVisibleLogicalRange({
            from: 0,
            to: initialCandleCount
          });
        }

        // Fade back in smoothly (500ms in)
        gsap.to(chartContainer, {
          opacity: 0.3,
          duration: 0.5,
          ease: 'power2.out',
          onComplete: () => {
            isLooping = false;
            if (replayInterval) clearInterval(replayInterval);
            startCenteredReplay(initialCandleCount);
          }
        });
      }
    });
  }

  /**
   * Handle responsive resize
   */
  function handleResize() {
    if (!browser || !chart) return;

    const newWidth = heroSection ? heroSection.clientWidth : window.innerWidth;
    const newHeight = heroSection ? heroSection.clientHeight : window.innerHeight;

    chart.applyOptions({
      width: newWidth,
      height: newHeight
    });

    // Recalculate visible range after resize
    if (chart.timeScale() && series) {
      chart.timeScale().applyOptions({
        rightOffset: 0
      });
    }
  }

  /**
   * Slide management (unchanged from original)
   */
  async function showSlide(index) {
    currentSlide = index;
    await tick();
    animateSlide(index);
  }

  function nextSlide() {
    const next = (currentSlide + 1) % slides.length;
    showSlide(next);
  }

  function animateSlide(slideIndex) {
    if (!browser || !gsap) return;

    const slide = document.querySelector(`[data-slide="${slideIndex}"]`);
    if (!slide) return;

    const h1 = slide.querySelector('h1');
    const h2 = slide.querySelector('h2');
    const p = slide.querySelector('p');
    const buttons = slide.querySelectorAll('a');

    switch (slideIndex) {
      case 0:
        if (h1) gsap.fromTo(h1, { opacity: 0, scale: 0.8 }, { opacity: 1, scale: 1, duration: 1.6, ease: 'back.out(1.7)' });
        if (h2) gsap.fromTo(h2, { opacity: 0, y: 30 }, { opacity: 1, y: 0, duration: 1.2, delay: 0.4 });
        if (p) gsap.fromTo(p, { opacity: 0, y: 20 }, { opacity: 1, y: 0, duration: 1.0, delay: 0.7 });
        if (buttons.length > 0) {
          gsap.fromTo(buttons,
            { opacity: 0, y: 48, scale: 0.95 },
            { opacity: 1, y: 0, scale: 1, duration: 1.2, delay: 1.0, stagger: 0.22, ease: 'power2.out' }
          );
        }
        break;

      case 1:
        if (h1) gsap.fromTo(h1, { opacity: 0, y: -200, rotation: -10 }, { opacity: 1, y: 0, rotation: 0, duration: 1.6, ease: 'bounce.out' });
        if (h2) gsap.fromTo(h2, { opacity: 0, y: -200, rotation: -10 }, { opacity: 1, y: 0, rotation: 0, duration: 1.6, ease: 'bounce.out', delay: 0.2 });
        if (p) gsap.fromTo(p, { opacity: 0, y: -100 }, { opacity: 1, y: 0, duration: 1.2, delay: 0.7, ease: 'power2.out' });
        if (buttons.length > 0) gsap.fromTo(buttons, { opacity: 0, y: 50 }, { opacity: 1, y: 0, duration: 1.2, delay: 1.0, stagger: 0.22 });
        break;

      case 2:
        if (h1) gsap.fromTo(h1, { opacity: 0, scale: 2, rotation: 360 }, { opacity: 1, scale: 1, rotation: 0, duration: 1.6, ease: 'power3.out' });
        if (h2) gsap.fromTo(h2, { opacity: 0, scale: 2, rotation: 360 }, { opacity: 1, scale: 1, rotation: 0, duration: 1.6, ease: 'power3.out', delay: 0.2 });
        if (p) gsap.fromTo(p, { opacity: 0, x: -100 }, { opacity: 1, x: 0, duration: 1.2, delay: 0.6 });
        if (buttons.length > 0) gsap.fromTo(buttons, { opacity: 0, scale: 0, rotation: 180 }, { opacity: 1, scale: 1, rotation: 0, duration: 1.2, delay: 1.0, stagger: 0.22, ease: 'back.out(2)' });
        break;

      case 3:
        if (h1) gsap.fromTo(h1, { opacity: 0, x: -120 }, { opacity: 1, x: 0, duration: 1.4, ease: 'power2.out' });
        if (h2) gsap.fromTo(h2, { opacity: 0, x: 120 }, { opacity: 1, x: 0, duration: 1.4, ease: 'power2.out', delay: 0.2 });
        if (p) gsap.fromTo(p, { opacity: 0, y: 60 }, { opacity: 1, y: 0, duration: 1.0, delay: 0.7 });
        if (buttons.length > 0) gsap.fromTo(buttons, { opacity: 0, y: 60 }, { opacity: 1, y: 0, duration: 1.2, delay: 1.0, stagger: 0.22 });
        break;
    }
  }

  /**
   * L68+ Performance: Component lifecycle with instant initialization
   */
  onMount(async () => {
    if (!browser) return;

    // Parallel loading for maximum speed
    const [gsapModule] = await Promise.all([
      import('gsap').catch(() => null),
      tick() // Wait for DOM bindings in parallel
    ]);

    gsap = gsapModule?.gsap || gsapModule?.default || null;

    // Single fast check for DOM readiness (no excessive retries)
    if (!chartContainer || !heroSection) {
      await new Promise(r => requestAnimationFrame(r));
    }

    if (!chartContainer) {
      console.error(' Chart container not ready');
      return;
    }

    // Initialize chart immediately
    initChart();

    // Start slide rotation
    await showSlide(0);
    if (slideInterval) clearInterval(slideInterval);
    slideInterval = setInterval(nextSlide, 7000);

    // Responsive handling with ResizeObserver (more efficient than window listener)
    if (typeof ResizeObserver !== 'undefined') {
      resizeObserver = new ResizeObserver(() => handleResize());
      resizeObserver.observe(heroSection);
    }
  });

  onDestroy(() => {
    if (slideInterval) {
      clearInterval(slideInterval);
      slideInterval = null;
    }

    if (replayInterval) {
      clearInterval(replayInterval);
      replayInterval = null;
    }

    if (chart) {
      chart.remove();
      chart = null;
      series = null;
    }

    if (resizeObserver) {
      resizeObserver.disconnect();
      resizeObserver = null;
    }
  });
</script>

<section
  bind:this={heroSection}
  id="hero"
  class="relative min-h-screen flex items-center overflow-hidden"
>
  <div
    id="chart-bg"
    bind:this={chartContainer}
    class="hero-chart absolute inset-0"
  >
  </div>

  <div class="relative z-10 w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 flex items-center">
    <div class="w-full relative min-h-96">
      {#each slides as slide, i}
        <div
          data-slide={i}
          class="slide text-center max-w-4xl mx-auto"
          class:hidden={i !== currentSlide}
          class:active={i === currentSlide}
        >
          <h1 class="text-5xl sm:text-6xl lg:text-7xl font-heading font-extrabold mb-4 text-white">
            {slide.title}
          </h1>
          <h2 class="text-3xl sm:text-4xl font-heading font-bold mb-6 text-white">
            {slide.subtitle}
          </h2>
          <p class="text-lg sm:text-xl text-white mb-8 leading-relaxed max-w-2xl mx-auto">
            {slide.description}
          </p>
          <div class="flex flex-wrap gap-4 justify-center">
            <a
              href={slide.primaryCTA.href}
              class="cta-button primary-cta"
            >
              <span>{slide.primaryCTA.text}</span>
            </a>
            <a
              href={slide.secondaryCTA.href}
              class="cta-button secondary-cta"
            >
              <span>{slide.secondaryCTA.text}</span>
            </a>
          </div>
        </div>
      {/each}
    </div>
  </div>
</section>

<style>
  #hero {
    padding-top: 80px; /* Space for nav bar */
    min-height: 100vh;
    background: #0a101c; /* Darker, more professional navy */
    position: relative;
    display: flex; /* Use flexbox for alignment */
    align-items: center; /* Vertically center content */
    justify-content: center; /* Horizontally center content */
  }
  #hero::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(ellipse at center, rgba(10, 16, 28, 0) 0%, #0a101c 80%);
    pointer-events: none;
  }
  .hero-chart {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0.3; /* Make chart more subtle */
    transition: opacity 0.8s ease-in-out;
    will-change: opacity, mask-image;
    mask-image: linear-gradient(
      to right,
      transparent 0%,
      black 15%, /* Smoother fade-in edge */
      black 85%, /* Smoother fade-out edge */
      transparent 100%
    );
    -webkit-mask-image: linear-gradient(
      to right,
      transparent 0%,
      black 15%,
      black 85%,
      transparent 100%
    );
  }


  .slide {
    transition: opacity 0.5s ease-in-out;
  }
  .slide.hidden {
    display: none;
    opacity: 0;
    pointer-events: none;
  }

  .slide.active {
    display: block;
    pointer-events: auto;
    opacity: 1;
  }

  /* --- CTA Button Styles --- */
  .cta-button {
    display: inline-block;
    position: relative;
    padding: 1rem 2.5rem;
    font-family: var(--font-heading);
    font-size: 1rem;
    font-weight: 600;
    border-radius: 9999px;
    text-align: center;
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
    transform: translateZ(0); /* Promote to own layer */
  }

  .cta-button span {
    position: relative;
    z-index: 2;
  }


  .primary-cta {
    background-color: #facc15; /* yellow-400 */
    color: #fff !important;
    box-shadow: 0 4px 15px rgba(250, 204, 21, 0.2);
  }

  .primary-cta:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(250, 204, 21, 0.4);
  }

  .secondary-cta {
    background-color: rgba(31, 41, 55, 0.5); /* bg-gray-800 with opacity */
    color: #fff !important;
    border: 2px solid #4b5563; /* border-gray-600 */
    backdrop-filter: blur(5px);
  }

  .secondary-cta:hover {
    background-color: rgba(55, 65, 81, 0.7);
    border-color: #6b7280;
    transform: translateY(-3px);
  }

  /* --- Responsive Adjustments --- */
  @media (max-width: 768px) {
    .slide h1 {
      font-size: 3rem; /* 48px */
    }
    .slide h2 {
      font-size: 1.875rem; /* 30px */
    }
    .slide p {
      font-size: 1rem; /* 16px */
    }
    .cta-button {
      padding: 0.875rem 2rem;
      font-size: 0.9rem;
    }
  }

  @media (max-width: 640px) {
    #hero {
      padding-top: 60px;
    }
    .slide h1 {
      font-size: 2.5rem; /* 40px */
    }
    .slide h2 {
      font-size: 1.5rem; /* 24px */
    }
  }
</style>

# END OF frontend/src/lib/components/Hero.svelte


##################################################################
# FILE: frontend/src/lib/components/NavBar.svelte
# PATH: frontend/src/lib/components/NavBar.svelte
##################################################################

<script lang="ts">
  import { onMount, onDestroy } from 'svelte';
  import { browser } from '$app/environment';
  import { goto } from '$app/navigation';
  import { IconMenu2, IconX, IconUser, IconLogout, IconShoppingCart, IconBook, IconChartLine, IconStar, IconSettings } from '@tabler/icons-svelte';
  import { authStore, user, isAuthenticated } from '$lib/stores/auth';
  import { cartItemCount, hasCartItems } from '$lib/stores/cart';
  import { logout as logoutApi, getUser } from '$lib/api/auth';

  // 
  // Type Definitions: Enterprise-grade type safety
  // 
  interface NavMenuItem {
    label: string;
    href?: string;
    submenu?: NavMenuItem[];
  }

  interface ResponsiveBreakpoint {
    mobile: number;
    tablet: number;
    desktop: number;
  }

  // 
  // Constants - Microsoft L70 Standard Breakpoints
  // 
  const BREAKPOINTS: ResponsiveBreakpoint = {
    mobile: 1200,  // Microsoft standard responsive breakpoint
    tablet: 1200,
    desktop: 1201
  };

  // 
  // State Management
  // 
  let isMobileMenuOpen = false;
  let activeDropdown: string | null = null;
  let activeMobileSubmenu: string | null = null;
  let windowWidth: number = 0;
  let isMobileViewport = false;

  // DOM references
  let headerRef: HTMLElement | undefined;
  let mobileNavRef: HTMLElement | undefined;

  // 
  // Reactive Statements
  // 
  $: isMobileViewport = windowWidth <= BREAKPOINTS.mobile;

  // Auto-close mobile menu on viewport change to desktop
  $: {
    if (isMobileViewport === false && isMobileMenuOpen) {
      isMobileMenuOpen = false;
    }
  }

  // Reset dropdown when switching to mobile
  $: {
    if (isMobileViewport && activeDropdown) {
      activeDropdown = null;
    }
  }

  // 
  // Event Handlers
  // 

  /**
   * Toggle mobile menu visibility
   */
  function handleMobileMenuToggle(): void {
    isMobileMenuOpen = !isMobileMenuOpen;
    activeDropdown = null; // Close any open dropdowns
    activeMobileSubmenu = null; // Close any open mobile submenus
  }

  /**
   * Toggle mobile submenu
   */
  function handleMobileSubmenuToggle(menuId: string): void {
    activeMobileSubmenu = activeMobileSubmenu === menuId ? null : menuId;
  }

  /**
   * Close mobile menu
   */
  function closeMobileMenu(): void {
    isMobileMenuOpen = false;
    activeMobileSubmenu = null;
  }

  /**
   * Handle user logout
   */
  async function handleLogout(): Promise<void> {
    try {
      await logoutApi();
      await goto('/login');
    } catch (error) {
      console.error('Logout error:', error);
      // Clear auth state even if API call fails
      authStore.clearAuth();
      await goto('/login');
    }
  }

  /**
   * Toggle dropdown menu on desktop
   */
  function handleDropdownToggle(menuId: string, event: Event): void {
    event.stopPropagation();
    
    if (isMobileViewport) return;
    
    activeDropdown = activeDropdown === menuId ? null : menuId;
  }

  /**
   * Close all menus
   */
  function closeAllMenus(): void {
    activeDropdown = null;
    isMobileMenuOpen = false;
  }

  /**
   * Handle window resize events
   */
  function handleWindowResize(): void {
    if (!browser) return;
    windowWidth = window.innerWidth;
  }

  /**
   * Handle document click outside menus (click-away behavior)
   */
  function handleDocumentClick(event: MouseEvent): void {
    if (!browser) return;

    const target = event.target as HTMLElement;
    const isClickInsideHeader = headerRef?.contains(target);
    const isClickInsideMobileNav = mobileNavRef?.contains(target);

    if (!isClickInsideHeader && !isClickInsideMobileNav) {
      closeAllMenus();
    }
  }

  /**
   * Handle escape key to close menus
   */
  function handleEscapeKey(event: KeyboardEvent): void {
    if (event.key === 'Escape') {
      closeAllMenus();
    }
  }

  // 
  // Lifecycle Hooks
  // 

  onMount(async () => {
    if (!browser) return;

    // Set initial window width
    windowWidth = window.innerWidth;

    // Fetch current user if token exists
    const token = authStore.getToken();
    if (token && !$user) {
      try {
        await getUser();
      } catch (error) {
        console.error('Failed to fetch user:', error);
        authStore.clearAuth();
      }
    }

    // Add event listeners
    window.addEventListener('resize', handleWindowResize, { passive: true });
    document.addEventListener('click', handleDocumentClick, { passive: true });
    document.addEventListener('keydown', handleEscapeKey);

    // Cleanup is handled in onDestroy
  });

  onDestroy(() => {
    if (!browser) return;

    // Remove event listeners
    window.removeEventListener('resize', handleWindowResize);
    document.removeEventListener('click', handleDocumentClick);
    document.removeEventListener('keydown', handleEscapeKey);
  });
</script>

<header class="rtp-header" bind:this={headerRef}>
  <div class="rtp-header-bar">
    <div class="rtp-header-inner">
      <!-- LOGO: fixed column, large, static -->
      <a
        href="/"
        class="rtp-header-logo"
        aria-label="Revolution Trading Pros Home"
      >
        <img
          src="/revolution-trading-pros.png"
          alt="Revolution Trading Pros - Professional Trading Community Logo"
          class="rtp-logo-img"
        />
      </a>

      <!-- DESKTOP / TABLET NAV: Only visible on larger screens -->
      {#if !isMobileViewport}
        <nav class="rtp-header-nav" aria-label="Primary navigation">
          <!-- Live Trading Rooms Dropdown -->
          <div class="rtp-nav-group">
            <button
              class="rtp-nav-button"
              type="button"
              aria-expanded={activeDropdown === 'live'}
              aria-haspopup="true"
              on:click={(e) => handleDropdownToggle('live', e)}
            >
              <span>Live Trading Rooms</span>
              <span class="rtp-nav-icon" aria-hidden="true"></span>
            </button>
            {#if activeDropdown === 'live'}
              <div class="rtp-dropdown" role="menu">
                <a
                  href="/day-trading"
                  role="menuitem"
                  on:click={closeAllMenus}
                  class="rtp-dropdown-link"
                >
                  Day Trading Room
                </a>
                <a
                  href="/swing-trading"
                  role="menuitem"
                  on:click={closeAllMenus}
                  class="rtp-dropdown-link"
                >
                  Swing Trading Room
                </a>
                <a
                  href="/small-accounts"
                  role="menuitem"
                  on:click={closeAllMenus}
                  class="rtp-dropdown-link"
                >
                  Small Accounts Room
                </a>
              </div>
            {/if}
          </div>

          <!-- Alert Services Dropdown -->
          <div class="rtp-nav-group">
            <button
              class="rtp-nav-button"
              type="button"
              aria-expanded={activeDropdown === 'alerts'}
              aria-haspopup="true"
              on:click={(e) => handleDropdownToggle('alerts', e)}
            >
              <span>Alert Services</span>
              <span class="rtp-nav-icon" aria-hidden="true"></span>
            </button>
            {#if activeDropdown === 'alerts'}
              <div class="rtp-dropdown" role="menu">
                <a
                  href="/spx-profit-pulse"
                  role="menuitem"
                  on:click={closeAllMenus}
                  class="rtp-dropdown-link"
                >
                  SPX Profit Pulse
                </a>
                <a
                  href="/explosive-swings"
                  role="menuitem"
                  on:click={closeAllMenus}
                  class="rtp-dropdown-link"
                >
                  Explosive Swings
                </a>
              </div>
            {/if}
          </div>

          <!-- Mentorship Direct Link -->
          <a 
            href="/mentorship" 
            class="rtp-nav-button"
            on:click={closeAllMenus}
          >
            Mentorship
          </a>

          <!-- Store Dropdown -->
          <div class="rtp-nav-group">
            <button
              class="rtp-nav-button"
              type="button"
              aria-expanded={activeDropdown === 'store'}
              aria-haspopup="true"
              on:click={(e) => handleDropdownToggle('store', e)}
            >
              <span>Store</span>
              <span class="rtp-nav-icon" aria-hidden="true"></span>
            </button>
            {#if activeDropdown === 'store'}
              <div class="rtp-dropdown" role="menu">
                <a 
                  href="/courses"
                  role="menuitem"
                  on:click={closeAllMenus}
                  class="rtp-dropdown-link"
                >
                  Courses
                </a>
                <a 
                  href="/indicators"
                  role="menuitem"
                  on:click={closeAllMenus}
                  class="rtp-dropdown-link"
                >
                  Indicators
                </a>
              </div>
            {/if}
          </div>

          <!-- Mission, About, Resources Direct Links -->
          <a 
            href="/our-mission" 
            class="rtp-nav-button"
            on:click={closeAllMenus}
          >
            Our Mission
          </a>
          <a
            href="/about"
            class="rtp-nav-button"
            on:click={closeAllMenus}
          >
            About
          </a>

          <!-- Resources Dropdown -->
          <div class="rtp-nav-group">
            <button
              class="rtp-nav-button"
              type="button"
              aria-expanded={activeDropdown === 'resources'}
              aria-haspopup="true"
              on:click={(e) => handleDropdownToggle('resources', e)}
            >
              <span>Resources</span>
              <span class="rtp-nav-icon" aria-hidden="true"></span>
            </button>
            {#if activeDropdown === 'resources'}
              <div class="rtp-dropdown" role="menu">
                <a
                  href="/resources/etf-stocks-list"
                  role="menuitem"
                  on:click={closeAllMenus}
                  class="rtp-dropdown-link"
                >
                  ETF Stocks List
                </a>
                <a
                  href="/resources/stock-indexes-list"
                  role="menuitem"
                  on:click={closeAllMenus}
                  class="rtp-dropdown-link"
                >
                  Stock Indexes List
                </a>
              </div>
            {/if}
          </div>

          <a
            href="/blog"
            class="rtp-nav-button"
            on:click={closeAllMenus}
          >
            Blog
          </a>
        </nav>
      {/if}

      <!-- RIGHT ACTIONS: Desktop Login & Mobile Hamburger -->
      <div class="rtp-right-actions">
        {#if !isMobileViewport}
          <!-- Cart Icon - Only show when cart has items -->
          {#if $hasCartItems}
            <a href="/cart" class="rtp-cart-button" aria-label="Shopping Cart">
              <div class="rtp-cart-icon-wrapper">
                <IconShoppingCart size={22} />
                {#if $cartItemCount > 0}
                  <span class="rtp-cart-badge">{$cartItemCount}</span>
                {/if}
              </div>
            </a>
          {/if}

          {#if $isAuthenticated}
            <div class="rtp-user-menu">
              <button class="rtp-user-button">
                <IconUser size={20} />
                <span>{$user?.name || 'Account'}</span>
              </button>
              <div class="rtp-user-dropdown">
                <a href="/dashboard/courses" class="rtp-user-dropdown-item">
                  <IconBook size={16} />
                  <span>My Courses</span>
                </a>
                <a href="/dashboard/indicators" class="rtp-user-dropdown-item">
                  <IconChartLine size={16} />
                  <span>My Indicators</span>
                </a>
                <a href="/dashboard/memberships" class="rtp-user-dropdown-item">
                  <IconStar size={16} />
                  <span>My Memberships</span>
                </a>
                <a href="/dashboard/account" class="rtp-user-dropdown-item">
                  <IconSettings size={16} />
                  <span>My Account</span>
                </a>
                <button on:click={handleLogout} class="rtp-user-dropdown-item">
                  <IconLogout size={16} />
                  <span>Logout</span>
                </button>
              </div>
            </div>
          {:else}
            <a href="/login" class="user-profile">
              <div class="user-profile-inner">
                <IconUser size={27} />
                <span>Login</span>
              </div>
            </a>
          {/if}
        {/if}

          <button
            class="rtp-hamburger"
            type="button"
            aria-label={isMobileMenuOpen ? 'Close navigation menu' : 'Open navigation menu'}
            aria-expanded={isMobileMenuOpen}
            aria-controls="mobile-nav"
            on:click={handleMobileMenuToggle}
          >
            {#if isMobileMenuOpen}
              <IconX size="26" stroke="2.2" />
            {:else}
              <IconMenu2 size="26" stroke="2.2" />
            {/if}
          </button>
      </div>
    </div>

    <!-- MOBILE NAV: Only visible on mobile viewports when menu is open -->
    {#if isMobileViewport && isMobileMenuOpen}
      <nav
        class="rtp-mobile-nav"
        id="mobile-nav"
        bind:this={mobileNavRef}
        aria-label="Mobile navigation"
      >
        <!-- Live Trading Rooms Accordion -->
        <div class="rtp-mobile-group">
          <button
            class="rtp-mobile-button"
            type="button"
            aria-expanded={activeMobileSubmenu === 'live'}
            on:click={() => handleMobileSubmenuToggle('live')}
          >
            <span>Live Trading Rooms</span>
            <span class="rtp-mobile-icon" aria-hidden="true">
              {activeMobileSubmenu === 'live' ? '' : '+'}
            </span>
          </button>
          {#if activeMobileSubmenu === 'live'}
            <div class="rtp-mobile-submenu">
              <a
                href="/day-trading"
                class="rtp-mobile-submenu-link"
                on:click={closeMobileMenu}
              >
                Day Trading Room
              </a>
              <a
                href="/swing-trading"
                class="rtp-mobile-submenu-link"
                on:click={closeMobileMenu}
              >
                Swing Trading Room
              </a>
              <a
                href="/small-accounts"
                class="rtp-mobile-submenu-link"
                on:click={closeMobileMenu}
              >
                Small Accounts Room
              </a>
            </div>
          {/if}
        </div>

        <!-- Alert Services Accordion -->
        <div class="rtp-mobile-group">
          <button
            class="rtp-mobile-button"
            type="button"
            aria-expanded={activeMobileSubmenu === 'alerts'}
            on:click={() => handleMobileSubmenuToggle('alerts')}
          >
            <span>Alert Services</span>
            <span class="rtp-mobile-icon" aria-hidden="true">
              {activeMobileSubmenu === 'alerts' ? '' : '+'}
            </span>
          </button>
          {#if activeMobileSubmenu === 'alerts'}
            <div class="rtp-mobile-submenu">
              <a
                href="/spx-profit-pulse"
                class="rtp-mobile-submenu-link"
                on:click={closeMobileMenu}
              >
                SPX Profit Pulse
              </a>
              <a
                href="/explosive-swings"
                class="rtp-mobile-submenu-link"
                on:click={closeMobileMenu}
              >
                Explosive Swings
              </a>
            </div>
          {/if}
        </div>

        <!-- Mentorship Direct Link -->
        <a
          href="/mentorship"
          class="rtp-mobile-link"
          on:click={closeMobileMenu}
        >
          Mentorship
        </a>

        <!-- Store Accordion -->
        <div class="rtp-mobile-group">
          <button
            class="rtp-mobile-button"
            type="button"
            aria-expanded={activeMobileSubmenu === 'store'}
            on:click={() => handleMobileSubmenuToggle('store')}
          >
            <span>Store</span>
            <span class="rtp-mobile-icon" aria-hidden="true">
              {activeMobileSubmenu === 'store' ? '' : '+'}
            </span>
          </button>
          {#if activeMobileSubmenu === 'store'}
            <div class="rtp-mobile-submenu">
              <a
                href="/courses"
                class="rtp-mobile-submenu-link"
                on:click={closeMobileMenu}
              >
                Courses
              </a>
              <a
                href="/indicators"
                class="rtp-mobile-submenu-link"
                on:click={closeMobileMenu}
              >
                Indicators
              </a>
            </div>
          {/if}
        </div>

        <!-- Direct Links -->
        <a
          href="/our-mission"
          class="rtp-mobile-link"
          on:click={closeMobileMenu}
        >
          Our Mission
        </a>
        <a
          href="/about"
          class="rtp-mobile-link"
          on:click={closeMobileMenu}
        >
          About
        </a>

        <!-- Resources Accordion -->
        <div class="rtp-mobile-group">
          <button
            class="rtp-mobile-button"
            type="button"
            aria-expanded={activeMobileSubmenu === 'resources'}
            on:click={() => handleMobileSubmenuToggle('resources')}
          >
            <span>Resources</span>
            <span class="rtp-mobile-icon" aria-hidden="true">
              {activeMobileSubmenu === 'resources' ? '' : '+'}
            </span>
          </button>
          {#if activeMobileSubmenu === 'resources'}
            <div class="rtp-mobile-submenu">
              <a
                href="/resources/etf-stocks-list"
                class="rtp-mobile-submenu-link"
                on:click={closeMobileMenu}
              >
                ETF Stocks List
              </a>
              <a
                href="/resources/stock-indexes-list"
                class="rtp-mobile-submenu-link"
                on:click={closeMobileMenu}
              >
                Stock Indexes List
              </a>
            </div>
          {/if}
        </div>

        <a
          href="/blog"
          class="rtp-mobile-link"
          on:click={closeMobileMenu}
        >
          Blog
        </a>

        <!-- Login/Logout CTA -->
        {#if $isAuthenticated}
          <div class="rtp-mobile-user-section">
            <div class="rtp-mobile-user-info">
              <IconUser size={20} />
              <span>{$user?.name || 'Account'}</span>
            </div>
            <a href="/dashboard/courses" class="rtp-mobile-menu-item" on:click={closeMobileMenu}>
              <IconBook size={18} />
              <span>My Courses</span>
            </a>
            <a href="/dashboard/indicators" class="rtp-mobile-menu-item" on:click={closeMobileMenu}>
              <IconChartLine size={18} />
              <span>My Indicators</span>
            </a>
            <a href="/dashboard/memberships" class="rtp-mobile-menu-item" on:click={closeMobileMenu}>
              <IconStar size={18} />
              <span>My Memberships</span>
            </a>
            <a href="/dashboard/account" class="rtp-mobile-menu-item" on:click={closeMobileMenu}>
              <IconSettings size={18} />
              <span>My Account</span>
            </a>
            <button on:click={handleLogout} class="rtp-mobile-cta-logout">
              <IconLogout size={20} />
              <span>Logout</span>
            </button>
          </div>
        {:else}
          <a
            href="/login"
            class="user-profile user-profile-mobile"
            on:click={closeMobileMenu}
          >
            <div class="user-profile-inner">
              <IconUser size={27} />
              <span>Login</span>
            </div>
          </a>
        {/if}
      </nav>
    {/if}
  </div>
</header>

<style>
  @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap');

  .rtp-header {
    position: sticky;
    top: 0;
    left: 0;
    right: 0;
    width: 100%;
    z-index: 1000;
    isolation: isolate;
    backdrop-filter: blur(10px);
  }

  .rtp-header-bar {
    width: 100%;
    background: #05142b;
    border-bottom: 1px solid rgba(148, 163, 253, 0.16);
  }

  /* 120px bar on desktop/tablet */
  .rtp-header-inner {
    width: 100%;
    min-height: 120px;
    padding: 0 1.5rem;
    display: flex;
    align-items: center;
    box-sizing: border-box;
    column-gap: 1.5rem;
  }

  /* Logo: fixed column, BIG */
  .rtp-header-logo {
    flex: 0 0 120px;
    display: inline-flex;
    align-items: center;
    justify-content: flex-start;
    text-decoration: none;
  }

  .rtp-logo-img {
    height: 88px;        /* drastically larger */
    width: auto;
    max-width: 260px;    /* guardrail for ultra-wide assets */
    object-fit: contain;
    display: block;
  }

  .rtp-header-nav {
    flex: 1 1 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    white-space: nowrap;
    position: relative;
    /* z-index removed - dropdowns manage their own stacking */
    font-family: 'Montserrat', sans-serif;
  }

  .rtp-nav-group {
    position: relative;
    display: inline-flex;
    align-items: center;
  }

  .rtp-nav-button,
  .rtp-header-nav > a {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    padding: 0.4rem 0.9rem;
    border-radius: 999px;
    border: 1px solid transparent;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    font-size: 0.9rem;
    font-weight: 700;
    color: #e5e7eb;
    background: transparent;
    cursor: pointer;
    transition: all 0.2s ease;
    text-decoration: none;
  }

  .rtp-nav-button:hover,
  .rtp-header-nav > a:hover {
    color: #facc15;
    border-color: rgba(148, 163, 253, 0.26);
    background: rgba(9, 16, 35, 0.98);
    box-shadow: 0 0 14px rgba(15, 23, 42, 0.65);
  }

  .rtp-nav-icon {
    font-size: 0.7rem;
    opacity: 0.9;
  }

  /*
   * Z-INDEX HIERARCHY (L70 Architecture):
   * =====================================
   * 1000 - .rtp-header (sticky header container)
   *  999 - .rtp-mobile-nav (mobile menu panel)
   *  100 - .rtp-dropdown (desktop dropdown menus)  Must be above all header content
   *   30 - .rtp-right-actions (login button/hamburger)
   *
   * Note: .rtp-header-nav has NO z-index to avoid creating unnecessary stacking contexts.
   * This allows .rtp-dropdown to properly render above all sibling elements.
   */
  .rtp-dropdown {
    position: absolute;
    top: calc(100% + 0.35rem);
    left: 50%;
    transform: translateX(-50%);
    min-width: 180px;
    padding: 0.55rem 0.4rem;
    background: rgba(5, 14, 31, 0.98);
    border-radius: 12px;
    box-shadow: 0 18px 40px rgba(15, 23, 42, 0.55);
    border: 1px solid rgba(148, 163, 253, 0.18);
    display: flex;
    flex-direction: column;
    gap: 0.15rem;
    z-index: 100;
    border-top: 1px solid rgba(255, 255, 255, 0.2);
    margin-top: 8px;
    padding-top: 8px;
  }

  .rtp-dropdown-link,
  .rtp-dropdown a {
    padding: 0.35rem 0.6rem;
    border-radius: 8px;
    font-size: 0.85rem;
    font-weight: 600;
    color: #e5e7eb;
    text-decoration: none;
    transition: all 0.18s ease;
    display: block;
  }

  .rtp-dropdown-link:hover,
  .rtp-dropdown a:hover {
    background: rgba(15, 23, 42, 0.98);
    color: #facc15;
  }

  .rtp-dropdown-link + .rtp-dropdown-link,
  .rtp-dropdown a + a {
    border-top: 1px solid rgba(255, 255, 255, 0.2);
  }

  .rtp-right-actions {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    justify-content: flex-end;
    gap: 0.75rem;
    margin-left: auto;
    z-index: 30;
    /* Lower than dropdown (100) to ensure dropdowns appear above login button */
  }

  .user-profile {
    width: 131px;
    height: 51px;
    border-radius: 15px;
    cursor: pointer;
    transition: 0.3s ease;
    background: linear-gradient(to bottom right, #2e8eff 0%, rgba(46, 142, 255, 0) 30%), rgba(46, 142, 255, 0.2);
    display: flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
  }

  .user-profile:hover,
  .user-profile:focus {
    background: linear-gradient(to bottom right, #2e8eff 0%, rgba(46, 142, 255, 0.3) 30%), rgba(46, 142, 255, 0.7);
    box-shadow: 0 0 10px rgba(46, 142, 255, 0.5);
    outline: none;
  }

  .user-profile-inner {
    width: 127px;
    height: 47px;
    border-radius: 13px;
    background-color: #1a1a1a;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 15px;
    color: #fff;
    font-weight: 600;
  }

  .user-profile-inner :global(svg) {
    width: 27px;
    height: 27px;
    fill: #fff;
  }

  .rtp-hamburger {
    display: none;
    background: none;
    border: none;
    padding: 0.5rem;
    cursor: pointer;
    color: #ffffff;
    border-radius: 8px;
    transition: background-color 0.3s ease, color 0.3s ease;
    align-items: center;
    justify-content: center;
    width: 44px;
    height: 44px;
    min-width: 44px;
    min-height: 44px;
  }

  .rtp-hamburger:hover,
  .rtp-hamburger:focus {
    background-color: rgba(255, 255, 255, 0.12);
    color: #facc15;
    outline: none;
  }

  .rtp-hamburger:active {
    background-color: rgba(255, 255, 255, 0.18);
  }

  /* Tablet and Mobile - Microsoft L70 Standard 1200px Breakpoint */
  @media (max-width: 1200px) {
    .rtp-header-inner {
      padding: 0.5rem 1rem;
      column-gap: 0.75rem;
      min-height: 90px;
    }

    .rtp-logo-img {
      height: 64px;
      max-width: 200px;
    }

    /* Hide desktop navigation on tablet and mobile */
    .rtp-header-nav {
      display: none !important;
    }

    /* Show hamburger button on tablet and mobile */
    .rtp-hamburger {
      display: inline-flex !important;
    }

    /* Mobile navigation panel styling */
    .rtp-mobile-nav {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      width: 100vw;
      background: rgba(7, 16, 31, 0.98);
      box-shadow: 0 2px 24px rgba(15, 23, 42, 0.32);
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      padding: 1.25rem 1rem 1.75rem 1rem;
      z-index: 999;
      animation: slideDown 0.3s ease-out;
    }

    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Mobile accordion group container */
    .rtp-mobile-group {
      display: flex;
      flex-direction: column;
      border-radius: 6px;
      overflow: hidden;
    }

    /* Mobile accordion button (parent menu items) */
    .rtp-mobile-button {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
      padding: 0.5rem 0.25rem;
      font-size: 0.9rem;
      font-weight: 600;
      color: #e5e7eb;
      background: transparent;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.18s ease;
      text-align: left;
    }

    .rtp-mobile-button:hover {
      background: rgba(15, 23, 42, 0.96);
      color: #facc15;
    }

    /* Mobile accordion icon (+/-) */
    .rtp-mobile-icon {
      font-size: 1.2rem;
      font-weight: 400;
      color: #94a3fd;
      transition: transform 0.2s ease;
    }

    /* Mobile submenu container */
    .rtp-mobile-submenu {
      display: flex;
      flex-direction: column;
      padding-left: 1rem;
      padding-top: 0.25rem;
      padding-bottom: 0.25rem;
      gap: 0.25rem;
      background: rgba(0, 0, 0, 0.2);
      border-left: 2px solid rgba(148, 163, 253, 0.3);
      margin-left: 0.5rem;
      margin-top: 0.25rem;
      border-radius: 4px;
      animation: slideDownSubmenu 0.2s ease-out;
    }

    @keyframes slideDownSubmenu {
      from {
        opacity: 0;
        transform: translateY(-5px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Mobile submenu links */
    .rtp-mobile-submenu-link {
      display: block;
      padding: 0.4rem 0.5rem;
      font-size: 0.85rem;
      font-weight: 500;
      color: #d1d5db;
      text-decoration: none;
      border-radius: 4px;
      transition: all 0.18s ease;
    }

    .rtp-mobile-submenu-link:hover {
      background: rgba(15, 23, 42, 0.8);
      color: #facc15;
      padding-left: 0.75rem;
    }

    /* Mobile direct links (no submenu) */
    .rtp-mobile-link {
      display: block;
      padding: 0.5rem 0.25rem;
      font-size: 0.9rem;
      font-weight: 500;
      color: #e5e7eb;
      text-decoration: none;
      border-radius: 6px;
      transition: all 0.18s ease;
    }

    .rtp-mobile-link:hover {
      background: rgba(15, 23, 42, 0.96);
      color: #facc15;
    }

    .user-profile-mobile {
      margin-top: 0.5rem;
      width: 100%;
      max-width: 300px;
      margin-left: auto;
      margin-right: auto;
    }

    /* Mobile user section */
    .rtp-mobile-user-section {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      padding-top: 1rem;
      border-top: 1px solid rgba(250, 204, 21, 0.1);
    }

    .rtp-mobile-user-info {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem;
      color: #e5e7eb;
      font-weight: 500;
      background: rgba(250, 204, 21, 0.05);
      border-radius: 8px;
    }

    .rtp-mobile-menu-item {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.75rem 1rem;
      border-radius: 8px;
      font-weight: 500;
      text-decoration: none;
      background: rgba(250, 204, 21, 0.05);
      color: #e5e7eb;
      border: 1px solid rgba(250, 204, 21, 0.15);
      transition: all 0.2s ease;
    }

    .rtp-mobile-menu-item:hover {
      background: rgba(250, 204, 21, 0.15);
      color: #facc15;
      border-color: rgba(250, 204, 21, 0.3);
      transform: translateX(4px);
    }

    

    .rtp-mobile-cta-logout {
      padding: 0.75rem 1.25rem;
      border-radius: 8px;
      font-weight: 600;
      text-align: center;
      background: rgba(239, 68, 68, 0.1);
      color: #ef4444;
      border: 1px solid rgba(239, 68, 68, 0.3);
      transition: all 0.2s ease;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }

    .rtp-mobile-cta-logout:hover {
      background: rgba(239, 68, 68, 0.2);
      transform: translateY(-1px);
    }
  }

  /* Desktop user menu */
  .rtp-user-menu {
    position: relative;
  }

  .rtp-user-button {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.625rem 1.25rem;
    background: rgba(250, 204, 21, 0.1);
    color: #facc15;
    border: 1px solid rgba(250, 204, 21, 0.3);
    border-radius: 8px;
    font-weight: 600;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .rtp-user-button:hover {
    background: rgba(250, 204, 21, 0.2);
    border-color: rgba(250, 204, 21, 0.5);
  }

  .rtp-user-dropdown {
    position: absolute;
    top: calc(100% + 0.5rem);
    right: 0;
    min-width: 200px;
    background: rgba(15, 23, 42, 0.98);
    backdrop-filter: blur(12px);
    border: 1px solid rgba(250, 204, 21, 0.2);
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all 0.2s ease;
    z-index: 100;
    overflow: hidden;
  }

  .rtp-user-menu:hover .rtp-user-dropdown {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
  }

  .rtp-user-dropdown-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    width: 100%;
    padding: 0.75rem 1rem;
    color: #e5e7eb;
    text-decoration: none;
    font-weight: 500;
    font-size: 0.9rem;
    background: transparent;
    border: none;
    cursor: pointer;
    transition: all 0.15s ease;
    text-align: left;
  }

  .rtp-user-dropdown-item:hover {
    background: rgba(250, 204, 21, 0.1);
    color: #facc15;
  }

  .rtp-user-dropdown-item:not(:last-child) {
    border-bottom: 1px solid rgba(250, 204, 21, 0.1);
  }

  /* Cart button styles */
  .rtp-cart-button {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0.625rem 1rem;
    background: rgba(139, 92, 246, 0.1);
    color: #a78bfa;
    border: 1px solid rgba(139, 92, 246, 0.3);
    border-radius: 8px;
    transition: all 0.2s ease;
    text-decoration: none;
    position: relative;
  }

  .rtp-cart-button:hover {
    background: rgba(139, 92, 246, 0.2);
    border-color: rgba(139, 92, 246, 0.5);
    transform: translateY(-1px);
  }

  .rtp-cart-icon-wrapper {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .rtp-cart-badge {
    position: absolute;
    top: -8px;
    right: -8px;
    min-width: 18px;
    height: 18px;
    padding: 0 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #f97316, #facc15);
    color: #020817;
    font-size: 0.7rem;
    font-weight: 700;
    border-radius: 9px;
    box-shadow: 0 2px 8px rgba(250, 204, 21, 0.4);
    animation: cartBadgePulse 2s ease-in-out infinite;
  }

  @keyframes cartBadgePulse {
    0%, 100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.1);
    }
  }
</style>

# END OF frontend/src/lib/components/NavBar.svelte


##################################################################
# FILE: frontend/src/lib/components/SEOHead.svelte
# PATH: frontend/src/lib/components/SEOHead.svelte
##################################################################

<script lang="ts">
  /**
   * SEOHead Component - RankMath Pro-style SEO implementation
   * Comprehensive meta tags for search engines and social media
   */

  export let title: string;
  export let description: string;
  export let canonical: string | null = null;
  export let ogImage: string | null = null;
  export let ogType: string = 'website';
  export let author: string | null = null;
  export let publishedTime: string | null = null;
  export let modifiedTime: string | null = null;
  export let noindex: boolean = false;
  export let schema: any = null;

  // Site config
  const siteUrl = 'https://revolutiontradingpros.com';
  const siteName = 'Revolution Trading Pros';
  const twitterHandle = '@RevolutionTradingPros';

  // Construct full URL
  $: fullCanonical = canonical ? `${siteUrl}${canonical}` : null;
  $: fullOgImage = ogImage ? (ogImage.startsWith('http') ? ogImage : `${siteUrl}${ogImage}`) : `${siteUrl}/revolution-trading-pros.png`;

  // Format title
  $: fullTitle = title.includes(siteName) ? title : `${title} | ${siteName}`;
</script>

<svelte:head>
  <!-- Primary Meta Tags -->
  <title>{fullTitle}</title>
  <meta name="title" content={fullTitle} />
  <meta name="description" content={description} />

  <!-- Robots -->
  {#if noindex}
    <meta name="robots" content="noindex, nofollow" />
  {:else}
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
  {/if}

  <!-- Canonical URL -->
  {#if fullCanonical}
    <link rel="canonical" href={fullCanonical} />
  {/if}

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content={ogType} />
  <meta property="og:site_name" content={siteName} />
  <meta property="og:title" content={fullTitle} />
  <meta property="og:description" content={description} />
  {#if fullCanonical}
    <meta property="og:url" content={fullCanonical} />
  {/if}
  <meta property="og:image" content={fullOgImage} />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:image:alt" content={title} />
  <meta property="og:locale" content="en_US" />

  <!-- Article Meta Tags (for blog posts) -->
  {#if ogType === 'article'}
    {#if publishedTime}
      <meta property="article:published_time" content={publishedTime} />
    {/if}
    {#if modifiedTime}
      <meta property="article:modified_time" content={modifiedTime} />
    {/if}
    {#if author}
      <meta property="article:author" content={author} />
    {/if}
    <meta property="article:section" content="Trading" />
    <meta property="article:tag" content="Trading" />
    <meta property="article:tag" content="Finance" />
    <meta property="article:tag" content="Investment" />
  {/if}

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content={twitterHandle} />
  <meta name="twitter:creator" content={twitterHandle} />
  <meta name="twitter:title" content={fullTitle} />
  <meta name="twitter:description" content={description} />
  <meta name="twitter:image" content={fullOgImage} />
  <meta name="twitter:image:alt" content={title} />

  <!-- Additional Meta Tags -->
  {#if author}
    <meta name="author" content={author} />
  {/if}
  <meta name="generator" content="SvelteKit" />

  <!-- JSON-LD Structured Data -->
  {#if schema}
    {@html `<script type="application/ld+json">${JSON.stringify(schema)}</script>`}
  {/if}
</svelte:head>

# END OF frontend/src/lib/components/SEOHead.svelte


##################################################################
# FILE: frontend/src/lib/components/PopupModal.svelte
# PATH: frontend/src/lib/components/PopupModal.svelte
##################################################################

<script lang="ts">
  import { onMount, onDestroy } from 'svelte';
  import { scale, fade, fly, blur } from 'svelte/transition';
  import { quintOut, cubicOut, backOut, elasticOut } from 'svelte/easing';
  import { popupStore, activePopup, type Popup } from '$lib/stores/popups';
  import { IconX } from '@tabler/icons-svelte';
  import CountdownTimer from './CountdownTimer.svelte';
  import VideoEmbed from './VideoEmbed.svelte';

  let currentPopup: Popup | null = null;
  let isVisible = false;
  let scrollListener: (() => void) | null = null;
  let exitIntentListener: ((e: MouseEvent) => void) | null = null;
  let formData: Record<string, string> = {};

  $: currentPopup = $activePopup;

  onMount(() => {
    // Increment page view on mount
    popupStore.incrementPageView();
  });

  // Handle popup display rules
  $: if (currentPopup && !isVisible) {
    handlePopupTriggers(currentPopup);
  }

  function handlePopupTriggers(popup: Popup) {
    // Check if popup can be shown based on frequency rules
    if (!popupStore.canShow(popup)) {
      return;
    }

    // Check page targeting
    if (!isPageTargeted(popup)) {
      return;
    }

    // Check device targeting
    if (!isDeviceTargeted(popup)) {
      return;
    }

    // Delay trigger
    if (popup.displayRules.delaySeconds > 0) {
      setTimeout(() => {
        if (!isVisible) showPopup();
      }, popup.displayRules.delaySeconds * 1000);
    } else if (!popup.displayRules.showOnScroll && !popup.displayRules.showOnExit) {
      showPopup();
    }

    // Scroll trigger
    if (popup.displayRules.showOnScroll) {
      scrollListener = () => {
        const scrollPercentage = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
        if (scrollPercentage >= popup.displayRules.scrollPercentage && !isVisible) {
          showPopup();
          if (scrollListener) {
            window.removeEventListener('scroll', scrollListener);
          }
        }
      };
      window.addEventListener('scroll', scrollListener);
    }

    // Exit intent trigger
    if (popup.displayRules.showOnExit) {
      exitIntentListener = (e: MouseEvent) => {
        if (e.clientY <= 0 && !isVisible) {
          showPopup();
          if (exitIntentListener) {
            document.removeEventListener('mouseleave', exitIntentListener);
          }
        }
      };
      document.addEventListener('mouseleave', exitIntentListener);
    }
  }

  function isPageTargeted(popup: Popup): boolean {
    if (typeof window === 'undefined') return false;

    const currentPath = window.location.pathname;

    // Check exclude pages first
    for (const excludePattern of popup.displayRules.excludePages) {
      if (matchPattern(currentPath, excludePattern)) {
        return false;
      }
    }

    // Check include pages
    for (const includePattern of popup.displayRules.pages) {
      if (matchPattern(currentPath, includePattern)) {
        return true;
      }
    }

    return false;
  }

  function matchPattern(path: string, pattern: string): boolean {
    // Simple pattern matching with wildcards
    const regexPattern = pattern.replace(/\*/g, '.*').replace(/\//g, '\\/');
    const regex = new RegExp(`^${regexPattern}$`);
    return regex.test(path);
  }

  function isDeviceTargeted(popup: Popup): boolean {
    if (typeof window === 'undefined') return false;

    const targeting = popup.displayRules.deviceTargeting;
    if (targeting === 'all') return true;

    const width = window.innerWidth;
    if (targeting === 'mobile' && width < 768) return true;
    if (targeting === 'tablet' && width >= 768 && width < 1024) return true;
    if (targeting === 'desktop' && width >= 1024) return true;

    return false;
  }

  function showPopup() {
    if (!currentPopup) return;
    isVisible = true;
    popupStore.recordImpression(currentPopup.id);
  }

  function closePopup() {
    isVisible = false;
    setTimeout(() => {
      popupStore.hide();
    }, currentPopup?.animation.duration || 300);
  }

  function handleOverlayClick() {
    if (currentPopup?.closeOnOverlayClick) {
      closePopup();
    }
  }

  function handleButtonClick(button: any) {
    if (currentPopup) {
      popupStore.recordConversion(currentPopup.id);
    }

    if (button.action === 'close') {
      closePopup();
    } else if (button.action === 'submit') {
      handleFormSubmit();
    } else if (button.link) {
      window.location.href = button.link;
    }
  }

  async function handleFormSubmit() {
    if (!currentPopup?.formAction) return;

    try {
      const response = await fetch(currentPopup.formAction, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(formData)
      });

      if (response.ok) {
        if (currentPopup) {
          popupStore.recordConversion(currentPopup.id);
        }
        closePopup();
      }
    } catch (error) {
      console.error('Form submission error:', error);
    }
  }

  function getTransition(type: string, direction: 'in' | 'out') {
    const duration = currentPopup?.animation.duration || 300;

    switch (type) {
      case 'fade':
        return { fn: fade, options: { duration } };

      case 'slide-up':
        return { fn: fly, options: { y: direction === 'in' ? 50 : -50, duration } };

      case 'slide-down':
        return { fn: fly, options: { y: direction === 'in' ? -50 : 50, duration } };

      case 'slide-left':
        return { fn: fly, options: { x: direction === 'in' ? 100 : -100, duration } };

      case 'slide-right':
        return { fn: fly, options: { x: direction === 'in' ? -100 : 100, duration } };

      case 'zoom':
        return { fn: scale, options: { start: direction === 'in' ? 0.8 : 1, opacity: 0, duration } };

      case 'bounce':
        return { fn: scale, options: { start: direction === 'in' ? 1.2 : 1, duration, easing: elasticOut } };

      case 'flip':
        return { fn: scale, options: { start: direction === 'in' ? 0 : 1, opacity: 0, duration, easing: backOut } };

      default:
        return { fn: fade, options: { duration } };
    }
  }

  function getButtonGradient(button: any): string {
    if (button.gradient) return button.gradient;

    switch (button.style) {
      case 'primary':
        return 'bg-gradient-to-r from-indigo-500 to-purple-500';
      case 'secondary':
        return 'bg-gradient-to-r from-slate-600 to-slate-700';
      case 'outline':
        return 'bg-transparent border-2 border-indigo-500';
      case 'ghost':
        return 'bg-transparent hover:bg-slate-800';
      default:
        return 'bg-gradient-to-r from-indigo-500 to-purple-500';
    }
  }

  onDestroy(() => {
    if (scrollListener) {
      window.removeEventListener('scroll', scrollListener);
    }
    if (exitIntentListener) {
      document.removeEventListener('mouseleave', exitIntentListener);
    }
  });
</script>

{#if currentPopup && isVisible}
  <!-- Overlay -->
  <div
    class="popup-overlay"
    style="background-color: {currentPopup.overlayColor}; opacity: {currentPopup.overlayOpacity};"
    role="button"
    tabindex="0"
    on:click={handleOverlayClick}
    on:keydown={(e) => e.key === 'Escape' && handleOverlayClick()}
    in:fade={{ duration: currentPopup.animation.duration }}
    out:fade={{ duration: currentPopup.animation.duration }}
  ></div>

  <!-- Popup Modal -->
  <div
    class="popup-container"
    in:scale={getTransition(currentPopup.animation.entrance, 'in').options}
    out:scale={getTransition(currentPopup.animation.exit, 'out').options}
  >
    <div
      class="popup-content"
      style="
        width: {currentPopup.design.width};
        max-width: {currentPopup.design.maxWidth};
        height: {currentPopup.design.height};
        padding: {currentPopup.design.padding};
        background-color: {currentPopup.design.backgroundColor};
        color: {currentPopup.design.textColor};
        border-radius: {currentPopup.design.borderRadius};
        border: {currentPopup.design.borderWidth} {currentPopup.design.borderStyle} {currentPopup.design.borderColor};
        backdrop-filter: blur({currentPopup.design.backdropBlur});
        box-shadow: {currentPopup.design.boxShadow};
        {currentPopup.design.backgroundGradient ? `background: ${currentPopup.design.backgroundGradient};` : ''}
        {currentPopup.design.backgroundImage ? `background-image: url(${currentPopup.design.backgroundImage});` : ''}
        {currentPopup.design.customCss || ''}
      "
    >
      <!-- Close Button -->
      {#if currentPopup.closeButton}
        <button
          class="popup-close-btn"
          on:click={closePopup}
          aria-label="Close popup"
        >
          <IconX size={24} />
        </button>
      {/if}

      <!-- Title -->
      {#if currentPopup.title}
        <h2 class="popup-title">{currentPopup.title}</h2>
      {/if}

      <!-- Countdown Timer -->
      {#if currentPopup.countdownTimer?.enabled && currentPopup.countdownTimer.endDate}
        <CountdownTimer
          endDate={currentPopup.countdownTimer.endDate}
          showDays={currentPopup.countdownTimer.showDays}
          showHours={currentPopup.countdownTimer.showHours}
          showMinutes={currentPopup.countdownTimer.showMinutes}
          showSeconds={currentPopup.countdownTimer.showSeconds}
          timerColor={currentPopup.countdownTimer.timerColor}
          onExpire={(action) => {
            if (currentPopup.countdownTimer?.onExpire === 'hide') {
              closePopup();
            } else if (currentPopup.countdownTimer?.onExpire === 'redirect' && currentPopup.countdownTimer?.redirectUrl) {
              window.location.href = currentPopup.countdownTimer.redirectUrl;
            }
          }}
        />
      {/if}

      <!-- Video Embed -->
      {#if currentPopup.videoEmbed?.enabled && currentPopup.videoEmbed.url}
        <VideoEmbed
          url={currentPopup.videoEmbed.url}
          autoplay={currentPopup.videoEmbed.autoplay}
          muted={currentPopup.videoEmbed.muted}
          controls={currentPopup.videoEmbed.controls}
          aspectRatio={currentPopup.videoEmbed.aspectRatio}
          customAspectRatio={currentPopup.videoEmbed.customAspectRatio}
        />
      {/if}

      <!-- Content -->
      <div class="popup-body">
        {#if currentPopup.content.type === 'html'}
          {@html currentPopup.content.data}
        {:else}
          <div>{currentPopup.content.data}</div>
        {/if}
      </div>

      <!-- Form Fields -->
      {#if currentPopup.formFields && currentPopup.formFields.length > 0}
        <form class="popup-form" on:submit|preventDefault={handleFormSubmit}>
          {#each currentPopup.formFields as field}
            <div class="form-field">
              {#if field.type === 'textarea'}
                <textarea
                  name={field.name}
                  placeholder={field.placeholder}
                  required={field.required}
                  bind:value={formData[field.name]}
                  class="form-input"
                ></textarea>
              {:else if field.type === 'select'}
                <select
                  name={field.name}
                  required={field.required}
                  bind:value={formData[field.name]}
                  class="form-input"
                >
                  <option value="">{field.placeholder}</option>
                  {#each field.options || [] as option}
                    <option value={option}>{option}</option>
                  {/each}
                </select>
              {:else}
                <input
                  type={field.type}
                  name={field.name}
                  placeholder={field.placeholder}
                  required={field.required}
                  bind:value={formData[field.name]}
                  class="form-input"
                />
              {/if}
            </div>
          {/each}
        </form>
      {/if}

      <!-- Buttons -->
      {#if currentPopup.buttons.length > 0}
        <div class="popup-buttons">
          {#each currentPopup.buttons as button}
            <button
              class="popup-btn {getButtonGradient(button)} {button.customClass || ''}"
              on:click={() => handleButtonClick(button)}
            >
              {button.text}
            </button>
          {/each}
        </div>
      {/if}
    </div>
  </div>
{/if}

<style>
  .popup-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 9998;
  }

  .popup-container {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 9999;
    max-height: 90vh;
    overflow-y: auto;
  }

  .popup-content {
    position: relative;
  }

  .popup-close-btn {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: rgba(0, 0, 0, 0.3);
    border: none;
    border-radius: 8px;
    padding: 0.5rem;
    cursor: pointer;
    color: currentColor;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .popup-close-btn:hover {
    background: rgba(0, 0, 0, 0.5);
  }

  .popup-title {
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 1.5rem;
    line-height: 1.2;
  }

  .popup-body {
    margin-bottom: 1.5rem;
    line-height: 1.6;
  }

  .popup-form {
    margin-bottom: 1.5rem;
  }

  .form-field {
    margin-bottom: 1rem;
  }

  .form-input {
    width: 100%;
    padding: 0.75rem 1rem;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    color: inherit;
    font-size: 1rem;
    transition: all 0.2s;
  }

  .form-input:focus {
    outline: none;
    border-color: rgba(99, 102, 241, 0.5);
    background: rgba(255, 255, 255, 0.08);
  }

  .popup-buttons {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
  }

  .popup-btn {
    flex: 1;
    min-width: 120px;
    padding: 0.875rem 1.5rem;
    font-weight: 600;
    border-radius: 12px;
    border: none;
    cursor: pointer;
    transition: all 0.3s;
    font-size: 1rem;
  }

  .popup-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
  }

  /* Scrollbar styling */
  .popup-container::-webkit-scrollbar {
    width: 8px;
  }

  .popup-container::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.1);
    border-radius: 4px;
  }

  .popup-container::-webkit-scrollbar-thumb {
    background: rgba(99, 102, 241, 0.5);
    border-radius: 4px;
  }

  .popup-container::-webkit-scrollbar-thumb:hover {
    background: rgba(99, 102, 241, 0.7);
  }
</style>

# END OF frontend/src/lib/components/PopupModal.svelte


##################################################################
# FILE: frontend/src/lib/components/PopupDisplay.svelte
# PATH: frontend/src/lib/components/PopupDisplay.svelte
##################################################################

<script lang="ts">
  import { onMount, onDestroy } from 'svelte';
  import { browser } from '$app/environment';
  import { popupsApi, type Popup } from '$lib/api/popups';
  import { IconX } from '@tabler/icons-svelte';

  export let pageUrl: string = '';

  let popups: Popup[] = [];
  let currentPopup: Popup | null = null;
  let show = false;
  let viewId: number | null = null;
  let isClosing = false;

  // Tracking
  let scrollDepth = 0;
  let timeOnPage = 0;
  let exitIntentTriggered = false;

  // Timers
  let timeInterval: any;
  let showTimeout: any;

  // Accessibility
  let popupElement: HTMLElement;
  let previousFocusedElement: HTMLElement | null = null;

  // Button ripple effect state
  let rippleActive = false;
  let rippleX = 0;
  let rippleY = 0;

  onMount(async () => {
    if (!browser) return;

    await loadActivePopups();
    setupTracking();
  });

  onDestroy(() => {
    if (timeInterval) clearInterval(timeInterval);
    if (showTimeout) clearTimeout(showTimeout);
    removeEventListeners();
    restoreFocus();
  });

  async function loadActivePopups() {
    try {
      const device = getDeviceType();
      const response = await popupsApi.getActive(pageUrl || window.location.href, device);
      popups = response.popups || [];

      if (popups.length > 0) {
        // Show highest priority popup
        currentPopup = popups.sort((a, b) => b.priority - a.priority)[0];
        setupTriggers(currentPopup);
      }
    } catch (error) {
      console.error('Failed to load popups:', error);
    }
  }

  function setupTriggers(popup: Popup) {
    const rules = popup.trigger_rules || {};

    switch (popup.type) {
      case 'timed':
        const delay = rules.delay || 5000;
        showTimeout = setTimeout(() => showPopup(popup), delay);
        break;

      case 'exit_intent':
        document.addEventListener('mouseout', handleExitIntent);
        break;

      case 'scroll':
        window.addEventListener('scroll', handleScroll);
        break;

      case 'click_trigger':
        const selector = rules.selector || '[data-popup-trigger]';
        document.querySelectorAll(selector).forEach(el => {
          el.addEventListener('click', () => showPopup(popup));
        });
        break;

      default:
        // Immediate display
        setTimeout(() => showPopup(popup), 100);
    }
  }

  function setupTracking() {
    // Track time on page
    timeInterval = setInterval(() => {
      timeOnPage += 1000;
    }, 1000);

    // Track scroll depth
    window.addEventListener('scroll', updateScrollDepth);
  }

  function removeEventListeners() {
    document.removeEventListener('mouseout', handleExitIntent);
    window.removeEventListener('scroll', handleScroll);
    window.removeEventListener('scroll', updateScrollDepth);
  }

  function handleExitIntent(e: MouseEvent) {
    if (exitIntentTriggered || !currentPopup) return;

    // Trigger when mouse leaves top of page
    if (e.clientY <= 0) {
      exitIntentTriggered = true;
      showPopup(currentPopup);
      document.removeEventListener('mouseout', handleExitIntent);
    }
  }

  function handleScroll() {
    if (!currentPopup) return;

    const rules = currentPopup.trigger_rules || {};
    const targetDepth = rules.scroll_depth || 50; // Default 50%

    updateScrollDepth();

    if (scrollDepth >= targetDepth && !show) {
      showPopup(currentPopup);
      window.removeEventListener('scroll', handleScroll);
    }
  }

  function updateScrollDepth() {
    const windowHeight = window.innerHeight;
    const documentHeight = document.documentElement.scrollHeight;
    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;

    scrollDepth = ((scrollTop + windowHeight) / documentHeight) * 100;
  }

  async function showPopup(popup: Popup) {
    currentPopup = popup;
    show = true;
    isClosing = false;

    // Save current focus for restoration
    if (browser && document.activeElement instanceof HTMLElement) {
      previousFocusedElement = document.activeElement;
    }

    // Track view
    try {
      const response = await popupsApi.trackView(popup.id, {
        page_url: window.location.href,
        device: getDeviceType()
      });
      viewId = response.view_id;
    } catch (error) {
      console.error('Failed to track view:', error);
    }

    // Focus management - wait for element to render
    setTimeout(() => {
      if (popupElement) {
        const firstFocusable = popupElement.querySelector<HTMLElement>(
          'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
        );
        firstFocusable?.focus();
      }
    }, 100);

    // Auto close
    if (popup.auto_close_after) {
      setTimeout(closePopup, popup.auto_close_after * 1000);
    }
  }

  function closePopup() {
    isClosing = true;

    // Wait for exit animation to complete
    setTimeout(() => {
      show = false;
      isClosing = false;
      removeEventListeners();
      restoreFocus();
    }, 300);
  }

  function restoreFocus() {
    if (previousFocusedElement) {
      previousFocusedElement.focus();
      previousFocusedElement = null;
    }
  }

  function handleOverlayClick() {
    if (currentPopup?.close_on_overlay_click) {
      closePopup();
    }
  }

  async function handleConversion(type: string, data: any = {}) {
    if (!currentPopup || !viewId) return;

    try {
      await popupsApi.trackConversion(currentPopup.id, viewId, type, data);
      closePopup();
    } catch (error) {
      console.error('Failed to track conversion:', error);
    }
  }

  function handleCTAClick(event: MouseEvent) {
    // Ripple effect
    if (event.currentTarget instanceof HTMLElement) {
      const rect = event.currentTarget.getBoundingClientRect();
      rippleX = event.clientX - rect.left;
      rippleY = event.clientY - rect.top;
      rippleActive = true;

      setTimeout(() => {
        rippleActive = false;
      }, 600);
    }

    handleConversion('cta_click');

    if (currentPopup?.cta_url) {
      if (currentPopup.cta_new_tab) {
        window.open(currentPopup.cta_url, '_blank');
      } else {
        window.location.href = currentPopup.cta_url;
      }
    }
  }

  function handleKeydown(event: KeyboardEvent) {
    if (!show) return;

    if (event.key === 'Escape' && currentPopup?.show_close_button) {
      closePopup();
    }

    // Trap focus within popup
    if (event.key === 'Tab' && popupElement) {
      const focusableElements = popupElement.querySelectorAll<HTMLElement>(
        'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
      );

      if (focusableElements.length === 0) return;

      const firstElement = focusableElements[0];
      const lastElement = focusableElements[focusableElements.length - 1];

      if (event.shiftKey && document.activeElement === firstElement) {
        lastElement.focus();
        event.preventDefault();
      } else if (!event.shiftKey && document.activeElement === lastElement) {
        firstElement.focus();
        event.preventDefault();
      }
    }
  }

  function getDeviceType(): string {
    if (!browser) return 'desktop';

    const width = window.innerWidth;
    if (width < 768) return 'mobile';
    if (width < 1024) return 'tablet';
    return 'desktop';
  }

  function getPositionClasses(position: string): string {
    switch (position) {
      case 'top':
        return 'items-start justify-center pt-4 sm:pt-8';
      case 'bottom':
        return 'items-end justify-center pb-4 sm:pb-8';
      case 'corner':
        return 'items-end justify-end p-4 sm:p-6';
      default:
        return 'items-center justify-center';
    }
  }

  function getSizeClass(size: string): string {
    switch (size) {
      case 'sm':
        return 'max-w-xs sm:max-w-sm';
      case 'md':
        return 'max-w-sm sm:max-w-md';
      case 'lg':
        return 'max-w-md sm:max-w-lg';
      case 'xl':
        return 'max-w-lg sm:max-w-xl';
      case 'full':
        return 'max-w-full m-2 sm:m-4';
      default:
        return 'max-w-sm sm:max-w-md';
    }
  }

  function getAnimationClass(animation: string): string {
    const baseClass = isClosing ? 'popup-exit' : 'popup-enter';

    switch (animation) {
      case 'fade':
        return `${baseClass}-fade`;
      case 'slide':
        return `${baseClass}-slide`;
      case 'zoom':
        return `${baseClass}-zoom`;
      case 'bounce':
        return `${baseClass}-bounce`;
      case 'rotate':
        return `${baseClass}-rotate`;
      case 'flip':
        return `${baseClass}-flip`;
      default:
        return `${baseClass}-fade`;
    }
  }

  function getButtonStyles(design: any): string {
    const styles: string[] = [];

    if (design?.buttonColor) {
      styles.push(`background-color: ${design.buttonColor}`);
    }

    if (design?.buttonTextColor) {
      styles.push(`color: ${design.buttonTextColor}`);
    }

    if (design?.buttonBorderRadius) {
      styles.push(`border-radius: ${design.buttonBorderRadius}px`);
    }

    if (design?.buttonShadow) {
      styles.push(`box-shadow: ${design.buttonShadow}`);
    }

    if (design?.buttonPadding) {
      styles.push(`padding: ${design.buttonPadding}`);
    }

    return styles.join('; ');
  }

  function getButtonHoverColor(color: string): string {
    // Darken the button color on hover
    const hex = color.replace('#', '');
    const r = Math.max(0, parseInt(hex.substr(0, 2), 16) - 20);
    const g = Math.max(0, parseInt(hex.substr(2, 2), 16) - 20);
    const b = Math.max(0, parseInt(hex.substr(4, 2), 16) - 20);

    return `#${r.toString(16).padStart(2, '0')}${g.toString(16).padStart(2, '0')}${b.toString(16).padStart(2, '0')}`;
  }

  // Reactive keyboard event listener
  $: if (browser && show) {
    window.addEventListener('keydown', handleKeydown);
  } else if (browser) {
    window.removeEventListener('keydown', handleKeydown);
  }
</script>

{#if show && currentPopup}
  <div
    class="popup-overlay {getPositionClasses(currentPopup.position)}"
    class:closing={isClosing}
    on:click={handleOverlayClick}
    on:keydown={handleKeydown}
    role="dialog"
    aria-modal="true"
    aria-labelledby="popup-title"
    aria-describedby="popup-content"
  >
    <!-- Backdrop with smooth transition -->
    <div class="popup-backdrop" class:closing={isClosing}></div>

    <!-- Popup Container -->
    <div
      bind:this={popupElement}
      class="popup-container {getSizeClass(currentPopup.size)} {getAnimationClass(currentPopup.animation)}"
      on:click|stopPropagation
      style={currentPopup.design?.backgroundColor ? `background-color: ${currentPopup.design.backgroundColor}` : ''}
    >
      <!-- Close Button -->
      {#if currentPopup.show_close_button}
        <button
          on:click={closePopup}
          class="popup-close-button"
          aria-label="Close popup"
          title="Close (Esc)"
        >
          <IconX size={20} />
        </button>
      {/if}

      <!-- Content -->
      <div class="popup-content">
        {#if currentPopup.title}
          <h2
            id="popup-title"
            class="popup-title"
            style={currentPopup.design?.titleColor ? `color: ${currentPopup.design.titleColor}` : ''}
          >
            {currentPopup.title}
          </h2>
        {/if}

        {#if currentPopup.content}
          <div
            id="popup-content"
            class="popup-body"
            style={currentPopup.design?.textColor ? `color: ${currentPopup.design.textColor}` : ''}
          >
            {@html currentPopup.content}
          </div>
        {/if}

        <!-- Form Integration -->
        {#if currentPopup.has_form && currentPopup.form_id}
          <div class="popup-form">
            <!-- Form will be loaded here -->
            <p class="text-sm text-gray-500">Form integration coming soon...</p>
          </div>
        {/if}

        <!-- CTA Button with advanced effects -->
        {#if currentPopup.cta_text}
          <button
            on:click={handleCTAClick}
            class="popup-cta-button"
            style={getButtonStyles(currentPopup.design)}
            aria-label={currentPopup.cta_text}
          >
            <span class="popup-cta-text">{currentPopup.cta_text}</span>

            <!-- Ripple effect -->
            {#if rippleActive}
              <span
                class="button-ripple"
                style="left: {rippleX}px; top: {rippleY}px;"
              ></span>
            {/if}
          </button>
        {/if}
      </div>

    </div>
  </div>
{/if}

<style>
  /* Overlay */
  .popup-overlay {
    position: fixed;
    inset: 0;
    z-index: 9999;
    display: flex;
    padding: 1rem;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* Backdrop */
  .popup-backdrop {
    position: absolute;
    inset: 0;
    background-color: rgba(0, 0, 0, 0.75);
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
    transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    animation: backdropFadeIn 0.3s ease-out;
  }

  .popup-backdrop.closing {
    animation: backdropFadeOut 0.3s ease-in;
    opacity: 0;
  }

  /* Container */
  .popup-container {
    position: relative;
    background: white;
    border-radius: 16px;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25),
                0 0 0 1px rgba(0, 0, 0, 0.05);
    width: 100%;
    max-height: calc(100vh - 2rem);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    will-change: transform, opacity;
  }

  /* Mobile optimizations */
  @media (max-width: 640px) {
    .popup-container {
      border-radius: 12px;
      max-height: calc(100vh - 1rem);
    }

    .popup-overlay {
      padding: 0.5rem;
    }
  }

  /* Tablet optimizations */
  @media (min-width: 641px) and (max-width: 1024px) {
    .popup-container {
      max-width: 90vw;
    }
  }

  /* Close Button */
  .popup-close-button {
    position: absolute;
    top: 1rem;
    right: 1rem;
    z-index: 10;
    padding: 0.5rem;
    color: #9ca3af;
    background-color: transparent;
    border: none;
    border-radius: 9999px;
    cursor: pointer;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .popup-close-button:hover {
    color: #374151;
    background-color: #f3f4f6;
    transform: scale(1.1);
  }

  .popup-close-button:active {
    transform: scale(0.95);
  }

  .popup-close-button:focus-visible {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
  }

  /* Content */
  .popup-content {
    padding: 2rem;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }

  @media (max-width: 640px) {
    .popup-content {
      padding: 1.5rem;
    }
  }

  /* Title */
  .popup-title {
    font-size: 1.875rem;
    font-weight: 700;
    color: #111827;
    margin-bottom: 1rem;
    line-height: 1.25;
  }

  @media (max-width: 640px) {
    .popup-title {
      font-size: 1.5rem;
    }
  }

  /* Body */
  .popup-body {
    color: #374151;
    margin-bottom: 1.5rem;
    line-height: 1.625;
  }

  /* Form */
  .popup-form {
    margin-bottom: 1.5rem;
  }

  /* CTA Button */
  .popup-cta-button {
    position: relative;
    width: 100%;
    padding: 0.875rem 1.5rem;
    font-size: 1rem;
    font-weight: 600;
    color: white;
    background-color: #3b82f6;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    overflow: hidden;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
                0 2px 4px -1px rgba(0, 0, 0, 0.06);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .popup-cta-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
                0 4px 6px -2px rgba(0, 0, 0, 0.05);
  }

  .popup-cta-button:active {
    transform: translateY(0);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
                0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }

  .popup-cta-button:focus-visible {
    outline: 2px solid currentColor;
    outline-offset: 2px;
  }

  .popup-cta-text {
    position: relative;
    z-index: 1;
  }

  /* Button Ripple Effect */
  .button-ripple {
    position: absolute;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.6);
    transform: translate(-50%, -50%);
    animation: rippleEffect 0.6s ease-out;
    pointer-events: none;
  }

  @keyframes rippleEffect {
    from {
      width: 0;
      height: 0;
      opacity: 1;
    }
    to {
      width: 300px;
      height: 300px;
      opacity: 0;
    }
  }

  /* === ENTRANCE ANIMATIONS === */

  /* Fade */
  .popup-enter-fade {
    animation: fadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  /* Slide */
  .popup-enter-slide {
    animation: slideUp 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  @keyframes slideUp {
    from {
      transform: translateY(100%);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  /* Zoom */
  .popup-enter-zoom {
    animation: zoomIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  @keyframes zoomIn {
    from {
      transform: scale(0.8);
      opacity: 0;
    }
    to {
      transform: scale(1);
      opacity: 1;
    }
  }

  /* Bounce */
  .popup-enter-bounce {
    animation: bounceIn 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }

  @keyframes bounceIn {
    0% {
      transform: scale(0.3);
      opacity: 0;
    }
    50% {
      transform: scale(1.05);
    }
    70% {
      transform: scale(0.9);
    }
    100% {
      transform: scale(1);
      opacity: 1;
    }
  }

  /* Rotate */
  .popup-enter-rotate {
    animation: rotateIn 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  @keyframes rotateIn {
    from {
      transform: rotate(-180deg) scale(0.5);
      opacity: 0;
    }
    to {
      transform: rotate(0) scale(1);
      opacity: 1;
    }
  }

  /* Flip */
  .popup-enter-flip {
    animation: flipIn 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  @keyframes flipIn {
    from {
      transform: perspective(1000px) rotateX(-90deg);
      opacity: 0;
    }
    to {
      transform: perspective(1000px) rotateX(0);
      opacity: 1;
    }
  }

  /* === EXIT ANIMATIONS === */

  /* Fade Out */
  .popup-exit-fade {
    animation: fadeOut 0.3s cubic-bezier(0.4, 0, 1, 1);
  }

  @keyframes fadeOut {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }

  /* Slide Out */
  .popup-exit-slide {
    animation: slideDown 0.3s cubic-bezier(0.4, 0, 1, 1);
  }

  @keyframes slideDown {
    from {
      transform: translateY(0);
      opacity: 1;
    }
    to {
      transform: translateY(100%);
      opacity: 0;
    }
  }

  /* Zoom Out */
  .popup-exit-zoom {
    animation: zoomOut 0.3s cubic-bezier(0.4, 0, 1, 1);
  }

  @keyframes zoomOut {
    from {
      transform: scale(1);
      opacity: 1;
    }
    to {
      transform: scale(0.8);
      opacity: 0;
    }
  }

  /* Bounce Out */
  .popup-exit-bounce {
    animation: bounceOut 0.5s cubic-bezier(0.6, -0.28, 0.735, 0.045);
  }

  @keyframes bounceOut {
    0% {
      transform: scale(1);
    }
    25% {
      transform: scale(0.95);
    }
    50% {
      transform: scale(1.1);
    }
    100% {
      transform: scale(0);
      opacity: 0;
    }
  }

  /* Rotate Out */
  .popup-exit-rotate {
    animation: rotateOut 0.4s cubic-bezier(0.6, -0.28, 0.735, 0.045);
  }

  @keyframes rotateOut {
    from {
      transform: rotate(0) scale(1);
      opacity: 1;
    }
    to {
      transform: rotate(180deg) scale(0.5);
      opacity: 0;
    }
  }

  /* Flip Out */
  .popup-exit-flip {
    animation: flipOut 0.4s cubic-bezier(0.6, -0.28, 0.735, 0.045);
  }

  @keyframes flipOut {
    from {
      transform: perspective(1000px) rotateX(0);
      opacity: 1;
    }
    to {
      transform: perspective(1000px) rotateX(90deg);
      opacity: 0;
    }
  }

  /* Backdrop animations */
  @keyframes backdropFadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes backdropFadeOut {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }

  /* Reduce motion for accessibility */
  @media (prefers-reduced-motion: reduce) {
    .popup-container,
    .popup-backdrop,
    .popup-cta-button,
    .popup-close-button {
      animation: none !important;
      transition: none !important;
    }
  }

  /* High contrast mode support */
  @media (prefers-contrast: high) {
    .popup-container {
      border: 2px solid currentColor;
    }

    .popup-cta-button {
      border: 2px solid currentColor;
    }
  }

  /* Dark mode support */
  @media (prefers-color-scheme: dark) {
    .popup-container {
      background-color: #1f2937;
      color: #f3f4f6;
    }

    .popup-title {
      color: #f3f4f6;
    }

    .popup-body {
      color: #d1d5db;
    }
  }
</style>

# END OF frontend/src/lib/components/PopupDisplay.svelte


##################################################################
# FILE: frontend/src/lib/components/CountdownTimer.svelte
# PATH: frontend/src/lib/components/CountdownTimer.svelte
##################################################################

<script lang="ts">
  import { onMount, onDestroy } from 'svelte';

  export let endDate: string;
  export let showDays = true;
  export let showHours = true;
  export let showMinutes = true;
  export let showSeconds = true;
  export let timerColor = '#6366f1';
  export let onExpire: ((action: 'hide' | 'show-message' | 'redirect' | undefined) => void) | undefined = undefined;

  let days = 0;
  let hours = 0;
  let minutes = 0;
  let seconds = 0;
  let expired = false;
  let interval: ReturnType<typeof setInterval>;

  function updateCountdown() {
    const now = new Date().getTime();
    const end = new Date(endDate).getTime();
    const distance = end - now;

    if (distance < 0) {
      expired = true;
      clearInterval(interval);
      if (onExpire) {
        onExpire(undefined);
      }
      return;
    }

    days = Math.floor(distance / (1000 * 60 * 60 * 24));
    hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    seconds = Math.floor((distance % (1000 * 60)) / 1000);
  }

  onMount(() => {
    updateCountdown();
    interval = setInterval(updateCountdown, 1000);
  });

  onDestroy(() => {
    if (interval) clearInterval(interval);
  });
</script>

{#if !expired}
  <div class="countdown-timer" style="--timer-color: {timerColor}">
    {#if showDays}
      <div class="time-unit">
        <div class="time-value">{days.toString().padStart(2, '0')}</div>
        <div class="time-label">Days</div>
      </div>
    {/if}

    {#if showHours}
      <div class="time-unit">
        <div class="time-value">{hours.toString().padStart(2, '0')}</div>
        <div class="time-label">Hours</div>
      </div>
    {/if}

    {#if showMinutes}
      <div class="time-unit">
        <div class="time-value">{minutes.toString().padStart(2, '0')}</div>
        <div class="time-label">Minutes</div>
      </div>
    {/if}

    {#if showSeconds}
      <div class="time-unit">
        <div class="time-value">{seconds.toString().padStart(2, '0')}</div>
        <div class="time-label">Seconds</div>
      </div>
    {/if}
  </div>
{/if}

<style>
  .countdown-timer {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin: 1.5rem 0;
  }

  .time-unit {
    display: flex;
    flex-direction: column;
    align-items: center;
    min-width: 60px;
  }

  .time-value {
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--timer-color);
    line-height: 1;
    background: rgba(99, 102, 241, 0.1);
    border-radius: 12px;
    padding: 0.75rem 1rem;
    min-width: 70px;
    text-align: center;
  }

  .time-label {
    font-size: 0.75rem;
    color: #94a3b8;
    text-transform: uppercase;
    margin-top: 0.5rem;
    letter-spacing: 0.5px;
  }

  @media (max-width: 640px) {
    .countdown-timer {
      gap: 0.5rem;
    }

    .time-unit {
      min-width: 50px;
    }

    .time-value {
      font-size: 1.75rem;
      padding: 0.5rem 0.75rem;
      min-width: 55px;
    }

    .time-label {
      font-size: 0.625rem;
    }
  }
</style>

# END OF frontend/src/lib/components/CountdownTimer.svelte


##################################################################
# FILE: frontend/src/lib/components/VideoEmbed.svelte
# PATH: frontend/src/lib/components/VideoEmbed.svelte
##################################################################

<script lang="ts">
  export let url: string;
  export let autoplay = false;
  export let muted = false;
  export let controls = true;
  export let aspectRatio: '16:9' | '4:3' | '1:1' | 'custom' = '16:9';
  export let customAspectRatio = '';

  let embedUrl = '';
  let isYouTube = false;
  let isVimeo = false;
  let isDirect = false;

  $: {
    if (url.includes('youtube.com') || url.includes('youtu.be')) {
      isYouTube = true;
      embedUrl = getYouTubeEmbedUrl(url);
    } else if (url.includes('vimeo.com')) {
      isVimeo = true;
      embedUrl = getVimeoEmbedUrl(url);
    } else {
      isDirect = true;
      embedUrl = url;
    }
  }

  function getYouTubeEmbedUrl(url: string): string {
    let videoId = '';

    if (url.includes('youtu.be/')) {
      videoId = url.split('youtu.be/')[1].split('?')[0];
    } else if (url.includes('youtube.com/watch')) {
      const urlParams = new URLSearchParams(url.split('?')[1]);
      videoId = urlParams.get('v') || '';
    } else if (url.includes('youtube.com/embed/')) {
      videoId = url.split('embed/')[1].split('?')[0];
    }

    const params = new URLSearchParams({
      autoplay: autoplay ? '1' : '0',
      mute: muted ? '1' : '0',
      controls: controls ? '1' : '0',
      rel: '0',
      modestbranding: '1'
    });

    return `https://www.youtube.com/embed/${videoId}?${params.toString()}`;
  }

  function getVimeoEmbedUrl(url: string): string {
    let videoId = '';

    if (url.includes('vimeo.com/')) {
      videoId = url.split('vimeo.com/')[1].split(/[?#]/)[0];
    }

    const params = new URLSearchParams({
      autoplay: autoplay ? '1' : '0',
      muted: muted ? '1' : '0',
      controls: controls ? '1' : '0'
    });

    return `https://player.vimeo.com/video/${videoId}?${params.toString()}`;
  }

  function getAspectRatio(): string {
    switch (aspectRatio) {
      case '16:9': return '56.25%';
      case '4:3': return '75%';
      case '1:1': return '100%';
      case 'custom': return customAspectRatio;
      default: return '56.25%';
    }
  }
</script>

<div class="video-container" style="padding-bottom: {getAspectRatio()};">
  {#if isYouTube || isVimeo}
    <iframe
      src={embedUrl}
      title="Video player"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen
      class="video-iframe"
    ></iframe>
  {:else if isDirect}
    <video
      src={embedUrl}
      {autoplay}
      {muted}
      {controls}
      class="video-element"
      playsinline
    >
      <track kind="captions" />
    </video>
  {/if}
</div>

<style>
  .video-container {
    position: relative;
    width: 100%;
    height: 0;
    overflow: hidden;
    border-radius: 12px;
    margin-bottom: 1.5rem;
  }

  .video-iframe,
  .video-element {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 12px;
  }

  .video-element {
    object-fit: cover;
  }
</style>

# END OF frontend/src/lib/components/VideoEmbed.svelte


# ============= API CLIENTS =============

##################################################################
# FILE: frontend/src/lib/api/client.ts
# PATH: frontend/src/lib/api/client.ts
##################################################################

/**
 * API Client for Revolution Trading Pros
 * Handles all backend communication with Laravel API
 */

const API_BASE_URL = import.meta.env.VITE_API_URL || 'http://localhost:8000/api';

export interface ApiError {
	message: string;
	errors?: Record<string, string[]>;
	status: number;
}

export interface User {
	id: number;
	name: string;
	email: string;
	email_verified_at: string | null;
	created_at: string;
	updated_at: string;
}

export interface AuthResponse {
	user: User;
	token: string;
}

export interface LoginCredentials {
	email: string;
	password: string;
}

export interface RegisterData {
	name: string;
	email: string;
	password: string;
	password_confirmation: string;
}

export interface Membership {
	id: number;
	user_id: number;
	plan_id: number;
	plan: MembershipPlan;
	starts_at: string;
	expires_at: string | null;
	status: 'active' | 'expired' | 'cancelled';
}

export interface MembershipPlan {
	id: number;
	name: string;
	slug: string;
	price: number;
	billing_cycle: 'monthly' | 'yearly';
	description: string;
	features: MembershipFeature[];
}

export interface MembershipFeature {
	id: number;
	feature_code: string;
	feature_name: string;
}

export interface Product {
	id: number;
	name: string;
	slug: string;
	type: 'course' | 'indicator' | 'bundle';
	description: string;
	long_description: string | null;
	price: number;
	thumbnail: string | null;
}

export interface Post {
	id: number;
	title: string;
	slug: string;
	excerpt: string;
	content_blocks: any;
	featured_image: string | null;
	status: 'draft' | 'published';
	published_at: string | null;
	author: User;
}

class ApiClient {
	private token: string | null = null;

	constructor() {
		// Load token from localStorage on initialization
		if (typeof window !== 'undefined') {
			this.token = localStorage.getItem('auth_token');
		}
	}

	setToken(token: string | null) {
		this.token = token;
		if (typeof window !== 'undefined') {
			if (token) {
				localStorage.setItem('auth_token', token);
			} else {
				localStorage.removeItem('auth_token');
			}
		}
	}

	getToken(): string | null {
		return this.token;
	}

	private async request<T>(
		endpoint: string,
		options: RequestInit = {}
	): Promise<T> {
		const headers: HeadersInit = {
			'Content-Type': 'application/json',
			'Accept': 'application/json',
			...options.headers
		};

		if (this.token) {
			headers['Authorization'] = `Bearer ${this.token}`;
		}

		const url = `${API_BASE_URL}${endpoint}`;

		try {
			const response = await fetch(url, {
				...options,
				headers
			});

			if (!response.ok) {
				const errorData = await response.json().catch(() => ({}));
				throw {
					message: errorData.message || 'An error occurred',
					errors: errorData.errors,
					status: response.status
				} as ApiError;
			}

			return await response.json();
		} catch (error) {
			if ((error as ApiError).status) {
				throw error;
			}
			throw {
				message: 'Network error. Please check your connection.',
				status: 0
			} as ApiError;
		}
	}

	// Generic HTTP methods
	async get<T>(endpoint: string, options?: { params?: any }): Promise<T> {
		const queryString = options?.params
			? '?' + new URLSearchParams(options.params).toString()
			: '';
		return this.request<T>(`${endpoint}${queryString}`, { method: 'GET' });
	}

	async post<T>(endpoint: string, data?: any): Promise<T> {
		return this.request<T>(endpoint, {
			method: 'POST',
			body: data ? JSON.stringify(data) : undefined
		});
	}

	async put<T>(endpoint: string, data?: any): Promise<T> {
		return this.request<T>(endpoint, {
			method: 'PUT',
			body: data ? JSON.stringify(data) : undefined
		});
	}

	async delete<T = void>(endpoint: string): Promise<T> {
		return this.request<T>(endpoint, { method: 'DELETE' });
	}

	// Authentication
	async register(data: RegisterData): Promise<AuthResponse> {
		const response = await this.request<AuthResponse>('/register', {
			method: 'POST',
			body: JSON.stringify(data)
		});
		this.setToken(response.token);
		return response;
	}

	async login(credentials: LoginCredentials): Promise<AuthResponse> {
		const response = await this.request<AuthResponse>('/login', {
			method: 'POST',
			body: JSON.stringify(credentials)
		});
		this.setToken(response.token);
		return response;
	}

	async logout(): Promise<void> {
		await this.request('/logout', { method: 'POST' });
		this.setToken(null);
	}

	// User
	async getMe(): Promise<User> {
		return this.request<User>('/me');
	}

	async getMyMemberships(): Promise<Membership[]> {
		return this.request<Membership[]>('/me/memberships');
	}

	async getMyProducts(): Promise<Product[]> {
		return this.request<Product[]>('/me/products');
	}

	async getMyIndicators(): Promise<Product[]> {
		return this.request<Product[]>('/me/indicators');
	}

	// Products
	async getIndicators(): Promise<Product[]> {
		return this.request<Product[]>('/indicators');
	}

	async getIndicator(slug: string): Promise<Product> {
		return this.request<Product>(`/indicators/${slug}`);
	}

	// Posts
	async getPosts(page = 1): Promise<{ data: Post[]; meta: any }> {
		return this.request(`/posts?page=${page}`);
	}

	async getPost(slug: string): Promise<Post> {
		return this.request<Post>(`/posts/${slug}`);
	}

	// Newsletter
	async subscribeNewsletter(email: string): Promise<{ message: string }> {
		return this.request('/newsletter/subscribe', {
			method: 'POST',
			body: JSON.stringify({ email })
		});
	}

	// Cart/Checkout
	async checkout(items: Array<{ type: string; id: number; quantity?: number }>): Promise<any> {
		return this.request('/cart/checkout', {
			method: 'POST',
			body: JSON.stringify({ items })
		});
	}

	// Download
	async downloadIndicator(slug: string, downloadId: string): Promise<Blob> {
		const headers: HeadersInit = {
			'Accept': 'application/octet-stream'
		};

		if (this.token) {
			headers['Authorization'] = `Bearer ${this.token}`;
		}

		const response = await fetch(
			`${API_BASE_URL}/download/indicator/${slug}/${downloadId}`,
			{ headers }
		);

		if (!response.ok) {
			throw new Error('Download failed');
		}

		return response.blob();
	}
}

export const apiClient = new ApiClient();
export default apiClient;

// Export as 'api' for compatibility with other modules
export const api = apiClient;

# END OF frontend/src/lib/api/client.ts


##################################################################
# FILE: frontend/src/lib/api/auth.ts
# PATH: frontend/src/lib/api/auth.ts
##################################################################

import { authStore } from '$lib/stores/auth';
import type { User } from '$lib/stores/auth';

/**
 * L70 Enterprise API Authentication Service
 * ==========================================
 * Handles all authentication-related API calls with proper error handling,
 * token management, and security best practices.
 */

const API_BASE_URL = import.meta.env.VITE_API_URL || 'http://localhost:8000/api';

interface RegisterData {
  name: string;
  email: string;
  password: string;
  password_confirmation: string;
}

interface LoginData {
  email: string;
  password: string;
}

interface ForgotPasswordData {
  email: string;
}

interface ResetPasswordData {
  token: string;
  email: string;
  password: string;
  password_confirmation: string;
}

interface AuthResponse {
  user: User;
  token: string;
  message?: string;
}

interface MessageResponse {
  message: string;
}

interface ValidationError {
  message: string;
  errors?: Record<string, string[]>;
}

/**
 * Make authenticated API request
 */
async function apiRequest<T>(
  endpoint: string,
  options: RequestInit = {}
): Promise<T> {
  const token = authStore.getToken();

  const headers: HeadersInit = {
    'Content-Type': 'application/json',
    'Accept': 'application/json',
    ...options.headers,
  };

  if (token) {
    headers['Authorization'] = `Bearer ${token}`;
  }

  const response = await fetch(`${API_BASE_URL}${endpoint}`, {
    ...options,
    headers,
  });

  if (!response.ok) {
    if (response.status === 401) {
      // Unauthorized - clear auth state
      authStore.clearAuth();
    }

    const error: ValidationError = await response.json();
    throw error;
  }

  return response.json();
}

/**
 * Register new user (returns message for email verification)
 */
export async function register(data: RegisterData): Promise<string> {
  const response = await apiRequest<AuthResponse>('/register', {
    method: 'POST',
    body: JSON.stringify(data),
  });

  // Do NOT auto-login - user must verify email first
  return response.message || 'Registration successful. Please check your email to verify your account.';
}

/**
 * Register new user and auto-login (legacy - use register() instead)
 * @deprecated Use register() and require email verification
 */
export async function registerAndLogin(data: RegisterData): Promise<User> {
  const response = await apiRequest<AuthResponse>('/register', {
    method: 'POST',
    body: JSON.stringify(data),
  });

  authStore.setAuth(response.user, response.token);
  return response.user;
}

/**
 * Login existing user
 */
export async function login(data: LoginData): Promise<User> {
  const response = await apiRequest<AuthResponse>('/login', {
    method: 'POST',
    body: JSON.stringify(data),
  });

  authStore.setAuth(response.user, response.token);
  return response.user;
}

/**
 * Logout current user
 */
export async function logout(): Promise<void> {
  try {
    await apiRequest<MessageResponse>('/logout', {
      method: 'POST',
    });
  } finally {
    // Always clear auth state, even if API call fails
    authStore.clearAuth();
  }
}

/**
 * Get current authenticated user
 */
export async function getUser(): Promise<User> {
  const user = await apiRequest<User>('/me');
  authStore.setUser(user);
  return user;
}

/**
 * Send password reset link
 */
export async function forgotPassword(data: ForgotPasswordData): Promise<string> {
  const response = await apiRequest<MessageResponse>('/forgot-password', {
    method: 'POST',
    body: JSON.stringify(data),
  });

  return response.message;
}

/**
 * Reset password with token
 */
export async function resetPassword(data: ResetPasswordData): Promise<string> {
  const response = await apiRequest<MessageResponse>('/reset-password', {
    method: 'POST',
    body: JSON.stringify(data),
  });

  return response.message;
}

/**
 * Send email verification notification
 */
export async function sendEmailVerification(): Promise<string> {
  const response = await apiRequest<MessageResponse>('/email/verification-notification', {
    method: 'POST',
  });

  return response.message;
}

/**
 * Verify email with signed URL parameters
 */
export async function verifyEmail(id: string, hash: string, signature: string): Promise<string> {
  const response = await apiRequest<MessageResponse>(
    `/email/verify/${id}/${hash}?signature=${signature}`,
    {
      method: 'GET',
    }
  );

  // Refresh user data after verification
  await getUser();

  return response.message;
}

# END OF frontend/src/lib/api/auth.ts


##################################################################
# FILE: frontend/src/lib/api/cart.ts
# PATH: frontend/src/lib/api/cart.ts
##################################################################

import { browser } from '$app/environment';
import type { CartItem } from '$lib/stores/cart';

const API_URL = browser ? import.meta.env.VITE_API_URL || 'http://localhost:8000/api' : '';

interface CheckoutSessionResponse {
  sessionId: string;
  url: string;
}

/**
 * Create a checkout session with Stripe
 */
export async function createCheckoutSession(items: CartItem[]): Promise<CheckoutSessionResponse> {
  const token = localStorage.getItem('auth_token');

  const response = await fetch(`${API_URL}/checkout/create-session`, {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Accept': 'application/json',
      ...(token && { Authorization: `Bearer ${token}` })
    },
    body: JSON.stringify({ items })
  });

  if (!response.ok) {
    const error = await response.json();
    throw new Error(error.message || 'Failed to create checkout session');
  }

  return response.json();
}

/**
 * Add item to cart (sync with backend if authenticated)
 */
export async function addToCart(item: Omit<CartItem, 'quantity'>): Promise<void> {
  const token = localStorage.getItem('auth_token');

  if (!token) {
    // Guest user - only local storage (handled by cart store)
    return;
  }

  try {
    const response = await fetch(`${API_URL}/cart/add`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Accept': 'application/json',
        Authorization: `Bearer ${token}`
      },
      body: JSON.stringify(item)
    });

    if (!response.ok) {
      const error = await response.json();
      throw new Error(error.message || 'Failed to add item to cart');
    }
  } catch (error) {
    console.error('Error syncing cart with backend:', error);
    // Continue anyway - local cart still works
  }
}

/**
 * Sync cart with backend (for authenticated users)
 */
export async function syncCart(items: CartItem[]): Promise<void> {
  const token = localStorage.getItem('auth_token');

  if (!token) return;

  try {
    const response = await fetch(`${API_URL}/cart/sync`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Accept': 'application/json',
        Authorization: `Bearer ${token}`
      },
      body: JSON.stringify({ items })
    });

    if (!response.ok) {
      const error = await response.json();
      throw new Error(error.message || 'Failed to sync cart');
    }
  } catch (error) {
    console.error('Error syncing cart with backend:', error);
  }
}

/**
 * Get cart from backend (for authenticated users)
 */
export async function getCart(): Promise<CartItem[]> {
  const token = localStorage.getItem('auth_token');

  if (!token) return [];

  try {
    const response = await fetch(`${API_URL}/cart`, {
      method: 'GET',
      headers: {
        'Accept': 'application/json',
        Authorization: `Bearer ${token}`
      }
    });

    if (!response.ok) {
      const error = await response.json();
      throw new Error(error.message || 'Failed to get cart');
    }

    const data = await response.json();
    return data.items || [];
  } catch (error) {
    console.error('Error getting cart from backend:', error);
    return [];
  }
}

/**
 * Clear cart on backend (after successful checkout)
 */
export async function clearCartOnBackend(): Promise<void> {
  const token = localStorage.getItem('auth_token');

  if (!token) return;

  try {
    const response = await fetch(`${API_URL}/cart/clear`, {
      method: 'DELETE',
      headers: {
        'Accept': 'application/json',
        Authorization: `Bearer ${token}`
      }
    });

    if (!response.ok) {
      const error = await response.json();
      throw new Error(error.message || 'Failed to clear cart');
    }
  } catch (error) {
    console.error('Error clearing cart on backend:', error);
  }
}

# END OF frontend/src/lib/api/cart.ts


##################################################################
# FILE: frontend/src/lib/api/coupons.ts
# PATH: frontend/src/lib/api/coupons.ts
##################################################################

import { browser } from '$app/environment';

const API_URL = browser ? import.meta.env.VITE_API_URL || 'http://localhost:8000/api' : '';

export interface Coupon {
  id: string;
  code: string;
  type: 'percentage' | 'fixed';
  value: number;
  maxUses: number;
  currentUses: number;
  expiryDate: string | null;
  applicableProducts: string[];
  minPurchaseAmount: number;
  isActive: boolean;
  createdAt: string;
}

export interface CouponValidationResponse {
  valid: boolean;
  coupon?: Coupon;
  discount: number;
  discountAmount?: number;
  type?: 'percentage' | 'fixed';
  message?: string;
}

/**
 * Validate a coupon code
 */
export async function validateCoupon(code: string, cartTotal: number): Promise<CouponValidationResponse> {
  const token = localStorage.getItem('auth_token');

  const response = await fetch(`${API_URL}/coupons/validate`, {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Accept': 'application/json',
      ...(token && { Authorization: `Bearer ${token}` })
    },
    body: JSON.stringify({ code, cartTotal })
  });

  if (!response.ok) {
    const error = await response.json();
    throw new Error(error.message || 'Failed to validate coupon');
  }

  return response.json();
}

/**
 * Get all coupons (Admin only)
 */
export async function getAllCoupons(): Promise<Coupon[]> {
  const token = localStorage.getItem('auth_token');

  const response = await fetch(`${API_URL}/admin/coupons`, {
    method: 'GET',
    headers: {
      'Accept': 'application/json',
      Authorization: `Bearer ${token}`
    }
  });

  if (!response.ok) {
    const error = await response.json();
    throw new Error(error.message || 'Failed to fetch coupons');
  }

  const data = await response.json();
  return data.coupons || [];
}

/**
 * Create a new coupon (Admin only)
 */
export async function createCoupon(coupon: Omit<Coupon, 'id' | 'currentUses' | 'createdAt'>): Promise<Coupon> {
  const token = localStorage.getItem('auth_token');

  const response = await fetch(`${API_URL}/admin/coupons`, {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Accept': 'application/json',
      Authorization: `Bearer ${token}`
    },
    body: JSON.stringify(coupon)
  });

  if (!response.ok) {
    const error = await response.json();
    throw new Error(error.message || 'Failed to create coupon');
  }

  return response.json();
}

/**
 * Update a coupon (Admin only)
 */
export async function updateCoupon(id: string, updates: Partial<Coupon>): Promise<Coupon> {
  const token = localStorage.getItem('auth_token');

  const response = await fetch(`${API_URL}/admin/coupons/${id}`, {
    method: 'PUT',
    headers: {
      'Content-Type': 'application/json',
      'Accept': 'application/json',
      Authorization: `Bearer ${token}`
    },
    body: JSON.stringify(updates)
  });

  if (!response.ok) {
    const error = await response.json();
    throw new Error(error.message || 'Failed to update coupon');
  }

  return response.json();
}

/**
 * Delete a coupon (Admin only)
 */
export async function deleteCoupon(id: string): Promise<void> {
  const token = localStorage.getItem('auth_token');

  const response = await fetch(`${API_URL}/admin/coupons/${id}`, {
    method: 'DELETE',
    headers: {
      'Accept': 'application/json',
      Authorization: `Bearer ${token}`
    }
  });

  if (!response.ok) {
    const error = await response.json();
    throw new Error(error.message || 'Failed to delete coupon');
  }
}

# END OF frontend/src/lib/api/coupons.ts


##################################################################
# FILE: frontend/src/lib/api/forms.ts
# PATH: frontend/src/lib/api/forms.ts
##################################################################

import { browser } from '$app/environment';

const API_BASE = browser ? import.meta.env.VITE_API_URL || 'http://localhost:8000/api' : '';

// Types
export interface FieldValidation {
  min_length?: number;
  max_length?: number;
  pattern?: string;
  min?: number;
  max?: number;
  [key: string]: string | number | boolean | undefined;
}

export interface FieldAttributes {
  [key: string]: string | number | boolean;
}

export interface FormField {
  id?: number;
  form_id?: number;
  field_type: string;
  label: string;
  name: string;
  placeholder?: string;
  help_text?: string;
  default_value?: string;
  options?: string[] | null;
  validation?: FieldValidation | null;
  conditional_logic?: ConditionalLogic | null;
  attributes?: FieldAttributes | null;
  required: boolean;
  order: number;
  width: number;
  created_at?: string;
  updated_at?: string;
}

export interface ConditionalLogic {
  action: 'show' | 'hide';
  logic: 'all' | 'any';
  rules: ConditionalRule[];
}

export interface ConditionalRule {
  field: string;
  operator: 'equals' | 'not_equals' | 'contains' | 'greater_than' | 'less_than' | 'is_empty' | 'is_not_empty';
  value?: string | number | boolean;
}

export interface FormSettings {
  send_email?: boolean;
  success_message?: string;
  redirect_url?: string;
  notification_emails?: string[];
  [key: string]: string | number | boolean | string[] | undefined;
}

export interface FormStyles {
  primary_color?: string;
  secondary_color?: string;
  background_color?: string;
  text_color?: string;
  border_color?: string;
  font_family?: string;
  border_radius?: string;
  spacing?: string;
  [key: string]: string | undefined;
}

export interface Form {
  id?: number;
  title: string;
  slug: string;
  description?: string;
  settings?: FormSettings;
  styles?: FormStyles;
  status: 'draft' | 'published' | 'archived';
  created_by?: number;
  submission_count?: number;
  published_at?: string;
  created_at?: string;
  updated_at?: string;
  deleted_at?: string;
  fields?: FormField[];
  creator?: {
    id: number;
    name: string;
    email: string;
  };
}

export interface SubmissionMetadata {
  browser?: string;
  device?: string;
  location?: string;
  [key: string]: string | number | boolean | undefined;
}

export interface FormSubmission {
  id?: number;
  form_id: number;
  user_id?: number;
  submission_id: string;
  status: 'unread' | 'read' | 'starred' | 'archived' | 'spam';
  ip_address?: string;
  user_agent?: string;
  referrer?: string;
  metadata?: SubmissionMetadata;
  created_at?: string;
  updated_at?: string;
  deleted_at?: string;
  data?: SubmissionData[];
  user?: {
    id: number;
    name: string;
    email: string;
  };
}

export interface SubmissionData {
  id?: number;
  submission_id: number;
  field_id: number;
  field_name: string;
  value: string;
  created_at?: string;
  updated_at?: string;
  field?: FormField;
}

export interface FormStats {
  total_forms: number;
  published_forms: number;
  draft_forms: number;
  archived_forms: number;
  total_submissions: number;
}

export interface SubmissionStats {
  total_submissions: number;
  unread_count: number;
  read_count: number;
  starred_count: number;
  archived_count: number;
  spam_count: number;
  recent_submissions: number;
}

export interface FormListResponse {
  forms: Form[];
  total: number;
  page: number;
  perPage: number;
}

export interface SubmissionListResponse {
  submissions: FormSubmission[];
  total: number;
  page: number;
  perPage: number;
}

// Helper to get auth token from localStorage
function getAuthToken(): string {
  if (!browser) return '';
  return localStorage.getItem('auth_token') || '';
}

// Helper to make authenticated requests
async function authFetch(url: string, options: RequestInit = {}) {
  const token = getAuthToken();
  const headers = {
    'Content-Type': 'application/json',
    'Accept': 'application/json',
    ...(token ? { 'Authorization': `Bearer ${token}` } : {}),
    ...options.headers,
  };

  const response = await fetch(url, {
    ...options,
    headers,
  });

  if (!response.ok) {
    const error = await response.json().catch(() => ({ message: 'Request failed' }));
    throw new Error(error.message || `HTTP ${response.status}`);
  }

  return response.json();
}

// Form Builder API

/**
 * Get all available field types
 */
export async function getFieldTypes(): Promise<Record<string, string>> {
  return authFetch(`${API_BASE}/forms/field-types`);
}

/**
 * Get form statistics
 */
export async function getFormStats(): Promise<FormStats> {
  return authFetch(`${API_BASE}/forms/stats`);
}

/**
 * Get all forms with pagination and filters
 */
export async function getForms(page = 1, perPage = 20, status?: string): Promise<FormListResponse> {
  const params = new URLSearchParams({ page: page.toString(), perPage: perPage.toString() });
  if (status) params.append('status', status);

  return authFetch(`${API_BASE}/forms?${params.toString()}`);
}

/**
 * Get a specific form by ID
 */
export async function getForm(id: number): Promise<Form> {
  return authFetch(`${API_BASE}/forms/${id}`);
}

/**
 * Create a new form
 */
export async function createForm(formData: Partial<Form>): Promise<Form> {
  return authFetch(`${API_BASE}/forms`, {
    method: 'POST',
    body: JSON.stringify(formData),
  });
}

/**
 * Update an existing form
 */
export async function updateForm(id: number, formData: Partial<Form>): Promise<Form> {
  return authFetch(`${API_BASE}/forms/${id}`, {
    method: 'PUT',
    body: JSON.stringify(formData),
  });
}

/**
 * Delete a form
 */
export async function deleteForm(id: number): Promise<{ message: string }> {
  return authFetch(`${API_BASE}/forms/${id}`, {
    method: 'DELETE',
  });
}

/**
 * Publish a form
 */
export async function publishForm(id: number): Promise<Form> {
  return authFetch(`${API_BASE}/forms/${id}/publish`, {
    method: 'POST',
  });
}

/**
 * Unpublish a form
 */
export async function unpublishForm(id: number): Promise<Form> {
  return authFetch(`${API_BASE}/forms/${id}/unpublish`, {
    method: 'POST',
  });
}

/**
 * Archive a form
 */
export async function archiveForm(id: number): Promise<Form> {
  return authFetch(`${API_BASE}/forms/${id}/archive`, {
    method: 'POST',
  });
}

/**
 * Duplicate a form
 */
export async function duplicateForm(id: number): Promise<Form> {
  return authFetch(`${API_BASE}/forms/${id}/duplicate`, {
    method: 'POST',
  });
}

/**
 * Preview a published form (public route)
 */
export async function previewForm(slug: string): Promise<Form> {
  const response = await fetch(`${API_BASE}/forms/preview/${slug}`, {
    headers: {
      'Accept': 'application/json',
    },
  });

  if (!response.ok) {
    throw new Error('Form not found');
  }

  return response.json();
}

// Form Submission API

/**
 * Submit a form (public route)
 */
export async function submitForm(slug: string, data: Record<string, string | number | boolean | string[]>): Promise<{
  success: boolean;
  message?: string;
  redirect_url?: string;
  submission_id?: string;
  errors?: Record<string, string[]>;
}> {
  const response = await fetch(`${API_BASE}/forms/${slug}/submit`, {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Accept': 'application/json',
    },
    body: JSON.stringify(data),
  });

  return response.json();
}

/**
 * Get all submissions for a form
 */
export async function getSubmissions(
  formId: number,
  page = 1,
  perPage = 20,
  status?: string
): Promise<SubmissionListResponse> {
  const params = new URLSearchParams({ page: page.toString(), perPage: perPage.toString() });
  if (status) params.append('status', status);

  return authFetch(`${API_BASE}/forms/${formId}/submissions?${params.toString()}`);
}

/**
 * Get submission statistics
 */
export async function getSubmissionStats(formId: number): Promise<SubmissionStats> {
  return authFetch(`${API_BASE}/forms/${formId}/submissions/stats`);
}

/**
 * Get a specific submission
 */
export async function getSubmission(formId: number, submissionId: string): Promise<FormSubmission> {
  return authFetch(`${API_BASE}/forms/${formId}/submissions/${submissionId}`);
}

/**
 * Update submission status
 */
export async function updateSubmissionStatus(
  formId: number,
  submissionId: string,
  status: FormSubmission['status']
): Promise<FormSubmission> {
  return authFetch(`${API_BASE}/forms/${formId}/submissions/${submissionId}/status`, {
    method: 'PUT',
    body: JSON.stringify({ status }),
  });
}

/**
 * Delete a submission
 */
export async function deleteSubmission(formId: number, submissionId: string): Promise<{ message: string }> {
  return authFetch(`${API_BASE}/forms/${formId}/submissions/${submissionId}`, {
    method: 'DELETE',
  });
}

/**
 * Bulk update submission statuses
 */
export async function bulkUpdateSubmissionStatus(
  formId: number,
  submissionIds: string[],
  status: FormSubmission['status']
): Promise<{ message: string; updated: number }> {
  return authFetch(`${API_BASE}/forms/${formId}/submissions/bulk-update-status`, {
    method: 'POST',
    body: JSON.stringify({ submission_ids: submissionIds, status }),
  });
}

/**
 * Bulk delete submissions
 */
export async function bulkDeleteSubmissions(
  formId: number,
  submissionIds: string[]
): Promise<{ message: string; deleted: number }> {
  return authFetch(`${API_BASE}/forms/${formId}/submissions/bulk-delete`, {
    method: 'POST',
    body: JSON.stringify({ submission_ids: submissionIds }),
  });
}

/**
 * Export submissions to CSV
 */
export async function exportSubmissions(formId: number): Promise<string> {
  const token = getAuthToken();
  const response = await fetch(`${API_BASE}/forms/${formId}/submissions/export`, {
    headers: {
      'Accept': 'text/csv',
      ...(token ? { 'Authorization': `Bearer ${token}` } : {}),
    },
  });

  if (!response.ok) {
    throw new Error('Export failed');
  }

  return response.text();
}

/**
 * Form Entry interface
 */
export interface FormEntry {
  id: number;
  form_id: number;
  data: Record<string, any>;
  status: 'complete' | 'partial';
  created_at: string;
}

/**
 * Forms API
 */
export const formsApi = {
  // Forms
  list: async (params?: any): Promise<{ data: Form[] }> =>
    authFetch(`${API_BASE}/forms`, {
      method: 'GET',
    }),

  get: async (id: number): Promise<{ form: Form }> =>
    authFetch(`${API_BASE}/forms/${id}`),

  create: async (data: Partial<Form>): Promise<{ form: Form }> =>
    authFetch(`${API_BASE}/forms`, {
      method: 'POST',
      body: JSON.stringify(data),
    }),

  update: async (id: number, data: Partial<Form>): Promise<{ form: Form }> =>
    authFetch(`${API_BASE}/forms/${id}`, {
      method: 'PUT',
      body: JSON.stringify(data),
    }),

  delete: async (id: number): Promise<void> =>
    authFetch(`${API_BASE}/forms/${id}`, {
      method: 'DELETE',
    }),

  // Entries
  getEntries: async (formId: number, params?: any): Promise<{ data: FormEntry[] }> =>
    authFetch(`${API_BASE}/forms/${formId}/entries`, {
      method: 'GET',
    }),

  getEntry: async (formId: number, entryId: number): Promise<{ entry: FormEntry }> =>
    authFetch(`${API_BASE}/forms/${formId}/entries/${entryId}`),

  exportEntries: async (formId: number): Promise<any> =>
    authFetch(`${API_BASE}/forms/${formId}/entries/export`),

  // Analytics
  getAnalytics: async (formId: number): Promise<any> =>
    authFetch(`${API_BASE}/forms/${formId}/analytics`),

  getStats: async (formId: number): Promise<any> =>
    authFetch(`${API_BASE}/forms/${formId}/entries/stats`),
};

/**
 * Contact interface and API
 */
export interface Contact {
  id: number;
  email: string;
  first_name?: string;
  last_name?: string;
  full_name?: string;
  phone?: string;
  company?: string;
  status: 'lead' | 'subscriber' | 'customer' | 'inactive';
  last_activity_at?: string;
  created_at: string;
}

export const contactsApi = {
  list: async (params?: any): Promise<{ contacts: Contact[]; pagination: any }> =>
    authFetch(`${API_BASE}/contacts`, {
      method: 'GET',
      headers: {
        'Content-Type': 'application/json',
      },
    }),

  get: async (id: number): Promise<{ contact: Contact }> =>
    authFetch(`${API_BASE}/contacts/${id}`),

  create: async (data: Partial<Contact>): Promise<{ contact: Contact }> =>
    authFetch(`${API_BASE}/contacts`, {
      method: 'POST',
      body: JSON.stringify(data),
    }),

  update: async (id: number, data: Partial<Contact>): Promise<{ contact: Contact }> =>
    authFetch(`${API_BASE}/contacts/${id}`, {
      method: 'PUT',
      body: JSON.stringify(data),
    }),

  delete: async (id: number): Promise<void> =>
    authFetch(`${API_BASE}/contacts/${id}`, {
      method: 'DELETE',
    }),

  stats: async (): Promise<any> =>
    authFetch(`${API_BASE}/contacts/stats`),
};

# END OF frontend/src/lib/api/forms.ts


##################################################################
# FILE: frontend/src/lib/api/popups.ts
# PATH: frontend/src/lib/api/popups.ts
##################################################################

import type { Popup } from '$lib/stores/popups';

// Re-export Popup type for external use
export type { Popup };

const API_BASE = '/api';

export interface PopupListResponse {
  popups: Popup[];
  total: number;
}

/**
 * Get all popups (admin only)
 */
export async function getAllPopups(): Promise<Popup[]> {
  try {
    const response = await fetch(`${API_BASE}/popups`, {
      method: 'GET',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include'
    });

    if (!response.ok) {
      throw new Error('Failed to fetch popups');
    }

    const data: PopupListResponse = await response.json();
    return data.popups;
  } catch (error) {
    console.error('Error fetching popups:', error);
    throw error;
  }
}

/**
 * Get active popups for the current page
 */
export async function getActivePopups(page: string): Promise<Popup[]> {
  try {
    const response = await fetch(`${API_BASE}/popups/active?page=${encodeURIComponent(page)}`, {
      method: 'GET',
      headers: {
        'Content-Type': 'application/json'
      }
    });

    if (!response.ok) {
      throw new Error('Failed to fetch active popups');
    }

    const data: PopupListResponse = await response.json();
    return data.popups;
  } catch (error) {
    console.error('Error fetching active popups:', error);
    return [];
  }
}

/**
 * Get a single popup by ID
 */
export async function getPopup(id: string): Promise<Popup> {
  try {
    const response = await fetch(`${API_BASE}/popups/${id}`, {
      method: 'GET',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include'
    });

    if (!response.ok) {
      throw new Error('Failed to fetch popup');
    }

    return await response.json();
  } catch (error) {
    console.error('Error fetching popup:', error);
    throw error;
  }
}

/**
 * Create a new popup (admin only)
 */
export async function createPopup(popup: Omit<Popup, 'id' | 'impressions' | 'conversions' | 'createdAt' | 'updatedAt'>): Promise<Popup> {
  try {
    const response = await fetch(`${API_BASE}/popups`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include',
      body: JSON.stringify(popup)
    });

    if (!response.ok) {
      throw new Error('Failed to create popup');
    }

    return await response.json();
  } catch (error) {
    console.error('Error creating popup:', error);
    throw error;
  }
}

/**
 * Update an existing popup (admin only)
 */
export async function updatePopup(id: string, updates: Partial<Popup>): Promise<Popup> {
  try {
    const response = await fetch(`${API_BASE}/popups/${id}`, {
      method: 'PUT',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include',
      body: JSON.stringify(updates)
    });

    if (!response.ok) {
      throw new Error('Failed to update popup');
    }

    return await response.json();
  } catch (error) {
    console.error('Error updating popup:', error);
    throw error;
  }
}

/**
 * Delete a popup (admin only)
 */
export async function deletePopup(id: string): Promise<void> {
  try {
    const response = await fetch(`${API_BASE}/popups/${id}`, {
      method: 'DELETE',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include'
    });

    if (!response.ok) {
      throw new Error('Failed to delete popup');
    }
  } catch (error) {
    console.error('Error deleting popup:', error);
    throw error;
  }
}

/**
 * Toggle popup active status (admin only)
 */
export async function togglePopupStatus(id: string, isActive: boolean): Promise<Popup> {
  return updatePopup(id, { isActive });
}

/**
 * Record popup impression (analytics)
 */
export async function recordPopupImpression(popupId: string): Promise<void> {
  try {
    await fetch(`${API_BASE}/popups/${popupId}/impression`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      }
    });
  } catch (error) {
    console.error('Error recording impression:', error);
  }
}

export interface ConversionData {
  action?: string;
  value?: string | number;
  metadata?: Record<string, string | number | boolean>;
}

/**
 * Record popup conversion (analytics)
 */
export async function recordPopupConversion(popupId: string, conversionData?: ConversionData): Promise<void> {
  try {
    await fetch(`${API_BASE}/popups/${popupId}/conversion`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(conversionData || {})
    });
  } catch (error) {
    console.error('Error recording conversion:', error);
  }
}

/**
 * Get popup analytics (admin only)
 */
export async function getPopupAnalytics(popupId: string): Promise<{
  impressions: number;
  conversions: number;
  conversionRate: number;
  timeline: { date: string; impressions: number; conversions: number }[];
}> {
  try {
    const response = await fetch(`${API_BASE}/popups/${popupId}/analytics`, {
      method: 'GET',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include'
    });

    if (!response.ok) {
      throw new Error('Failed to fetch analytics');
    }

    return await response.json();
  } catch (error) {
    console.error('Error fetching analytics:', error);
    throw error;
  }
}

/**
 * Duplicate a popup (admin only)
 */
export async function duplicatePopup(id: string): Promise<Popup> {
  try {
    const response = await fetch(`${API_BASE}/popups/${id}/duplicate`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include'
    });

    if (!response.ok) {
      throw new Error('Failed to duplicate popup');
    }

    return await response.json();
  } catch (error) {
    console.error('Error duplicating popup:', error);
    throw error;
  }
}

/**
 * Export popupsApi for compatibility with admin pages
 */
export const popupsApi = {
  list: async (params?: any): Promise<{ data: any[] }> => {
    const popups = await getAllPopups();
    return { data: popups };
  },
  get: async (id: number): Promise<{ popup: any }> => {
    const popup = await getPopup(String(id));
    return { popup };
  },
  getActive: async (page: string): Promise<any[]> => {
    return await getActivePopups(page);
  },
  create: async (data: any): Promise<{ popup: any; message: string }> => {
    const popup = await createPopup(data);
    return { popup, message: 'Popup created successfully' };
  },
  update: async (id: number, data: any): Promise<{ popup: any; message: string }> => {
    const popup = await updatePopup(String(id), data);
    return { popup, message: 'Popup updated successfully' };
  },
  delete: async (id: number): Promise<{ message: string }> => {
    await deletePopup(String(id));
    return { message: 'Popup deleted successfully' };
  },
  stats: async (id: number): Promise<any> => {
    return await getPopupAnalytics(String(id));
  },
  analytics: async (id: number, period?: string): Promise<any> => {
    return await getPopupAnalytics(String(id));
  },
  getAnalytics: async (id: number, period?: string): Promise<any> => {
    return await getPopupAnalytics(String(id));
  },
  trackView: async (popupId: number): Promise<void> => {
    await recordPopupImpression(String(popupId));
  },
  trackConversion: async (popupId: number, data?: any): Promise<void> => {
    await recordPopupConversion(String(popupId), data);
  },
};

# END OF frontend/src/lib/api/popups.ts


##################################################################
# FILE: frontend/src/lib/api/subscriptions.ts
# PATH: frontend/src/lib/api/subscriptions.ts
##################################################################

import { browser } from '$app/environment';
import type {
  Subscription,
  SubscriptionStatus,
  SubscriptionFilters,
  SubscriptionStats,
  SubscriptionPayment
} from '$lib/stores/subscriptions';

const API_BASE = browser ? import.meta.env.VITE_API_URL || 'http://localhost:8000/api' : '';

export interface SubscriptionListResponse {
  subscriptions: Subscription[];
  total: number;
  page: number;
  perPage: number;
}

/**
 * Get all subscriptions with optional filters (admin only)
 */
export async function getSubscriptions(filters?: SubscriptionFilters): Promise<SubscriptionListResponse> {
  try {
    const params = new URLSearchParams();

    if (filters?.status) {
      filters.status.forEach(s => params.append('status[]', s));
    }

    if (filters?.interval) {
      filters.interval.forEach(i => params.append('interval[]', i));
    }

    if (filters?.searchQuery) {
      params.append('search', filters.searchQuery);
    }

    if (filters?.dateFrom) {
      params.append('date_from', filters.dateFrom);
    }

    if (filters?.dateTo) {
      params.append('date_to', filters.dateTo);
    }

    const response = await fetch(`${API_BASE}/subscriptions?${params.toString()}`, {
      method: 'GET',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include'
    });

    if (!response.ok) {
      throw new Error('Failed to fetch subscriptions');
    }

    return await response.json();
  } catch (error) {
    console.error('Error fetching subscriptions:', error);
    throw error;
  }
}

/**
 * Get a single subscription by ID
 */
export async function getSubscription(id: string): Promise<Subscription> {
  try {
    const response = await fetch(`${API_BASE}/subscriptions/${id}`, {
      method: 'GET',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include'
    });

    if (!response.ok) {
      throw new Error('Failed to fetch subscription');
    }

    return await response.json();
  } catch (error) {
    console.error('Error fetching subscription:', error);
    throw error;
  }
}

/**
 * Get user's subscriptions
 */
export async function getUserSubscriptions(userId: string): Promise<Subscription[]> {
  try {
    const response = await fetch(`${API_BASE}/users/${userId}/subscriptions`, {
      method: 'GET',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include'
    });

    if (!response.ok) {
      throw new Error('Failed to fetch user subscriptions');
    }

    const data = await response.json();
    return data.subscriptions;
  } catch (error) {
    console.error('Error fetching user subscriptions:', error);
    throw error;
  }
}

/**
 * Get subscription statistics (admin only)
 */
export async function getSubscriptionStats(): Promise<SubscriptionStats> {
  try {
    const response = await fetch(`${API_BASE}/subscriptions/stats`, {
      method: 'GET',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include'
    });

    if (!response.ok) {
      throw new Error('Failed to fetch subscription stats');
    }

    return await response.json();
  } catch (error) {
    console.error('Error fetching subscription stats:', error);
    throw error;
  }
}

/**
 * Update subscription status (admin only)
 */
export async function updateSubscriptionStatus(
  subscriptionId: string,
  status: SubscriptionStatus,
  reason?: string
): Promise<Subscription> {
  try {
    const response = await fetch(`${API_BASE}/subscriptions/${subscriptionId}/status`, {
      method: 'PUT',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include',
      body: JSON.stringify({ status, reason })
    });

    if (!response.ok) {
      throw new Error('Failed to update subscription status');
    }

    return await response.json();
  } catch (error) {
    console.error('Error updating subscription status:', error);
    throw error;
  }
}

/**
 * Pause subscription
 */
export async function pauseSubscription(subscriptionId: string, reason: string): Promise<Subscription> {
  try {
    const response = await fetch(`${API_BASE}/subscriptions/${subscriptionId}/pause`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include',
      body: JSON.stringify({ reason })
    });

    if (!response.ok) {
      throw new Error('Failed to pause subscription');
    }

    return await response.json();
  } catch (error) {
    console.error('Error pausing subscription:', error);
    throw error;
  }
}

/**
 * Resume subscription
 */
export async function resumeSubscription(subscriptionId: string): Promise<Subscription> {
  try {
    const response = await fetch(`${API_BASE}/subscriptions/${subscriptionId}/resume`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include'
    });

    if (!response.ok) {
      throw new Error('Failed to resume subscription');
    }

    return await response.json();
  } catch (error) {
    console.error('Error resuming subscription:', error);
    throw error;
  }
}

/**
 * Cancel subscription
 */
export async function cancelSubscription(
  subscriptionId: string,
  reason: string,
  immediate: boolean = false
): Promise<Subscription> {
  try {
    const response = await fetch(`${API_BASE}/subscriptions/${subscriptionId}/cancel`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include',
      body: JSON.stringify({ reason, immediate })
    });

    if (!response.ok) {
      throw new Error('Failed to cancel subscription');
    }

    return await response.json();
  } catch (error) {
    console.error('Error cancelling subscription:', error);
    throw error;
  }
}

/**
 * Reactivate cancelled subscription
 */
export async function reactivateSubscription(subscriptionId: string): Promise<Subscription> {
  try {
    const response = await fetch(`${API_BASE}/subscriptions/${subscriptionId}/reactivate`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include'
    });

    if (!response.ok) {
      throw new Error('Failed to reactivate subscription');
    }

    return await response.json();
  } catch (error) {
    console.error('Error reactivating subscription:', error);
    throw error;
  }
}

/**
 * Retry failed payment
 */
export async function retryPayment(subscriptionId: string, paymentId: string): Promise<SubscriptionPayment> {
  try {
    const response = await fetch(`${API_BASE}/subscriptions/${subscriptionId}/payments/${paymentId}/retry`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include'
    });

    if (!response.ok) {
      throw new Error('Failed to retry payment');
    }

    return await response.json();
  } catch (error) {
    console.error('Error retrying payment:', error);
    throw error;
  }
}

/**
 * Update payment method
 */
export async function updatePaymentMethod(
  subscriptionId: string,
  paymentMethod: Subscription['paymentMethod']
): Promise<Subscription> {
  try {
    const response = await fetch(`${API_BASE}/subscriptions/${subscriptionId}/payment-method`, {
      method: 'PUT',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include',
      body: JSON.stringify({ paymentMethod })
    });

    if (!response.ok) {
      throw new Error('Failed to update payment method');
    }

    return await response.json();
  } catch (error) {
    console.error('Error updating payment method:', error);
    throw error;
  }
}

/**
 * Process renewal manually (admin only)
 */
export async function processRenewal(subscriptionId: string): Promise<Subscription> {
  try {
    const response = await fetch(`${API_BASE}/subscriptions/${subscriptionId}/renew`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include'
    });

    if (!response.ok) {
      throw new Error('Failed to process renewal');
    }

    return await response.json();
  } catch (error) {
    console.error('Error processing renewal:', error);
    throw error;
  }
}

/**
 * Get payment history for subscription
 */
export async function getPaymentHistory(subscriptionId: string): Promise<SubscriptionPayment[]> {
  try {
    const response = await fetch(`${API_BASE}/subscriptions/${subscriptionId}/payments`, {
      method: 'GET',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include'
    });

    if (!response.ok) {
      throw new Error('Failed to fetch payment history');
    }

    const data = await response.json();
    return data.payments;
  } catch (error) {
    console.error('Error fetching payment history:', error);
    throw error;
  }
}

/**
 * Send subscription email (admin only)
 */
export async function sendSubscriptionEmail(
  subscriptionId: string,
  emailType: 'renewal' | 'failed-payment' | 'cancelled' | 'paused' | 'reactivated'
): Promise<void> {
  try {
    const response = await fetch(`${API_BASE}/subscriptions/${subscriptionId}/send-email`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include',
      body: JSON.stringify({ emailType })
    });

    if (!response.ok) {
      throw new Error('Failed to send email');
    }
  } catch (error) {
    console.error('Error sending email:', error);
    throw error;
  }
}

/**
 * Get upcoming renewals (admin only)
 */
export async function getUpcomingRenewals(days: number = 7): Promise<Subscription[]> {
  try {
    const response = await fetch(`${API_BASE}/subscriptions/upcoming-renewals?days=${days}`, {
      method: 'GET',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include'
    });

    if (!response.ok) {
      throw new Error('Failed to fetch upcoming renewals');
    }

    const data = await response.json();
    return data.subscriptions;
  } catch (error) {
    console.error('Error fetching upcoming renewals:', error);
    throw error;
  }
}

/**
 * Get failed payments (admin only)
 */
export async function getFailedPayments(): Promise<SubscriptionPayment[]> {
  try {
    const response = await fetch(`${API_BASE}/subscriptions/failed-payments`, {
      method: 'GET',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include'
    });

    if (!response.ok) {
      throw new Error('Failed to fetch failed payments');
    }

    const data = await response.json();
    return data.payments;
  } catch (error) {
    console.error('Error fetching failed payments:', error);
    throw error;
  }
}

/**
 * Export subscriptions data (admin only)
 */
export async function exportSubscriptions(format: 'csv' | 'json' = 'csv'): Promise<Blob> {
  try {
    const response = await fetch(`${API_BASE}/subscriptions/export?format=${format}`, {
      method: 'GET',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include'
    });

    if (!response.ok) {
      throw new Error('Failed to export subscriptions');
    }

    return await response.blob();
  } catch (error) {
    console.error('Error exporting subscriptions:', error);
    throw error;
  }
}

# END OF frontend/src/lib/api/subscriptions.ts


##################################################################
# FILE: frontend/src/lib/api/bannedEmails.ts
# PATH: frontend/src/lib/api/bannedEmails.ts
##################################################################

import { browser } from '$app/environment';

const API_BASE = browser ? import.meta.env.VITE_API_URL || 'http://localhost:8000/api' : '';

export interface BannedEmail {
  id: number;
  email: string;
  reason: string;
  notes?: string;
  banned_by?: number;
  banned_at: string;
  created_at: string;
  updated_at: string;
  deleted_at?: string;
  banned_by_user?: {
    id: number;
    name: string;
    email: string;
  };
}

export interface BannedEmailListResponse {
  banned_emails: BannedEmail[];
  total: number;
  page: number;
  perPage: number;
}

export interface BannedEmailStats {
  total_banned: number;
  banned_today: number;
  banned_this_week: number;
  banned_this_month: number;
  top_reasons: Array<{
    reason: string;
    count: number;
  }>;
}

export interface BanFromSubscriptionRequest {
  subscription_id: string;
  reason: string;
  notes?: string;
  action: 'cancel' | 'delete';
}

export interface BanFromSubscriptionResponse {
  success: boolean;
  message: string;
  banned_email: BannedEmail;
  affected_subscriptions: Array<{
    subscription_id: string;
    action: string;
  }>;
  total_affected: number;
}

/**
 * Get all banned emails with optional filters (admin only)
 */
export async function getBannedEmails(
  search?: string,
  dateFrom?: string,
  dateTo?: string,
  page: number = 1,
  perPage: number = 20
): Promise<BannedEmailListResponse> {
  try {
    const params = new URLSearchParams();

    if (search) {
      params.append('search', search);
    }

    if (dateFrom) {
      params.append('date_from', dateFrom);
    }

    if (dateTo) {
      params.append('date_to', dateTo);
    }

    params.append('page', page.toString());
    params.append('per_page', perPage.toString());

    const response = await fetch(`${API_BASE}/banned-emails?${params.toString()}`, {
      method: 'GET',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include'
    });

    if (!response.ok) {
      throw new Error('Failed to fetch banned emails');
    }

    return await response.json();
  } catch (error) {
    console.error('Error fetching banned emails:', error);
    throw error;
  }
}

/**
 * Get a single banned email by ID
 */
export async function getBannedEmail(id: number): Promise<BannedEmail> {
  try {
    const response = await fetch(`${API_BASE}/banned-emails/${id}`, {
      method: 'GET',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include'
    });

    if (!response.ok) {
      throw new Error('Failed to fetch banned email');
    }

    return await response.json();
  } catch (error) {
    console.error('Error fetching banned email:', error);
    throw error;
  }
}

/**
 * Check if an email is banned
 */
export async function checkEmailBanned(email: string): Promise<{ banned: boolean; record: BannedEmail | null }> {
  try {
    const response = await fetch(`${API_BASE}/banned-emails/check`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include',
      body: JSON.stringify({ email })
    });

    if (!response.ok) {
      throw new Error('Failed to check banned email');
    }

    return await response.json();
  } catch (error) {
    console.error('Error checking banned email:', error);
    throw error;
  }
}

/**
 * Ban an email address (admin only)
 */
export async function banEmail(email: string, reason: string, notes?: string): Promise<BannedEmail> {
  try {
    const response = await fetch(`${API_BASE}/banned-emails`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include',
      body: JSON.stringify({ email, reason, notes })
    });

    if (!response.ok) {
      throw new Error('Failed to ban email');
    }

    return await response.json();
  } catch (error) {
    console.error('Error banning email:', error);
    throw error;
  }
}

/**
 * Bulk ban multiple emails (admin only)
 */
export async function bulkBanEmails(
  emails: string[],
  reason: string,
  notes?: string
): Promise<{
  success: boolean;
  results: {
    success: string[];
    failed: Array<{ email: string; error: string }>;
    already_banned: string[];
  };
  total_banned: number;
  total_failed: number;
  total_already_banned: number;
}> {
  try {
    const response = await fetch(`${API_BASE}/banned-emails/bulk`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include',
      body: JSON.stringify({ emails, reason, notes })
    });

    if (!response.ok) {
      throw new Error('Failed to bulk ban emails');
    }

    return await response.json();
  } catch (error) {
    console.error('Error bulk banning emails:', error);
    throw error;
  }
}

/**
 * Ban email from subscription and cancel/delete all associated subscriptions (admin only)
 */
export async function banFromSubscription(
  data: BanFromSubscriptionRequest
): Promise<BanFromSubscriptionResponse> {
  try {
    const response = await fetch(`${API_BASE}/banned-emails/ban-from-subscription`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include',
      body: JSON.stringify(data)
    });

    if (!response.ok) {
      throw new Error('Failed to ban email from subscription');
    }

    return await response.json();
  } catch (error) {
    console.error('Error banning email from subscription:', error);
    throw error;
  }
}

/**
 * Update a banned email record (admin only)
 */
export async function updateBannedEmail(
  id: number,
  reason?: string,
  notes?: string
): Promise<BannedEmail> {
  try {
    const response = await fetch(`${API_BASE}/banned-emails/${id}`, {
      method: 'PUT',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include',
      body: JSON.stringify({ reason, notes })
    });

    if (!response.ok) {
      throw new Error('Failed to update banned email');
    }

    return await response.json();
  } catch (error) {
    console.error('Error updating banned email:', error);
    throw error;
  }
}

/**
 * Unban an email address (admin only)
 */
export async function unbanEmail(id: number): Promise<{ success: boolean; message: string }> {
  try {
    const response = await fetch(`${API_BASE}/banned-emails/${id}`, {
      method: 'DELETE',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include'
    });

    if (!response.ok) {
      throw new Error('Failed to unban email');
    }

    return await response.json();
  } catch (error) {
    console.error('Error unbanning email:', error);
    throw error;
  }
}

/**
 * Get banned emails statistics (admin only)
 */
export async function getBannedEmailStats(): Promise<BannedEmailStats> {
  try {
    const response = await fetch(`${API_BASE}/banned-emails/stats`, {
      method: 'GET',
      headers: {
        'Content-Type': 'application/json'
      },
      credentials: 'include'
    });

    if (!response.ok) {
      throw new Error('Failed to fetch banned email stats');
    }

    return await response.json();
  } catch (error) {
    console.error('Error fetching banned email stats:', error);
    throw error;
  }
}

# END OF frontend/src/lib/api/bannedEmails.ts


##################################################################
# FILE: frontend/src/lib/api/seo.ts
# PATH: frontend/src/lib/api/seo.ts
##################################################################

import { api } from './client';

export interface SeoAnalysis {
	id: number;
	analyzable_type: string;
	analyzable_id: number;
	focus_keyword?: string;
	seo_score: number;
	analysis_results: string[];
	suggestions: string[];
	keyword_density: number;
	readability_score: number;
	has_meta_title: boolean;
	has_meta_description: boolean;
	created_at: string;
}

export interface Redirect {
	id: number;
	from_path: string;
	to_path: string;
	status_code: number;
	is_active: boolean;
	type: string;
	created_at: string;
}

export interface Error404 {
	id: number;
	url: string;
	hit_count: number;
	is_resolved: boolean;
	first_seen_at: string;
	last_seen_at: string;
}

export const seoApi = {
	// Analysis
	analyze: (contentType: string, contentId: number, focusKeyword?: string) =>
		api.post<{ analysis: SeoAnalysis }>('/seo/analyze', {
			content_type: contentType,
			content_id: contentId,
			focus_keyword: focusKeyword
		}),
	getAnalysis: (contentType: string, contentId: number) =>
		api.get<{ analysis: SeoAnalysis }>(`/seo/analyze/${contentType}/${contentId}`),
	getRecommendations: (contentType: string, contentId: number) =>
		api.get<{ recommendations: string[] }>(`/seo/analyze/${contentType}/${contentId}/recommendations`),

	// Redirects
	listRedirects: (params?: any) =>
		api.get<{ data: Redirect[] }>('/redirects', { params }),
	createRedirect: (data: Partial<Redirect>) =>
		api.post<{ redirect: Redirect }>('/redirects', data),
	updateRedirect: (id: number, data: Partial<Redirect>) =>
		api.put<{ redirect: Redirect }>(`/redirects/${id}`, data),
	deleteRedirect: (id: number) =>
		api.delete(`/redirects/${id}`),
	getRedirectStats: () =>
		api.get('/redirects/statistics'),
	exportRedirects: () =>
		api.get('/redirects/export'),

	// 404 Errors
	list404s: (params?: any) =>
		api.get<{ data: Error404[] }>('/404-errors', { params }),
	get404Stats: () =>
		api.get('/404-errors/statistics'),
	bulkDelete404s: (resolvedOnly: boolean, olderThanDays?: number) =>
		api.post('/404-errors/bulk-delete', { resolved_only: resolvedOnly, older_than_days: olderThanDays }),

	// Settings
	getSettings: () =>
		api.get('/seo-settings'),
	updateSetting: (key: string, value: any) =>
		api.put(`/seo-settings/${key}`, { value }),
	getSitemapConfigs: () =>
		api.get('/seo-settings/sitemap-configs'),
	getLocalBusiness: () =>
		api.get('/seo-settings/local-business'),
	updateLocalBusiness: (data: any) =>
		api.post('/seo-settings/local-business', data),
};

# END OF frontend/src/lib/api/seo.ts


##################################################################
# FILE: frontend/src/lib/api/config.ts
# PATH: frontend/src/lib/api/config.ts
##################################################################

/**
 * API Configuration
 * Central configuration for API endpoints and base URLs
 */

// Get API base URL from environment variable or use default
export const API_BASE_URL = import.meta.env.VITE_API_URL || 'http://localhost:8000';

/**
 * API endpoints
 */
export const API_ENDPOINTS = {
  posts: {
    list: '/api/posts',
    single: (slug: string) => `/api/posts/${slug}`,
  },
} as const;

/**
 * Fetch wrapper with error handling
 */
export async function apiFetch<T>(
  endpoint: string,
  options: RequestInit = {}
): Promise<T> {
  const url = `${API_BASE_URL}${endpoint}`;

  const response = await fetch(url, {
    headers: {
      'Content-Type': 'application/json',
      'Accept': 'application/json',
      ...options.headers,
    },
    ...options,
  });

  if (!response.ok) {
    throw new Error(`API Error: ${response.status} ${response.statusText}`);
  }

  return response.json();
}

# END OF frontend/src/lib/api/config.ts


# ============= STATE STORES =============

##################################################################
# FILE: frontend/src/lib/stores/auth.ts
# PATH: frontend/src/lib/stores/auth.ts
##################################################################

import { writable, derived } from 'svelte/store';
import { browser } from '$app/environment';

/**
 * L70 Enterprise Authentication Store
 * ====================================
 * Manages client-side authentication state with persistent storage.
 * Follows Microsoft Principal Engineer standards for security and reliability.
 */

export interface User {
  id: number;
  name: string;
  email: string;
  email_verified_at: string | null;
  created_at: string;
  updated_at: string;
}

interface AuthState {
  user: User | null;
  token: string | null;
  isAuthenticated: boolean;
  isLoading: boolean;
}

const STORAGE_KEY = 'rtp_auth_token';

// Initialize state from localStorage if available
function getInitialState(): AuthState {
  if (browser) {
    const storedToken = localStorage.getItem(STORAGE_KEY);
    return {
      user: null,
      token: storedToken,
      isAuthenticated: !!storedToken,
      isLoading: !!storedToken, // Will validate token on mount
    };
  }
  return {
    user: null,
    token: null,
    isAuthenticated: false,
    isLoading: false,
  };
}

function createAuthStore() {
  const { subscribe, set, update } = writable<AuthState>(getInitialState());

  return {
    subscribe,

    /**
     * Set authenticated user and token
     */
    setAuth: (user: User, token: string) => {
      if (browser) {
        localStorage.setItem(STORAGE_KEY, token);
      }
      update((state) => ({
        ...state,
        user,
        token,
        isAuthenticated: true,
        isLoading: false,
      }));
    },

    /**
     * Update user data without changing token
     */
    setUser: (user: User) => {
      update((state) => ({
        ...state,
        user,
      }));
    },

    /**
     * Clear authentication state
     */
    clearAuth: () => {
      if (browser) {
        localStorage.removeItem(STORAGE_KEY);
      }
      set({
        user: null,
        token: null,
        isAuthenticated: false,
        isLoading: false,
      });
    },

    /**
     * Set loading state
     */
    setLoading: (isLoading: boolean) => {
      update((state) => ({
        ...state,
        isLoading,
      }));
    },

    /**
     * Get current token (useful for API calls)
     */
    getToken: (): string | null => {
      if (browser) {
        return localStorage.getItem(STORAGE_KEY);
      }
      return null;
    },

    /**
     * Logout user and clear auth state
     * Alias for clearAuth for compatibility
     */
    logout: async () => {
      // Clear local state first
      if (browser) {
        localStorage.removeItem(STORAGE_KEY);
      }
      set({
        user: null,
        token: null,
        isAuthenticated: false,
        isLoading: false,
      });

      // Optionally call API logout endpoint (fire and forget)
      try {
        const token = localStorage.getItem(STORAGE_KEY);
        if (token && browser) {
          await fetch('/api/logout', {
            method: 'POST',
            headers: {
              'Authorization': `Bearer ${token}`,
              'Content-Type': 'application/json',
            },
          });
        }
      } catch (error) {
        // Ignore API errors during logout
        console.error('Logout API error:', error);
      }
    },
  };
}

export const authStore = createAuthStore();

// Derived stores for convenience
export const user = derived(authStore, ($auth) => $auth.user);
export const isAuthenticated = derived(authStore, ($auth) => $auth.isAuthenticated);
export const isLoading = derived(authStore, ($auth) => $auth.isLoading);

# END OF frontend/src/lib/stores/auth.ts


##################################################################
# FILE: frontend/src/lib/stores/cart.ts
# PATH: frontend/src/lib/stores/cart.ts
##################################################################

import { writable, derived } from 'svelte/store';
import { browser } from '$app/environment';

export interface CartItem {
  id: string;
  name: string;
  description: string;
  price: number;
  type: 'membership' | 'course' | 'alert-service';
  image?: string;
  quantity: number;
  interval?: 'monthly' | 'quarterly' | 'yearly'; // For subscriptions
  couponCode?: string; // Applied coupon code
  discount?: number; // Discount amount
}

interface CartState {
  items: CartItem[];
}

const CART_STORAGE_KEY = 'revolution_cart';

// Load cart from localStorage
function loadCart(): CartState {
  if (!browser) {
    return { items: [] };
  }

  try {
    const stored = localStorage.getItem(CART_STORAGE_KEY);
    if (stored) {
      return JSON.parse(stored);
    }
  } catch (error) {
    console.error('Error loading cart from localStorage:', error);
  }

  return { items: [] };
}

// Create the cart store
function createCartStore() {
  const { subscribe, set, update } = writable<CartState>(loadCart());

  // Save to localStorage whenever cart changes
  if (browser) {
    subscribe((state) => {
      try {
        localStorage.setItem(CART_STORAGE_KEY, JSON.stringify(state));
      } catch (error) {
        console.error('Error saving cart to localStorage:', error);
      }
    });
  }

  return {
    subscribe,

    /**
     * Add item to cart
     */
    addItem: (item: Omit<CartItem, 'quantity'>) => {
      update((state) => {
        // Check if item already exists
        const existingIndex = state.items.findIndex(
          (i) => i.id === item.id && i.interval === item.interval
        );

        if (existingIndex >= 0) {
          // Increase quantity for existing item
          state.items[existingIndex].quantity += 1;
        } else {
          // Add new item with quantity 1
          state.items.push({ ...item, quantity: 1 });
        }

        return state;
      });
    },

    /**
     * Remove item from cart
     */
    removeItem: (itemId: string, interval?: 'monthly' | 'quarterly' | 'yearly') => {
      update((state) => {
        state.items = state.items.filter(
          (item) => !(item.id === itemId && item.interval === interval)
        );
        return state;
      });
    },

    /**
     * Update item quantity
     */
    updateQuantity: (itemId: string, quantity: number, interval?: 'monthly' | 'quarterly' | 'yearly') => {
      update((state) => {
        const item = state.items.find(
          (i) => i.id === itemId && i.interval === interval
        );

        if (item) {
          if (quantity <= 0) {
            // Remove item if quantity is 0 or less
            state.items = state.items.filter(
              (i) => !(i.id === itemId && i.interval === interval)
            );
          } else {
            item.quantity = quantity;
          }
        }

        return state;
      });
    },

    /**
     * Apply coupon to cart
     */
    applyCoupon: (couponCode: string, discount: number) => {
      update((state) => {
        state.items = state.items.map(item => ({
          ...item,
          couponCode,
          discount
        }));
        return state;
      });
    },

    /**
     * Remove coupon from cart
     */
    removeCoupon: () => {
      update((state) => {
        state.items = state.items.map(item => {
          const { couponCode, discount, ...rest } = item;
          return rest as CartItem;
        });
        return state;
      });
    },

    /**
     * Clear entire cart
     */
    clearCart: () => {
      set({ items: [] });
    },

    /**
     * Get item count
     */
    getItemCount: (state: CartState): number => {
      return state.items.reduce((total, item) => total + item.quantity, 0);
    },

    /**
     * Get cart total
     */
    getTotal: (state: CartState): number => {
      return state.items.reduce((total, item) => total + item.price * item.quantity, 0);
    }
  };
}

export const cartStore = createCartStore();

// Derived stores for computed values
export const cartItemCount = derived(cartStore, ($cart) =>
  $cart.items.reduce((total, item) => total + item.quantity, 0)
);

export const cartTotal = derived(cartStore, ($cart) =>
  $cart.items.reduce((total, item) => total + item.price * item.quantity, 0)
);

export const hasCartItems = derived(cartItemCount, ($count) => $count > 0);

# END OF frontend/src/lib/stores/cart.ts


##################################################################
# FILE: frontend/src/lib/stores/popups.ts
# PATH: frontend/src/lib/stores/popups.ts
##################################################################

import { writable, derived } from 'svelte/store';
import { browser } from '$app/environment';

// Popup configuration types for a fully customizable popup system
export interface PopupButton {
  text: string;
  link?: string;
  action?: 'close' | 'submit' | 'custom';
  style: 'primary' | 'secondary' | 'outline' | 'ghost';
  gradient?: string;
  customClass?: string;
}

export interface PopupContent {
  type: 'html' | 'markdown' | 'component';
  data: string;
  customCss?: string;
}

export interface PopupDesign {
  // Layout
  width: string; // e.g., '600px', '90%', 'auto'
  maxWidth: string;
  height: string; // e.g., 'auto', '400px', '80vh'
  padding: string;

  // Colors and styling
  backgroundColor: string;
  textColor: string;
  borderRadius: string;
  borderWidth: string;
  borderColor: string;
  borderStyle: string;

  // Background effects
  backgroundGradient?: string;
  backgroundImage?: string;
  backdropBlur: string;
  boxShadow: string;

  // Custom CSS
  customCss?: string;
}

export interface PopupAnimation {
  entrance: 'fade' | 'slide-up' | 'slide-down' | 'slide-left' | 'slide-right' | 'zoom' | 'bounce' | 'flip';
  exit: 'fade' | 'slide-up' | 'slide-down' | 'slide-left' | 'slide-right' | 'zoom' | 'bounce' | 'flip';
  duration: number; // in ms
  easing: 'linear' | 'ease' | 'ease-in' | 'ease-out' | 'ease-in-out' | 'custom';
  customEasing?: string;
}

export interface PopupDisplayRules {
  // Timing
  delaySeconds: number;
  showOnScroll: boolean;
  scrollPercentage: number;
  showOnExit: boolean; // Exit intent
  timeOnPage?: number; // Seconds user must be on page before showing

  // Frequency
  frequency: 'always' | 'once-per-session' | 'once-per-day' | 'once-per-week' | 'once-ever';

  // Targeting
  pages: string[]; // URL patterns, e.g., ['/cart', '/checkout', '/products/*']
  excludePages: string[];
  deviceTargeting: 'all' | 'desktop' | 'mobile' | 'tablet';

  // Advanced targeting
  utmSource?: string[]; // Show only for specific UTM sources
  utmCampaign?: string[]; // Show only for specific campaigns
  referrer?: string[]; // Show based on referrer domain
  country?: string[]; // Geo-targeting (requires backend)

  // User behavior
  newVisitorsOnly: boolean;
  returningVisitorsOnly: boolean;
  minPageViews: number;
  maxPageViews?: number; // Hide after certain page views
}

export interface Popup {
  id: string;
  name: string; // Internal name for admin
  isActive: boolean;

  // Content
  title?: string;
  content: PopupContent;
  buttons: PopupButton[];
  closeButton: boolean;
  closeOnOverlayClick: boolean;

  // Design
  design: PopupDesign;
  animation: PopupAnimation;
  overlayColor: string;
  overlayOpacity: number;

  // Display rules
  displayRules: PopupDisplayRules;

  // Form integration (optional)
  formFields?: {
    name: string;
    type: 'text' | 'email' | 'tel' | 'textarea' | 'select';
    placeholder: string;
    required: boolean;
    options?: string[]; // For select fields
  }[];
  formAction?: string; // API endpoint or email

  // Advanced features
  countdownTimer?: {
    enabled: boolean;
    endDate: string; // ISO date string
    showDays: boolean;
    showHours: boolean;
    showMinutes: boolean;
    showSeconds: boolean;
    timerColor?: string;
    onExpire?: 'hide' | 'show-message' | 'redirect';
    expireMessage?: string;
    redirectUrl?: string;
  };

  videoEmbed?: {
    enabled: boolean;
    url: string; // YouTube, Vimeo, or direct video URL
    autoplay: boolean;
    muted: boolean;
    controls: boolean;
    aspectRatio: '16:9' | '4:3' | '1:1' | 'custom';
    customAspectRatio?: string;
  };

  multiStep?: {
    enabled: boolean;
    steps: {
      title?: string;
      content: PopupContent;
      buttons?: PopupButton[];
    }[];
    showProgress: boolean;
    progressColor?: string;
  };

  socialProof?: {
    enabled: boolean;
    type: 'recent-purchase' | 'visitor-count' | 'testimonial';
    message: string;
    updateInterval?: number; // Seconds
  };

  // Analytics
  impressions: number;
  conversions: number;

  // Meta
  createdAt: string;
  updatedAt: string;
}

// Default popup configuration for easy creation
export const defaultPopupConfig: Partial<Popup> = {
  isActive: true,
  closeButton: true,
  closeOnOverlayClick: true,

  design: {
    width: '600px',
    maxWidth: '90vw',
    height: 'auto',
    padding: '2rem',
    backgroundColor: '#1e293b',
    textColor: '#f1f5f9',
    borderRadius: '24px',
    borderWidth: '1px',
    borderColor: 'rgba(99, 102, 241, 0.3)',
    borderStyle: 'solid',
    backdropBlur: '16px',
    boxShadow: '0 25px 50px -12px rgba(0, 0, 0, 0.5)'
  },

  animation: {
    entrance: 'zoom',
    exit: 'fade',
    duration: 300,
    easing: 'ease-out'
  },

  overlayColor: '#000000',
  overlayOpacity: 0.7,

  displayRules: {
    delaySeconds: 2,
    showOnScroll: false,
    scrollPercentage: 50,
    showOnExit: false,
    frequency: 'once-per-session',
    pages: ['/*'],
    excludePages: [],
    deviceTargeting: 'all',
    newVisitorsOnly: false,
    returningVisitorsOnly: false,
    minPageViews: 0
  },

  buttons: [],
  impressions: 0,
  conversions: 0
};

// Popup state management
interface PopupState {
  activePopup: Popup | null;
  popupHistory: {
    popupId: string;
    lastShown: number;
    shownCount: number;
  }[];
  pageViews: number;
  sessionStart: number;
}

const STORAGE_KEY = 'popup_state';

function loadPopupState(): PopupState {
  if (!browser) {
    return {
      activePopup: null,
      popupHistory: [],
      pageViews: 0,
      sessionStart: Date.now()
    };
  }

  const stored = localStorage.getItem(STORAGE_KEY);
  if (stored) {
    try {
      return JSON.parse(stored);
    } catch (e) {
      console.error('Failed to parse popup state:', e);
    }
  }

  return {
    activePopup: null,
    popupHistory: [],
    pageViews: 0,
    sessionStart: Date.now()
  };
}

function savePopupState(state: PopupState) {
  if (browser) {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
  }
}

// Create the popup store
function createPopupStore() {
  const { subscribe, set, update } = writable<PopupState>(loadPopupState());

  return {
    subscribe,

    // Show a popup
    show: (popup: Popup) => {
      update(state => {
        const newState = { ...state, activePopup: popup };
        savePopupState(newState);
        return newState;
      });
    },

    // Hide the current popup
    hide: () => {
      update(state => {
        const newState = { ...state, activePopup: null };
        savePopupState(newState);
        return newState;
      });
    },

    // Record that a popup was shown
    recordImpression: (popupId: string) => {
      update(state => {
        const now = Date.now();
        const history = [...state.popupHistory];
        const existing = history.find(h => h.popupId === popupId);

        if (existing) {
          existing.lastShown = now;
          existing.shownCount++;
        } else {
          history.push({
            popupId,
            lastShown: now,
            shownCount: 1
          });
        }

        const newState = { ...state, popupHistory: history };
        savePopupState(newState);
        return newState;
      });
    },

    // Record a conversion (button click, form submit, etc.)
    recordConversion: (popupId: string) => {
      // This would typically send to analytics API
      console.log('Popup conversion recorded:', popupId);
    },

    // Check if popup should be shown based on frequency rules
    canShow: (popup: Popup): boolean => {
      if (!browser) return false;

      const state = loadPopupState();
      const history = state.popupHistory.find(h => h.popupId === popup.id);
      const now = Date.now();

      if (!history) return true;

      switch (popup.displayRules.frequency) {
        case 'always':
          return true;

        case 'once-per-session':
          // Check if shown in current session
          return history.lastShown < state.sessionStart;

        case 'once-per-day':
          const dayInMs = 24 * 60 * 60 * 1000;
          return now - history.lastShown > dayInMs;

        case 'once-per-week':
          const weekInMs = 7 * 24 * 60 * 60 * 1000;
          return now - history.lastShown > weekInMs;

        case 'once-ever':
          return history.shownCount === 0;

        default:
          return true;
      }
    },

    // Increment page view count
    incrementPageView: () => {
      update(state => {
        const newState = { ...state, pageViews: state.pageViews + 1 };
        savePopupState(newState);
        return newState;
      });
    },

    // Clear all popup history (for testing/debugging)
    clearHistory: () => {
      update(state => {
        const newState = {
          ...state,
          popupHistory: [],
          pageViews: 0,
          sessionStart: Date.now()
        };
        savePopupState(newState);
        return newState;
      });
    }
  };
}

export const popupStore = createPopupStore();

// Derived store for active popup
export const activePopup = derived(
  popupStore,
  $popupStore => $popupStore.activePopup
);

# END OF frontend/src/lib/stores/popups.ts


##################################################################
# FILE: frontend/src/lib/stores/subscriptions.ts
# PATH: frontend/src/lib/stores/subscriptions.ts
##################################################################

import { writable, derived } from 'svelte/store';
import { browser } from '$app/environment';

// Subscription status types (like WooCommerce Subscriptions)
export type SubscriptionStatus =
  | 'active'           // Subscription is active and payments are processing
  | 'pending'          // Waiting for first payment
  | 'on-hold'          // Paused due to payment failure or manual hold
  | 'cancelled'        // Cancelled by user or admin
  | 'expired'          // Subscription period ended
  | 'pending-cancel';  // Scheduled to cancel at end of period

export type PaymentStatus =
  | 'paid'
  | 'failed'
  | 'pending'
  | 'refunded'
  | 'partially-refunded';

export type SubscriptionInterval = 'monthly' | 'quarterly' | 'yearly';

export interface SubscriptionPayment {
  id: string;
  amount: number;
  status: PaymentStatus;
  paymentDate: string;
  dueDate: string;
  paymentMethod: string;
  failureReason?: string;
  retryCount?: number;
  nextRetryDate?: string;
}

export interface Subscription {
  id: string;
  userId: string;
  productId: string;
  productName: string;
  status: SubscriptionStatus;
  interval: SubscriptionInterval;

  // Pricing
  price: number;
  currency: string;

  // Dates
  startDate: string;
  nextPaymentDate: string;
  lastPaymentDate?: string;
  endDate?: string;
  cancelledAt?: string;
  pausedAt?: string;

  // Payment tracking
  totalPaid: number;
  failedPayments: number;
  successfulPayments: number;
  paymentHistory: SubscriptionPayment[];

  // Actions taken
  pauseReason?: string;
  cancellationReason?: string;

  // Renewal tracking
  renewalCount: number;
  autoRenew: boolean;

  // Trial period
  trialEndDate?: string;
  isTrialing: boolean;

  // Payment method
  paymentMethod: {
    type: 'card' | 'paypal' | 'bank';
    last4?: string;
    brand?: string;
    expiryMonth?: number;
    expiryYear?: number;
  };

  // Notifications
  emailsSent: {
    type: 'renewal' | 'failed-payment' | 'cancelled' | 'paused' | 'reactivated';
    sentAt: string;
    subject: string;
  }[];

  // Metadata
  createdAt: string;
  updatedAt: string;
  notes?: string;
}

export interface SubscriptionFilters {
  status?: SubscriptionStatus[];
  interval?: SubscriptionInterval[];
  searchQuery?: string;
  dateFrom?: string;
  dateTo?: string;
}

export interface SubscriptionStats {
  total: number;
  active: number;
  totalActive: number;
  newThisMonth: number;
  onHold: number;
  cancelled: number;
  expired: number;
  pendingCancel: number;
  monthlyRecurringRevenue: number;
  churnRate: number;
  averageLifetimeValue: number;
}

// Store state
interface SubscriptionState {
  subscriptions: Subscription[];
  filters: SubscriptionFilters;
  loading: boolean;
  error: string | null;
}

const initialState: SubscriptionState = {
  subscriptions: [],
  filters: {},
  loading: false,
  error: null
};

// Create the subscription store
function createSubscriptionStore() {
  const { subscribe, set, update } = writable<SubscriptionState>(initialState);

  return {
    subscribe,

    // Load subscriptions
    loadSubscriptions: async (filters?: SubscriptionFilters) => {
      update(state => ({ ...state, loading: true, error: null }));

      try {
        // TODO: Replace with actual API call
        // const subscriptions = await getSubscriptions(filters);
        const subscriptions: Subscription[] = []; // Mock data

        update(state => ({
          ...state,
          subscriptions,
          filters: filters || {},
          loading: false
        }));
      } catch (error) {
        update(state => ({
          ...state,
          error: 'Failed to load subscriptions',
          loading: false
        }));
      }
    },

    // Update subscription status
    updateStatus: async (subscriptionId: string, newStatus: SubscriptionStatus, reason?: string) => {
      update(state => ({ ...state, loading: true }));

      try {
        // TODO: API call to update status
        // await updateSubscriptionStatus(subscriptionId, newStatus, reason);

        update(state => ({
          ...state,
          subscriptions: state.subscriptions.map(sub =>
            sub.id === subscriptionId
              ? {
                  ...sub,
                  status: newStatus,
                  updatedAt: new Date().toISOString(),
                  ...(newStatus === 'cancelled' && { cancelledAt: new Date().toISOString(), cancellationReason: reason }),
                  ...(newStatus === 'on-hold' && { pausedAt: new Date().toISOString(), pauseReason: reason })
                }
              : sub
          ),
          loading: false
        }));
      } catch (error) {
        update(state => ({ ...state, error: 'Failed to update subscription', loading: false }));
      }
    },

    // Pause subscription
    pauseSubscription: async (subscriptionId: string, reason: string) => {
      update(state => ({ ...state, loading: true }));

      try {
        // TODO: API call
        // await pauseSubscription(subscriptionId, reason);

        update(state => ({
          ...state,
          subscriptions: state.subscriptions.map(sub =>
            sub.id === subscriptionId
              ? {
                  ...sub,
                  status: 'on-hold',
                  pausedAt: new Date().toISOString(),
                  pauseReason: reason,
                  updatedAt: new Date().toISOString()
                }
              : sub
          ),
          loading: false
        }));
      } catch (error) {
        update(state => ({ ...state, error: 'Failed to pause subscription', loading: false }));
      }
    },

    // Resume subscription
    resumeSubscription: async (subscriptionId: string) => {
      update(state => ({ ...state, loading: true }));

      try {
        // TODO: API call
        // await resumeSubscription(subscriptionId);

        update(state => ({
          ...state,
          subscriptions: state.subscriptions.map(sub =>
            sub.id === subscriptionId
              ? {
                  ...sub,
                  status: 'active',
                  pausedAt: undefined,
                  pauseReason: undefined,
                  updatedAt: new Date().toISOString()
                }
              : sub
          ),
          loading: false
        }));
      } catch (error) {
        update(state => ({ ...state, error: 'Failed to resume subscription', loading: false }));
      }
    },

    // Cancel subscription
    cancelSubscription: async (subscriptionId: string, reason: string, immediate: boolean = false) => {
      update(state => ({ ...state, loading: true }));

      try {
        // TODO: API call
        // await cancelSubscription(subscriptionId, reason, immediate);

        update(state => ({
          ...state,
          subscriptions: state.subscriptions.map(sub =>
            sub.id === subscriptionId
              ? {
                  ...sub,
                  status: immediate ? 'cancelled' : 'pending-cancel',
                  cancelledAt: immediate ? new Date().toISOString() : undefined,
                  cancellationReason: reason,
                  autoRenew: false,
                  updatedAt: new Date().toISOString()
                }
              : sub
          ),
          loading: false
        }));
      } catch (error) {
        update(state => ({ ...state, error: 'Failed to cancel subscription', loading: false }));
      }
    },

    // Reactivate cancelled subscription
    reactivateSubscription: async (subscriptionId: string) => {
      update(state => ({ ...state, loading: true }));

      try {
        // TODO: API call
        // await reactivateSubscription(subscriptionId);

        update(state => ({
          ...state,
          subscriptions: state.subscriptions.map(sub =>
            sub.id === subscriptionId
              ? {
                  ...sub,
                  status: 'active',
                  cancelledAt: undefined,
                  cancellationReason: undefined,
                  autoRenew: true,
                  updatedAt: new Date().toISOString()
                }
              : sub
          ),
          loading: false
        }));
      } catch (error) {
        update(state => ({ ...state, error: 'Failed to reactivate subscription', loading: false }));
      }
    },

    // Retry failed payment
    retryPayment: async (subscriptionId: string, paymentId: string) => {
      update(state => ({ ...state, loading: true }));

      try {
        // TODO: API call to retry payment
        // await retryPayment(subscriptionId, paymentId);

        update(state => ({ ...state, loading: false }));
      } catch (error) {
        update(state => ({ ...state, error: 'Failed to retry payment', loading: false }));
      }
    },

    // Update payment method
    updatePaymentMethod: async (subscriptionId: string, paymentMethod: Subscription['paymentMethod']) => {
      update(state => ({ ...state, loading: true }));

      try {
        // TODO: API call
        // await updatePaymentMethod(subscriptionId, paymentMethod);

        update(state => ({
          ...state,
          subscriptions: state.subscriptions.map(sub =>
            sub.id === subscriptionId
              ? { ...sub, paymentMethod, updatedAt: new Date().toISOString() }
              : sub
          ),
          loading: false
        }));
      } catch (error) {
        update(state => ({ ...state, error: 'Failed to update payment method', loading: false }));
      }
    },

    // Process renewal
    processRenewal: async (subscriptionId: string) => {
      update(state => ({ ...state, loading: true }));

      try {
        // TODO: API call to process renewal
        // const result = await processRenewal(subscriptionId);

        update(state => ({
          ...state,
          subscriptions: state.subscriptions.map(sub =>
            sub.id === subscriptionId
              ? {
                  ...sub,
                  renewalCount: sub.renewalCount + 1,
                  lastPaymentDate: new Date().toISOString(),
                  nextPaymentDate: calculateNextPaymentDate(sub.interval),
                  successfulPayments: sub.successfulPayments + 1,
                  totalPaid: sub.totalPaid + sub.price,
                  updatedAt: new Date().toISOString()
                }
              : sub
          ),
          loading: false
        }));
      } catch (error) {
        update(state => ({ ...state, error: 'Failed to process renewal', loading: false }));
      }
    },

    // Record payment failure
    recordPaymentFailure: async (subscriptionId: string, reason: string) => {
      update(state => ({ ...state, loading: true }));

      try {
        // TODO: API call
        // await recordPaymentFailure(subscriptionId, reason);

        update(state => ({
          ...state,
          subscriptions: state.subscriptions.map(sub =>
            sub.id === subscriptionId
              ? {
                  ...sub,
                  status: sub.failedPayments + 1 >= 3 ? 'on-hold' : 'active',
                  failedPayments: sub.failedPayments + 1,
                  pauseReason: sub.failedPayments + 1 >= 3 ? 'Multiple payment failures' : undefined,
                  updatedAt: new Date().toISOString()
                }
              : sub
          ),
          loading: false
        }));
      } catch (error) {
        update(state => ({ ...state, error: 'Failed to record payment failure', loading: false }));
      }
    },

    // Set filters
    setFilters: (filters: SubscriptionFilters) => {
      update(state => ({ ...state, filters }));
    },

    // Clear filters
    clearFilters: () => {
      update(state => ({ ...state, filters: {} }));
    },

    // Reset store
    reset: () => {
      set(initialState);
    }
  };
}

// Helper function to calculate next payment date
function calculateNextPaymentDate(interval: SubscriptionInterval): string {
  const now = new Date();

  switch (interval) {
    case 'monthly':
      now.setMonth(now.getMonth() + 1);
      break;
    case 'quarterly':
      now.setMonth(now.getMonth() + 3);
      break;
    case 'yearly':
      now.setFullYear(now.getFullYear() + 1);
      break;
  }

  return now.toISOString();
}

// Create the store instance
export const subscriptionStore = createSubscriptionStore();

// Derived stores for filtered data
export const filteredSubscriptions = derived(
  subscriptionStore,
  $store => {
    let filtered = $store.subscriptions;

    // Filter by status
    if ($store.filters.status && $store.filters.status.length > 0) {
      filtered = filtered.filter(sub => $store.filters.status!.includes(sub.status));
    }

    // Filter by interval
    if ($store.filters.interval && $store.filters.interval.length > 0) {
      filtered = filtered.filter(sub => $store.filters.interval!.includes(sub.interval));
    }

    // Search filter
    if ($store.filters.searchQuery) {
      const query = $store.filters.searchQuery.toLowerCase();
      filtered = filtered.filter(sub =>
        sub.productName.toLowerCase().includes(query) ||
        sub.userId.toLowerCase().includes(query) ||
        sub.id.toLowerCase().includes(query)
      );
    }

    // Date filters
    if ($store.filters.dateFrom) {
      filtered = filtered.filter(sub => sub.createdAt >= $store.filters.dateFrom!);
    }

    if ($store.filters.dateTo) {
      filtered = filtered.filter(sub => sub.createdAt <= $store.filters.dateTo!);
    }

    return filtered;
  }
);

// Derived store for statistics
export const subscriptionStats = derived(
  subscriptionStore,
  $store => {
    const subs = $store.subscriptions;

    const activeCount = subs.filter(s => s.status === 'active').length;
    const thisMonth = new Date();
    thisMonth.setDate(1);
    thisMonth.setHours(0, 0, 0, 0);
    const newThisMonthCount = subs.filter(s => {
      const createdDate = new Date(s.createdAt);
      return createdDate >= thisMonth && s.status === 'active';
    }).length;

    const stats: SubscriptionStats = {
      total: subs.length,
      active: activeCount,
      totalActive: activeCount,
      newThisMonth: newThisMonthCount,
      onHold: subs.filter(s => s.status === 'on-hold').length,
      cancelled: subs.filter(s => s.status === 'cancelled').length,
      expired: subs.filter(s => s.status === 'expired').length,
      pendingCancel: subs.filter(s => s.status === 'pending-cancel').length,
      monthlyRecurringRevenue: calculateMRR(subs),
      churnRate: calculateChurnRate(subs),
      averageLifetimeValue: calculateAvgLTV(subs)
    };

    return stats;
  }
);

// Helper functions for statistics
function calculateMRR(subscriptions: Subscription[]): number {
  return subscriptions
    .filter(s => s.status === 'active' || s.status === 'pending-cancel')
    .reduce((sum, sub) => {
      let monthlyValue = sub.price;

      if (sub.interval === 'quarterly') {
        monthlyValue = sub.price / 3;
      } else if (sub.interval === 'yearly') {
        monthlyValue = sub.price / 12;
      }

      return sum + monthlyValue;
    }, 0);
}

function calculateChurnRate(subscriptions: Subscription[]): number {
  const activeAtStart = subscriptions.filter(s => s.status === 'active').length;
  const cancelled = subscriptions.filter(s => s.status === 'cancelled').length;

  if (activeAtStart === 0) return 0;

  return (cancelled / (activeAtStart + cancelled)) * 100;
}

function calculateAvgLTV(subscriptions: Subscription[]): number {
  if (subscriptions.length === 0) return 0;

  const totalRevenue = subscriptions.reduce((sum, sub) => sum + sub.totalPaid, 0);
  return totalRevenue / subscriptions.length;
}

# END OF frontend/src/lib/stores/subscriptions.ts


# ============= UTILITIES & DATA =============

##################################################################
# FILE: frontend/src/lib/utils/toast.ts
# PATH: frontend/src/lib/utils/toast.ts
##################################################################

import { writable } from 'svelte/store';

export interface Toast {
  id: string;
  type: 'success' | 'error' | 'warning' | 'info';
  message: string;
  duration?: number;
}

export const toasts = writable<Toast[]>([]);

export function addToast(toast: Omit<Toast, 'id'>) {
  const id = Math.random().toString(36).substring(2, 9);
  const newToast = { ...toast, id };

  toasts.update(t => [...t, newToast]);

  if (toast.duration !== 0) {
    setTimeout(() => {
      removeToast(id);
    }, toast.duration || 5000);
  }
}

export function removeToast(id: string) {
  toasts.update(t => t.filter(toast => toast.id !== id));
}

# END OF frontend/src/lib/utils/toast.ts


##################################################################
# FILE: frontend/src/lib/utils/cart-helpers.ts
# PATH: frontend/src/lib/utils/cart-helpers.ts
##################################################################

import { cartStore, type CartItem } from '$lib/stores/cart';
import { addToCart as addToCartApi } from '$lib/api/cart';
import { goto } from '$app/navigation';

/**
 * Add a product/membership to cart and optionally navigate to cart page
 *
 * @param item - The item to add to cart
 * @param navigateToCart - Whether to navigate to cart page after adding (default: false)
 */
export async function addItemToCart(
  item: Omit<CartItem, 'quantity'>,
  navigateToCart: boolean = false
): Promise<void> {
  // Add to local cart store
  cartStore.addItem(item);

  // Sync with backend if user is authenticated
  try {
    await addToCartApi(item);
  } catch (error) {
    console.error('Failed to sync cart with backend:', error);
    // Continue anyway - local cart works
  }

  // Navigate to cart if requested
  if (navigateToCart) {
    await goto('/cart');
  }
}

/**
 * Quick add membership to cart
 *
 * @param membershipId - The membership ID
 * @param name - Membership name
 * @param description - Membership description
 * @param price - Monthly or yearly price
 * @param interval - 'monthly', 'quarterly', or 'yearly'
 * @param navigateToCart - Whether to navigate to cart (default: true for "Sign Up Now")
 */
export async function addMembershipToCart(
  membershipId: string,
  name: string,
  description: string,
  price: number,
  interval: 'monthly' | 'quarterly' | 'yearly',
  navigateToCart: boolean = true
): Promise<void> {
  await addItemToCart(
    {
      id: membershipId,
      name,
      description,
      price,
      type: 'membership',
      interval
    },
    navigateToCart
  );
}

/**
 * Quick add course to cart
 */
export async function addCourseToCart(
  courseId: string,
  name: string,
  description: string,
  price: number,
  navigateToCart: boolean = false
): Promise<void> {
  await addItemToCart(
    {
      id: courseId,
      name,
      description,
      price,
      type: 'course'
    },
    navigateToCart
  );
}

/**
 * Quick add alert service to cart
 */
export async function addAlertServiceToCart(
  serviceId: string,
  name: string,
  description: string,
  price: number,
  interval: 'monthly' | 'quarterly' | 'yearly',
  navigateToCart: boolean = false
): Promise<void> {
  await addItemToCart(
    {
      id: serviceId,
      name,
      description,
      price,
      type: 'alert-service',
      interval
    },
    navigateToCart
  );
}

# END OF frontend/src/lib/utils/cart-helpers.ts


##################################################################
# FILE: frontend/src/lib/data/formTemplates.ts
# PATH: frontend/src/lib/data/formTemplates.ts
##################################################################

import type { Form, FormField, FieldValidation, FormSettings } from '$lib/api/forms';

export interface TemplateField {
  field_type: string;
  label: string;
  name: string;
  placeholder?: string;
  help_text?: string;
  default_value?: string;
  options?: string[];
  validation?: FieldValidation;
  required: boolean;
  width?: number;
}

export interface FormTemplate {
  id: string;
  name: string;
  description: string;
  category: 'contact' | 'survey' | 'registration' | 'feedback' | 'order' | 'application';
  icon: string;
  theme: FormTheme;
  fields: TemplateField[];
  settings?: FormSettings;
}

export interface FormTheme {
  id: string;
  name: string;
  colors: {
    primary: string;
    secondary: string;
    background: string;
    text: string;
    border: string;
  };
  fonts: {
    heading: string;
    body: string;
  };
  spacing: 'compact' | 'normal' | 'spacious';
  borderRadius: 'none' | 'small' | 'medium' | 'large';
}

export const themes: FormTheme[] = [
  {
    id: 'modern-blue',
    name: 'Modern Blue',
    colors: {
      primary: '#6366f1',
      secondary: '#8b5cf6',
      background: '#ffffff',
      text: '#1e293b',
      border: '#e2e8f0'
    },
    fonts: {
      heading: 'Inter, sans-serif',
      body: 'Inter, sans-serif'
    },
    spacing: 'normal',
    borderRadius: 'medium'
  },
  {
    id: 'elegant-purple',
    name: 'Elegant Purple',
    colors: {
      primary: '#8b5cf6',
      secondary: '#a78bfa',
      background: '#faf5ff',
      text: '#2e1065',
      border: '#e9d5ff'
    },
    fonts: {
      heading: 'Playfair Display, serif',
      body: 'Inter, sans-serif'
    },
    spacing: 'spacious',
    borderRadius: 'large'
  },
  {
    id: 'minimal-gray',
    name: 'Minimal Gray',
    colors: {
      primary: '#475569',
      secondary: '#64748b',
      background: '#f8fafc',
      text: '#0f172a',
      border: '#cbd5e1'
    },
    fonts: {
      heading: 'Inter, sans-serif',
      body: 'Inter, sans-serif'
    },
    spacing: 'compact',
    borderRadius: 'small'
  },
  {
    id: 'vibrant-green',
    name: 'Vibrant Green',
    colors: {
      primary: '#10b981',
      secondary: '#34d399',
      background: '#f0fdf4',
      text: '#064e3b',
      border: '#d1fae5'
    },
    fonts: {
      heading: 'Poppins, sans-serif',
      body: 'Inter, sans-serif'
    },
    spacing: 'normal',
    borderRadius: 'medium'
  },
  {
    id: 'dark-mode',
    name: 'Dark Mode',
    colors: {
      primary: '#818cf8',
      secondary: '#a5b4fc',
      background: '#1e293b',
      text: '#f1f5f9',
      border: '#334155'
    },
    fonts: {
      heading: 'Inter, sans-serif',
      body: 'Inter, sans-serif'
    },
    spacing: 'normal',
    borderRadius: 'medium'
  }
];

export const templates: FormTemplate[] = [
  {
    id: 'contact-basic',
    name: 'Basic Contact Form',
    description: 'Simple contact form with name, email, and message',
    category: 'contact',
    icon: '',
    theme: themes[0],
    fields: [
      {
        field_type: 'text',
        name: 'name',
        label: 'Full Name',
        required: true,
        placeholder: 'John Doe',
        validation: { min_length: 2, max_length: 100 },
        width: 100
      },
      {
        field_type: 'email',
        name: 'email',
        label: 'Email Address',
        required: true,
        placeholder: 'john@example.com',
        validation: { pattern: '^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$' },
        width: 100
      },
      {
        field_type: 'tel',
        name: 'phone',
        label: 'Phone Number',
        required: false,
        placeholder: '(555) 123-4567',
        width: 100
      },
      {
        field_type: 'textarea',
        name: 'message',
        label: 'Message',
        required: true,
        placeholder: 'How can we help you?',
        validation: { min_length: 10, max_length: 1000 },
        width: 100
      }
    ],
    settings: {
      send_email: true,
      success_message: 'Thank you for contacting us! We\'ll get back to you soon.'
    }
  },
  {
    id: 'survey-satisfaction',
    name: 'Customer Satisfaction Survey',
    description: 'Gather feedback on customer experience',
    category: 'survey',
    icon: '',
    theme: themes[3],
    fields: [
      {
        field_type: 'radio',
        name: 'overall_satisfaction',
        label: 'How satisfied are you with our service?',
        required: true,
        options: ['Very Satisfied', 'Satisfied', 'Neutral', 'Dissatisfied', 'Very Dissatisfied'],
        width: 100
      },
      {
        field_type: 'select',
        name: 'recommendation',
        label: 'How likely are you to recommend us to a friend?',
        required: true,
        options: ['10 - Extremely Likely', '9', '8', '7', '6', '5', '4', '3', '2', '1', '0 - Not at all Likely'],
        width: 100
      },
      {
        field_type: 'checkbox',
        name: 'aspects',
        label: 'What did you like most? (Select all that apply)',
        required: false,
        options: ['Customer Service', 'Product Quality', 'Pricing', 'Delivery Speed', 'Website Experience'],
        width: 100
      },
      {
        field_type: 'textarea',
        name: 'improvements',
        label: 'What can we improve?',
        required: false,
        placeholder: 'Your suggestions...',
        validation: { max_length: 500 },
        width: 100
      },
      {
        field_type: 'email',
        name: 'contact_email',
        label: 'Email (optional for follow-up)',
        required: false,
        placeholder: 'your@email.com',
        width: 100
      }
    ]
  },
  {
    id: 'registration-event',
    name: 'Event Registration',
    description: 'Register attendees for events, webinars, or workshops',
    category: 'registration',
    icon: '',
    theme: themes[1],
    fields: [
      {
        name: 'first_name',
        label: 'First Name',
        field_type: 'text',
        required: true,
        validation: { min_length: 2, max_length: 50 }
      },
      {
        name: 'last_name',
        label: 'Last Name',
        field_type: 'text',
        required: true,
        validation: { min_length: 2, max_length: 50 }
      },
      {
        name: 'email',
        label: 'Email Address',
        field_type: 'email',
        required: true,
        validation: { pattern: '^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$' }
      },
      {
        name: 'phone',
        label: 'Phone Number',
        field_type: 'tel',
        required: true
      },
      {
        name: 'company',
        label: 'Company/Organization',
        field_type: 'text',
        required: false
      },
      {
        name: 'ticket_type',
        label: 'Ticket Type',
        field_type: 'radio',
        required: true,
        options: ['General Admission', 'VIP', 'Student', 'Group (3+)']
      },
      {
        name: 'dietary_restrictions',
        label: 'Dietary Restrictions',
        field_type: 'checkbox',
        required: false,
        options: ['Vegetarian', 'Vegan', 'Gluten-Free', 'Dairy-Free', 'Nut Allergy', 'None']
      },
      {
        name: 'special_requests',
        label: 'Special Requests or Questions',
        field_type: 'textarea',
        required: false,
        placeholder: 'Any special accommodations needed?'
      }
    ],
    settings: {
      send_email: true,
      success_message: 'Registration successful! Check your email for confirmation and event details.'
    }
  },
  {
    id: 'feedback-product',
    name: 'Product Feedback',
    description: 'Collect detailed product feedback from users',
    category: 'feedback',
    icon: '',
    theme: themes[0],
    fields: [
      {
        name: 'product',
        label: 'Which product are you providing feedback for?',
        field_type: 'select',
        required: true,
        options: ['Product A', 'Product B', 'Product C', 'Other']
      },
      {
        name: 'usage_duration',
        label: 'How long have you been using this product?',
        field_type: 'radio',
        required: true,
        options: ['Less than 1 month', '1-3 months', '3-6 months', '6-12 months', 'Over 1 year']
      },
      {
        name: 'rating',
        label: 'Overall Rating',
        field_type: 'select',
        required: true,
        options: ['5 - Excellent', '4 - Good', '3 - Average', '2 - Below Average', '1 - Poor']
      },
      {
        name: 'features_used',
        label: 'Which features do you use most?',
        field_type: 'checkbox',
        required: false,
        options: ['Feature 1', 'Feature 2', 'Feature 3', 'Feature 4', 'Feature 5']
      },
      {
        name: 'pros',
        label: 'What do you like about the product?',
        field_type: 'textarea',
        required: false,
        placeholder: 'Tell us what works well...'
      },
      {
        name: 'cons',
        label: 'What could be improved?',
        field_type: 'textarea',
        required: false,
        placeholder: 'Tell us what needs work...'
      },
      {
        name: 'email',
        label: 'Email (for follow-up)',
        field_type: 'email',
        required: false
      }
    ]
  },
  {
    id: 'order-custom',
    name: 'Custom Order Form',
    description: 'Take custom product or service orders',
    category: 'order',
    icon: '',
    theme: themes[3],
    fields: [
      {
        name: 'customer_name',
        label: 'Full Name',
        field_type: 'text',
        required: true,
        validation: { min_length: 2, max_length: 100 }
      },
      {
        name: 'email',
        label: 'Email Address',
        field_type: 'email',
        required: true
      },
      {
        name: 'phone',
        label: 'Phone Number',
        field_type: 'tel',
        required: true
      },
      {
        name: 'product_type',
        label: 'Product/Service Type',
        field_type: 'select',
        required: true,
        options: ['Custom Design', 'Standard Product', 'Bulk Order', 'Special Request']
      },
      {
        name: 'quantity',
        label: 'Quantity',
        field_type: 'number',
        required: true,
        validation: { min: 1, max: 1000 }
      },
      {
        name: 'specifications',
        label: 'Detailed Specifications',
        field_type: 'textarea',
        required: true,
        placeholder: 'Please describe your requirements in detail...',
        validation: { min_length: 20 }
      },
      {
        name: 'budget',
        label: 'Budget Range',
        field_type: 'select',
        required: false,
        options: ['Under $100', '$100-$500', '$500-$1000', '$1000-$5000', 'Over $5000']
      },
      {
        name: 'deadline',
        label: 'Preferred Completion Date',
        field_type: 'date',
        required: false
      },
      {
        name: 'attachments',
        label: 'Reference Files (optional)',
        field_type: 'file',
        required: false
      }
    ],
    settings: {
      send_email: true,
      success_message: 'Order received! We\'ll contact you within 24 hours to discuss details.'
    }
  },
  {
    id: 'application-job',
    name: 'Job Application',
    description: 'Collect job applications with resume upload',
    category: 'application',
    icon: '',
    theme: themes[2],
    fields: [
      {
        name: 'first_name',
        label: 'First Name',
        field_type: 'text',
        required: true,
        validation: { min_length: 2, max_length: 50 }
      },
      {
        name: 'last_name',
        label: 'Last Name',
        field_type: 'text',
        required: true,
        validation: { min_length: 2, max_length: 50 }
      },
      {
        name: 'email',
        label: 'Email Address',
        field_type: 'email',
        required: true
      },
      {
        name: 'phone',
        label: 'Phone Number',
        field_type: 'tel',
        required: true
      },
      {
        name: 'position',
        label: 'Position Applied For',
        field_type: 'select',
        required: true,
        options: ['Software Engineer', 'Product Manager', 'Designer', 'Marketing', 'Sales', 'Other']
      },
      {
        name: 'experience',
        label: 'Years of Experience',
        field_type: 'select',
        required: true,
        options: ['0-1 years', '1-3 years', '3-5 years', '5-10 years', '10+ years']
      },
      {
        name: 'resume',
        label: 'Resume/CV',
        field_type: 'file',
        required: true
      },
      {
        name: 'cover_letter',
        label: 'Cover Letter',
        field_type: 'textarea',
        required: false,
        placeholder: 'Tell us why you\'re a great fit...',
        validation: { max_length: 2000 }
      },
      {
        name: 'portfolio',
        label: 'Portfolio/LinkedIn URL',
        field_type: 'url',
        required: false,
        placeholder: 'https://...'
      },
      {
        name: 'start_date',
        label: 'Available Start Date',
        field_type: 'date',
        required: false
      },
      {
        name: 'salary_expectation',
        label: 'Salary Expectation',
        field_type: 'text',
        required: false,
        placeholder: 'e.g., $80,000 - $100,000'
      }
    ],
    settings: {
      send_email: true,
      success_message: 'Application submitted successfully! We\'ll review your application and be in touch soon.'
    }
  }
];

export function getTemplatesByCategory(category: string): FormTemplate[] {
  return templates.filter((t) => t.category === category);
}

export function getTemplateById(id: string): FormTemplate | undefined {
  return templates.find((t) => t.id === id);
}

export function getThemeById(id: string): FormTheme | undefined {
  return themes.find((t) => t.id === id);
}

# END OF frontend/src/lib/data/formTemplates.ts


##################################################################
# FILE: frontend/src/lib/types/post.ts
# PATH: frontend/src/lib/types/post.ts
##################################################################

/**
 * Blog Post Types
 */

export interface Author {
  id: number;
  name: string;
}

export interface Post {
  id: number;
  title: string;
  slug: string;
  excerpt: string | null;
  content_blocks: any[] | null;
  featured_image: string | null;
  published_at: string;
  author?: Author;
  meta_title?: string | null;
  meta_description?: string | null;
  canonical_url?: string | null;
  schema_markup?: any | null;
  indexable?: boolean;
}

export interface PaginatedPosts {
  data: Post[];
  current_page: number;
  last_page: number;
  per_page: number;
  total: number;
  links: {
    first: string | null;
    last: string | null;
    prev: string | null;
    next: string | null;
  };
}

# END OF frontend/src/lib/types/post.ts


# ============= PAGES (88 total) =============

##################################################################
# FILE: frontend/src/routes/+layout.svelte
# PATH: frontend/src/routes/+layout.svelte
##################################################################

<script>
  import '../app.css';
  import NavBar from '$lib/components/NavBar.svelte';
  import PopupModal from '$lib/components/PopupModal.svelte';
</script>

<svelte:head>
  <title>Revolution Trading Pros | Live Trading Rooms, Alerts & Pro Tools</title>
  <meta name="description" content="Professional trading education and tools. Live trading rooms, SPX alerts, courses, and indicators built for disciplined traders." />
</svelte:head>

<div class="min-h-screen bg-rtp-bg text-rtp-text">
  <NavBar />

  <main>
    <slot />
  </main>

  <!-- Global Popup Modal -->
  <PopupModal />
</div>
# END OF frontend/src/routes/+layout.svelte


##################################################################
# FILE: frontend/src/routes/+page.svelte
# PATH: frontend/src/routes/+page.svelte
##################################################################

<script lang="ts">
  import Hero from '$lib/components/Hero.svelte';
  import WhySection from '$lib/components/sections/WhySection.svelte';
  import TradingRoomsSection from '$lib/components/sections/TradingRoomsSection.svelte';
  import AlertServicesSection from '$lib/components/sections/AlertServicesSection.svelte';
  import MentorshipSection from '$lib/components/sections/MentorshipSection.svelte';
  import LatestBlogsSection from '$lib/components/sections/LatestBlogsSection.svelte';
  import CTASection from '$lib/components/sections/CTASection.svelte';
</script>

<svelte:head>
  <title>Revolution Trading Pros | Live Trading Rooms, Alerts & Pro Tools</title>
  <meta name="description" content="Professional trading education and tools. Live trading rooms, SPX alerts, courses, and indicators built for disciplined traders." />
  <link rel="canonical" href="https://revolutiontradingpros.com/" />
</svelte:head>

<Hero />

<WhySection />

<TradingRoomsSection />

<AlertServicesSection />

<MentorshipSection />

<LatestBlogsSection />

<CTASection />

<LatestBlogsSection />

# END OF frontend/src/routes/+page.svelte


##################################################################
# FILE: frontend/src/routes/about/+page.svelte
# PATH: frontend/src/routes/about/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { browser } from '$app/environment';
  import { IconUsers, IconTrendingUp, IconShieldCheck, IconRocket, IconAward, IconTarget } from '@tabler/icons-svelte';

  let isVisible = false;
  let heroRef: HTMLElement;

  // Team members
  const team = [
    {
      name: 'Michael Rodriguez',
      role: 'Founder & Lead Trader',
      image: '/images/team/placeholder-1.jpg',
      bio: '15+ years of institutional trading experience. Former Goldman Sachs derivatives trader specializing in SPX options.'
    },
    {
      name: 'Sarah Chen',
      role: 'Chief Strategy Officer',
      image: '/images/team/placeholder-2.jpg',
      bio: 'Quantitative analyst with expertise in algorithmic trading systems. PhD in Financial Engineering from MIT.'
    },
    {
      name: 'David Thompson',
      role: 'Head of Education',
      image: '/images/team/placeholder-3.jpg',
      bio: 'Certified Financial Technician with 12 years teaching professional traders. Author of "Market Mastery Frameworks".'
    },
    {
      name: 'Jessica Martinez',
      role: 'Risk Management Director',
      image: '/images/team/placeholder-4.jpg',
      bio: 'Former JP Morgan risk analyst. Specializes in portfolio optimization and institutional risk assessment.'
    }
  ];

  // Company stats
  const stats = [
    { value: '10,000+', label: 'Active Members', icon: IconUsers },
    { value: '85%', label: 'Win Rate', icon: IconTrendingUp },
    { value: '$50M+', label: 'Member Profits', icon: IconAward },
    { value: '24/7', label: 'Support', icon: IconShieldCheck }
  ];

  // Core values
  const values = [
    {
      icon: IconTarget,
      title: 'Precision',
      description: 'Every trade setup is backed by institutional-grade analysis and rigorous risk management protocols.'
    },
    {
      icon: IconShieldCheck,
      title: 'Transparency',
      description: 'Real-time trade execution, verified track records, and honest communication with our community.'
    },
    {
      icon: IconRocket,
      title: 'Innovation',
      description: 'Cutting-edge trading technology, proprietary indicators, and advanced market analysis tools.'
    }
  ];

  onMount(() => {
    if (!browser) return;

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            isVisible = true;
          }
        });
      },
      { threshold: 0.1 }
    );

    if (heroRef) {
      observer.observe(heroRef);
    }

    return () => observer.disconnect();
  });
</script>

<svelte:head>
  <title>About Us | Revolution Trading Pros</title>
  <meta name="description" content="Learn about Revolution Trading Pros, our expert team, and our commitment to transforming traders through professional education and institutional-grade tools." />
</svelte:head>

<div class="about-page">
  <!-- Hero Section -->
  <section class="hero-section" bind:this={heroRef}>
    <div class="hero-container">
      <div class="hero-content" class:visible={isVisible}>
        <div class="badge">
          <IconAward size={20} />
          <span>ESTABLISHED 2018</span>
        </div>
        <h1 class="hero-title">
          Transforming Traders Through
          <span class="gradient-text">Professional Excellence</span>
        </h1>
        <p class="hero-subtitle">
          We're not just another trading service. We're a community of disciplined professionals committed to mastering the markets with institutional-grade strategies, cutting-edge technology, and uncompromising standards.
        </p>
      </div>
    </div>
  </section>

  <!-- Stats Section -->
  <section class="stats-section">
    <div class="stats-container">
      {#each stats as stat}
        <div class="stat-card">
          <svelte:component this={stat.icon} size={40} class="stat-icon" />
          <div class="stat-value">{stat.value}</div>
          <div class="stat-label">{stat.label}</div>
        </div>
      {/each}
    </div>
  </section>

  <!-- Story Section -->
  <section class="story-section">
    <div class="story-container">
      <div class="section-header">
        <h2 class="section-title">Our Story</h2>
      </div>
      <div class="story-content">
        <div class="story-text">
          <p>
            Revolution Trading Pros was founded in 2018 by a team of former institutional traders who saw a glaring gap in the retail trading education space. While retail traders were being sold dreams and quick-fix systems, professional traders operated with discipline, structure, and proven methodologies.
          </p>
          <p>
            We built Revolution Trading Pros to bridge that gapto bring institutional-level trading education, tools, and community to serious retail traders who demand more than hype and empty promises.
          </p>
          <p>
            Today, we serve over 10,000 active members globally, providing live trading rooms, proprietary indicators, structured education programs, and a community of like-minded professionals who take trading seriously.
          </p>
        </div>
        <div class="story-image">
          <div class="image-placeholder">
            <IconRocket size={120} class="placeholder-icon" />
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Values Section -->
  <section class="values-section">
    <div class="values-container">
      <div class="section-header">
        <h2 class="section-title">Our Core Values</h2>
        <p class="section-subtitle">
          The principles that guide every decision we make and every service we provide.
        </p>
      </div>
      <div class="values-grid">
        {#each values as value}
          <div class="value-card">
            <div class="value-icon-wrapper">
              <svelte:component this={value.icon} size={36} class="value-icon" />
            </div>
            <h3 class="value-title">{value.title}</h3>
            <p class="value-description">{value.description}</p>
          </div>
        {/each}
      </div>
    </div>
  </section>

  <!-- Team Section -->
  <section class="team-section">
    <div class="team-container">
      <div class="section-header">
        <h2 class="section-title">Meet Our Expert Team</h2>
        <p class="section-subtitle">
          Seasoned professionals with decades of combined trading and education experience.
        </p>
      </div>
      <div class="team-grid">
        {#each team as member}
          <div class="team-card">
            <div class="team-image">
              <div class="image-placeholder-team">
                <IconUsers size={80} />
              </div>
            </div>
            <div class="team-info">
              <h3 class="team-name">{member.name}</h3>
              <div class="team-role">{member.role}</div>
              <p class="team-bio">{member.bio}</p>
            </div>
          </div>
        {/each}
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="cta-section">
    <div class="cta-container">
      <h2 class="cta-title">Ready to Join Our Community?</h2>
      <p class="cta-subtitle">
        Experience the difference of professional trading education and institutional-grade tools.
      </p>
      <div class="cta-buttons">
        <a href="/signup" class="cta-primary">
          <span>Start Free Trial</span>
          <IconRocket size={20} />
        </a>
        <a href="/our-mission" class="cta-secondary">
          <span>Our Mission</span>
          <IconTarget size={20} />
        </a>
      </div>
    </div>
  </section>
</div>

<style>
  .about-page {
    min-height: 100vh;
    background: linear-gradient(135deg, #050e1f 0%, #0a1628 50%, #0f1e33 100%);
  }

  /* Hero Section */
  .hero-section {
    padding: 10rem 1.5rem 6rem;
    position: relative;
    overflow: hidden;
  }

  .hero-section::before {
    content: '';
    position: absolute;
    top: -50%;
    right: -20%;
    width: 600px;
    height: 600px;
    background: radial-gradient(circle, rgba(46, 142, 255, 0.15) 0%, transparent 70%);
    border-radius: 50%;
    pointer-events: none;
  }

  .hero-container {
    max-width: 900px;
    margin: 0 auto;
    position: relative;
    z-index: 1;
  }

  .hero-content {
    text-align: center;
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .hero-content.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    background: rgba(46, 142, 255, 0.1);
    border: 1px solid rgba(46, 142, 255, 0.3);
    border-radius: 999px;
    color: #2e8eff;
    font-weight: 700;
    font-size: 0.85rem;
    letter-spacing: 0.1em;
    margin-bottom: 2rem;
  }

  .hero-title {
    font-size: clamp(2.5rem, 5vw, 4.5rem);
    font-weight: 900;
    color: #ffffff;
    margin: 0 0 1.5rem 0;
    line-height: 1.2;
  }

  .gradient-text {
    display: block;
    background: linear-gradient(135deg, #2e8eff, #60a5fa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .hero-subtitle {
    font-size: 1.25rem;
    color: #cbd5e1;
    line-height: 1.8;
    margin: 0;
  }

  /* Stats Section */
  .stats-section {
    padding: 4rem 1.5rem;
    background: rgba(15, 23, 42, 0.4);
    border-top: 1px solid rgba(46, 142, 255, 0.2);
    border-bottom: 1px solid rgba(46, 142, 255, 0.2);
  }

  .stats-container {
    max-width: 1200px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 2rem;
  }

  .stat-card {
    text-align: center;
    padding: 2rem 1rem;
    background: rgba(46, 142, 255, 0.05);
    border: 1px solid rgba(46, 142, 255, 0.2);
    border-radius: 16px;
    transition: all 0.3s ease;
  }

  .stat-card:hover {
    background: rgba(46, 142, 255, 0.1);
    border-color: rgba(46, 142, 255, 0.4);
    transform: translateY(-4px);
  }

  :global(.stat-icon) {
    color: #2e8eff;
    margin-bottom: 1rem;
  }

  .stat-value {
    font-size: 2.5rem;
    font-weight: 900;
    color: #ffffff;
    margin-bottom: 0.5rem;
  }

  .stat-label {
    font-size: 1rem;
    color: #94a3b8;
    font-weight: 600;
  }

  /* Story Section */
  .story-section {
    padding: 6rem 1.5rem;
  }

  .story-container {
    max-width: 1200px;
    margin: 0 auto;
  }

  .section-header {
    text-align: center;
    margin-bottom: 4rem;
  }

  .section-title {
    font-size: clamp(2rem, 4vw, 3.5rem);
    font-weight: 800;
    color: #ffffff;
    margin: 0 0 1rem 0;
    background: linear-gradient(135deg, #2e8eff, #60a5fa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .section-subtitle {
    font-size: 1.25rem;
    color: #cbd5e1;
    margin: 0;
  }

  .story-content {
    display: grid;
    grid-template-columns: 1.2fr 1fr;
    gap: 4rem;
    align-items: center;
  }

  .story-text p {
    font-size: 1.1rem;
    color: #cbd5e1;
    line-height: 1.8;
    margin-bottom: 1.5rem;
  }

  .story-image {
    position: relative;
  }

  .image-placeholder {
    aspect-ratio: 1;
    background: linear-gradient(135deg, rgba(46, 142, 255, 0.1), rgba(46, 142, 255, 0.05));
    border: 2px solid rgba(46, 142, 255, 0.3);
    border-radius: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  :global(.placeholder-icon) {
    color: #2e8eff;
    opacity: 0.5;
  }

  /* Values Section */
  .values-section {
    padding: 6rem 1.5rem;
    background: rgba(15, 23, 42, 0.3);
  }

  .values-container {
    max-width: 1200px;
    margin: 0 auto;
  }

  .values-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 2rem;
  }

  .value-card {
    padding: 2.5rem;
    background: rgba(15, 23, 42, 0.6);
    border: 1px solid rgba(46, 142, 255, 0.2);
    border-radius: 20px;
    transition: all 0.3s ease;
  }

  .value-card:hover {
    border-color: rgba(46, 142, 255, 0.5);
    transform: translateY(-8px);
    box-shadow: 0 20px 60px rgba(46, 142, 255, 0.2);
  }

  .value-icon-wrapper {
    width: 70px;
    height: 70px;
    background: linear-gradient(135deg, rgba(46, 142, 255, 0.2), rgba(46, 142, 255, 0.05));
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 1.5rem;
  }

  :global(.value-icon) {
    color: #2e8eff;
  }

  .value-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: #ffffff;
    margin: 0 0 1rem 0;
  }

  .value-description {
    font-size: 1rem;
    color: #cbd5e1;
    line-height: 1.7;
    margin: 0;
  }

  /* Team Section */
  .team-section {
    padding: 6rem 1.5rem;
  }

  .team-container {
    max-width: 1200px;
    margin: 0 auto;
  }

  .team-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 2.5rem;
  }

  .team-card {
    background: rgba(15, 23, 42, 0.6);
    border: 1px solid rgba(46, 142, 255, 0.2);
    border-radius: 20px;
    padding: 2rem;
    transition: all 0.3s ease;
  }

  .team-card:hover {
    border-color: rgba(46, 142, 255, 0.5);
    transform: translateY(-4px);
  }

  .team-image {
    margin-bottom: 1.5rem;
  }

  .image-placeholder-team {
    aspect-ratio: 1;
    max-width: 200px;
    margin: 0 auto;
    background: linear-gradient(135deg, rgba(46, 142, 255, 0.1), rgba(46, 142, 255, 0.05));
    border: 2px solid rgba(46, 142, 255, 0.3);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .team-name {
    font-size: 1.5rem;
    font-weight: 700;
    color: #ffffff;
    margin: 0 0 0.5rem 0;
  }

  .team-role {
    font-size: 1rem;
    color: #2e8eff;
    font-weight: 600;
    margin-bottom: 1rem;
  }

  .team-bio {
    font-size: 0.95rem;
    color: #cbd5e1;
    line-height: 1.7;
    margin: 0;
  }

  /* CTA Section */
  .cta-section {
    padding: 6rem 1.5rem;
    background: linear-gradient(135deg, rgba(46, 142, 255, 0.1), transparent);
  }

  .cta-container {
    max-width: 800px;
    margin: 0 auto;
    text-align: center;
  }

  .cta-title {
    font-size: clamp(2rem, 4vw, 3rem);
    font-weight: 800;
    color: #ffffff;
    margin: 0 0 1rem 0;
  }

  .cta-subtitle {
    font-size: 1.25rem;
    color: #cbd5e1;
    margin: 0 0 2.5rem 0;
  }

  .cta-buttons {
    display: flex;
    gap: 1.5rem;
    justify-content: center;
    flex-wrap: wrap;
  }

  .cta-primary,
  .cta-secondary {
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem 2.5rem;
    font-size: 1.1rem;
    font-weight: 700;
    border-radius: 12px;
    text-decoration: none;
    transition: all 0.3s ease;
  }

  .cta-primary {
    background: linear-gradient(to bottom right, #2e8eff 0%, rgba(46, 142, 255, 0) 30%), rgba(46, 142, 255, 0.3);
    color: #ffffff;
    border: 1px solid rgba(46, 142, 255, 0.5);
  }

  .cta-primary:hover {
    background: linear-gradient(to bottom right, #2e8eff 0%, rgba(46, 142, 255, 0.3) 30%), rgba(46, 142, 255, 0.5);
    transform: translateY(-2px);
    box-shadow: 0 10px 40px rgba(46, 142, 255, 0.4);
  }

  .cta-secondary {
    background: rgba(15, 23, 42, 0.6);
    color: #ffffff;
    border: 1px solid rgba(46, 142, 255, 0.3);
  }

  .cta-secondary:hover {
    background: rgba(15, 23, 42, 0.8);
    border-color: rgba(46, 142, 255, 0.5);
    transform: translateY(-2px);
  }

  /* Responsive */
  @media (max-width: 1024px) {
    .stats-container {
      grid-template-columns: repeat(2, 1fr);
    }

    .values-grid {
      grid-template-columns: 1fr;
    }

    .team-grid {
      grid-template-columns: 1fr;
    }
  }

  @media (max-width: 768px) {
    .hero-section {
      padding: 8rem 1rem 4rem;
    }

    .stats-container {
      grid-template-columns: 1fr;
    }

    .story-content {
      grid-template-columns: 1fr;
      gap: 2rem;
    }

    .cta-buttons {
      flex-direction: column;
    }

    .cta-primary,
    .cta-secondary {
      width: 100%;
      justify-content: center;
    }
  }
</style>

# END OF frontend/src/routes/about/+page.svelte


##################################################################
# FILE: frontend/src/routes/our-mission/+page.svelte
# PATH: frontend/src/routes/our-mission/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { browser } from '$app/environment';
  import { IconTarget, IconBulb, IconHeart, IconTrendingUp, IconUsers, IconRocket, IconShieldCheck, IconStar } from '@tabler/icons-svelte';

  let isVisible = false;
  let heroRef: HTMLElement;

  // Mission pillars
  const pillars = [
    {
      icon: IconShieldCheck,
      title: 'Integrity First',
      description: 'We operate with complete transparency. Every trade, every strategy, every piece of advice is grounded in honesty and real-world resultsnot hype or empty promises.'
    },
    {
      icon: IconUsers,
      title: 'Community Excellence',
      description: 'We believe in the power of collective growth. Our members support, challenge, and elevate each other to become better traders and better professionals.'
    },
    {
      icon: IconBulb,
      title: 'Continuous Innovation',
      description: 'Markets evolve, and so do we. We invest in cutting-edge technology, research, and education to stay ahead of market dynamics and deliver unmatched value.'
    }
  ];

  // Vision points
  const visionPoints = [
    {
      icon: IconTrendingUp,
      title: 'Professional Standards',
      text: 'Elevate retail trading to institutional standards through rigorous education and accountability.'
    },
    {
      icon: IconRocket,
      title: 'Accessible Excellence',
      text: 'Make professional-grade trading tools and mentorship accessible to serious traders worldwide.'
    },
    {
      icon: IconStar,
      title: 'Lasting Impact',
      text: 'Create generational wealth through disciplined trading and proven methodologies.'
    }
  ];

  // Commitments
  const commitments = [
    'Never selling get-rich-quick schemes or unrealistic promises',
    'Providing verified, transparent track records of all strategies',
    'Delivering institutional-grade education and tools to retail traders',
    'Building a community of disciplined, professional traders',
    'Investing in cutting-edge technology and proprietary research',
    'Offering world-class support and mentorship to every member'
  ];

  onMount(() => {
    if (!browser) return;

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            isVisible = true;
          }
        });
      },
      { threshold: 0.1 }
    );

    if (heroRef) {
      observer.observe(heroRef);
    }

    return () => observer.disconnect();
  });
</script>

<svelte:head>
  <title>Our Mission | Revolution Trading Pros</title>
  <meta name="description" content="Discover our mission to transform retail trading through institutional-grade education, transparent strategies, and a community of disciplined professionals." />
</svelte:head>

<div class="mission-page">
  <!-- Hero Section -->
  <section class="hero-section" bind:this={heroRef}>
    <div class="hero-container">
      <div class="hero-content" class:visible={isVisible}>
        <div class="icon-wrapper">
          <IconTarget size={64} class="hero-icon" />
        </div>
        <h1 class="hero-title">
          Our Mission
        </h1>
        <div class="mission-statement">
          <p class="statement-text">
            To empower serious traders with <span class="highlight">institutional-grade education</span>,
            <span class="highlight">professional tools</span>, and a <span class="highlight">disciplined community</span>
            that transforms retail trading from gambling into a respected profession.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- The Problem Section -->
  <section class="problem-section">
    <div class="problem-container">
      <div class="section-badge">
        <IconHeart size={18} />
        <span>WHY WE EXIST</span>
      </div>
      <h2 class="section-title">The Problem We're Solving</h2>
      <div class="problem-content">
        <div class="problem-text">
          <p>
            The retail trading industry is broken. It's filled with influencers selling dreams, gurus peddling courses they don't follow themselves, and platforms that profit from trader losses.
          </p>
          <p>
            Retail traders are told that success is just one "secret strategy" away, yet 90% fail within their first year. Why? Because they're never taught the fundamentals that institutional traders live by: risk management, position sizing, trade execution, and emotional discipline.
          </p>
          <p>
            <strong>We're here to change that.</strong> We're building a trading education company that operates like an institutionwith transparency, accountability, and proven methodologies that work in real market conditions.
          </p>
        </div>
        <div class="problem-stats">
          <div class="stat-box">
            <div class="stat-number">90%</div>
            <div class="stat-label">Retail Traders Fail</div>
          </div>
          <div class="stat-box">
            <div class="stat-number">10%</div>
            <div class="stat-label">Lack Real Education</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Mission Pillars -->
  <section class="pillars-section">
    <div class="pillars-container">
      <div class="section-header">
        <h2 class="section-title">Our Core Pillars</h2>
        <p class="section-subtitle">
          The foundational principles that guide everything we do.
        </p>
      </div>
      <div class="pillars-grid">
        {#each pillars as pillar}
          <div class="pillar-card">
            <div class="pillar-icon-wrapper">
              <svelte:component this={pillar.icon} size={48} class="pillar-icon" />
            </div>
            <h3 class="pillar-title">{pillar.title}</h3>
            <p class="pillar-description">{pillar.description}</p>
          </div>
        {/each}
      </div>
    </div>
  </section>

  <!-- Vision Section -->
  <section class="vision-section">
    <div class="vision-container">
      <div class="section-header">
        <h2 class="section-title">Our Vision</h2>
        <p class="section-subtitle">
          Where we're headed and the impact we're committed to creating.
        </p>
      </div>
      <div class="vision-grid">
        {#each visionPoints as point}
          <div class="vision-card">
            <svelte:component this={point.icon} size={40} class="vision-icon" />
            <h3 class="vision-title">{point.title}</h3>
            <p class="vision-text">{point.text}</p>
          </div>
        {/each}
      </div>
    </div>
  </section>

  <!-- Commitments Section -->
  <section class="commitments-section">
    <div class="commitments-container">
      <div class="section-header">
        <h2 class="section-title">Our Commitment to You</h2>
        <p class="section-subtitle">
          These are the promises we make to every member of our community.
        </p>
      </div>
      <div class="commitments-list">
        {#each commitments as commitment, index}
          <div class="commitment-item" style="animation-delay: {index * 0.1}s">
            <div class="commitment-number">{index + 1}</div>
            <p class="commitment-text">{commitment}</p>
          </div>
        {/each}
      </div>
    </div>
  </section>

  <!-- Call to Action -->
  <section class="cta-section">
    <div class="cta-container">
      <div class="cta-content">
        <h2 class="cta-title">Join the Revolution</h2>
        <p class="cta-subtitle">
          Be part of a community that's redefining what it means to be a professional trader. No hype. No gimmicks. Just real strategies, real results, and real support.
        </p>
        <div class="cta-buttons">
          <a href="/signup" class="cta-primary">
            <IconRocket size={22} />
            <span>Start Free Trial</span>
          </a>
          <a href="/about" class="cta-secondary">
            <IconUsers size={22} />
            <span>Meet Our Team</span>
          </a>
        </div>
      </div>
    </div>
  </section>
</div>

<style>
  .mission-page {
    min-height: 100vh;
    background: linear-gradient(135deg, #050e1f 0%, #0a1628 50%, #0f1e33 100%);
  }

  /* Hero Section */
  .hero-section {
    padding: 10rem 1.5rem 6rem;
    position: relative;
    overflow: hidden;
  }

  .hero-section::before {
    content: '';
    position: absolute;
    top: -30%;
    left: 50%;
    transform: translateX(-50%);
    width: 800px;
    height: 800px;
    background: radial-gradient(circle, rgba(46, 142, 255, 0.15) 0%, transparent 70%);
    border-radius: 50%;
    pointer-events: none;
    animation: pulse 8s ease-in-out infinite;
  }

  @keyframes pulse {
    0%, 100% {
      transform: translateX(-50%) scale(1);
      opacity: 0.5;
    }
    50% {
      transform: translateX(-50%) scale(1.1);
      opacity: 0.7;
    }
  }

  .hero-container {
    max-width: 900px;
    margin: 0 auto;
    position: relative;
    z-index: 1;
  }

  .hero-content {
    text-align: center;
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .hero-content.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .icon-wrapper {
    display: inline-flex;
    padding: 2rem;
    background: linear-gradient(135deg, rgba(46, 142, 255, 0.2), rgba(46, 142, 255, 0.05));
    border: 2px solid rgba(46, 142, 255, 0.3);
    border-radius: 24px;
    margin-bottom: 2rem;
  }

  :global(.hero-icon) {
    color: #2e8eff;
  }

  .hero-title {
    font-size: clamp(3rem, 6vw, 5rem);
    font-weight: 900;
    color: #ffffff;
    margin: 0 0 2rem 0;
    line-height: 1.1;
    background: linear-gradient(135deg, #2e8eff, #60a5fa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .mission-statement {
    background: rgba(15, 23, 42, 0.6);
    border: 2px solid rgba(46, 142, 255, 0.3);
    border-radius: 20px;
    padding: 3rem;
    backdrop-filter: blur(10px);
  }

  .statement-text {
    font-size: 1.5rem;
    color: #ffffff;
    line-height: 1.8;
    margin: 0;
  }

  .highlight {
    color: #2e8eff;
    font-weight: 700;
  }

  /* Problem Section */
  .problem-section {
    padding: 6rem 1.5rem;
    background: rgba(15, 23, 42, 0.3);
  }

  .problem-container {
    max-width: 1200px;
    margin: 0 auto;
  }

  .section-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    background: rgba(239, 68, 68, 0.1);
    border: 1px solid rgba(239, 68, 68, 0.3);
    border-radius: 999px;
    color: #ef4444;
    font-weight: 700;
    font-size: 0.85rem;
    letter-spacing: 0.1em;
    margin-bottom: 2rem;
  }

  .section-title {
    font-size: clamp(2rem, 4vw, 3.5rem);
    font-weight: 800;
    color: #ffffff;
    margin: 0 0 3rem 0;
  }

  .section-header {
    text-align: center;
    margin-bottom: 4rem;
  }

  .section-subtitle {
    font-size: 1.25rem;
    color: #cbd5e1;
    margin: 1rem 0 0 0;
  }

  .problem-content {
    display: grid;
    grid-template-columns: 1.5fr 1fr;
    gap: 4rem;
    align-items: center;
  }

  .problem-text p {
    font-size: 1.1rem;
    color: #cbd5e1;
    line-height: 1.8;
    margin-bottom: 1.5rem;
  }

  .problem-text strong {
    color: #2e8eff;
    font-weight: 700;
  }

  .problem-stats {
    display: grid;
    gap: 2rem;
  }

  .stat-box {
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(239, 68, 68, 0.05));
    border: 2px solid rgba(239, 68, 68, 0.3);
    border-radius: 20px;
    padding: 2.5rem;
    text-align: center;
  }

  .stat-number {
    font-size: 4rem;
    font-weight: 900;
    color: #ef4444;
    line-height: 1;
    margin-bottom: 0.5rem;
  }

  .stat-label {
    font-size: 1rem;
    color: #cbd5e1;
    font-weight: 600;
  }

  /* Pillars Section */
  .pillars-section {
    padding: 6rem 1.5rem;
  }

  .pillars-container {
    max-width: 1200px;
    margin: 0 auto;
  }

  .pillars-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 2.5rem;
  }

  .pillar-card {
    background: rgba(15, 23, 42, 0.6);
    border: 1px solid rgba(46, 142, 255, 0.2);
    border-radius: 24px;
    padding: 3rem;
    text-align: center;
    transition: all 0.4s ease;
  }

  .pillar-card:hover {
    border-color: rgba(46, 142, 255, 0.5);
    transform: translateY(-12px);
    box-shadow: 0 25px 70px rgba(46, 142, 255, 0.25);
  }

  .pillar-icon-wrapper {
    width: 100px;
    height: 100px;
    margin: 0 auto 2rem;
    background: linear-gradient(135deg, rgba(46, 142, 255, 0.2), rgba(46, 142, 255, 0.05));
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  :global(.pillar-icon) {
    color: #2e8eff;
  }

  .pillar-title {
    font-size: 1.75rem;
    font-weight: 700;
    color: #ffffff;
    margin: 0 0 1rem 0;
  }

  .pillar-description {
    font-size: 1.05rem;
    color: #cbd5e1;
    line-height: 1.7;
    margin: 0;
  }

  /* Vision Section */
  .vision-section {
    padding: 6rem 1.5rem;
    background: linear-gradient(135deg, rgba(46, 142, 255, 0.05), transparent);
  }

  .vision-container {
    max-width: 1200px;
    margin: 0 auto;
  }

  .vision-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 2rem;
  }

  .vision-card {
    background: rgba(15, 23, 42, 0.4);
    border: 1px solid rgba(46, 142, 255, 0.2);
    border-radius: 16px;
    padding: 2.5rem;
    transition: all 0.3s ease;
  }

  .vision-card:hover {
    background: rgba(15, 23, 42, 0.6);
    border-color: rgba(46, 142, 255, 0.4);
    transform: translateY(-4px);
  }

  :global(.vision-icon) {
    color: #2e8eff;
    margin-bottom: 1.5rem;
  }

  .vision-title {
    font-size: 1.25rem;
    font-weight: 700;
    color: #ffffff;
    margin: 0 0 0.75rem 0;
  }

  .vision-text {
    font-size: 1rem;
    color: #cbd5e1;
    line-height: 1.7;
    margin: 0;
  }

  /* Commitments Section */
  .commitments-section {
    padding: 6rem 1.5rem;
    background: rgba(15, 23, 42, 0.3);
  }

  .commitments-container {
    max-width: 1000px;
    margin: 0 auto;
  }

  .commitments-list {
    display: grid;
    gap: 1.5rem;
  }

  .commitment-item {
    display: flex;
    gap: 1.5rem;
    align-items: flex-start;
    padding: 2rem;
    background: rgba(46, 142, 255, 0.05);
    border: 1px solid rgba(46, 142, 255, 0.2);
    border-left: 4px solid #2e8eff;
    border-radius: 12px;
    opacity: 0;
    animation: slideIn 0.5s ease forwards;
  }

  @keyframes slideIn {
    from {
      opacity: 0;
      transform: translateX(-20px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  .commitment-number {
    flex-shrink: 0;
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, #2e8eff, #60a5fa);
    color: #ffffff;
    font-weight: 900;
    font-size: 1.25rem;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .commitment-text {
    font-size: 1.1rem;
    color: #cbd5e1;
    line-height: 1.7;
    margin: 0;
  }

  /* CTA Section */
  .cta-section {
    padding: 8rem 1.5rem;
    position: relative;
    overflow: hidden;
  }

  .cta-section::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 1000px;
    height: 1000px;
    background: radial-gradient(circle, rgba(46, 142, 255, 0.1) 0%, transparent 70%);
    border-radius: 50%;
    pointer-events: none;
  }

  .cta-container {
    max-width: 900px;
    margin: 0 auto;
    position: relative;
    z-index: 1;
  }

  .cta-content {
    background: rgba(15, 23, 42, 0.6);
    border: 2px solid rgba(46, 142, 255, 0.3);
    border-radius: 24px;
    padding: 4rem;
    text-align: center;
    backdrop-filter: blur(10px);
  }

  .cta-title {
    font-size: clamp(2.5rem, 5vw, 4rem);
    font-weight: 900;
    color: #ffffff;
    margin: 0 0 1.5rem 0;
    background: linear-gradient(135deg, #2e8eff, #60a5fa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .cta-subtitle {
    font-size: 1.25rem;
    color: #cbd5e1;
    line-height: 1.8;
    margin: 0 0 2.5rem 0;
  }

  .cta-buttons {
    display: flex;
    gap: 1.5rem;
    justify-content: center;
    flex-wrap: wrap;
  }

  .cta-primary,
  .cta-secondary {
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1.25rem 3rem;
    font-size: 1.1rem;
    font-weight: 700;
    border-radius: 12px;
    text-decoration: none;
    transition: all 0.3s ease;
  }

  .cta-primary {
    background: linear-gradient(to bottom right, #2e8eff 0%, rgba(46, 142, 255, 0) 30%), rgba(46, 142, 255, 0.3);
    color: #ffffff;
    border: 1px solid rgba(46, 142, 255, 0.5);
  }

  .cta-primary:hover {
    background: linear-gradient(to bottom right, #2e8eff 0%, rgba(46, 142, 255, 0.3) 30%), rgba(46, 142, 255, 0.5);
    transform: translateY(-3px);
    box-shadow: 0 15px 50px rgba(46, 142, 255, 0.4);
  }

  .cta-secondary {
    background: rgba(15, 23, 42, 0.6);
    color: #ffffff;
    border: 1px solid rgba(46, 142, 255, 0.3);
  }

  .cta-secondary:hover {
    background: rgba(15, 23, 42, 0.9);
    border-color: rgba(46, 142, 255, 0.5);
    transform: translateY(-3px);
  }

  /* Responsive */
  @media (max-width: 1024px) {
    .pillars-grid,
    .vision-grid {
      grid-template-columns: 1fr;
    }

    .problem-content {
      grid-template-columns: 1fr;
    }
  }

  @media (max-width: 768px) {
    .hero-section,
    .cta-section {
      padding: 8rem 1rem 4rem;
    }

    .mission-statement {
      padding: 2rem;
    }

    .statement-text {
      font-size: 1.25rem;
    }

    .cta-content {
      padding: 2.5rem 1.5rem;
    }

    .cta-buttons {
      flex-direction: column;
    }

    .cta-primary,
    .cta-secondary {
      width: 100%;
      justify-content: center;
    }
  }
</style>

# END OF frontend/src/routes/our-mission/+page.svelte


##################################################################
# FILE: frontend/src/routes/resources/+page.svelte
# PATH: frontend/src/routes/resources/+page.svelte
##################################################################

<svelte:head>
  <title>Trading Resources | Free Education & Tools | Revolution Trading Pros</title>
  <meta name="description" content="Free trading resources, guides, and tools. Start your trading education with our comprehensive resource library." />
</svelte:head>

<!-- Hero -->
<section class="relative bg-gradient-to-br from-rtp-blue via-rtp-primary to-rtp-emerald text-white py-20 md:py-32">
  <div class="absolute inset-0 bg-black/20"></div>
  <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
    <h1 class="text-4xl md:text-6xl font-heading font-bold mb-6">
      Free Trading Resources
    </h1>
    <p class="text-xl md:text-2xl text-white/90 max-w-3xl mx-auto">
      Everything you need to start your trading journey. Guides, tools, and educational content.
    </p>
  </div>
</section>

<!-- Resource Categories -->
<section class="py-20 bg-rtp-bg">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
      <!-- Beginner Guides -->
      <div class="bg-rtp-surface rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all">
        <div class="w-16 h-16 bg-rtp-emerald/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-8 h-8 text-rtp-emerald" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
          </svg>
        </div>
        <h3 class="text-2xl font-heading font-bold text-rtp-text mb-4">Beginner Guides</h3>
        <ul class="space-y-3 text-rtp-muted">
          <li class="flex items-start gap-2">
            <svg class="w-5 h-5 text-rtp-emerald flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Complete Beginner's Guide to Trading</span>
          </li>
          <li class="flex items-start gap-2">
            <svg class="w-5 h-5 text-rtp-emerald flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>How to Set Up Your Trading Account</span>
          </li>
          <li class="flex items-start gap-2">
            <svg class="w-5 h-5 text-rtp-emerald flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Understanding Options Basics</span>
          </li>
          <li class="flex items-start gap-2">
            <svg class="w-5 h-5 text-rtp-emerald flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Risk Management for New Traders</span>
          </li>
        </ul>
      </div>

      <!-- Free Tools -->
      <div class="bg-rtp-surface rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all">
        <div class="w-16 h-16 bg-rtp-primary/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-8 h-8 text-rtp-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z" />
          </svg>
        </div>
        <h3 class="text-2xl font-heading font-bold text-rtp-text mb-4">Free Tools</h3>
        <ul class="space-y-3 text-rtp-muted">
          <li class="flex items-start gap-2">
            <svg class="w-5 h-5 text-rtp-primary flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Position Size Calculator</span>
          </li>
          <li class="flex items-start gap-2">
            <svg class="w-5 h-5 text-rtp-primary flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Risk/Reward Calculator</span>
          </li>
          <li class="flex items-start gap-2">
            <svg class="w-5 h-5 text-rtp-primary flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Options Profit Calculator</span>
          </li>
          <li class="flex items-start gap-2">
            <svg class="w-5 h-5 text-rtp-primary flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Trading Journal Template</span>
          </li>
        </ul>
      </div>

      <!-- Video Tutorials -->
      <div class="bg-rtp-surface rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all">
        <div class="w-16 h-16 bg-rtp-indigo/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-8 h-8 text-rtp-indigo" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
          </svg>
        </div>
        <h3 class="text-2xl font-heading font-bold text-rtp-text mb-4">Video Tutorials</h3>
        <ul class="space-y-3 text-rtp-muted">
          <li class="flex items-start gap-2">
            <svg class="w-5 h-5 text-rtp-indigo flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Platform Setup Walkthrough</span>
          </li>
          <li class="flex items-start gap-2">
            <svg class="w-5 h-5 text-rtp-indigo flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Reading Charts for Beginners</span>
          </li>
          <li class="flex items-start gap-2">
            <svg class="w-5 h-5 text-rtp-indigo flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Your First Option Trade</span>
          </li>
          <li class="flex items-start gap-2">
            <svg class="w-5 h-5 text-rtp-indigo flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Live Trade Walkthrough</span>
          </li>
        </ul>
      </div>

      <!-- Market Analysis -->
      <div class="bg-rtp-surface rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all">
        <div class="w-16 h-16 bg-rtp-blue/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-8 h-8 text-rtp-blue" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
          </svg>
        </div>
        <h3 class="text-2xl font-heading font-bold text-rtp-text mb-4">Market Analysis</h3>
        <ul class="space-y-3 text-rtp-muted">
          <li class="flex items-start gap-2">
            <svg class="w-5 h-5 text-rtp-blue flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Weekly Market Recap</span>
          </li>
          <li class="flex items-start gap-2">
            <svg class="w-5 h-5 text-rtp-blue flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Economic Calendar Explained</span>
          </li>
          <li class="flex items-start gap-2">
            <svg class="w-5 h-5 text-rtp-blue flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Key Levels to Watch</span>
          </li>
          <li class="flex items-start gap-2">
            <svg class="w-5 h-5 text-rtp-blue flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Sector Rotation Analysis</span>
          </li>
        </ul>
      </div>

      <!-- Trading Psychology -->
      <div class="bg-rtp-surface rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all">
        <div class="w-16 h-16 bg-rtp-emerald/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-8 h-8 text-rtp-emerald" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
          </svg>
        </div>
        <h3 class="text-2xl font-heading font-bold text-rtp-text mb-4">Trading Psychology</h3>
        <ul class="space-y-3 text-rtp-muted">
          <li class="flex items-start gap-2">
            <svg class="w-5 h-5 text-rtp-emerald flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Managing Trading Emotions</span>
          </li>
          <li class="flex items-start gap-2">
            <svg class="w-5 h-5 text-rtp-emerald flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Developing Discipline</span>
          </li>
          <li class="flex items-start gap-2">
            <svg class="w-5 h-5 text-rtp-emerald flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Dealing with Losing Streaks</span>
          </li>
          <li class="flex items-start gap-2">
            <svg class="w-5 h-5 text-rtp-emerald flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Building Confidence</span>
          </li>
        </ul>
      </div>

      <!-- FAQ -->
      <div class="bg-rtp-surface rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all">
        <div class="w-16 h-16 bg-rtp-primary/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-8 h-8 text-rtp-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
        </div>
        <h3 class="text-2xl font-heading font-bold text-rtp-text mb-4">FAQ & Support</h3>
        <ul class="space-y-3 text-rtp-muted">
          <li class="flex items-start gap-2">
            <svg class="w-5 h-5 text-rtp-primary flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Frequently Asked Questions</span>
          </li>
          <li class="flex items-start gap-2">
            <svg class="w-5 h-5 text-rtp-primary flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Glossary of Trading Terms</span>
          </li>
          <li class="flex items-start gap-2">
            <svg class="w-5 h-5 text-rtp-primary flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Community Guidelines</span>
          </li>
          <li class="flex items-start gap-2">
            <svg class="w-5 h-5 text-rtp-primary flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>Contact Support</span>
          </li>
        </ul>
      </div>
    </div>
  </div>
</section>

<!-- CTA -->
<section class="py-20 bg-gradient-to-br from-rtp-blue to-rtp-primary text-white">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
    <h2 class="text-3xl md:text-5xl font-heading font-bold mb-6">
      Ready to Take the Next Step?
    </h2>
    <p class="text-xl text-white/90 mb-8 max-w-2xl mx-auto">
      Join our community and get access to professional trading rooms, courses, and indicators.
    </p>
    <a href="/signup" class="inline-block bg-white text-rtp-primary px-8 py-4 rounded-lg font-semibold hover:bg-rtp-bg transition-all hover:scale-105 shadow-lg">
      Get Started Free
    </a>
  </div>
</section>

# END OF frontend/src/routes/resources/+page.svelte


##################################################################
# FILE: frontend/src/routes/login/+page.svelte
# PATH: frontend/src/routes/login/+page.svelte
##################################################################

<script lang="ts">
  import { goto } from '$app/navigation';
  import { login } from '$lib/api/auth';
  import { IconLock, IconMail, IconAlertCircle, IconLogin, IconArrowRight } from '@tabler/icons-svelte';
  import { onMount } from 'svelte';
  import { browser } from '$app/environment';
  import gsap from 'gsap';

  let email = '';
  let password = '';
  let errors: Record<string, string[]> = {};
  let generalError = '';
  let isLoading = false;

  let cardRef: HTMLElement;
  let particlesRef: HTMLElement;
  let formRef: HTMLElement;

  onMount(() => {
    if (!browser) return;

    // GSAP Timeline for entrance animations
    const tl = gsap.timeline({ defaults: { ease: 'power3.out' } });

    tl.from(cardRef, {
      opacity: 0,
      y: 60,
      scale: 0.9,
      duration: 1.2,
      ease: 'power4.out'
    })
    .from('.login-header', {
      opacity: 0,
      y: -30,
      duration: 0.8
    }, '-=0.6')
    .from('.form-field', {
      opacity: 0,
      x: -40,
      duration: 0.6,
      stagger: 0.15
    }, '-=0.4')
    .from('.login-footer', {
      opacity: 0,
      y: 20,
      duration: 0.6
    }, '-=0.3');

    // Animated particles
    createFloatingParticles();

    // Hover effects on inputs
    const inputs = document.querySelectorAll('.enhanced-input');
    inputs.forEach((input) => {
      input.addEventListener('focus', () => {
        gsap.to(input, {
          scale: 1.02,
          boxShadow: '0 0 30px rgba(99, 102, 241, 0.3)',
          duration: 0.3,
          ease: 'power2.out'
        });
      });

      input.addEventListener('blur', () => {
        gsap.to(input, {
          scale: 1,
          boxShadow: '0 0 0 rgba(99, 102, 241, 0)',
          duration: 0.3,
          ease: 'power2.out'
        });
      });
    });
  });

  function createFloatingParticles() {
    if (!particlesRef) return;

    for (let i = 0; i < 30; i++) {
      const particle = document.createElement('div');
      particle.className = 'floating-particle';

      const size = Math.random() * 4 + 2;
      const startX = Math.random() * 100;
      const startY = Math.random() * 100;
      const duration = Math.random() * 20 + 15;
      const delay = Math.random() * 5;

      particle.style.width = `${size}px`;
      particle.style.height = `${size}px`;
      particle.style.left = `${startX}%`;
      particle.style.top = `${startY}%`;

      particlesRef.appendChild(particle);

      gsap.to(particle, {
        y: -100,
        x: `+=${Math.random() * 100 - 50}`,
        opacity: 0,
        duration: duration,
        delay: delay,
        repeat: -1,
        ease: 'none'
      });
    }
  }

  async function handleSubmit(e: Event) {
    e.preventDefault();
    errors = {};
    generalError = '';
    isLoading = true;

    // Button loading animation
    const btn = (e.target as HTMLFormElement).querySelector('button[type="submit"]');
    if (btn) {
      gsap.to(btn, { scale: 0.95, duration: 0.2 });
    }

    try {
      await login({ email, password });

      // Success animation
      if (formRef) {
        gsap.to(formRef, {
          opacity: 0,
          scale: 0.9,
          duration: 0.5,
          onComplete: () => {
            // Check for redirect parameter in URL
            const urlParams = new URLSearchParams(window.location.search);
            const redirect = urlParams.get('redirect') || '/';
            goto(decodeURIComponent(redirect));
          }
        });
      }
    } catch (error) {
      // Error shake animation
      if (formRef) {
        gsap.fromTo(formRef,
          { x: -10 },
          { x: 10, duration: 0.1, repeat: 5, yoyo: true, ease: 'power1.inOut' }
        );
      }

      if (error && typeof error === 'object' && 'errors' in error) {
        errors = (error as { errors: Record<string, string[]> }).errors;
      } else if (error instanceof Error) {
        generalError = error.message;
      } else {
        generalError = 'An unexpected error occurred. Please try again.';
      }
    } finally {
      isLoading = false;
      if (btn) {
        gsap.to(btn, { scale: 1, duration: 0.2 });
      }
    }
  }
</script>

<svelte:head>
  <title>Login | Revolution Trading Pros</title>
</svelte:head>

<div class="login-page">
  <!-- Animated gradient background -->
  <div class="gradient-bg"></div>

  <!-- Floating particles container -->
  <div bind:this={particlesRef} class="particles-container"></div>

  <!-- Grid overlay -->
  <div class="grid-overlay"></div>

  <!-- Spotlight effect that follows cursor -->
  <div class="spotlight"></div>

  <!-- Login card -->
  <div class="login-container">
    <div bind:this={cardRef} class="login-card">
      <!-- Glass morphism overlay -->
      <div class="glass-overlay"></div>

      <!-- Glow effect -->
      <div class="card-glow"></div>

      <!-- Content -->
      <div class="login-content" bind:this={formRef}>
        <!-- Header -->
        <div class="login-header">
          <div class="icon-wrapper">
            <div class="icon-glow"></div>
            <div class="icon-container">
              <div class="icon-inner">
                <IconLock size={48} class="icon-svg" />
              </div>
            </div>
          </div>
          <h1 class="login-title">Welcome Back</h1>
          <p class="login-subtitle">Sign in to access your trading dashboard</p>
        </div>

        <!-- General error -->
        {#if generalError}
          <div class="error-banner">
            <IconAlertCircle size={20} class="error-icon" />
            <p class="error-text">{generalError}</p>
          </div>
        {/if}

        <!-- Login form -->
        <form on:submit={handleSubmit} class="login-form">
          <!-- Email field -->
          <div class="form-field">
            <label for="email" class="field-label">
              Email Address
            </label>
            <div class="input-wrapper">
              <div class="input-icon">
                <IconMail size={20} />
              </div>
              <input
                id="email"
                type="email"
                bind:value={email}
                required
                class="enhanced-input"
                class:error={errors.email}
                placeholder="trader@example.com"
                autocomplete="email"
              />
              <div class="input-border"></div>
            </div>
            {#if errors.email}
              <p class="field-error">{errors.email[0]}</p>
            {/if}
          </div>

          <!-- Password field -->
          <div class="form-field">
            <label for="password" class="field-label">
              Password
            </label>
            <div class="input-wrapper">
              <div class="input-icon">
                <IconLock size={20} />
              </div>
              <input
                id="password"
                type="password"
                bind:value={password}
                required
                class="enhanced-input"
                class:error={errors.password}
                placeholder=""
                autocomplete="current-password"
              />
              <div class="input-border"></div>
            </div>
            {#if errors.password}
              <p class="field-error">{errors.password[0]}</p>
            {/if}
          </div>

          <!-- Forgot password link -->
          <div class="forgot-link-wrapper">
            <a href="/forgot-password" class="forgot-link">
              Forgot your password?
            </a>
          </div>

          <!-- Submit button -->
          <button
            type="submit"
            disabled={isLoading}
            class="submit-btn"
          >
            <span class="btn-content">
              {#if isLoading}
                <span class="spinner"></span>
                <span>Signing in...</span>
              {:else}
                <IconLogin size={20} />
                <span>Sign In</span>
                <IconArrowRight size={20} class="arrow-icon" />
              {/if}
            </span>
            <div class="btn-glow"></div>
          </button>
        </form>

        <!-- Register link -->
        <div class="login-footer">
          <p class="footer-text">
            Don't have an account?
            <a href="/register" class="footer-link">
              Create one now
            </a>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .login-page {
    position: relative;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2rem 1rem;
    overflow: hidden;
  }

  /* Animated gradient background */
  .gradient-bg {
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 25%, #312e81 50%, #1e1b4b 75%, #0f172a 100%);
    background-size: 400% 400%;
    animation: gradientShift 20s ease infinite;
  }

  @keyframes gradientShift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  /* Particles container */
  .particles-container {
    position: absolute;
    inset: 0;
    pointer-events: none;
  }

  .floating-particle {
    position: absolute;
    background: radial-gradient(circle, rgba(99, 102, 241, 0.8), rgba(139, 92, 246, 0.4), transparent);
    border-radius: 50%;
    filter: blur(2px);
  }

  /* Grid overlay */
  .grid-overlay {
    position: absolute;
    inset: 0;
    background-image:
      linear-gradient(rgba(99, 102, 241, 0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(99, 102, 241, 0.03) 1px, transparent 1px);
    background-size: 50px 50px;
    animation: gridMove 30s linear infinite;
  }

  @keyframes gridMove {
    0% { transform: translate(0, 0); }
    100% { transform: translate(50px, 50px); }
  }

  /* Spotlight effect */
  .spotlight {
    position: absolute;
    inset: 0;
    background: radial-gradient(circle 600px at var(--mouse-x, 50%) var(--mouse-y, 50%),
      rgba(99, 102, 241, 0.15),
      transparent 80%);
    pointer-events: none;
  }

  /* Login container */
  .login-container {
    position: relative;
    width: 100%;
    max-width: 480px;
    z-index: 10;
  }

  /* Login card */
  .login-card {
    position: relative;
    background: rgba(15, 23, 42, 0.6);
    backdrop-filter: blur(20px);
    border-radius: 32px;
    border: 1px solid rgba(99, 102, 241, 0.2);
    overflow: hidden;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
  }

  .glass-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg,
      rgba(255, 255, 255, 0.1) 0%,
      transparent 50%,
      rgba(99, 102, 241, 0.05) 100%);
    pointer-events: none;
  }

  .card-glow {
    position: absolute;
    inset: -2px;
    background: linear-gradient(135deg, #6366f1, #8b5cf6, #ec4899);
    opacity: 0.2;
    filter: blur(20px);
    z-index: -1;
  }

  /* Login content */
  .login-content {
    position: relative;
    padding: 3rem 2.5rem;
  }

  /* Header */
  .login-header {
    text-align: center;
    margin-bottom: 2.5rem;
  }

  .icon-wrapper {
    position: relative;
    display: inline-block;
    margin-bottom: 1.5rem;
  }

  .icon-glow {
    position: absolute;
    inset: -20px;
    background: radial-gradient(circle, rgba(99, 102, 241, 0.4), transparent 70%);
    animation: iconPulse 3s ease-in-out infinite;
  }

  @keyframes iconPulse {
    0%, 100% { opacity: 0.4; transform: scale(1); }
    50% { opacity: 0.8; transform: scale(1.1); }
  }

  .icon-container {
    position: relative;
    width: 96px;
    height: 96px;
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    border-radius: 24px;
    padding: 2px;
    transform-style: preserve-3d;
  }

  .icon-inner {
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #1e1b4b, #0f172a);
    border-radius: 22px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .icon-svg {
    color: #818cf8;
    filter: drop-shadow(0 0 20px rgba(99, 102, 241, 0.5));
  }

  .login-title {
    font-size: 3rem;
    font-weight: 800;
    background: linear-gradient(135deg, #e0e7ff, #c7d2fe, #a5b4fc);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    margin-bottom: 0.75rem;
    letter-spacing: -0.02em;
  }

  .login-subtitle {
    font-size: 1.125rem;
    color: #94a3b8;
    font-weight: 400;
  }

  /* Error banner */
  .error-banner {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    padding: 1rem 1.25rem;
    background: rgba(239, 68, 68, 0.1);
    border: 1px solid rgba(239, 68, 68, 0.3);
    border-radius: 16px;
    margin-bottom: 1.5rem;
    animation: errorSlide 0.3s ease-out;
  }

  @keyframes errorSlide {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .error-icon {
    color: #f87171;
    flex-shrink: 0;
    margin-top: 2px;
  }

  .error-text {
    color: #fca5a5;
    font-size: 0.875rem;
    line-height: 1.5;
  }

  /* Form */
  .login-form {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    margin-bottom: 2rem;
  }

  .form-field {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .field-label {
    font-size: 0.875rem;
    font-weight: 600;
    color: #e2e8f0;
    letter-spacing: 0.025em;
  }

  .input-wrapper {
    position: relative;
  }

  .input-icon {
    position: absolute;
    left: 1.25rem;
    top: 50%;
    transform: translateY(-50%);
    color: #64748b;
    pointer-events: none;
    z-index: 2;
    transition: color 0.3s ease;
  }

  .enhanced-input {
    width: 100%;
    padding: 1rem 1.25rem 1rem 3.5rem;
    background: rgba(15, 23, 42, 0.5);
    border: 2px solid rgba(100, 116, 139, 0.3);
    border-radius: 14px;
    color: #f1f5f9;
    font-size: 1rem;
    font-weight: 500;
    transition: all 0.3s ease;
    outline: none;
  }

  .enhanced-input::placeholder {
    color: #475569;
  }

  .enhanced-input:focus {
    background: rgba(15, 23, 42, 0.7);
    border-color: #6366f1;
  }

  .enhanced-input:focus + .input-border {
    opacity: 1;
  }

  .enhanced-input:focus ~ .input-icon {
    color: #818cf8;
  }

  .enhanced-input.error {
    border-color: #ef4444;
    background: rgba(239, 68, 68, 0.05);
  }

  .input-border {
    position: absolute;
    inset: 0;
    border-radius: 14px;
    padding: 2px;
    background: linear-gradient(135deg, #6366f1, #8b5cf6, #ec4899);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
  }

  .field-error {
    color: #f87171;
    font-size: 0.875rem;
    font-weight: 500;
  }

  .forgot-link-wrapper {
    text-align: right;
    margin-top: -0.5rem;
  }

  .forgot-link {
    color: #818cf8;
    font-size: 0.875rem;
    font-weight: 600;
    text-decoration: none;
    transition: color 0.2s ease;
    position: relative;
  }

  .forgot-link::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    right: 0;
    height: 1px;
    background: #818cf8;
    transform: scaleX(0);
    transition: transform 0.3s ease;
  }

  .forgot-link:hover {
    color: #a5b4fc;
  }

  .forgot-link:hover::after {
    transform: scaleX(1);
  }

  /* Submit button */
  .submit-btn {
    position: relative;
    width: 100%;
    padding: 1rem 2rem;
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    border: none;
    border-radius: 14px;
    color: white;
    font-size: 1.125rem;
    font-weight: 700;
    cursor: pointer;
    overflow: hidden;
    margin-top: 1rem;
    transition: all 0.3s ease;
  }

  .submit-btn:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 20px 40px -12px rgba(99, 102, 241, 0.6);
  }

  .submit-btn:active:not(:disabled) {
    transform: translateY(0);
  }

  .submit-btn:disabled {
    opacity: 0.7;
    cursor: not-allowed;
  }

  .btn-content {
    position: relative;
    z-index: 2;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
  }

  .btn-glow {
    position: absolute;
    inset: -2px;
    background: linear-gradient(135deg, #818cf8, #c084fc);
    filter: blur(20px);
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: 1;
  }

  .submit-btn:hover:not(:disabled) .btn-glow {
    opacity: 0.6;
  }

  .arrow-icon {
    transition: transform 0.3s ease;
  }

  .submit-btn:hover:not(:disabled) .arrow-icon {
    transform: translateX(4px);
  }

  /* Spinner */
  .spinner {
    width: 20px;
    height: 20px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-top-color: white;
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
  }

  @keyframes spin {
    to { transform: rotate(360deg); }
  }

  /* Footer */
  .login-footer {
    text-align: center;
    padding-top: 1.5rem;
    border-top: 1px solid rgba(100, 116, 139, 0.2);
  }

  .footer-text {
    color: #94a3b8;
    font-size: 0.9375rem;
  }

  .footer-link {
    color: #818cf8;
    font-weight: 600;
    text-decoration: none;
    transition: color 0.2s ease;
    position: relative;
  }

  .footer-link::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, #6366f1, #8b5cf6);
    transform: scaleX(0);
    transition: transform 0.3s ease;
  }

  .footer-link:hover {
    color: #a5b4fc;
  }

  .footer-link:hover::after {
    transform: scaleX(1);
  }

  /* Responsive */
  @media (max-width: 640px) {
    .login-content {
      padding: 2rem 1.5rem;
    }

    .login-title {
      font-size: 2.25rem;
    }

    .login-subtitle {
      font-size: 1rem;
    }

    .icon-container {
      width: 80px;
      height: 80px;
    }
  }
</style>

# END OF frontend/src/routes/login/+page.svelte


##################################################################
# FILE: frontend/src/routes/login/+page.js
# PATH: frontend/src/routes/login/+page.js
##################################################################

// Disable prerendering for auth page
export const prerender = false;

# END OF frontend/src/routes/login/+page.js


##################################################################
# FILE: frontend/src/routes/register/+page.svelte
# PATH: frontend/src/routes/register/+page.svelte
##################################################################

<script lang="ts">
  import { goto } from '$app/navigation';
  import { register } from '$lib/api/auth';
  import { IconUser, IconMail, IconLock, IconAlertCircle, IconUserPlus, IconSparkles, IconArrowRight, IconCircleCheck, IconInbox } from '@tabler/icons-svelte';
  import { onMount } from 'svelte';
  import { browser } from '$app/environment';
  import gsap from 'gsap';
  import confetti from 'canvas-confetti';

  let name = '';
  let email = '';
  let password = '';
  let password_confirmation = '';
  let errors: Record<string, string[]> = {};
  let generalError = '';
  let isLoading = false;
  let registrationSuccess = false;
  let successMessage = '';

  let cardRef: HTMLElement;
  let particlesRef: HTMLElement;
  let formRef: HTMLElement;

  onMount(() => {
    if (!browser) return;

    // GSAP Timeline for entrance animations
    const tl = gsap.timeline({ defaults: { ease: 'power3.out' } });

    tl.from(cardRef, {
      opacity: 0,
      y: 80,
      scale: 0.85,
      rotation: -5,
      duration: 1.4,
      ease: 'back.out(1.4)'
    })
    .from('.register-header', {
      opacity: 0,
      y: -40,
      duration: 0.9
    }, '-=0.8')
    .from('.form-field', {
      opacity: 0,
      x: -50,
      duration: 0.7,
      stagger: 0.12
    }, '-=0.5')
    .from('.register-footer', {
      opacity: 0,
      scale: 0.9,
      duration: 0.6
    }, '-=0.4');

    // Create floating emerald particles
    createEmeraldParticles();

    // Sparkle effect on icon
    const sparkleAnimation = gsap.timeline({ repeat: -1 });
    sparkleAnimation.to('.sparkle-icon', {
      rotation: 360,
      duration: 3,
      ease: 'none'
    });
  });

  function createEmeraldParticles() {
    if (!particlesRef) return;

    for (let i = 0; i < 40; i++) {
      const particle = document.createElement('div');
      particle.className = 'emerald-particle';

      const size = Math.random() * 6 + 3;
      const startX = Math.random() * 100;
      const startY = Math.random() * 100;
      const duration = Math.random() * 25 + 20;
      const delay = Math.random() * 8;

      particle.style.width = `${size}px`;
      particle.style.height = `${size}px`;
      particle.style.left = `${startX}%`;
      particle.style.top = `${startY}%`;

      particlesRef.appendChild(particle);

      gsap.to(particle, {
        y: -150,
        x: `+=${Math.random() * 120 - 60}`,
        opacity: 0,
        rotation: 360,
        duration: duration,
        delay: delay,
        repeat: -1,
        ease: 'none'
      });
    }
  }

  async function handleSubmit(e: Event) {
    e.preventDefault();
    errors = {};
    generalError = '';
    isLoading = true;

    const btn = (e.target as HTMLFormElement).querySelector('button[type="submit"]');
    if (btn) {
      gsap.to(btn, { scale: 0.95, duration: 0.2 });
    }

    try {
      const message = await register({ name, email, password, password_confirmation });

      // Success confetti!
      confetti({
        particleCount: 150,
        spread: 100,
        origin: { y: 0.6 },
        colors: ['#10b981', '#14b8a6', '#06b6d4', '#22c55e']
      });

      // Show email verification message
      registrationSuccess = true;
      successMessage = message;

      // Animate form out and success message in
      if (formRef) {
        gsap.to(formRef, {
          opacity: 0,
          y: -20,
          duration: 0.5
        });
      }
    } catch (error) {
      // Error shake
      if (formRef) {
        gsap.fromTo(formRef,
          { x: -12 },
          { x: 12, duration: 0.08, repeat: 6, yoyo: true, ease: 'power1.inOut' }
        );
      }

      if (error && typeof error === 'object' && 'errors' in error) {
        errors = (error as { errors: Record<string, string[]> }).errors;
      } else if (error instanceof Error) {
        generalError = error.message;
      } else {
        generalError = 'An unexpected error occurred. Please try again.';
      }
    } finally {
      isLoading = false;
      if (btn) {
        gsap.to(btn, { scale: 1, duration: 0.2 });
      }
    }
  }
</script>

<svelte:head>
  <title>Register | Revolution Trading Pros</title>
</svelte:head>

<div class="register-page">
  <!-- Animated gradient background -->
  <div class="gradient-bg"></div>

  <!-- Radial glow effects -->
  <div class="radial-glow glow-1"></div>
  <div class="radial-glow glow-2"></div>
  <div class="radial-glow glow-3"></div>

  <!-- Floating particles container -->
  <div bind:this={particlesRef} class="particles-container"></div>

  <!-- Animated grid -->
  <div class="grid-pattern"></div>

  <!-- Register card -->
  <div class="register-container">
    <div bind:this={cardRef} class="register-card">
      <!-- Glass overlay -->
      <div class="glass-overlay"></div>

      <!-- Card glow -->
      <div class="card-glow"></div>

      <!-- Content -->
      <div class="register-content" bind:this={formRef} style:display={registrationSuccess ? 'none' : 'block'}>
        <!-- Header -->
        <div class="register-header">
          <div class="icon-wrapper">
            <div class="icon-pulse-bg"></div>
            <div class="icon-container">
              <div class="icon-inner">
                <IconSparkles size={52} class="sparkle-icon" />
              </div>
            </div>
          </div>
          <h1 class="register-title">Join Revolution</h1>
          <p class="register-subtitle">Start your journey to trading excellence</p>
        </div>

        <!-- General error -->
        {#if generalError}
          <div class="error-banner">
            <IconAlertCircle size={20} class="error-icon" />
            <p class="error-text">{generalError}</p>
          </div>
        {/if}

        <!-- Register form -->
        <form on:submit={handleSubmit} class="register-form">
          <!-- Name field -->
          <div class="form-field">
            <label for="name" class="field-label">Full Name</label>
            <div class="input-wrapper">
              <div class="input-icon">
                <IconUser size={20} />
              </div>
              <input
                id="name"
                type="text"
                bind:value={name}
                required
                class="enhanced-input"
                class:error={errors.name}
                placeholder="John Doe"
                autocomplete="name"
              />
              <div class="input-glow"></div>
            </div>
            {#if errors.name}
              <p class="field-error">{errors.name[0]}</p>
            {/if}
          </div>

          <!-- Email field -->
          <div class="form-field">
            <label for="email" class="field-label">Email Address</label>
            <div class="input-wrapper">
              <div class="input-icon">
                <IconMail size={20} />
              </div>
              <input
                id="email"
                type="email"
                bind:value={email}
                required
                class="enhanced-input"
                class:error={errors.email}
                placeholder="trader@example.com"
                autocomplete="email"
              />
              <div class="input-glow"></div>
            </div>
            {#if errors.email}
              <p class="field-error">{errors.email[0]}</p>
            {/if}
          </div>

          <!-- Password field -->
          <div class="form-field">
            <label for="password" class="field-label">Password</label>
            <div class="input-wrapper">
              <div class="input-icon">
                <IconLock size={20} />
              </div>
              <input
                id="password"
                type="password"
                bind:value={password}
                required
                class="enhanced-input"
                class:error={errors.password}
                placeholder=""
                autocomplete="new-password"
              />
              <div class="input-glow"></div>
            </div>
            {#if errors.password}
              <p class="field-error">{errors.password[0]}</p>
            {/if}
          </div>

          <!-- Confirm password field -->
          <div class="form-field">
            <label for="password_confirmation" class="field-label">Confirm Password</label>
            <div class="input-wrapper">
              <div class="input-icon">
                <IconLock size={20} />
              </div>
              <input
                id="password_confirmation"
                type="password"
                bind:value={password_confirmation}
                required
                class="enhanced-input"
                placeholder=""
                autocomplete="new-password"
              />
              <div class="input-glow"></div>
            </div>
          </div>

          <!-- Submit button -->
          <button type="submit" disabled={isLoading} class="submit-btn">
            <span class="btn-content">
              {#if isLoading}
                <span class="spinner"></span>
                <span>Creating Account...</span>
              {:else}
                <IconUserPlus size={22} />
                <span>Create Account</span>
                <IconArrowRight size={22} class="arrow-icon" />
              {/if}
            </span>
            <div class="btn-shine"></div>
            <div class="btn-glow"></div>
          </button>
        </form>

        <!-- Login link -->
        <div class="register-footer">
          <p class="footer-text">
            Already have an account?
            <a href="/login" class="footer-link">Sign in instead</a>
          </p>
        </div>
      </div>

      <!-- Success Message (Email Verification) -->
      {#if registrationSuccess}
        <div class="success-content">
          <div class="success-icon-wrapper">
            <IconCircleCheck size={80} class="success-check-icon" />
          </div>
          <h2 class="success-title">Check Your Email!</h2>
          <p class="success-message">{successMessage}</p>

          <div class="email-instructions">
            <div class="instruction-item">
              <IconInbox size={24} class="instruction-icon" />
              <p>We've sent a verification link to <strong>{email}</strong></p>
            </div>
            <div class="instruction-item">
              <IconMail size={24} class="instruction-icon" />
              <p>Click the link in the email to verify your account</p>
            </div>
            <div class="instruction-item">
              <IconAlertCircle size={24} class="instruction-icon" />
              <p>Don't forget to check your spam folder if you don't see it</p>
            </div>
          </div>

          <div class="success-actions">
            <a href="/login" class="success-btn-primary">
              Go to Login
              <IconArrowRight size={20} />
            </a>
          </div>

          <p class="success-footer">
            Didn't receive the email?
            <a href="/login" class="resend-link">Contact support</a>
          </p>
        </div>
      {/if}
    </div>
  </div>
</div>

<style>
  .register-page {
    position: relative;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2rem 1rem;
    overflow: hidden;
  }

  /* Animated gradient background */
  .gradient-bg {
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, #064e3b 0%, #0f766e 20%, #0d9488 40%, #0f766e 60%, #064e3b 80%, #022c22 100%);
    background-size: 400% 400%;
    animation: emeraldShift 25s ease infinite;
  }

  @keyframes emeraldShift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  /* Radial glow effects */
  .radial-glow {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.15;
  }

  .glow-1 {
    width: 500px;
    height: 500px;
    top: 10%;
    left: 5%;
    background: radial-gradient(circle, #10b981, transparent 70%);
    animation: float1 20s ease-in-out infinite;
  }

  .glow-2 {
    width: 400px;
    height: 400px;
    bottom: 15%;
    right: 10%;
    background: radial-gradient(circle, #14b8a6, transparent 70%);
    animation: float2 18s ease-in-out infinite;
  }

  .glow-3 {
    width: 450px;
    height: 450px;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: radial-gradient(circle, #06b6d4, transparent 70%);
    animation: float3 22s ease-in-out infinite;
  }

  @keyframes float1 {
    0%, 100% { transform: translate(0, 0); }
    50% { transform: translate(50px, 30px); }
  }

  @keyframes float2 {
    0%, 100% { transform: translate(0, 0); }
    50% { transform: translate(-40px, -50px); }
  }

  @keyframes float3 {
    0%, 100% { transform: translate(-50%, -50%) scale(1); }
    50% { transform: translate(-50%, -50%) scale(1.2); }
  }

  /* Particles container */
  .particles-container {
    position: absolute;
    inset: 0;
    pointer-events: none;
  }

  .emerald-particle {
    position: absolute;
    background: radial-gradient(circle, rgba(16, 185, 129, 0.9), rgba(20, 184, 166, 0.5), transparent);
    border-radius: 50%;
    filter: blur(1px);
  }

  /* Grid pattern */
  .grid-pattern {
    position: absolute;
    inset: 0;
    background-image:
      linear-gradient(rgba(16, 185, 129, 0.05) 1px, transparent 1px),
      linear-gradient(90deg, rgba(16, 185, 129, 0.05) 1px, transparent 1px);
    background-size: 60px 60px;
    animation: gridSlide 40s linear infinite;
  }

  @keyframes gridSlide {
    0% { transform: translate(0, 0); }
    100% { transform: translate(60px, 60px); }
  }

  /* Register container */
  .register-container {
    position: relative;
    width: 100%;
    max-width: 520px;
    z-index: 10;
  }

  /* Register card */
  .register-card {
    position: relative;
    background: rgba(6, 78, 59, 0.3);
    backdrop-filter: blur(24px);
    border-radius: 36px;
    border: 2px solid rgba(16, 185, 129, 0.25);
    overflow: hidden;
    box-shadow: 0 30px 60px -15px rgba(0, 0, 0, 0.6);
  }

  .glass-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg,
      rgba(255, 255, 255, 0.12) 0%,
      transparent 50%,
      rgba(16, 185, 129, 0.08) 100%);
    pointer-events: none;
  }

  .card-glow {
    position: absolute;
    inset: -3px;
    background: linear-gradient(135deg, #10b981, #14b8a6, #22c55e);
    opacity: 0.25;
    filter: blur(25px);
    z-index: -1;
  }

  /* Register content */
  .register-content {
    position: relative;
    padding: 3rem 2.75rem;
  }

  /* Header */
  .register-header {
    text-align: center;
    margin-bottom: 2.25rem;
  }

  .icon-wrapper {
    position: relative;
    display: inline-block;
    margin-bottom: 1.5rem;
  }

  .icon-pulse-bg {
    position: absolute;
    inset: -25px;
    background: radial-gradient(circle, rgba(16, 185, 129, 0.5), transparent 65%);
    animation: iconPulseEffect 4s ease-in-out infinite;
  }

  @keyframes iconPulseEffect {
    0%, 100% { opacity: 0.3; transform: scale(0.95); }
    50% { opacity: 0.9; transform: scale(1.15); }
  }

  .icon-container {
    position: relative;
    width: 100px;
    height: 100px;
    background: linear-gradient(135deg, #10b981, #14b8a6);
    border-radius: 26px;
    padding: 3px;
  }

  .icon-inner {
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #064e3b, #022c22);
    border-radius: 23px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .sparkle-icon {
    color: #6ee7b7;
    filter: drop-shadow(0 0 24px rgba(16, 185, 129, 0.6));
  }

  .register-title {
    font-size: 3.25rem;
    font-weight: 900;
    background: linear-gradient(135deg, #d1fae5, #a7f3d0, #6ee7b7);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    margin-bottom: 0.625rem;
    letter-spacing: -0.03em;
  }

  .register-subtitle {
    font-size: 1.125rem;
    color: #94a3b8;
    font-weight: 400;
  }

  /* Error banner */
  .error-banner {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    padding: 1rem 1.25rem;
    background: rgba(239, 68, 68, 0.12);
    border: 1.5px solid rgba(239, 68, 68, 0.35);
    border-radius: 18px;
    margin-bottom: 1.5rem;
    animation: errorAppear 0.35s ease-out;
  }

  @keyframes errorAppear {
    from { opacity: 0; transform: translateY(-12px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .error-icon {
    color: #f87171;
    flex-shrink: 0;
    margin-top: 2px;
  }

  .error-text {
    color: #fca5a5;
    font-size: 0.875rem;
    line-height: 1.5;
  }

  /* Form */
  .register-form {
    display: flex;
    flex-direction: column;
    gap: 1.375rem;
    margin-bottom: 1.75rem;
  }

  .form-field {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .field-label {
    font-size: 0.875rem;
    font-weight: 700;
    color: #d1fae5;
    letter-spacing: 0.03em;
    text-transform: uppercase;
    font-size: 0.75rem;
  }

  .input-wrapper {
    position: relative;
  }

  .input-icon {
    position: absolute;
    left: 1.25rem;
    top: 50%;
    transform: translateY(-50%);
    color: #6ee7b7;
    pointer-events: none;
    z-index: 2;
    transition: all 0.3s ease;
    opacity: 0.6;
  }

  .enhanced-input {
    width: 100%;
    padding: 1.125rem 1.25rem 1.125rem 3.75rem;
    background: rgba(6, 78, 59, 0.4);
    border: 2px solid rgba(16, 185, 129, 0.25);
    border-radius: 16px;
    color: #ecfdf5;
    font-size: 1rem;
    font-weight: 500;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    outline: none;
  }

  .enhanced-input::placeholder {
    color: rgba(148, 163, 184, 0.5);
  }

  .enhanced-input:focus {
    background: rgba(6, 78, 59, 0.6);
    border-color: #10b981;
    box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.1);
  }

  .enhanced-input:focus ~ .input-icon {
    opacity: 1;
    color: #34d399;
  }

  .enhanced-input:focus + .input-glow {
    opacity: 1;
  }

  .enhanced-input.error {
    border-color: #ef4444;
    background: rgba(239, 68, 68, 0.08);
  }

  .input-glow {
    position: absolute;
    inset: -2px;
    background: linear-gradient(135deg, #10b981, #14b8a6);
    border-radius: 16px;
    opacity: 0;
    filter: blur(8px);
    transition: opacity 0.4s ease;
    pointer-events: none;
    z-index: -1;
  }

  .field-error {
    color: #f87171;
    font-size: 0.875rem;
    font-weight: 600;
  }

  /* Submit button */
  .submit-btn {
    position: relative;
    width: 100%;
    padding: 1.125rem 2rem;
    background: linear-gradient(135deg, #10b981, #14b8a6);
    border: none;
    border-radius: 16px;
    color: white;
    font-size: 1.125rem;
    font-weight: 800;
    cursor: pointer;
    overflow: hidden;
    margin-top: 0.75rem;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 10px 30px -10px rgba(16, 185, 129, 0.4);
  }

  .submit-btn:hover:not(:disabled) {
    transform: translateY(-3px) scale(1.01);
    box-shadow: 0 20px 50px -12px rgba(16, 185, 129, 0.7);
  }

  .submit-btn:active:not(:disabled) {
    transform: translateY(-1px) scale(0.99);
  }

  .submit-btn:disabled {
    opacity: 0.65;
    cursor: not-allowed;
  }

  .btn-content {
    position: relative;
    z-index: 3;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
  }

  .btn-shine {
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    transition: left 0.5s ease;
    z-index: 2;
  }

  .submit-btn:hover:not(:disabled) .btn-shine {
    left: 100%;
  }

  .btn-glow {
    position: absolute;
    inset: -2px;
    background: linear-gradient(135deg, #6ee7b7, #5eead4);
    filter: blur(20px);
    opacity: 0;
    transition: opacity 0.4s ease;
    z-index: 1;
  }

  .submit-btn:hover:not(:disabled) .btn-glow {
    opacity: 0.7;
  }

  .arrow-icon {
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .submit-btn:hover:not(:disabled) .arrow-icon {
    transform: translateX(5px);
  }

  /* Spinner */
  .spinner {
    width: 22px;
    height: 22px;
    border: 3px solid rgba(255, 255, 255, 0.3);
    border-top-color: white;
    border-radius: 50%;
    animation: spin 0.7s linear infinite;
  }

  @keyframes spin {
    to { transform: rotate(360deg); }
  }

  /* Footer */
  .register-footer {
    text-align: center;
    padding-top: 1.5rem;
    border-top: 1px solid rgba(16, 185, 129, 0.2);
  }

  .footer-text {
    color: #94a3b8;
    font-size: 0.9375rem;
  }

  .footer-link {
    color: #6ee7b7;
    font-weight: 700;
    text-decoration: none;
    transition: color 0.2s ease;
    position: relative;
  }

  .footer-link::after {
    content: '';
    position: absolute;
    bottom: -3px;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, #10b981, #14b8a6);
    transform: scaleX(0);
    transition: transform 0.3s ease;
  }

  .footer-link:hover {
    color: #a7f3d0;
  }

  .footer-link:hover::after {
    transform: scaleX(1);
  }

  /* Success content */
  .success-content {
    position: relative;
    padding: 3rem 2.75rem;
    text-align: center;
    animation: successFadeIn 0.6s ease-out;
  }

  @keyframes successFadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .success-icon-wrapper {
    margin-bottom: 2rem;
  }

  .success-check-icon {
    color: #34d399;
    filter: drop-shadow(0 0 30px rgba(52, 211, 153, 0.6));
    animation: iconBounce 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }

  @keyframes iconBounce {
    0% { transform: scale(0); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
  }

  .success-title {
    font-size: 2.5rem;
    font-weight: 900;
    background: linear-gradient(135deg, #d1fae5, #a7f3d0, #6ee7b7);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    margin-bottom: 1rem;
    letter-spacing: -0.02em;
  }

  .success-message {
    font-size: 1.125rem;
    color: #94a3b8;
    margin-bottom: 2.5rem;
    line-height: 1.6;
  }

  .email-instructions {
    background: rgba(16, 185, 129, 0.08);
    border: 1.5px solid rgba(16, 185, 129, 0.25);
    border-radius: 20px;
    padding: 2rem 1.5rem;
    margin-bottom: 2rem;
    text-align: left;
  }

  .instruction-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    margin-bottom: 1.25rem;
  }

  .instruction-item:last-child {
    margin-bottom: 0;
  }

  .instruction-icon {
    color: #6ee7b7;
    flex-shrink: 0;
    margin-top: 2px;
  }

  .instruction-item p {
    color: #d1fae5;
    font-size: 0.9375rem;
    line-height: 1.6;
    margin: 0;
  }

  .instruction-item strong {
    color: #ecfdf5;
    font-weight: 700;
  }

  .success-actions {
    margin-bottom: 1.5rem;
  }

  .success-btn-primary {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 1rem 2.5rem;
    background: linear-gradient(135deg, #10b981, #14b8a6);
    border-radius: 14px;
    color: white;
    font-weight: 700;
    font-size: 1.0625rem;
    text-decoration: none;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 10px 30px -10px rgba(16, 185, 129, 0.5);
  }

  .success-btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 15px 40px -10px rgba(16, 185, 129, 0.7);
  }

  .success-footer {
    color: #94a3b8;
    font-size: 0.875rem;
    margin-top: 1.5rem;
  }

  .resend-link {
    color: #6ee7b7;
    font-weight: 600;
    text-decoration: none;
    transition: color 0.2s ease;
  }

  .resend-link:hover {
    color: #a7f3d0;
  }

  /* Responsive */
  @media (max-width: 640px) {
    .register-content {
      padding: 2.25rem 1.75rem;
    }

    .register-title {
      font-size: 2.5rem;
    }

    .icon-container {
      width: 85px;
      height: 85px;
    }

    .success-content {
      padding: 2.25rem 1.75rem;
    }

    .success-title {
      font-size: 2rem;
    }

    .email-instructions {
      padding: 1.5rem 1.25rem;
    }
  }
</style>

# END OF frontend/src/routes/register/+page.svelte


##################################################################
# FILE: frontend/src/routes/signup/+page.svelte
# PATH: frontend/src/routes/signup/+page.svelte
##################################################################

<script lang="ts">
	import { authStore } from '$lib/stores/auth';
	import { registerAndLogin } from '$lib/api/auth';
	import { goto } from '$app/navigation';

	let name = '';
	let email = '';
	let password = '';
	let passwordConfirmation = '';
	let isLoading = false;
	let errorMessage = '';
	let validationErrors: Record<string, string[]> = {};

	$: if ($authStore.user) {
		goto('/account');
	}

	async function handleSignup(e: Event) {
		e.preventDefault();
		errorMessage = '';
		validationErrors = {};
		isLoading = true;

		// Client-side validation
		if (password !== passwordConfirmation) {
			errorMessage = 'Passwords do not match';
			isLoading = false;
			return;
		}

		if (password.length < 8) {
			errorMessage = 'Password must be at least 8 characters';
			isLoading = false;
			return;
		}

		try {
			await registerAndLogin({
				name,
				email,
				password,
				password_confirmation: passwordConfirmation
			});
			goto('/account');
		} catch (error: any) {
			errorMessage = error.message || 'Registration failed. Please try again.';
			if (error.errors) {
				validationErrors = error.errors;
			}
		} finally {
			isLoading = false;
		}
	}
</script>

<svelte:head>
	<title>Sign Up - Revolution Trading Pros</title>
	<meta name="description" content="Create your Revolution Trading Pros account" />
</svelte:head>

<div class="min-h-[calc(100vh-120px)] flex items-center justify-center bg-rtp-bg px-4 py-12">
	<div class="w-full max-w-md">
		<!-- Card -->
		<div class="bg-rtp-surface rounded-2xl shadow-xl p-8 border border-rtp-border">
			<!-- Logo/Header -->
			<div class="text-center mb-8">
				<h1 class="text-3xl font-heading font-bold text-rtp-text mb-2">Join Revolution Trading</h1>
				<p class="text-rtp-muted">Start your trading journey today</p>
			</div>

			<!-- Error Message -->
			{#if errorMessage}
				<div class="mb-6 p-4 bg-red-50 border border-red-200 rounded-lg">
					<p class="text-red-800 text-sm">{errorMessage}</p>
					{#if Object.keys(validationErrors).length > 0}
						<ul class="mt-2 list-disc list-inside text-red-700 text-sm">
							{#each Object.entries(validationErrors) as [field, errors]}
								{#each errors as error}
									<li>{error}</li>
								{/each}
							{/each}
						</ul>
					{/if}
				</div>
			{/if}

			<!-- Signup Form -->
			<form on:submit={handleSignup} class="space-y-6">
				<!-- Name -->
				<div>
					<label for="name" class="block text-sm font-semibold text-rtp-text mb-2">
						Full Name
					</label>
					<input
						type="text"
						id="name"
						bind:value={name}
						required
						disabled={isLoading}
						class="w-full px-4 py-3 border border-rtp-border rounded-lg focus:ring-2 focus:ring-rtp-primary focus:border-transparent transition-all disabled:opacity-50 disabled:cursor-not-allowed"
						placeholder="John Doe"
					/>
					{#if validationErrors.name}
						<p class="mt-1 text-sm text-red-600">{validationErrors.name[0]}</p>
					{/if}
				</div>

				<!-- Email -->
				<div>
					<label for="email" class="block text-sm font-semibold text-rtp-text mb-2">
						Email Address
					</label>
					<input
						type="email"
						id="email"
						bind:value={email}
						required
						disabled={isLoading}
						class="w-full px-4 py-3 border border-rtp-border rounded-lg focus:ring-2 focus:ring-rtp-primary focus:border-transparent transition-all disabled:opacity-50 disabled:cursor-not-allowed"
						placeholder="you@example.com"
					/>
					{#if validationErrors.email}
						<p class="mt-1 text-sm text-red-600">{validationErrors.email[0]}</p>
					{/if}
				</div>

				<!-- Password -->
				<div>
					<label for="password" class="block text-sm font-semibold text-rtp-text mb-2">
						Password
					</label>
					<input
						type="password"
						id="password"
						bind:value={password}
						required
						minlength="8"
						disabled={isLoading}
						class="w-full px-4 py-3 border border-rtp-border rounded-lg focus:ring-2 focus:ring-rtp-primary focus:border-transparent transition-all disabled:opacity-50 disabled:cursor-not-allowed"
						placeholder=""
					/>
					<p class="mt-1 text-xs text-rtp-muted">Minimum 8 characters</p>
					{#if validationErrors.password}
						<p class="mt-1 text-sm text-red-600">{validationErrors.password[0]}</p>
					{/if}
				</div>

				<!-- Confirm Password -->
				<div>
					<label for="password_confirmation" class="block text-sm font-semibold text-rtp-text mb-2">
						Confirm Password
					</label>
					<input
						type="password"
						id="password_confirmation"
						bind:value={passwordConfirmation}
						required
						minlength="8"
						disabled={isLoading}
						class="w-full px-4 py-3 border border-rtp-border rounded-lg focus:ring-2 focus:ring-rtp-primary focus:border-transparent transition-all disabled:opacity-50 disabled:cursor-not-allowed"
						placeholder=""
					/>
				</div>

				<!-- Terms Checkbox -->
				<div>
					<label class="flex items-start">
						<input
							type="checkbox"
							required
							class="w-4 h-4 mt-1 text-rtp-primary border-rtp-border rounded focus:ring-rtp-primary"
						/>
						<span class="ml-2 text-sm text-rtp-muted">
							I agree to the
							<a href="/terms" class="text-rtp-primary hover:underline">Terms of Service</a>
							and
							<a href="/privacy" class="text-rtp-primary hover:underline">Privacy Policy</a>
						</span>
					</label>
				</div>

				<!-- Submit Button -->
				<button
					type="submit"
					disabled={isLoading}
					class="w-full py-3 px-4 bg-gradient-to-r from-rtp-primary to-rtp-blue text-white font-bold rounded-lg hover:shadow-lg transform hover:scale-[1.02] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none"
				>
					{#if isLoading}
						<span class="inline-flex items-center">
							<svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
								<circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
								<path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
							</svg>
							Creating account...
						</span>
					{:else}
						Create Account
					{/if}
				</button>
			</form>

			<!-- Divider -->
			<div class="relative my-6">
				<div class="absolute inset-0 flex items-center">
					<div class="w-full border-t border-rtp-border"></div>
				</div>
				<div class="relative flex justify-center text-sm">
					<span class="px-2 bg-rtp-surface text-rtp-muted">Or</span>
				</div>
			</div>

			<!-- Sign In Link -->
			<div class="text-center">
				<p class="text-rtp-muted">
					Already have an account?
					<a href="/login" class="text-rtp-primary font-semibold hover:underline">
						Sign in
					</a>
				</p>
			</div>
		</div>

		<!-- Benefits -->
		<div class="mt-8 grid grid-cols-3 gap-4 text-center">
			<div>
				<div class="text-2xl font-bold text-rtp-primary">10K+</div>
				<div class="text-xs text-rtp-muted mt-1">Active Traders</div>
			</div>
			<div>
				<div class="text-2xl font-bold text-rtp-emerald">78%</div>
				<div class="text-xs text-rtp-muted mt-1">Win Rate</div>
			</div>
			<div>
				<div class="text-2xl font-bold text-rtp-indigo">$23M+</div>
				<div class="text-xs text-rtp-muted mt-1">Total Profits</div>
			</div>
		</div>
	</div>
</div>

# END OF frontend/src/routes/signup/+page.svelte


##################################################################
# FILE: frontend/src/routes/signup/+page.js
# PATH: frontend/src/routes/signup/+page.js
##################################################################

// Disable prerendering for auth page
export const prerender = false;

# END OF frontend/src/routes/signup/+page.js


##################################################################
# FILE: frontend/src/routes/account/+page.svelte
# PATH: frontend/src/routes/account/+page.svelte
##################################################################

<script lang="ts">
	import { authStore, isAuthenticated } from '$lib/stores/auth';
	import { goto } from '$app/navigation';
	import { onMount } from 'svelte';
	import { browser } from '$app/environment';
	import apiClient, { type Membership, type Product } from '$lib/api/client';

	// Only redirect on client-side
	$: if (browser && !$isAuthenticated && !$authStore.loading) {
		goto('/login');
	}

	let memberships: Membership[] = [];
	let products: Product[] = [];
	let loadingMemberships = true;
	let loadingProducts = true;

	onMount(async () => {
		if ($authStore.user) {
			try {
				memberships = await apiClient.getMyMemberships();
			} catch (error) {
				console.error('Failed to load memberships:', error);
			} finally {
				loadingMemberships = false;
			}

			try {
				products = await apiClient.getMyProducts();
			} catch (error) {
				console.error('Failed to load products:', error);
			} finally {
				loadingProducts = false;
			}
		}
	});

	async function handleLogout() {
		await authStore.logout();
		goto('/');
	}
</script>

<svelte:head>
	<title>My Account - Revolution Trading Pros</title>
	<meta name="description" content="Manage your Revolution Trading Pros account" />
</svelte:head>

{#if $authStore.user}
	<div class="min-h-[calc(100vh-120px)] bg-rtp-bg py-12 px-4">
		<div class="max-w-7xl mx-auto">
			<!-- Header -->
			<div class="bg-rtp-surface rounded-2xl shadow-lg p-8 border border-rtp-border mb-8">
				<div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
					<div>
						<h1 class="text-3xl font-heading font-bold text-rtp-text mb-2">My Account</h1>
						<p class="text-rtp-muted">Welcome back, {$authStore.user.name}!</p>
					</div>
					<button
						on:click={handleLogout}
						class="px-6 py-2 border-2 border-rtp-primary text-rtp-primary rounded-lg font-semibold hover:bg-rtp-primary hover:text-white transition-all"
					>
						Sign Out
					</button>
				</div>
			</div>

			<div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
				<!-- Left Column: Profile Info -->
				<div class="lg:col-span-1 space-y-6">
					<!-- Profile Card -->
					<div class="bg-rtp-surface rounded-2xl shadow-lg p-6 border border-rtp-border">
						<h2 class="text-xl font-heading font-bold text-rtp-text mb-4">Profile Information</h2>
						<div class="space-y-4">
							<div>
								<label class="text-sm font-semibold text-rtp-muted">Full Name</label>
								<p class="text-rtp-text mt-1">{$authStore.user.name}</p>
							</div>
							<div>
								<label class="text-sm font-semibold text-rtp-muted">Email Address</label>
								<p class="text-rtp-text mt-1">{$authStore.user.email}</p>
							</div>
							<div>
								<label class="text-sm font-semibold text-rtp-muted">Account Status</label>
								<p class="mt-1">
									{#if $authStore.user.email_verified_at}
										<span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800">
											<svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
												<path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
											</svg>
											Verified
										</span>
									{:else}
										<span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-800">
											<svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
												<path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
											</svg>
											Pending Verification
										</span>
									{/if}
								</p>
							</div>
							<div>
								<label class="text-sm font-semibold text-rtp-muted">Member Since</label>
								<p class="text-rtp-text mt-1">
									{new Date($authStore.user.created_at).toLocaleDateString('en-US', {
										month: 'long',
										year: 'numeric'
									})}
								</p>
							</div>
						</div>
						<button class="mt-6 w-full px-4 py-2 border border-rtp-border rounded-lg font-semibold text-rtp-text hover:bg-rtp-bg transition-all">
							Edit Profile
						</button>
					</div>

					<!-- Quick Actions -->
					<div class="bg-rtp-surface rounded-2xl shadow-lg p-6 border border-rtp-border">
						<h3 class="text-lg font-heading font-bold text-rtp-text mb-4">Quick Actions</h3>
						<div class="space-y-2">
							<a href="/live-trading-rooms/day-trading" class="block px-4 py-3 rounded-lg hover:bg-rtp-bg transition-all text-rtp-text">
								<div class="flex items-center">
									<svg class="w-5 h-5 mr-3 text-rtp-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"/>
									</svg>
									Join Live Room
								</div>
							</a>
							<a href="/indicators" class="block px-4 py-3 rounded-lg hover:bg-rtp-bg transition-all text-rtp-text">
								<div class="flex items-center">
									<svg class="w-5 h-5 mr-3 text-rtp-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"/>
									</svg>
									Browse Indicators
								</div>
							</a>
							<a href="/courses" class="block px-4 py-3 rounded-lg hover:bg-rtp-bg transition-all text-rtp-text">
								<div class="flex items-center">
									<svg class="w-5 h-5 mr-3 text-rtp-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
									</svg>
									View Courses
								</div>
							</a>
						</div>
					</div>
				</div>

				<!-- Right Column: Memberships & Products -->
				<div class="lg:col-span-2 space-y-6">
					<!-- Active Memberships -->
					<div class="bg-rtp-surface rounded-2xl shadow-lg p-6 border border-rtp-border">
						<h2 class="text-xl font-heading font-bold text-rtp-text mb-4">Active Memberships</h2>
						{#if loadingMemberships}
							<div class="flex justify-center py-8">
								<svg class="animate-spin h-8 w-8 text-rtp-primary" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
									<circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
									<path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
								</svg>
							</div>
						{:else if memberships.length === 0}
							<div class="text-center py-12">
								<svg class="w-16 h-16 mx-auto text-rtp-muted mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/>
								</svg>
								<h3 class="text-lg font-semibold text-rtp-text mb-2">No Active Memberships</h3>
								<p class="text-rtp-muted mb-4">Unlock premium features with a membership plan</p>
								<a href="/live-trading-rooms/day-trading" class="inline-block px-6 py-3 bg-gradient-to-r from-rtp-primary to-rtp-blue text-white font-bold rounded-lg hover:shadow-lg transition-all">
									View Membership Plans
								</a>
							</div>
						{:else}
							<div class="space-y-4">
								{#each memberships as membership}
									<div class="border border-rtp-border rounded-lg p-4">
										<div class="flex justify-between items-start">
											<div>
												<h3 class="text-lg font-bold text-rtp-text">{membership.plan.name}</h3>
												<p class="text-sm text-rtp-muted mt-1">
													Started: {new Date(membership.starts_at).toLocaleDateString()}
												</p>
												{#if membership.expires_at}
													<p class="text-sm text-rtp-muted">
														Expires: {new Date(membership.expires_at).toLocaleDateString()}
													</p>
												{/if}
											</div>
											<span class="px-3 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800">
												{membership.status}
											</span>
										</div>
									</div>
								{/each}
							</div>
						{/if}
					</div>

					<!-- My Products -->
					<div class="bg-rtp-surface rounded-2xl shadow-lg p-6 border border-rtp-border">
						<h2 class="text-xl font-heading font-bold text-rtp-text mb-4">My Products</h2>
						{#if loadingProducts}
							<div class="flex justify-center py-8">
								<svg class="animate-spin h-8 w-8 text-rtp-primary" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
									<circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
									<path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
								</svg>
							</div>
						{:else if products.length === 0}
							<div class="text-center py-12">
								<svg class="w-16 h-16 mx-auto text-rtp-muted mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>
								</svg>
								<h3 class="text-lg font-semibold text-rtp-text mb-2">No Products Yet</h3>
								<p class="text-rtp-muted mb-4">Browse our courses and indicators to get started</p>
								<div class="flex gap-4 justify-center">
									<a href="/courses" class="px-6 py-3 bg-gradient-to-r from-rtp-primary to-rtp-blue text-white font-bold rounded-lg hover:shadow-lg transition-all">
										Browse Courses
									</a>
									<a href="/indicators" class="px-6 py-3 border-2 border-rtp-primary text-rtp-primary font-bold rounded-lg hover:bg-rtp-primary hover:text-white transition-all">
										View Indicators
									</a>
								</div>
							</div>
						{:else}
							<div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
								{#each products as product}
									<div class="border border-rtp-border rounded-lg p-4 hover:shadow-lg transition-all">
										<div class="flex items-start justify-between mb-2">
											<h3 class="text-lg font-bold text-rtp-text">{product.name}</h3>
											<span class="px-2 py-1 rounded text-xs font-semibold bg-rtp-primarySoft text-rtp-primary capitalize">
												{product.type}
											</span>
										</div>
										<p class="text-sm text-rtp-muted mb-4">{product.description}</p>
										<a
											href={product.type === 'indicator' ? `/indicators/${product.slug}` : `/courses/${product.slug}`}
											class="inline-block px-4 py-2 bg-rtp-primary text-white font-semibold rounded-lg hover:bg-rtp-blue transition-all text-sm"
										>
											View Details
										</a>
									</div>
								{/each}
							</div>
						{/if}
					</div>
				</div>
			</div>
		</div>
	</div>
{/if}

# END OF frontend/src/routes/account/+page.svelte


##################################################################
# FILE: frontend/src/routes/account/+page.js
# PATH: frontend/src/routes/account/+page.js
##################################################################

// Disable prerendering for auth-protected page
export const prerender = false;

# END OF frontend/src/routes/account/+page.js


##################################################################
# FILE: frontend/src/routes/forgot-password/+page.svelte
# PATH: frontend/src/routes/forgot-password/+page.svelte
##################################################################

<script lang="ts">
  import { forgotPassword } from '$lib/api/auth';
  import { IconMail, IconAlertCircle, IconCheck, IconSend } from '@tabler/icons-svelte';
  import { onMount } from 'svelte';

  let email = '';
  let errors: Record<string, string[]> = {};
  let generalError = '';
  let successMessage = '';
  let isLoading = false;
  let isVisible = false;

  onMount(() => {
    isVisible = true;
  });

  async function handleSubmit(e: Event) {
    e.preventDefault();
    errors = {};
    generalError = '';
    successMessage = '';
    isLoading = true;

    try {
      const message = await forgotPassword({ email });
      successMessage = message;
      email = ''; // Clear email field after success
    } catch (error) {
      if (error && typeof error === 'object' && 'errors' in error) {
        errors = (error as { errors: Record<string, string[]> }).errors;
      } else if (error instanceof Error) {
        generalError = error.message;
      } else {
        generalError = 'An unexpected error occurred. Please try again.';
      }
    } finally {
      isLoading = false;
    }
  }
</script>

<svelte:head>
  <title>Forgot Password | Revolution Trading Pros</title>
</svelte:head>

<div class="forgot-password-page min-h-screen flex items-center justify-center px-4 py-12 overflow-hidden relative">
  <!-- Animated gradient background -->
  <div class="absolute inset-0 bg-gradient-to-br from-slate-950 via-amber-950/30 to-slate-950"></div>

  <!-- Floating orbs -->
  <div class="absolute top-20 left-10 w-96 h-96 bg-amber-500/10 rounded-full blur-3xl animate-float"></div>
  <div class="absolute bottom-20 right-10 w-96 h-96 bg-yellow-500/10 rounded-full blur-3xl animate-float-delayed"></div>

  <!-- Forgot password card -->
  <div
    class="forgot-password-card relative w-full max-w-md z-10"
    class:animate-card-reveal={isVisible}
  >
    <!-- Glow effect -->
    <div class="absolute -inset-1 bg-gradient-to-r from-amber-500 via-yellow-500 to-orange-500 rounded-3xl opacity-20 blur-xl"></div>

    <div class="relative bg-slate-900/90 backdrop-blur-xl border border-amber-500/20 rounded-3xl p-10 shadow-2xl">
      <!-- Header -->
      <div class="text-center mb-8">
        <div class="inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-gradient-to-br from-amber-500 to-orange-500 p-0.5 mb-6">
          <div class="w-full h-full bg-slate-900 rounded-2xl flex items-center justify-center">
            <IconMail size={40} class="text-amber-400" />
          </div>
        </div>
        <h1 class="text-4xl font-heading font-bold mb-3 bg-gradient-to-r from-amber-300 via-yellow-300 to-orange-300 bg-clip-text text-transparent">
          Forgot Password?
        </h1>
        <p class="text-slate-400">No worries, we'll send you reset instructions</p>
      </div>

      <!-- Success message -->
      {#if successMessage}
        <div class="mb-6 p-4 bg-emerald-500/10 border border-emerald-500/30 rounded-xl flex items-start gap-3 animate-fade-in">
          <IconCheck size={20} class="text-emerald-400 flex-shrink-0 mt-0.5" />
          <p class="text-sm text-emerald-300">{successMessage}</p>
        </div>
      {/if}

      <!-- General error -->
      {#if generalError}
        <div class="mb-6 p-4 bg-red-500/10 border border-red-500/30 rounded-xl flex items-start gap-3 animate-fade-in">
          <IconAlertCircle size={20} class="text-red-400 flex-shrink-0 mt-0.5" />
          <p class="text-sm text-red-300">{generalError}</p>
        </div>
      {/if}

      <!-- Forgot password form -->
      <form on:submit={handleSubmit} class="space-y-6">
        <!-- Email field -->
        <div class="form-group">
          <label for="email" class="block text-sm font-semibold text-slate-300 mb-2">
            Email Address
          </label>
          <div class="relative">
            <div class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-500">
              <IconMail size={20} />
            </div>
            <input
              id="email"
              type="email"
              bind:value={email}
              required
              class="w-full pl-12 pr-4 py-3.5 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:border-amber-500 focus:ring-2 focus:ring-amber-500/20 focus:outline-none transition-all duration-300"
              class:border-red-500={errors.email}
              placeholder="you@example.com"
            />
          </div>
          {#if errors.email}
            <p class="mt-2 text-sm text-red-400">{errors.email[0]}</p>
          {/if}
        </div>

        <!-- Submit button -->
        <button
          type="submit"
          disabled={isLoading}
          class="w-full relative px-6 py-4 bg-gradient-to-r from-amber-500 via-yellow-500 to-orange-500 text-slate-900 font-heading font-bold rounded-xl overflow-hidden group transition-all duration-300 hover:shadow-lg hover:shadow-amber-500/50 disabled:opacity-50 disabled:cursor-not-allowed"
        >
          <span class="relative z-10 flex items-center justify-center gap-2">
            {#if isLoading}
              <div class="w-5 h-5 border-2 border-slate-900/30 border-t-slate-900 rounded-full animate-spin"></div>
              <span>Sending...</span>
            {:else}
              <IconSend size={20} />
              <span>Send Reset Link</span>
            {/if}
          </span>
          <div class="absolute inset-0 bg-white/20 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"></div>
        </button>
      </form>

      <!-- Back to login link -->
      <div class="mt-8 text-center">
        <a
          href="/login"
          class="text-amber-400 hover:text-amber-300 font-semibold transition-colors duration-300 flex items-center justify-center gap-2"
        >
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
          </svg>
          <span>Back to login</span>
        </a>
      </div>
    </div>
  </div>
</div>

<style>
  /* Floating animations */
  @keyframes float {
    0%, 100% {
      transform: translateY(0) scale(1);
    }
    50% {
      transform: translateY(-20px) scale(1.05);
    }
  }

  @keyframes float-delayed {
    0%, 100% {
      transform: translateY(0) scale(1);
    }
    50% {
      transform: translateY(30px) scale(0.95);
    }
  }

  .animate-float {
    animation: float 8s ease-in-out infinite;
  }

  .animate-float-delayed {
    animation: float-delayed 10s ease-in-out infinite;
  }

  /* Card reveal animation */
  @keyframes card-reveal {
    from {
      opacity: 0;
      transform: translateY(40px) scale(0.95);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  .animate-card-reveal {
    animation: card-reveal 0.6s ease-out forwards;
    opacity: 0;
  }

  /* Fade in animation */
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fade-in 0.3s ease-out;
  }

  /* Input focus glow */
  input:focus {
    box-shadow: 0 0 0 4px rgba(251, 191, 36, 0.1);
  }
</style>

# END OF frontend/src/routes/forgot-password/+page.svelte


##################################################################
# FILE: frontend/src/routes/reset-password/+page.svelte
# PATH: frontend/src/routes/reset-password/+page.svelte
##################################################################

<script lang="ts">
  import { goto } from '$app/navigation';
  import { page } from '$app/stores';
  import { resetPassword } from '$lib/api/auth';
  import { IconLock, IconAlertCircle, IconCheck, IconShieldCheck } from '@tabler/icons-svelte';
  import { onMount } from 'svelte';

  let email = '';
  let password = '';
  let password_confirmation = '';
  let token = '';
  let errors: Record<string, string[]> = {};
  let generalError = '';
  let successMessage = '';
  let isLoading = false;
  let isVisible = false;

  onMount(() => {
    isVisible = true;
    // Get token and email from URL parameters
    const urlParams = new URLSearchParams(window.location.search);
    token = urlParams.get('token') || '';
    email = urlParams.get('email') || '';
  });

  async function handleSubmit(e: Event) {
    e.preventDefault();
    errors = {};
    generalError = '';
    successMessage = '';
    isLoading = true;

    try {
      const message = await resetPassword({ token, email, password, password_confirmation });
      successMessage = message;

      // Redirect to login after 2 seconds
      setTimeout(() => {
        goto('/login');
      }, 2000);
    } catch (error) {
      if (error && typeof error === 'object' && 'errors' in error) {
        errors = (error as { errors: Record<string, string[]> }).errors;
      } else if (error instanceof Error) {
        generalError = error.message;
      } else {
        generalError = 'An unexpected error occurred. Please try again.';
      }
    } finally {
      isLoading = false;
    }
  }
</script>

<svelte:head>
  <title>Reset Password | Revolution Trading Pros</title>
</svelte:head>

<div class="reset-password-page min-h-screen flex items-center justify-center px-4 py-12 overflow-hidden relative">
  <!-- Animated gradient background -->
  <div class="absolute inset-0 bg-gradient-to-br from-slate-950 via-purple-950/30 to-slate-950"></div>

  <!-- Floating orbs -->
  <div class="absolute top-20 right-10 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-float"></div>
  <div class="absolute bottom-20 left-10 w-96 h-96 bg-pink-500/10 rounded-full blur-3xl animate-float-delayed"></div>

  <!-- Reset password card -->
  <div
    class="reset-password-card relative w-full max-w-md z-10"
    class:animate-card-reveal={isVisible}
  >
    <!-- Glow effect -->
    <div class="absolute -inset-1 bg-gradient-to-r from-purple-500 via-pink-500 to-rose-500 rounded-3xl opacity-20 blur-xl"></div>

    <div class="relative bg-slate-900/90 backdrop-blur-xl border border-purple-500/20 rounded-3xl p-10 shadow-2xl">
      <!-- Header -->
      <div class="text-center mb-8">
        <div class="inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-gradient-to-br from-purple-500 to-pink-500 p-0.5 mb-6">
          <div class="w-full h-full bg-slate-900 rounded-2xl flex items-center justify-center">
            <IconShieldCheck size={40} class="text-purple-400" />
          </div>
        </div>
        <h1 class="text-4xl font-heading font-bold mb-3 bg-gradient-to-r from-purple-300 via-pink-300 to-rose-300 bg-clip-text text-transparent">
          Reset Password
        </h1>
        <p class="text-slate-400">Enter your new password below</p>
      </div>

      <!-- Success message -->
      {#if successMessage}
        <div class="mb-6 p-4 bg-emerald-500/10 border border-emerald-500/30 rounded-xl flex items-start gap-3 animate-fade-in">
          <IconCheck size={20} class="text-emerald-400 flex-shrink-0 mt-0.5" />
          <div class="text-sm text-emerald-300">
            <p>{successMessage}</p>
            <p class="mt-1 text-emerald-400/70">Redirecting to login...</p>
          </div>
        </div>
      {/if}

      <!-- General error -->
      {#if generalError}
        <div class="mb-6 p-4 bg-red-500/10 border border-red-500/30 rounded-xl flex items-start gap-3 animate-fade-in">
          <IconAlertCircle size={20} class="text-red-400 flex-shrink-0 mt-0.5" />
          <p class="text-sm text-red-300">{generalError}</p>
        </div>
      {/if}

      <!-- Reset password form -->
      <form on:submit={handleSubmit} class="space-y-5">
        <!-- Email field (hidden, auto-filled from URL) -->
        <input type="hidden" bind:value={email} />
        <input type="hidden" bind:value={token} />

        <!-- Email display (read-only) -->
        <div class="form-group">
          <label class="block text-sm font-semibold text-slate-300 mb-2">
            Email Address
          </label>
          <div class="px-4 py-3.5 bg-slate-800/30 border border-slate-700/50 rounded-xl text-slate-400">
            {email}
          </div>
        </div>

        <!-- New password field -->
        <div class="form-group">
          <label for="password" class="block text-sm font-semibold text-slate-300 mb-2">
            New Password
          </label>
          <div class="relative">
            <div class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-500">
              <IconLock size={20} />
            </div>
            <input
              id="password"
              type="password"
              bind:value={password}
              required
              minlength="8"
              class="w-full pl-12 pr-4 py-3.5 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 focus:outline-none transition-all duration-300"
              class:border-red-500={errors.password}
              placeholder=""
            />
          </div>
          {#if errors.password}
            <p class="mt-2 text-sm text-red-400">{errors.password[0]}</p>
          {:else}
            <p class="mt-2 text-xs text-slate-500">Minimum 8 characters</p>
          {/if}
        </div>

        <!-- Confirm password field -->
        <div class="form-group">
          <label for="password_confirmation" class="block text-sm font-semibold text-slate-300 mb-2">
            Confirm New Password
          </label>
          <div class="relative">
            <div class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-500">
              <IconLock size={20} />
            </div>
            <input
              id="password_confirmation"
              type="password"
              bind:value={password_confirmation}
              required
              class="w-full pl-12 pr-4 py-3.5 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 focus:outline-none transition-all duration-300"
              placeholder=""
            />
          </div>
        </div>

        <!-- Submit button -->
        <button
          type="submit"
          disabled={isLoading || !!successMessage}
          class="w-full relative px-6 py-4 bg-gradient-to-r from-purple-500 via-pink-500 to-rose-500 text-white font-heading font-bold rounded-xl overflow-hidden group transition-all duration-300 hover:shadow-lg hover:shadow-purple-500/50 disabled:opacity-50 disabled:cursor-not-allowed mt-6"
        >
          <span class="relative z-10 flex items-center justify-center gap-2">
            {#if isLoading}
              <div class="w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"></div>
              <span>Resetting Password...</span>
            {:else if successMessage}
              <IconCheck size={20} />
              <span>Password Reset!</span>
            {:else}
              <IconShieldCheck size={20} />
              <span>Reset Password</span>
            {/if}
          </span>
          <div class="absolute inset-0 bg-white/20 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"></div>
        </button>
      </form>

      <!-- Back to login link -->
      <div class="mt-8 text-center">
        <a
          href="/login"
          class="text-purple-400 hover:text-purple-300 font-semibold transition-colors duration-300 flex items-center justify-center gap-2"
        >
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
          </svg>
          <span>Back to login</span>
        </a>
      </div>
    </div>
  </div>
</div>

<style>
  /* Floating animations */
  @keyframes float {
    0%, 100% {
      transform: translateY(0) scale(1);
    }
    50% {
      transform: translateY(-20px) scale(1.05);
    }
  }

  @keyframes float-delayed {
    0%, 100% {
      transform: translateY(0) scale(1);
    }
    50% {
      transform: translateY(30px) scale(0.95);
    }
  }

  .animate-float {
    animation: float 8s ease-in-out infinite;
  }

  .animate-float-delayed {
    animation: float-delayed 10s ease-in-out infinite;
  }

  /* Card reveal animation */
  @keyframes card-reveal {
    from {
      opacity: 0;
      transform: translateY(40px) scale(0.95);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  .animate-card-reveal {
    animation: card-reveal 0.6s ease-out forwards;
    opacity: 0;
  }

  /* Fade in animation */
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fade-in 0.3s ease-out;
  }

  /* Input focus glow */
  input:focus {
    box-shadow: 0 0 0 4px rgba(168, 85, 247, 0.1);
  }
</style>

# END OF frontend/src/routes/reset-password/+page.svelte


##################################################################
# FILE: frontend/src/routes/verify-email/[id]/[hash]/+page.svelte
# PATH: frontend/src/routes/verify-email/[id]/[hash]/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { goto } from '$app/navigation';
  import { page } from '$app/stores';
  import { IconCircleCheck, IconAlertCircle, IconMail } from '@tabler/icons-svelte';

  let verifying = true;
  let success = false;
  let error = '';
  let message = '';

  onMount(async () => {
    const { id, hash } = $page.params;

    try {
      const response = await fetch(`${import.meta.env.VITE_API_URL}/email/verify/${id}/${hash}?${$page.url.searchParams}`, {
        method: 'GET',
        headers: {
          'Accept': 'application/json',
        },
      });

      const data = await response.json();

      if (response.ok) {
        success = true;
        message = data.message || 'Email verified successfully!';

        // Redirect to login after 3 seconds
        setTimeout(() => {
          goto('/login?verified=true');
        }, 3000);
      } else {
        error = data.message || 'Verification failed. The link may be invalid or expired.';
      }
    } catch (err: any) {
      error = 'Network error. Please check your connection and try again.';
    } finally {
      verifying = false;
    }
  });
</script>

<svelte:head>
  <title>Verify Email | Revolution Trading</title>
  <meta name="description" content="Verify your email address to complete your Revolution Trading registration." />
  <meta property="og:title" content="Verify Email | Revolution Trading" />
  <meta property="og:description" content="Verify your email address to complete your Revolution Trading registration." />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Verify Email | Revolution Trading" />
  <meta name="twitter:description" content="Verify your email address to complete your Revolution Trading registration." />
</svelte:head>

<div class="verify-container">
  <div class="verify-card">
    <div class="verify-icon">
      {#if verifying}
        <div class="spinner"></div>
      {:else if success}
        <IconCircleCheck size={64} stroke={1.5} class="success-icon" />
      {:else}
        <IconAlertCircle size={64} stroke={1.5} class="error-icon" />
      {/if}
    </div>

    <div class="verify-content">
      {#if verifying}
        <h1>Verifying Your Email</h1>
        <p>Please wait while we verify your email address...</p>
      {:else if success}
        <h1>Email Verified!</h1>
        <p>{message}</p>
        <p class="redirect-message">Redirecting you to login...</p>
      {:else}
        <h1>Verification Failed</h1>
        <p class="error-message">{error}</p>
        <div class="action-buttons">
          <a href="/login" class="btn btn-primary">Go to Login</a>
          <a href="/register" class="btn btn-secondary">Register Again</a>
        </div>
      {/if}
    </div>
  </div>

  <div class="glow-orb-1"></div>
  <div class="glow-orb-2"></div>
</div>

<style>
  .verify-container {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2rem;
    position: relative;
    overflow: hidden;
    background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%);
  }

  .glow-orb-1,
  .glow-orb-2 {
    position: absolute;
    border-radius: 50%;
    filter: blur(100px);
    opacity: 0.15;
    pointer-events: none;
    z-index: 0;
  }

  .glow-orb-1 {
    width: 600px;
    height: 600px;
    background: radial-gradient(circle, #2e8eff 0%, transparent 70%);
    top: -200px;
    left: -200px;
    animation: float 20s ease-in-out infinite;
  }

  .glow-orb-2 {
    width: 500px;
    height: 500px;
    background: radial-gradient(circle, #34d399 0%, transparent 70%);
    bottom: -150px;
    right: -150px;
    animation: float 15s ease-in-out infinite reverse;
  }

  @keyframes float {
    0%, 100% { transform: translate(0, 0) scale(1); }
    33% { transform: translate(30px, -30px) scale(1.1); }
    66% { transform: translate(-20px, 20px) scale(0.9); }
  }

  .verify-card {
    background: rgba(26, 26, 46, 0.8);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 24px;
    padding: 4rem 3rem;
    max-width: 500px;
    width: 100%;
    text-align: center;
    position: relative;
    z-index: 1;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
  }

  .verify-icon {
    margin-bottom: 2rem;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 80px;
  }

  .spinner {
    width: 64px;
    height: 64px;
    border: 4px solid rgba(46, 142, 255, 0.2);
    border-top: 4px solid #2e8eff;
    border-radius: 50%;
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }

  :global(.success-icon) {
    color: #34d399;
    filter: drop-shadow(0 0 20px rgba(52, 211, 153, 0.5));
  }

  :global(.error-icon) {
    color: #ef4444;
    filter: drop-shadow(0 0 20px rgba(239, 68, 68, 0.5));
  }

  .verify-content h1 {
    font-size: 2rem;
    font-weight: 700;
    color: #ffffff;
    margin-bottom: 1rem;
    letter-spacing: -0.02em;
  }

  .verify-content p {
    font-size: 1.125rem;
    color: rgba(255, 255, 255, 0.7);
    line-height: 1.6;
    margin-bottom: 1rem;
  }

  .redirect-message {
    font-size: 1rem;
    color: rgba(52, 211, 153, 0.8);
    font-style: italic;
  }

  .error-message {
    color: rgba(239, 68, 68, 0.9);
  }

  .action-buttons {
    display: flex;
    gap: 1rem;
    margin-top: 2rem;
    flex-wrap: wrap;
    justify-content: center;
  }

  .btn {
    padding: 0.875rem 2rem;
    border-radius: 12px;
    font-weight: 600;
    font-size: 1rem;
    text-decoration: none;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
    display: inline-block;
  }

  .btn-primary {
    background: linear-gradient(135deg, #2e8eff 0%, #1e5cb8 100%);
    color: #ffffff;
  }

  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 30px rgba(46, 142, 255, 0.4);
  }

  .btn-secondary {
    background: rgba(255, 255, 255, 0.1);
    color: #ffffff;
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  .btn-secondary:hover {
    background: rgba(255, 255, 255, 0.15);
    transform: translateY(-2px);
  }

  @media (max-width: 768px) {
    .verify-card {
      padding: 3rem 2rem;
    }

    .verify-content h1 {
      font-size: 1.75rem;
    }

    .verify-content p {
      font-size: 1rem;
    }

    .glow-orb-1 {
      width: 400px;
      height: 400px;
    }

    .glow-orb-2 {
      width: 350px;
      height: 350px;
    }
  }

  @media (max-width: 640px) {
    .verify-container {
      padding: 1rem;
    }

    .verify-card {
      padding: 2rem 1.5rem;
    }

    .action-buttons {
      flex-direction: column;
    }

    .btn {
      width: 100%;
    }
  }
</style>

# END OF frontend/src/routes/verify-email/[id]/[hash]/+page.svelte


##################################################################
# FILE: frontend/src/routes/verify-email/[id]/[hash]/+page.ts
# PATH: frontend/src/routes/verify-email/[id]/[hash]/+page.ts
##################################################################

// Disable prerendering for dynamic route
export const prerender = false;

# END OF frontend/src/routes/verify-email/[id]/[hash]/+page.ts


##################################################################
# FILE: frontend/src/routes/blog/+page.svelte
# PATH: frontend/src/routes/blog/+page.svelte
##################################################################

<script lang="ts">
  import { onMount, onDestroy } from 'svelte';
  import { goto } from '$app/navigation';
  import SEOHead from '$lib/components/SEOHead.svelte';
  import { apiFetch, API_ENDPOINTS } from '$lib/api/config';
  import type { Post } from '$lib/types/post';

  // ============================================================================
  // TypeScript Interfaces (L70 Type Safety)
  // ============================================================================

  interface Category {
    id: number;
    name: string;
    slug: string;
  }

  interface Tag {
    id: number;
    name: string;
    slug: string;
  }

  interface BlogPost extends Post {
    categories?: Category[];
    tags?: Tag[];
  }

  interface PaginatedResponse {
    data: BlogPost[];
    current_page: number;
    last_page: number;
    per_page: number;
    total: number;
  }

  interface ErrorResponse {
    error: string;
    message: string;
  }

  // ============================================================================
  // State Management
  // ============================================================================

  let posts: BlogPost[] = [];
  let currentPage = 1;
  let lastPage = 1;
  let total = 0;
  let loading = true;
  let error = '';
  let retryCount = 0;
  const MAX_RETRIES = 3;
  const RETRY_DELAY = 2000;
  let abortController: AbortController | null = null;

  // ============================================================================
  // Performance & Error Handling (L70 Standards)
  // ============================================================================

  /**
   * Load blog posts with retry logic, timeout, and comprehensive error handling
   *
   * Features:
   * - Exponential backoff for retries
   * - Request timeout (10s)
   * - AbortController for cleanup
   * - Detailed error messages
   */
  async function loadPosts(page: number = 1, retry = 0): Promise<void> {
    try {
      loading = true;
      error = '';

      // Cancel any existing requests
      if (abortController) {
        abortController.abort();
      }

      abortController = new AbortController();
      const timeoutId = setTimeout(() => abortController?.abort(), 10000); // 10s timeout

      try {
        const response = await apiFetch<PaginatedResponse>(`${API_ENDPOINTS.posts.list}?page=${page}`);

        clearTimeout(timeoutId);

        // Validate response structure
        if (!response.data || !Array.isArray(response.data)) {
          throw new Error('Invalid response format from server');
        }

        // Sanitize and validate post data
        posts = response.data.map(post => ({
          ...post,
          title: sanitizeText(post.title),
          excerpt: sanitizeText(post.excerpt || ''),
          categories: post.categories || [],
          tags: post.tags || []
        }));

        currentPage = response.current_page || 1;
        lastPage = response.last_page || 1;
        total = response.total || 0;
        retryCount = 0; // Reset retry count on success

      } catch (fetchError) {
        clearTimeout(timeoutId);

        if (fetchError instanceof Error && fetchError.name === 'AbortError') {
          if (retry < MAX_RETRIES) {
            // Exponential backoff: 2s, 4s, 8s
            const delay = RETRY_DELAY * Math.pow(2, retry);
            console.log(`Request timeout. Retrying in ${delay/1000}s... (${retry + 1}/${MAX_RETRIES})`);

            await new Promise(resolve => setTimeout(resolve, delay));
            return loadPosts(page, retry + 1);
          } else {
            throw new Error('Request timed out. Please check your connection and try again.');
          }
        }

        throw fetchError;
      }

    } catch (err) {
      // Retry on network errors
      if (retry < MAX_RETRIES && err instanceof TypeError && err.message.includes('fetch')) {
        const delay = RETRY_DELAY * Math.pow(2, retry);
        console.log(`Network error. Retrying in ${delay/1000}s... (${retry + 1}/${MAX_RETRIES})`);

        await new Promise(resolve => setTimeout(resolve, delay));
        return loadPosts(page, retry + 1);
      }

      error = err instanceof Error ? err.message : 'An unexpected error occurred';
      console.error('Error loading posts:', err);

    } finally {
      loading = false;
      abortController = null;
    }
  }

  /**
   * Sanitize text to prevent XSS attacks
   */
  function sanitizeText(text: string): string {
    const div = document.createElement('div');
    div.textContent = text;
    return div.innerHTML;
  }

  function formatDate(dateString: string): string {
    const date = new Date(dateString);
    return date.toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'long',
      day: 'numeric'
    });
  }

  function viewPost(slug: string) {
    goto(`/blog/${slug}`);
  }

  function nextPage() {
    if (currentPage < lastPage) {
      loadPosts(currentPage + 1);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
  }

  function prevPage() {
    if (currentPage > 1) {
      loadPosts(currentPage - 1);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
  }

  function retryLoad() {
    loadPosts(currentPage);
  }

  // Lifecycle
  onMount(() => {
    loadPosts();
  });

  onDestroy(() => {
    // Cleanup: abort any pending requests
    if (abortController) {
      abortController.abort();
    }
  });

  // Structured data for blog list
  const blogSchema = {
    '@context': 'https://schema.org',
    '@type': 'Blog',
    name: 'Revolution Trading Pros Blog',
    description: 'Expert trading insights, tutorials, and market analysis',
    url: 'https://revolutiontradingpros.com/blog',
    publisher: {
      '@type': 'Organization',
      name: 'Revolution Trading Pros',
      logo: {
        '@type': 'ImageObject',
        url: 'https://revolutiontradingpros.com/revolution-trading-pros.png'
      }
    }
  };
</script>

<SEOHead
  title="Blog - Trading Insights & Tutorials"
  description="Expert trading insights, tutorials, and market analysis from Revolution Trading Pros. Learn day trading, swing trading, options strategies, and more."
  canonical="/blog"
  ogType="website"
  schema={blogSchema}
/>

<div class="blog-container">
  <div class="blog-header">
    <h1 class="blog-title">Blog</h1>
    <p class="blog-subtitle">Insights, tutorials, and updates from our team</p>
  </div>

  {#if loading}
    <div class="loading">
      <div class="spinner"></div>
      <p>Loading posts...</p>
    </div>
  {:else if error}
    <div class="error">
      <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="error-icon">
        <circle cx="12" cy="12" r="10"></circle>
        <line x1="12" y1="8" x2="12" y2="12"></line>
        <line x1="12" y1="16" x2="12.01" y2="16"></line>
      </svg>
      <h3>Oops! Something went wrong</h3>
      <p>{error}</p>
      <button class="btn-retry" on:click={retryLoad}>
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="23 4 23 10 17 10"></polyline>
          <polyline points="1 20 1 14 7 14"></polyline>
          <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
        </svg>
        Try Again
      </button>
    </div>
  {:else if posts.length === 0}
    <div class="empty">
      <p>No blog posts published yet.</p>
    </div>
  {:else}
    <div class="posts-grid">
      {#each posts as post}
  <div class="post-card" on:click={() => viewPost(post.slug)} on:keydown={(e) => e.key === 'Enter' && viewPost(post.slug)} role="button" tabindex="0">
          {#if post.featured_image}
            <div class="post-image">
              <img src={post.featured_image} alt={post.title} />
              <div class="image-overlay"></div>
            </div>
          {:else}
            <div class="post-image placeholder">
              <div class="placeholder-content">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                  <circle cx="8.5" cy="8.5" r="1.5"></circle>
                  <polyline points="21 15 16 10 5 21"></polyline>
                </svg>
              </div>
            </div>
          {/if}

          <div class="post-content">
            <div class="post-meta">
              {#if post.author}
                <span class="author">{post.author.name}</span>
                <span class="separator"></span>
              {/if}
              <span class="date">{formatDate(post.published_at)}</span>
            </div>

            <h2 class="post-title">{post.title}</h2>

            {#if post.excerpt}
              <p class="post-excerpt">{post.excerpt}</p>
            {/if}

            {#if post.categories && post.categories.length > 0}
              <div class="categories">
                {#each post.categories as category}
                  <span class="category-tag">{category.name}</span>
                {/each}
              </div>
            {/if}

            {#if post.tags && post.tags.length > 0}
              <div class="tags">
                {#each post.tags as tag}
                  <span class="tag">{tag.name}</span>
                {/each}
              </div>
            {/if}
          </div>
  </div>
      {/each}
    </div>

    {#if lastPage > 1}
      <div class="pagination">
        <button class="btn-pagination" on:click={prevPage} disabled={currentPage === 1}>
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="15 18 9 12 15 6"></polyline>
          </svg>
          Previous
        </button>

        <span class="page-info">Page {currentPage} of {lastPage}</span>

        <button class="btn-pagination" on:click={nextPage} disabled={currentPage === lastPage}>
          Next
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="9 18 15 12 9 6"></polyline>
          </svg>
        </button>
      </div>
    {/if}
  {/if}
</div>

<style>
  .blog-container {
    min-height: 100vh;
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
    padding: 4rem 2rem;
  }

  .blog-header {
    max-width: 1200px;
    margin: 0 auto 4rem;
    text-align: center;
  }

  .blog-title {
    font-size: 3.5rem;
    font-weight: 800;
    background: linear-gradient(135deg, #60a5fa, #a78bfa, #ec4899);
    background-size: 200% 200%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: gradient-shift 4s ease infinite;
    margin-bottom: 1rem;
  }

  .blog-subtitle {
    font-size: 1.25rem;
    color: #94a3b8;
    font-weight: 300;
  }

  .posts-grid {
    max-width: 1200px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 2rem;
  }

  .post-card {
    background: rgba(30, 41, 59, 0.5);
    backdrop-filter: blur(10px);
    border-radius: 16px;
    overflow: hidden;
    border: 1px solid rgba(148, 163, 184, 0.1);
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
  }

  .post-card::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 16px;
    padding: 1px;
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: 0;
    transition: opacity 0.3s;
  }

  .post-card:hover {
    transform: translateY(-8px);
    box-shadow:
      0 20px 40px -12px rgba(96, 165, 250, 0.3),
      0 0 0 1px rgba(96, 165, 250, 0.1);
  }

  .post-card:hover::before {
    opacity: 0.6;
  }

  .post-image {
    width: 100%;
    height: 200px;
    position: relative;
    overflow: hidden;
  }

  .post-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s;
  }

  .post-card:hover .post-image img {
    transform: scale(1.05);
  }

  .image-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(to bottom, transparent 0%, rgba(15, 23, 42, 0.8) 100%);
  }

  .post-image.placeholder {
    background: linear-gradient(135deg, #1e293b, #334155);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .placeholder-content {
    color: #475569;
  }

  .post-content {
    padding: 1.5rem;
  }

  .post-meta {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.875rem;
    color: #94a3b8;
    margin-bottom: 1rem;
  }

  .separator {
    color: #475569;
  }

  .post-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: #f1f5f9;
    margin-bottom: 0.75rem;
    line-height: 1.3;
  }

  .post-excerpt {
    font-size: 1rem;
    color: #cbd5e1;
    line-height: 1.6;
    margin-bottom: 1rem;
    display: -webkit-box;
  -webkit-line-clamp: 3;
  line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .categories {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-bottom: 0.75rem;
  }

  .category-tag {
    padding: 0.25rem 0.75rem;
    background: linear-gradient(135deg, #3b82f6, #8b5cf6);
    color: white;
    font-size: 0.75rem;
    font-weight: 600;
    border-radius: 12px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  .tag {
    padding: 0.25rem 0.75rem;
    background: rgba(148, 163, 184, 0.1);
    color: #94a3b8;
    font-size: 0.75rem;
    border-radius: 8px;
    border: 1px solid rgba(148, 163, 184, 0.2);
  }

  .pagination {
    max-width: 1200px;
    margin: 3rem auto 0;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 2rem;
  }

  .btn-pagination {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    background: rgba(30, 41, 59, 0.8);
    backdrop-filter: blur(10px);
    color: #f1f5f9;
    border: 1px solid rgba(148, 163, 184, 0.2);
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
  }

  .btn-pagination:hover:not(:disabled) {
    background: rgba(96, 165, 250, 0.2);
    border-color: #60a5fa;
    transform: translateY(-2px);
  }

  .btn-pagination:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .page-info {
    color: #94a3b8;
    font-weight: 600;
  }

  .loading,
  .error,
  .empty {
    max-width: 1200px;
    margin: 4rem auto;
    text-align: center;
    color: #94a3b8;
  }

  .spinner {
    width: 48px;
    height: 48px;
    border: 4px solid rgba(148, 163, 184, 0.2);
    border-top-color: #60a5fa;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto 1rem;
  }

  .error {
    background: rgba(239, 68, 68, 0.1);
    border: 1px solid rgba(239, 68, 68, 0.3);
    border-radius: 16px;
    padding: 3rem 2rem;
  }

  .error-icon {
    color: #f87171;
    margin-bottom: 1.5rem;
  }

  .error h3 {
    color: #f87171;
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
  }

  .error p {
    color: #fca5a5;
    font-size: 1.125rem;
    margin-bottom: 2rem;
  }

  .btn-retry {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    background: linear-gradient(135deg, #ef4444, #dc2626);
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.3s;
  }

  .btn-retry:hover {
    background: linear-gradient(135deg, #dc2626, #b91c1c);
    transform: translateY(-2px);
    box-shadow: 0 8px 16px rgba(239, 68, 68, 0.3);
  }

  @keyframes spin {
    to { transform: rotate(360deg); }
  }

  @keyframes gradient-shift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  @media (max-width: 768px) {
    .blog-container {
      padding: 2rem 1rem;
    }

    .blog-title {
      font-size: 2.5rem;
    }

    .posts-grid {
      grid-template-columns: 1fr;
      gap: 1.5rem;
    }

    .pagination {
      flex-direction: column;
      gap: 1rem;
    }
  }
</style>

# END OF frontend/src/routes/blog/+page.svelte


##################################################################
# FILE: frontend/src/routes/blog/+page.ts
# PATH: frontend/src/routes/blog/+page.ts
##################################################################

import type { PageLoad } from './$types';
import { apiFetch, API_ENDPOINTS } from '$lib/api/config';
import type { PaginatedPosts } from '$lib/types/post';

export const prerender = false; // Disable prerendering for this page
export const ssr = false; // Client-side rendering only

export const load: PageLoad = async ({ fetch: svelteKitFetch }) => {
  try {
    const posts = await apiFetch<PaginatedPosts>(API_ENDPOINTS.posts.list);

    return {
      posts: posts.data,
      pagination: {
        currentPage: posts.current_page,
        lastPage: posts.last_page,
        total: posts.total,
      },
    };
  } catch (error) {
    console.error('Failed to load posts:', error);
    return {
      posts: [],
      pagination: {
        currentPage: 1,
        lastPage: 1,
        total: 0,
      },
      error: error instanceof Error ? error.message : 'Failed to fetch posts',
    };
  }
};

# END OF frontend/src/routes/blog/+page.ts


##################################################################
# FILE: frontend/src/routes/blog/[slug]/+page.svelte
# PATH: frontend/src/routes/blog/[slug]/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { page } from '$app/stores';
  import { goto } from '$app/navigation';
  import SEOHead from '$lib/components/SEOHead.svelte';
  import { apiFetch, API_ENDPOINTS } from '$lib/api/config';
  import type { Post } from '$lib/types/post';

  interface Category {
    id: number;
    name: string;
    slug: string;
    description: string | null;
  }

  interface Tag {
    id: number;
    name: string;
    slug: string;
  }

  interface BlogPost extends Post {
    categories?: Category[];
    tags?: Tag[];
    views?: number;
    author_image?: string | null;
  }

  let post: BlogPost | null = null;
  let loading = true;
  let error = '';
  let slug = '';

  async function loadPost() {
    try {
      loading = true;
      error = '';

      const response = await apiFetch<BlogPost>(API_ENDPOINTS.posts.single(slug));
      post = response;
    } catch (err) {
      error = err instanceof Error ? err.message : 'An error occurred';
      console.error('Error loading post:', err);
    } finally {
      loading = false;
    }
  }

  function formatDate(dateString: string): string {
    const date = new Date(dateString);
    return date.toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'long',
      day: 'numeric'
    });
  }

  function goBack() {
    goto('/blog');
  }

  $: {
    slug = $page.params.slug;
    if (slug) {
      loadPost();
    }
  }

  // Generate article schema if not provided by backend
  $: articleSchema = post && (post.schema_markup || {
    '@context': 'https://schema.org',
    '@type': 'Article',
    headline: post.title,
    description: post.excerpt || post.meta_description || '',
    image: post.featured_image || 'https://revolutiontradingpros.com/revolution-trading-pros.png',
    datePublished: post.published_at,
    dateModified: post.published_at,
    author: {
      '@type': 'Person',
      name: post.author?.name || 'Revolution Trading Pros'
    },
    publisher: {
      '@type': 'Organization',
      name: 'Revolution Trading Pros',
      logo: {
        '@type': 'ImageObject',
        url: 'https://revolutiontradingpros.com/revolution-trading-pros.png'
      }
    },
    mainEntityOfPage: {
      '@type': 'WebPage',
      '@id': `https://revolutiontradingpros.com/blog/${post.slug}`
    }
  });

  $: seoTitle = post && (post.meta_title || post.title);
  $: seoDescription = post && (post.meta_description || post.excerpt || '');
</script>

{#if post}
  <SEOHead
    title={seoTitle}
    description={seoDescription}
    canonical={`/blog/${post.slug}`}
    ogType="article"
    ogImage={post.featured_image}
    author={post.author?.name}
    publishedTime={post.published_at}
    schema={articleSchema}
  />
{/if}

<div class="blog-post-container">
  {#if loading}
    <div class="loading">
      <div class="spinner"></div>
      <p>Loading post...</p>
    </div>
  {:else if error}
    <div class="error">
      <h2>Oops!</h2>
      <p>{error}</p>
      <button class="btn-back" on:click={goBack}>
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="15 18 9 12 15 6"></polyline>
        </svg>
        Back to Blog
      </button>
    </div>
  {:else if post}
    <article class="blog-post">
      <div class="post-header">
        <button class="btn-back-header" on:click={goBack}>
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="15 18 9 12 15 6"></polyline>
          </svg>
          Back to Blog
        </button>

        {#if post.categories && post.categories.length > 0}
          <div class="header-categories">
            {#each post.categories as category}
              <span class="category-badge">{category.name}</span>
            {/each}
          </div>
        {/if}

        <h1 class="post-title">{post.title}</h1>

        {#if post.excerpt}
          <p class="post-lead">{post.excerpt}</p>
        {/if}

        <div class="post-meta">
          <div class="author-info">
            {#if post.author_image}
              <img src={post.author_image} alt={post.author.name} class="author-avatar" />
            {:else if post.author}
              <div class="author-avatar-placeholder">
                {post.author.name.charAt(0).toUpperCase()}
              </div>
            {/if}
            <div class="author-details">
              {#if post.author}
                <span class="author-name">{post.author.name}</span>
              {/if}
              <div class="meta-row">
                <span class="date">{formatDate(post.published_at)}</span>
                {#if post.views !== undefined}
                  <span class="separator"></span>
                  <span class="views">{post.views.toLocaleString()} views</span>
                {/if}
              </div>
            </div>
          </div>
        </div>
      </div>

      {#if post.featured_image}
        <div class="featured-image">
          <img src={post.featured_image} alt={post.title} />
        </div>
      {/if}

      <div class="post-body">
        <div class="content">
          {#if post.content_blocks && post.content_blocks.length > 0}
            <!-- Structured content blocks -->
            {#each post.content_blocks as block}
              {#if block.type === 'paragraph'}
                <p>{@html block.data?.text || ''}</p>
              {:else if block.type === 'heading'}
                {#if block.data?.level === 1}
                  <h1>{@html block.data?.text || ''}</h1>
                {:else if block.data?.level === 2}
                  <h2>{@html block.data?.text || ''}</h2>
                {:else if block.data?.level === 3}
                  <h3>{@html block.data?.text || ''}</h3>
                {:else if block.data?.level === 4}
                  <h4>{@html block.data?.text || ''}</h4>
                {:else}
                  <h5>{@html block.data?.text || ''}</h5>
                {/if}
              {:else if block.type === 'list'}
                {#if block.data?.style === 'ordered'}
                  <ol>
                    {#each block.data?.items || [] as item}
                      <li>{@html item}</li>
                    {/each}
                  </ol>
                {:else}
                  <ul>
                    {#each block.data?.items || [] as item}
                      <li>{@html item}</li>
                    {/each}
                  </ul>
                {/if}
              {:else if block.type === 'quote'}
                <blockquote>{@html block.data?.text || ''}</blockquote>
              {:else if block.type === 'code'}
                <pre><code>{block.data?.code || ''}</code></pre>
              {:else if block.type === 'image'}
                <figure>
                  <img
                    src={block.data?.url || ''}
                    alt={block.data?.caption || ''}
                  />
                  {#if block.data?.caption}
                    <figcaption>{block.data.caption}</figcaption>
                  {/if}
                </figure>
              {/if}
            {/each}
          {:else}
            <!-- Fallback: HTML content -->
            <p class="no-content">Content coming soon...</p>
          {/if}
        </div>

        {#if post.tags && post.tags.length > 0}
          <div class="tags-section">
            <h3>Tags</h3>
            <div class="tags">
              {#each post.tags as tag}
                <span class="tag">{tag.name}</span>
              {/each}
            </div>
          </div>
        {/if}
      </div>

      <div class="post-footer">
        <button class="btn-back-footer" on:click={goBack}>
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="15 18 9 12 15 6"></polyline>
          </svg>
          Back to Blog
        </button>
      </div>
    </article>
  {/if}
</div>

<style>
  .blog-post-container {
    min-height: 100vh;
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
    padding: 4rem 2rem;
  }

  .blog-post {
    max-width: 800px;
    margin: 0 auto;
  }

  .post-header {
    margin-bottom: 3rem;
  }

  .btn-back-header,
  .btn-back,
  .btn-back-footer {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    background: rgba(30, 41, 59, 0.8);
    backdrop-filter: blur(10px);
    color: #f1f5f9;
    border: 1px solid rgba(148, 163, 184, 0.2);
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
    margin-bottom: 2rem;
  }

  .btn-back-header:hover,
  .btn-back:hover,
  .btn-back-footer:hover {
    background: rgba(96, 165, 250, 0.2);
    border-color: #60a5fa;
    transform: translateX(-4px);
  }

  .header-categories {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    margin-bottom: 1.5rem;
  }

  .category-badge {
    padding: 0.5rem 1rem;
    background: linear-gradient(135deg, #3b82f6, #8b5cf6);
    color: white;
    font-size: 0.875rem;
    font-weight: 600;
    border-radius: 16px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .post-title {
    font-size: 3rem;
    font-weight: 800;
    color: #f1f5f9;
    line-height: 1.2;
    margin-bottom: 1rem;
  }

  .post-lead {
    font-size: 1.25rem;
    color: #cbd5e1;
    line-height: 1.6;
    margin-bottom: 2rem;
  }

  .post-meta {
    padding: 1.5rem;
    background: rgba(30, 41, 59, 0.5);
    backdrop-filter: blur(10px);
    border-radius: 12px;
    border: 1px solid rgba(148, 163, 184, 0.1);
  }

  .author-info {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .author-avatar {
    width: 56px;
    height: 56px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid #60a5fa;
  }

  .author-avatar-placeholder {
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    font-weight: 700;
    color: white;
  }

  .author-details {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
  }

  .author-name {
    font-size: 1.125rem;
    font-weight: 700;
    color: #f1f5f9;
  }

  .meta-row {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.875rem;
    color: #94a3b8;
  }

  .separator {
    color: #475569;
  }

  .featured-image {
    width: 100%;
    height: 400px;
    border-radius: 16px;
    overflow: hidden;
    margin-bottom: 3rem;
    position: relative;
  }

  .featured-image::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 16px;
    padding: 2px;
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: 0.3;
  }

  .featured-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .post-body {
    background: rgba(30, 41, 59, 0.5);
    backdrop-filter: blur(10px);
    border-radius: 16px;
    border: 1px solid rgba(148, 163, 184, 0.1);
    padding: 3rem;
    margin-bottom: 3rem;
  }

  .content {
    color: #e2e8f0;
    font-size: 1.125rem;
    line-height: 1.8;
  }

  .content :global(h1),
  .content :global(h2),
  .content :global(h3),
  .content :global(h4),
  .content :global(h5),
  .content :global(h6) {
    color: #f1f5f9;
    font-weight: 700;
    margin-top: 2rem;
    margin-bottom: 1rem;
  }

  .content :global(h1) { font-size: 2.5rem; }
  .content :global(h2) { font-size: 2rem; }
  .content :global(h3) { font-size: 1.75rem; }
  .content :global(h4) { font-size: 1.5rem; }

  .content :global(p) {
    margin-bottom: 1.5rem;
  }

  .content :global(a) {
    color: #60a5fa;
    text-decoration: underline;
    transition: color 0.3s;
  }

  .content :global(a:hover) {
    color: #93c5fd;
  }

  .content :global(ul),
  .content :global(ol) {
    margin: 1.5rem 0;
    padding-left: 2rem;
  }

  .content :global(li) {
    margin-bottom: 0.75rem;
  }

  .content :global(blockquote) {
    border-left: 4px solid #60a5fa;
    padding-left: 1.5rem;
    margin: 2rem 0;
    font-style: italic;
    color: #cbd5e1;
  }

  .content :global(code) {
    background: rgba(15, 23, 42, 0.8);
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-family: 'Courier New', monospace;
    font-size: 0.9em;
    color: #a78bfa;
  }

  .content :global(pre) {
    background: rgba(15, 23, 42, 0.8);
    padding: 1.5rem;
    border-radius: 8px;
    overflow-x: auto;
    margin: 2rem 0;
  }

  .content :global(pre code) {
    background: none;
    padding: 0;
  }

  .content :global(img) {
    max-width: 100%;
    height: auto;
    border-radius: 8px;
    margin: 2rem 0;
  }

  .content :global(figure) {
    margin: 2rem 0;
  }

  .content :global(figure img) {
    width: 100%;
    border-radius: 8px;
  }

  .content :global(figcaption) {
    text-align: center;
    font-size: 0.9rem;
    color: #94a3b8;
    margin-top: 0.75rem;
  }

  .content :global(table) {
    width: 100%;
    border-collapse: collapse;
    margin: 2rem 0;
  }

  .content :global(th),
  .content :global(td) {
    padding: 0.75rem;
    border: 1px solid rgba(148, 163, 184, 0.2);
  }

  .content :global(th) {
    background: rgba(96, 165, 250, 0.1);
    font-weight: 600;
  }

  .no-content {
    text-align: center;
    color: #94a3b8;
    font-style: italic;
    padding: 2rem 0;
  }

  .tags-section {
    margin-top: 3rem;
    padding-top: 2rem;
    border-top: 1px solid rgba(148, 163, 184, 0.1);
  }

  .tags-section h3 {
    color: #f1f5f9;
    font-size: 1.25rem;
    font-weight: 700;
    margin-bottom: 1rem;
  }

  .tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
  }

  .tag {
    padding: 0.5rem 1rem;
    background: rgba(148, 163, 184, 0.1);
    color: #94a3b8;
    font-size: 0.875rem;
    border-radius: 8px;
    border: 1px solid rgba(148, 163, 184, 0.2);
    transition: all 0.3s;
  }

  .tag:hover {
    background: rgba(96, 165, 250, 0.2);
    border-color: #60a5fa;
    color: #60a5fa;
  }

  .post-footer {
    text-align: center;
  }

  .loading,
  .error {
    max-width: 600px;
    margin: 4rem auto;
    text-align: center;
  }

  .loading {
    color: #94a3b8;
  }

  .error {
    color: #f87171;
  }

  .error h2 {
    font-size: 2rem;
    margin-bottom: 1rem;
  }

  .error button {
    margin-top: 2rem;
  }

  .spinner {
    width: 48px;
    height: 48px;
    border: 4px solid rgba(148, 163, 184, 0.2);
    border-top-color: #60a5fa;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto 1rem;
  }

  @keyframes spin {
    to { transform: rotate(360deg); }
  }

  @media (max-width: 768px) {
    .blog-post-container {
      padding: 2rem 1rem;
    }

    .post-title {
      font-size: 2rem;
    }

    .post-lead {
      font-size: 1.0625rem;
    }

    .featured-image {
      height: 250px;
    }

    .post-body {
      padding: 2rem 1.5rem;
    }

    .content {
      font-size: 1rem;
    }

    .content :global(h1) { font-size: 1.75rem; }
    .content :global(h2) { font-size: 1.5rem; }
    .content :global(h3) { font-size: 1.25rem; }
  }
</style>

# END OF frontend/src/routes/blog/[slug]/+page.svelte


##################################################################
# FILE: frontend/src/routes/blog/[slug]/+page.ts
# PATH: frontend/src/routes/blog/[slug]/+page.ts
##################################################################

import type { PageLoad } from './$types';
import { error } from '@sveltejs/kit';
import { apiFetch, API_ENDPOINTS } from '$lib/api/config';
import type { Post } from '$lib/types/post';

export const prerender = false; // Disable prerendering for this page
export const ssr = false; // Client-side rendering only

export const load: PageLoad = async ({ params }) => {
  try {
    const post = await apiFetch<Post>(API_ENDPOINTS.posts.single(params.slug));

    return {
      post,
    };
  } catch (err) {
    console.error('Failed to load post:', err);
    throw error(404, {
      message: 'Blog post not found',
    });
  }
};

# END OF frontend/src/routes/blog/[slug]/+page.ts


##################################################################
# FILE: frontend/src/routes/day-trading/+page.svelte
# PATH: frontend/src/routes/day-trading/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { gsap } from 'gsap';
  import { IconChartCandle, IconClock, IconTrendingUp, IconShoppingCart } from '@tabler/icons-svelte';
  import { addItemToCart } from '$lib/utils/cart-helpers';

  let headerRef: HTMLDivElement;
  let contentRef: HTMLDivElement;

  onMount(() => {
    initAnimations();
  });

  function initAnimations() {
    const tl = gsap.timeline({ defaults: { ease: 'power3.out' } });

    tl.from(headerRef, {
      opacity: 0,
      y: -50,
      duration: 1,
      ease: 'back.out(1.7)'
    })
    .from(contentRef, {
      opacity: 0,
      y: 60,
      duration: 0.8,
      ease: 'power4.out'
    }, '-=0.5');
  }

  async function handleSignUp(interval: 'monthly' | 'quarterly' | 'yearly') {
    let price: number;
    if (interval === 'monthly') price = 199;
    else if (interval === 'quarterly') price = 549; // ~$183/month - 8% savings
    else price = 1999; // ~$166/month - 17% savings

    await addItemToCart(
      {
        id: 'day-trading-room',
        name: 'Day Trading Room',
        description: 'Live day trading sessions with real-time analysis and trade alerts',
        price,
        type: 'membership',
        interval
      },
      true // Navigate to cart after adding
    );
  }
</script>

<svelte:head>
  <title>Day Trading Room | Revolution Trading Pros</title>
</svelte:head>

<div class="day-trading-page min-h-screen px-4 py-12 overflow-hidden relative">
  <!-- Animated gradient background -->
  <div class="gradient-bg absolute inset-0"></div>

  <!-- Grid overlay -->
  <div class="grid-overlay absolute inset-0"></div>

  <!-- Floating orbs -->
  <div class="glow-orb glow-orb-1"></div>
  <div class="glow-orb glow-orb-2"></div>

  <!-- Content -->
  <div class="relative max-w-7xl mx-auto z-10">
    <!-- Header -->
    <div class="mb-12" bind:this={headerRef}>
      <div class="flex items-center gap-4 mb-4">
        <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-cyan-500 p-0.5 shadow-lg shadow-blue-500/50">
          <div class="w-full h-full bg-slate-900 rounded-2xl flex items-center justify-center">
            <IconChartCandle size={32} class="text-blue-400" />
          </div>
        </div>
        <div>
          <h1 class="text-5xl md:text-6xl font-heading font-bold bg-gradient-to-r from-blue-300 via-cyan-300 to-teal-300 bg-clip-text text-transparent">
            Day Trading Room
          </h1>
          <p class="text-xl text-slate-300 mt-2 flex items-center gap-2">
            <IconClock size={20} class="text-blue-400" />
            <span>Live sessions during market hours</span>
          </p>
        </div>
      </div>
    </div>

    <!-- Main Content Card -->
    <div bind:this={contentRef}>
      <div class="relative">
        <div class="absolute -inset-1 bg-gradient-to-r from-blue-500 via-cyan-500 to-teal-500 rounded-3xl opacity-30 blur-2xl"></div>
        <div class="relative bg-slate-900/95 backdrop-blur-xl border border-blue-500/30 rounded-3xl p-8 md:p-12 shadow-2xl">

          <!-- Hero Section -->
          <div class="text-center mb-12">
            <div class="inline-flex items-center gap-2 px-4 py-2 bg-blue-500/20 border border-blue-500/30 rounded-full mb-6">
              <IconTrendingUp size={20} class="text-blue-400" />
              <span class="text-blue-300 font-semibold">Professional Day Trading</span>
            </div>

            <h2 class="text-3xl md:text-4xl font-heading font-bold text-white mb-4">
              Trade Live with Professional Traders
            </h2>
            <p class="text-lg text-slate-300 max-w-3xl mx-auto">
              Join our live day trading room and learn from experienced traders in real-time.
              Get instant trade alerts, market analysis, and learn professional strategies as they happen.
            </p>
          </div>

          <!-- Features Grid -->
          <div class="grid md:grid-cols-2 gap-6 mb-12">
            <div class="p-6 bg-slate-800/50 rounded-xl border border-slate-700/50">
              <h3 class="text-xl font-bold text-white mb-2"> Real-Time Trade Alerts</h3>
              <p class="text-slate-300">Get instant notifications for every trade setup and exit strategy</p>
            </div>

            <div class="p-6 bg-slate-800/50 rounded-xl border border-slate-700/50">
              <h3 class="text-xl font-bold text-white mb-2"> Live Market Analysis</h3>
              <p class="text-slate-300">Professional chart analysis and technical insights during trading hours</p>
            </div>

            <div class="p-6 bg-slate-800/50 rounded-xl border border-slate-700/50">
              <h3 class="text-xl font-bold text-white mb-2"> Educational Commentary</h3>
              <p class="text-slate-300">Learn the 'why' behind every trade with detailed explanations</p>
            </div>

            <div class="p-6 bg-slate-800/50 rounded-xl border border-slate-700/50">
              <h3 class="text-xl font-bold text-white mb-2"> Interactive Chat</h3>
              <p class="text-slate-300">Ask questions and interact with traders and community members</p>
            </div>
          </div>

          <!-- Pricing Options -->
          <div class="grid md:grid-cols-3 gap-6">
            <!-- Monthly Plan -->
            <div class="relative">
              <div class="absolute -inset-1 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-2xl opacity-20 blur"></div>
              <div class="relative bg-slate-800/80 backdrop-blur-xl border border-blue-500/30 rounded-2xl p-6">
                <div class="mb-6">
                  <h3 class="text-xl font-bold text-white mb-2">Monthly</h3>
                  <div class="flex items-baseline gap-2">
                    <span class="text-4xl font-bold bg-gradient-to-r from-blue-300 to-cyan-300 bg-clip-text text-transparent">$199</span>
                    <span class="text-slate-400 text-sm">/month</span>
                  </div>
                  <p class="text-xs text-slate-400 mt-2">Flexible monthly billing</p>
                </div>

                <button
                  on:click={() => handleSignUp('monthly')}
                  class="w-full px-6 py-3 bg-gradient-to-r from-blue-500 to-cyan-500 text-white font-bold rounded-xl hover:shadow-lg hover:shadow-blue-500/50 transition-all duration-300 flex items-center justify-center gap-2"
                >
                  <IconShoppingCart size={18} />
                  <span>Sign Up</span>
                </button>
              </div>
            </div>

            <!-- Quarterly Plan -->
            <div class="relative">
              <div class="absolute -inset-1 bg-gradient-to-r from-cyan-500 to-teal-500 rounded-2xl opacity-25 blur"></div>
              <div class="relative bg-slate-800/80 backdrop-blur-xl border border-cyan-500/30 rounded-2xl p-6">
                <div class="absolute -top-3 -right-3 px-3 py-1 bg-gradient-to-r from-blue-500 to-cyan-500 text-white text-xs font-bold rounded-full">
                  Save 8%
                </div>

                <div class="mb-6">
                  <h3 class="text-xl font-bold text-white mb-2">Quarterly</h3>
                  <div class="flex items-baseline gap-2">
                    <span class="text-4xl font-bold bg-gradient-to-r from-cyan-300 to-teal-300 bg-clip-text text-transparent">$549</span>
                    <span class="text-slate-400 text-sm">/3 months</span>
                  </div>
                  <p class="text-xs text-slate-400 mt-2">$183/month - Save $48</p>
                </div>

                <button
                  on:click={() => handleSignUp('quarterly')}
                  class="w-full px-6 py-3 bg-gradient-to-r from-cyan-500 to-teal-500 text-white font-bold rounded-xl hover:shadow-lg hover:shadow-cyan-500/50 transition-all duration-300 flex items-center justify-center gap-2"
                >
                  <IconShoppingCart size={18} />
                  <span>Sign Up</span>
                </button>
              </div>
            </div>

            <!-- Yearly Plan -->
            <div class="relative">
              <div class="absolute -inset-1 bg-gradient-to-r from-teal-500 to-emerald-500 rounded-2xl opacity-30 blur"></div>
              <div class="relative bg-slate-800/80 backdrop-blur-xl border border-emerald-500/30 rounded-2xl p-6">
                <div class="absolute -top-3 -right-3 px-3 py-1 bg-gradient-to-r from-orange-500 to-yellow-500 text-white text-xs font-bold rounded-full">
                  Best Value
                </div>

                <div class="mb-6">
                  <h3 class="text-xl font-bold text-white mb-2">Yearly</h3>
                  <div class="flex items-baseline gap-2">
                    <span class="text-4xl font-bold bg-gradient-to-r from-teal-300 to-emerald-300 bg-clip-text text-transparent">$1,999</span>
                    <span class="text-slate-400 text-sm">/year</span>
                  </div>
                  <p class="text-xs text-slate-400 mt-2">$166/month - Save $389</p>
                </div>

                <button
                  on:click={() => handleSignUp('yearly')}
                  class="w-full px-6 py-3 bg-gradient-to-r from-teal-500 to-emerald-500 text-white font-bold rounded-xl hover:shadow-lg hover:shadow-emerald-500/50 transition-all duration-300 flex items-center justify-center gap-2"
                >
                  <IconShoppingCart size={18} />
                  <span>Sign Up</span>
                </button>
              </div>
            </div>
          </div>

          <!-- Additional Info -->
          <div class="mt-8 text-center">
            <p class="text-slate-400">
              Cancel anytime  No long-term commitment  Full access from day one
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  /* Animated gradient background */
  .gradient-bg {
    background: linear-gradient(135deg,
      #0f172a 0%,
      #1e3a8a 25%,
      #0f172a 50%,
      #0e7490 75%,
      #0f172a 100%
    );
    background-size: 400% 400%;
    animation: gradientShift 25s ease infinite;
  }

  @keyframes gradientShift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  /* Grid overlay */
  .grid-overlay {
    background-image:
      linear-gradient(rgba(59, 130, 246, 0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(59, 130, 246, 0.03) 1px, transparent 1px);
    background-size: 50px 50px;
    animation: gridMove 30s linear infinite;
    pointer-events: none;
  }

  @keyframes gridMove {
    0% { transform: translate(0, 0); }
    100% { transform: translate(50px, 50px); }
  }

  /* Glowing orbs */
  .glow-orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.4;
    pointer-events: none;
  }

  .glow-orb-1 {
    width: 600px;
    height: 600px;
    top: -100px;
    left: 50%;
    background: radial-gradient(circle, #3b82f6, transparent 70%);
    animation: float1 25s ease-in-out infinite;
  }

  .glow-orb-2 {
    width: 500px;
    height: 500px;
    bottom: -100px;
    right: 10%;
    background: radial-gradient(circle, #06b6d4, transparent 70%);
    animation: float2 30s ease-in-out infinite;
  }

  @keyframes float1 {
    0%, 100% { transform: translateX(-50%) translateY(0) scale(1); }
    50% { transform: translateX(-50%) translateY(-50px) scale(1.1); }
  }

  @keyframes float2 {
    0%, 100% { transform: translateY(0) scale(1); }
    50% { transform: translateY(50px) scale(0.9); }
  }

  /* Responsive */
  @media (max-width: 640px) {
    .glow-orb {
      filter: blur(60px);
      opacity: 0.3;
    }

    .glow-orb-1, .glow-orb-2 {
      width: 300px;
      height: 300px;
    }
  }
</style>

# END OF frontend/src/routes/day-trading/+page.svelte


##################################################################
# FILE: frontend/src/routes/swing-trading/+page.svelte
# PATH: frontend/src/routes/swing-trading/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { gsap } from 'gsap';
  import { IconTrendingUp, IconMoon, IconCalendar, IconShoppingCart } from '@tabler/icons-svelte';
  import { addItemToCart } from '$lib/utils/cart-helpers';

  let headerRef: HTMLDivElement;
  let contentRef: HTMLDivElement;

  onMount(() => {
    initAnimations();
  });

  function initAnimations() {
    const tl = gsap.timeline({ defaults: { ease: 'power3.out' } });

    tl.from(headerRef, {
      opacity: 0,
      y: -50,
      duration: 1,
      ease: 'back.out(1.7)'
    })
    .from(contentRef, {
      opacity: 0,
      y: 60,
      duration: 0.8,
      ease: 'power4.out'
    }, '-=0.5');
  }

  async function handleSignUp(interval: 'monthly' | 'quarterly' | 'yearly') {
    let price: number;
    if (interval === 'monthly') price = 199;
    else if (interval === 'quarterly') price = 549;
    else price = 1999;

    await addItemToCart(
      {
        id: 'swing-trading-room',
        name: 'Swing Trading Room',
        description: 'Multi-day swing trade setups with position management guidance',
        price,
        type: 'membership',
        interval
      },
      true // Navigate to cart after adding
    );
  }
</script>

<svelte:head>
  <title>Swing Trading Room | Revolution Trading Pros</title>
</svelte:head>

<div class="swing-trading-page min-h-screen px-4 py-12 overflow-hidden relative">
  <!-- Animated gradient background -->
  <div class="gradient-bg absolute inset-0"></div>

  <!-- Grid overlay -->
  <div class="grid-overlay absolute inset-0"></div>

  <!-- Floating orbs -->
  <div class="glow-orb glow-orb-1"></div>
  <div class="glow-orb glow-orb-2"></div>

  <!-- Content -->
  <div class="relative max-w-7xl mx-auto z-10">
    <!-- Header -->
    <div class="mb-12" bind:this={headerRef}>
      <div class="flex items-center gap-4 mb-4">
        <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-purple-500 to-pink-500 p-0.5 shadow-lg shadow-purple-500/50">
          <div class="w-full h-full bg-slate-900 rounded-2xl flex items-center justify-center">
            <IconTrendingUp size={32} class="text-purple-400" />
          </div>
        </div>
        <div>
          <h1 class="text-5xl md:text-6xl font-heading font-bold bg-gradient-to-r from-purple-300 via-pink-300 to-rose-300 bg-clip-text text-transparent">
            Swing Trading Room
          </h1>
          <p class="text-xl text-slate-300 mt-2 flex items-center gap-2">
            <IconMoon size={20} class="text-purple-400" />
            <span>Multi-day position trades for busy professionals</span>
          </p>
        </div>
      </div>
    </div>

    <!-- Main Content Card -->
    <div bind:this={contentRef}>
      <div class="relative">
        <div class="absolute -inset-1 bg-gradient-to-r from-purple-500 via-pink-500 to-rose-500 rounded-3xl opacity-30 blur-2xl"></div>
        <div class="relative bg-slate-900/95 backdrop-blur-xl border border-purple-500/30 rounded-3xl p-8 md:p-12 shadow-2xl">

          <!-- Hero Section -->
          <div class="text-center mb-12">
            <div class="inline-flex items-center gap-2 px-4 py-2 bg-purple-500/20 border border-purple-500/30 rounded-full mb-6">
              <IconCalendar size={20} class="text-purple-400" />
              <span class="text-purple-300 font-semibold">Position Trading</span>
            </div>

            <h2 class="text-3xl md:text-4xl font-heading font-bold text-white mb-4">
              Master Swing Trading Strategies
            </h2>
            <p class="text-lg text-slate-300 max-w-3xl mx-auto">
              Perfect for traders who can't watch the market all day. Get swing trade setups that capture larger moves
              over multiple days with clear entry and exit strategies.
            </p>
          </div>

          <!-- Features Grid -->
          <div class="grid md:grid-cols-2 gap-6 mb-12">
            <div class="p-6 bg-slate-800/50 rounded-xl border border-slate-700/50">
              <h3 class="text-xl font-bold text-white mb-2"> Weekly Swing Setups</h3>
              <p class="text-slate-300">High-probability swing trade opportunities identified every week</p>
            </div>

            <div class="p-6 bg-slate-800/50 rounded-xl border border-slate-700/50">
              <h3 class="text-xl font-bold text-white mb-2"> Position Management</h3>
              <p class="text-slate-300">Learn when to scale in/out and manage risk on multi-day positions</p>
            </div>

            <div class="p-6 bg-slate-800/50 rounded-xl border border-slate-700/50">
              <h3 class="text-xl font-bold text-white mb-2"> Technical Analysis</h3>
              <p class="text-slate-300">In-depth chart analysis with support/resistance levels and targets</p>
            </div>

            <div class="p-6 bg-slate-800/50 rounded-xl border border-slate-700/50">
              <h3 class="text-xl font-bold text-white mb-2"> Flexible Schedule</h3>
              <p class="text-slate-300">No need to watch charts all day - perfect for busy professionals</p>
            </div>
          </div>

          <!-- Pricing Options -->
          <div class="grid md:grid-cols-3 gap-6">
            <!-- Monthly Plan -->
            <div class="relative">
              <div class="absolute -inset-1 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl opacity-20 blur"></div>
              <div class="relative bg-slate-800/80 backdrop-blur-xl border border-purple-500/30 rounded-2xl p-6">
                <div class="mb-6">
                  <h3 class="text-xl font-bold text-white mb-2">Monthly</h3>
                  <div class="flex items-baseline gap-2">
                    <span class="text-4xl font-bold bg-gradient-to-r from-purple-300 to-pink-300 bg-clip-text text-transparent">$199</span>
                    <span class="text-slate-400 text-sm">/month</span>
                  </div>
                  <p class="text-xs text-slate-400 mt-2">Flexible monthly billing</p>
                </div>

                <button
                  on:click={() => handleSignUp('monthly')}
                  class="w-full px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold rounded-xl hover:shadow-lg hover:shadow-purple-500/50 transition-all duration-300 flex items-center justify-center gap-2"
                >
                  <IconShoppingCart size={18} />
                  <span>Sign Up</span>
                </button>
              </div>
            </div>

            <!-- Quarterly Plan -->
            <div class="relative">
              <div class="absolute -inset-1 bg-gradient-to-r from-pink-500 to-rose-500 rounded-2xl opacity-25 blur"></div>
              <div class="relative bg-slate-800/80 backdrop-blur-xl border border-pink-500/30 rounded-2xl p-6">
                <div class="absolute -top-3 -right-3 px-3 py-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-xs font-bold rounded-full">
                  Save 8%
                </div>

                <div class="mb-6">
                  <h3 class="text-xl font-bold text-white mb-2">Quarterly</h3>
                  <div class="flex items-baseline gap-2">
                    <span class="text-4xl font-bold bg-gradient-to-r from-pink-300 to-rose-300 bg-clip-text text-transparent">$549</span>
                    <span class="text-slate-400 text-sm">/3 months</span>
                  </div>
                  <p class="text-xs text-slate-400 mt-2">$183/month - Save $48</p>
                </div>

                <button
                  on:click={() => handleSignUp('quarterly')}
                  class="w-full px-6 py-3 bg-gradient-to-r from-pink-500 to-rose-500 text-white font-bold rounded-xl hover:shadow-lg hover:shadow-pink-500/50 transition-all duration-300 flex items-center justify-center gap-2"
                >
                  <IconShoppingCart size={18} />
                  <span>Sign Up</span>
                </button>
              </div>
            </div>

            <!-- Yearly Plan -->
            <div class="relative">
              <div class="absolute -inset-1 bg-gradient-to-r from-rose-500 to-red-500 rounded-2xl opacity-30 blur"></div>
              <div class="relative bg-slate-800/80 backdrop-blur-xl border border-rose-500/30 rounded-2xl p-6">
                <div class="absolute -top-3 -right-3 px-3 py-1 bg-gradient-to-r from-orange-500 to-yellow-500 text-white text-xs font-bold rounded-full">
                  Best Value
                </div>

                <div class="mb-6">
                  <h3 class="text-xl font-bold text-white mb-2">Yearly</h3>
                  <div class="flex items-baseline gap-2">
                    <span class="text-4xl font-bold bg-gradient-to-r from-rose-300 to-red-300 bg-clip-text text-transparent">$1,999</span>
                    <span class="text-slate-400 text-sm">/year</span>
                  </div>
                  <p class="text-xs text-slate-400 mt-2">$166/month - Save $389</p>
                </div>

                <button
                  on:click={() => handleSignUp('yearly')}
                  class="w-full px-6 py-3 bg-gradient-to-r from-rose-500 to-red-500 text-white font-bold rounded-xl hover:shadow-lg hover:shadow-rose-500/50 transition-all duration-300 flex items-center justify-center gap-2"
                >
                  <IconShoppingCart size={18} />
                  <span>Sign Up</span>
                </button>
              </div>
            </div>
          </div>

          <!-- Additional Info -->
          <div class="mt-8 text-center">
            <p class="text-slate-400">
              Cancel anytime  No long-term commitment  Full access from day one
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  /* Animated gradient background */
  .gradient-bg {
    background: linear-gradient(135deg,
      #0f172a 0%,
      #581c87 25%,
      #0f172a 50%,
      #831843 75%,
      #0f172a 100%
    );
    background-size: 400% 400%;
    animation: gradientShift 25s ease infinite;
  }

  @keyframes gradientShift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  /* Grid overlay */
  .grid-overlay {
    background-image:
      linear-gradient(rgba(168, 85, 247, 0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(168, 85, 247, 0.03) 1px, transparent 1px);
    background-size: 50px 50px;
    animation: gridMove 30s linear infinite;
    pointer-events: none;
  }

  @keyframes gridMove {
    0% { transform: translate(0, 0); }
    100% { transform: translate(50px, 50px); }
  }

  /* Glowing orbs */
  .glow-orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.4;
    pointer-events: none;
  }

  .glow-orb-1 {
    width: 600px;
    height: 600px;
    top: -100px;
    left: 50%;
    background: radial-gradient(circle, #a855f7, transparent 70%);
    animation: float1 25s ease-in-out infinite;
  }

  .glow-orb-2 {
    width: 500px;
    height: 500px;
    bottom: -100px;
    right: 10%;
    background: radial-gradient(circle, #ec4899, transparent 70%);
    animation: float2 30s ease-in-out infinite;
  }

  @keyframes float1 {
    0%, 100% { transform: translateX(-50%) translateY(0) scale(1); }
    50% { transform: translateX(-50%) translateY(-50px) scale(1.1); }
  }

  @keyframes float2 {
    0%, 100% { transform: translateY(0) scale(1); }
    50% { transform: translateY(50px) scale(0.9); }
  }

  /* Responsive */
  @media (max-width: 640px) {
    .glow-orb {
      filter: blur(60px);
      opacity: 0.3;
    }

    .glow-orb-1, .glow-orb-2 {
      width: 300px;
      height: 300px;
    }
  }
</style>

# END OF frontend/src/routes/swing-trading/+page.svelte


##################################################################
# FILE: frontend/src/routes/small-accounts/+page.svelte
# PATH: frontend/src/routes/small-accounts/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { gsap } from 'gsap';
  import { IconSeedling, IconRocket, IconTarget, IconShoppingCart } from '@tabler/icons-svelte';
  import { addItemToCart } from '$lib/utils/cart-helpers';

  let headerRef: HTMLDivElement;
  let contentRef: HTMLDivElement;

  onMount(() => {
    initAnimations();
  });

  function initAnimations() {
    const tl = gsap.timeline({ defaults: { ease: 'power3.out' } });

    tl.from(headerRef, {
      opacity: 0,
      y: -50,
      duration: 1,
      ease: 'back.out(1.7)'
    })
    .from(contentRef, {
      opacity: 0,
      y: 60,
      duration: 0.8,
      ease: 'power4.out'
    }, '-=0.5');
  }

  async function handleSignUp(interval: 'monthly' | 'quarterly' | 'yearly') {
    let price: number;
    if (interval === 'monthly') price = 199;
    else if (interval === 'quarterly') price = 549;
    else price = 1999;

    await addItemToCart(
      {
        id: 'small-accounts-room',
        name: 'Small Accounts Trading Room',
        description: 'Specialized strategies for growing small trading accounts profitably',
        price,
        type: 'membership',
        interval
      },
      true // Navigate to cart after adding
    );
  }
</script>

<svelte:head>
  <title>Small Accounts Trading Room | Revolution Trading Pros</title>
</svelte:head>

<div class="small-accounts-page min-h-screen px-4 py-12 overflow-hidden relative">
  <!-- Animated gradient background -->
  <div class="gradient-bg absolute inset-0"></div>

  <!-- Grid overlay -->
  <div class="grid-overlay absolute inset-0"></div>

  <!-- Floating orbs -->
  <div class="glow-orb glow-orb-1"></div>
  <div class="glow-orb glow-orb-2"></div>

  <!-- Content -->
  <div class="relative max-w-7xl mx-auto z-10">
    <!-- Header -->
    <div class="mb-12" bind:this={headerRef}>
      <div class="flex items-center gap-4 mb-4">
        <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-emerald-500 to-teal-500 p-0.5 shadow-lg shadow-emerald-500/50">
          <div class="w-full h-full bg-slate-900 rounded-2xl flex items-center justify-center">
            <IconSeedling size={32} class="text-emerald-400" />
          </div>
        </div>
        <div>
          <h1 class="text-5xl md:text-6xl font-heading font-bold bg-gradient-to-r from-emerald-300 via-teal-300 to-cyan-300 bg-clip-text text-transparent">
            Small Accounts Trading
          </h1>
          <p class="text-xl text-slate-300 mt-2 flex items-center gap-2">
            <IconRocket size={20} class="text-emerald-400" />
            <span>Grow your small account with proven strategies</span>
          </p>
        </div>
      </div>
    </div>

    <!-- Main Content Card -->
    <div bind:this={contentRef}>
      <div class="relative">
        <div class="absolute -inset-1 bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 rounded-3xl opacity-30 blur-2xl"></div>
        <div class="relative bg-slate-900/95 backdrop-blur-xl border border-emerald-500/30 rounded-3xl p-8 md:p-12 shadow-2xl">

          <!-- Hero Section -->
          <div class="text-center mb-12">
            <div class="inline-flex items-center gap-2 px-4 py-2 bg-emerald-500/20 border border-emerald-500/30 rounded-full mb-6">
              <IconTarget size={20} class="text-emerald-400" />
              <span class="text-emerald-300 font-semibold">Account Growth Focused</span>
            </div>

            <h2 class="text-3xl md:text-4xl font-heading font-bold text-white mb-4">
              Start Small, Think Big
            </h2>
            <p class="text-lg text-slate-300 max-w-3xl mx-auto">
              Designed specifically for traders with accounts under $25,000. Learn strategies that maximize returns
              while managing risk appropriately for smaller account sizes.
            </p>
          </div>

          <!-- Features Grid -->
          <div class="grid md:grid-cols-2 gap-6 mb-12">
            <div class="p-6 bg-slate-800/50 rounded-xl border border-slate-700/50">
              <h3 class="text-xl font-bold text-white mb-2"> Capital Efficiency</h3>
              <p class="text-slate-300">Strategies optimized for accounts under $25K with PDT-friendly setups</p>
            </div>

            <div class="p-6 bg-slate-800/50 rounded-xl border border-slate-700/50">
              <h3 class="text-xl font-bold text-white mb-2"> Risk Management</h3>
              <p class="text-slate-300">Position sizing and risk rules designed specifically for small accounts</p>
            </div>

            <div class="p-6 bg-slate-800/50 rounded-xl border border-slate-700/50">
              <h3 class="text-xl font-bold text-white mb-2"> High Win Rate Setups</h3>
              <p class="text-slate-300">Focus on quality over quantity to grow your account consistently</p>
            </div>

            <div class="p-6 bg-slate-800/50 rounded-xl border border-slate-700/50">
              <h3 class="text-xl font-bold text-white mb-2"> Scaling Guidance</h3>
              <p class="text-slate-300">Learn when and how to scale up as your account grows</p>
            </div>
          </div>

          <!-- Pricing Options -->
          <div class="grid md:grid-cols-3 gap-6">
            <!-- Monthly Plan -->
            <div class="relative">
              <div class="absolute -inset-1 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-2xl opacity-20 blur"></div>
              <div class="relative bg-slate-800/80 backdrop-blur-xl border border-emerald-500/30 rounded-2xl p-6">
                <div class="mb-6">
                  <h3 class="text-xl font-bold text-white mb-2">Monthly</h3>
                  <div class="flex items-baseline gap-2">
                    <span class="text-4xl font-bold bg-gradient-to-r from-emerald-300 to-teal-300 bg-clip-text text-transparent">$199</span>
                    <span class="text-slate-400 text-sm">/month</span>
                  </div>
                  <p class="text-xs text-slate-400 mt-2">Flexible monthly billing</p>
                </div>

                <button
                  on:click={() => handleSignUp('monthly')}
                  class="w-full px-6 py-3 bg-gradient-to-r from-emerald-500 to-teal-500 text-white font-bold rounded-xl hover:shadow-lg hover:shadow-emerald-500/50 transition-all duration-300 flex items-center justify-center gap-2"
                >
                  <IconShoppingCart size={18} />
                  <span>Sign Up</span>
                </button>
              </div>
            </div>

            <!-- Quarterly Plan -->
            <div class="relative">
              <div class="absolute -inset-1 bg-gradient-to-r from-teal-500 to-cyan-500 rounded-2xl opacity-25 blur"></div>
              <div class="relative bg-slate-800/80 backdrop-blur-xl border border-teal-500/30 rounded-2xl p-6">
                <div class="absolute -top-3 -right-3 px-3 py-1 bg-gradient-to-r from-emerald-500 to-teal-500 text-white text-xs font-bold rounded-full">
                  Save 8%
                </div>

                <div class="mb-6">
                  <h3 class="text-xl font-bold text-white mb-2">Quarterly</h3>
                  <div class="flex items-baseline gap-2">
                    <span class="text-4xl font-bold bg-gradient-to-r from-teal-300 to-cyan-300 bg-clip-text text-transparent">$549</span>
                    <span class="text-slate-400 text-sm">/3 months</span>
                  </div>
                  <p class="text-xs text-slate-400 mt-2">$183/month - Save $48</p>
                </div>

                <button
                  on:click={() => handleSignUp('quarterly')}
                  class="w-full px-6 py-3 bg-gradient-to-r from-teal-500 to-cyan-500 text-white font-bold rounded-xl hover:shadow-lg hover:shadow-teal-500/50 transition-all duration-300 flex items-center justify-center gap-2"
                >
                  <IconShoppingCart size={18} />
                  <span>Sign Up</span>
                </button>
              </div>
            </div>

            <!-- Yearly Plan -->
            <div class="relative">
              <div class="absolute -inset-1 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-2xl opacity-30 blur"></div>
              <div class="relative bg-slate-800/80 backdrop-blur-xl border border-cyan-500/30 rounded-2xl p-6">
                <div class="absolute -top-3 -right-3 px-3 py-1 bg-gradient-to-r from-orange-500 to-yellow-500 text-white text-xs font-bold rounded-full">
                  Best Value
                </div>

                <div class="mb-6">
                  <h3 class="text-xl font-bold text-white mb-2">Yearly</h3>
                  <div class="flex items-baseline gap-2">
                    <span class="text-4xl font-bold bg-gradient-to-r from-cyan-300 to-blue-300 bg-clip-text text-transparent">$1,999</span>
                    <span class="text-slate-400 text-sm">/year</span>
                  </div>
                  <p class="text-xs text-slate-400 mt-2">$166/month - Save $389</p>
                </div>

                <button
                  on:click={() => handleSignUp('yearly')}
                  class="w-full px-6 py-3 bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-bold rounded-xl hover:shadow-lg hover:shadow-cyan-500/50 transition-all duration-300 flex items-center justify-center gap-2"
                >
                  <IconShoppingCart size={18} />
                  <span>Sign Up</span>
                </button>
              </div>
            </div>
          </div>

          <!-- Additional Info -->
          <div class="mt-8 text-center">
            <p class="text-slate-400">
              Cancel anytime  No long-term commitment  Full access from day one
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  /* Animated gradient background */
  .gradient-bg {
    background: linear-gradient(135deg,
      #0f172a 0%,
      #064e3b 25%,
      #0f172a 50%,
      #0e7490 75%,
      #0f172a 100%
    );
    background-size: 400% 400%;
    animation: gradientShift 25s ease infinite;
  }

  @keyframes gradientShift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  /* Grid overlay */
  .grid-overlay {
    background-image:
      linear-gradient(rgba(16, 185, 129, 0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(16, 185, 129, 0.03) 1px, transparent 1px);
    background-size: 50px 50px;
    animation: gridMove 30s linear infinite;
    pointer-events: none;
  }

  @keyframes gridMove {
    0% { transform: translate(0, 0); }
    100% { transform: translate(50px, 50px); }
  }

  /* Glowing orbs */
  .glow-orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.4;
    pointer-events: none;
  }

  .glow-orb-1 {
    width: 600px;
    height: 600px;
    top: -100px;
    left: 50%;
    background: radial-gradient(circle, #10b981, transparent 70%);
    animation: float1 25s ease-in-out infinite;
  }

  .glow-orb-2 {
    width: 500px;
    height: 500px;
    bottom: -100px;
    right: 10%;
    background: radial-gradient(circle, #14b8a6, transparent 70%);
    animation: float2 30s ease-in-out infinite;
  }

  @keyframes float1 {
    0%, 100% { transform: translateX(-50%) translateY(0) scale(1); }
    50% { transform: translateX(-50%) translateY(-50px) scale(1.1); }
  }

  @keyframes float2 {
    0%, 100% { transform: translateY(0) scale(1); }
    50% { transform: translateY(50px) scale(0.9); }
  }

  /* Responsive */
  @media (max-width: 640px) {
    .glow-orb {
      filter: blur(60px);
      opacity: 0.3;
    }

    .glow-orb-1, .glow-orb-2 {
      width: 300px;
      height: 300px;
    }
  }
</style>

# END OF frontend/src/routes/small-accounts/+page.svelte


##################################################################
# FILE: frontend/src/routes/live-trading-rooms/day-trading/+page.svelte
# PATH: frontend/src/routes/live-trading-rooms/day-trading/+page.svelte
##################################################################

<script lang="ts">
  let selectedPlan = 'monthly';
</script>

<svelte:head>
  <title>Day Trading Room | Live SPX 0DTE Trading | Revolution Trading Pros</title>
  <meta name="description" content="Join our live day trading room for SPX 0DTE options. Real-time trade alerts, professional analysis, and community support from experienced traders." />
  <link rel="canonical" href="https://revolutiontradingpros.com/live-trading-rooms/day-trading" />
</svelte:head>

<!-- Hero Section -->
<section class="relative bg-gradient-to-br from-rtp-primary via-rtp-blue to-rtp-indigo text-white py-20 md:py-32">
  <div class="absolute inset-0 bg-black/20"></div>
  <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center">
      <div class="inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full mb-6">
        <div class="w-2 h-2 bg-emerald-400 rounded-full animate-pulse"></div>
        <span class="text-sm font-medium">Live Trading Daily</span>
      </div>
      <h1 class="text-4xl md:text-6xl font-heading font-bold mb-6">
        Day Trading Room
      </h1>
      <p class="text-xl md:text-2xl text-white/90 mb-8 max-w-3xl mx-auto">
        Trade SPX 0DTE options with professional traders in our live room. Get real-time alerts, professional analysis, and expert guidance.
      </p>
      <div class="flex flex-wrap gap-4 justify-center">
        <a href="#pricing" class="bg-white text-rtp-primary px-8 py-3 rounded-lg font-semibold hover:bg-rtp-bg transition-all hover:scale-105 shadow-lg">
          View Pricing
        </a>
        <a href="#features" class="bg-white/10 backdrop-blur-sm text-white border-2 border-white/20 px-8 py-3 rounded-lg font-semibold hover:bg-white/20 transition-all">
          Learn More
        </a>
      </div>
    </div>
  </div>
</section>

<!-- Stats Bar -->
<section class="bg-rtp-surface border-b border-rtp-border py-12">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
      <div class="text-center">
        <div class="text-3xl md:text-4xl font-bold text-rtp-primary mb-2">500+</div>
        <div class="text-rtp-muted font-medium">Active Members</div>
      </div>
      <div class="text-center">
        <div class="text-3xl md:text-4xl font-bold text-rtp-emerald mb-2">5+</div>
        <div class="text-rtp-muted font-medium">Years Trading</div>
      </div>
      <div class="text-center">
        <div class="text-3xl md:text-4xl font-bold text-rtp-indigo mb-2">1000+</div>
        <div class="text-rtp-muted font-medium">Trades Shared</div>
      </div>
      <div class="text-center">
        <div class="text-3xl md:text-4xl font-bold text-rtp-blue mb-2">24/7</div>
        <div class="text-rtp-muted font-medium">Community Support</div>
      </div>
    </div>
  </div>
</section>

<!-- Features Section -->
<section id="features" class="py-20 bg-rtp-bg">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-5xl font-heading font-bold text-rtp-text mb-4">
        What You Get
      </h2>
      <p class="text-xl text-rtp-muted max-w-3xl mx-auto">
        Everything you need to succeed in day trading SPX 0DTE options
      </p>
    </div>

    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
      <!-- Feature 1 -->
      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all hover:-translate-y-1">
        <div class="w-12 h-12 bg-rtp-primary/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Real-Time Alerts</h3>
        <p class="text-rtp-muted leading-relaxed">
          Get instant notifications for entries, exits, and adjustments as they happen in the live market.
        </p>
      </div>

      <!-- Feature 2 -->
      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all hover:-translate-y-1">
        <div class="w-12 h-12 bg-rtp-emerald/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-emerald" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Live Analysis</h3>
        <p class="text-rtp-muted leading-relaxed">
          Watch professional traders analyze charts, identify setups, and explain their decision-making process.
        </p>
      </div>

      <!-- Feature 3 -->
      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all hover:-translate-y-1">
        <div class="w-12 h-12 bg-rtp-indigo/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-indigo" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Active Community</h3>
        <p class="text-rtp-muted leading-relaxed">
          Connect with hundreds of traders, share ideas, and learn from experienced professionals.
        </p>
      </div>

      <!-- Feature 4 -->
      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all hover:-translate-y-1">
        <div class="w-12 h-12 bg-rtp-blue/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-blue" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Educational Content</h3>
        <p class="text-rtp-muted leading-relaxed">
          Access exclusive training videos, strategy guides, and market analysis to improve your skills.
        </p>
      </div>

      <!-- Feature 5 -->
      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all hover:-translate-y-1">
        <div class="w-12 h-12 bg-rtp-primary/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Market Hours Coverage</h3>
        <p class="text-rtp-muted leading-relaxed">
          Active room from market open to close, covering all major trading sessions and opportunities.
        </p>
      </div>

      <!-- Feature 6 -->
      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all hover:-translate-y-1">
        <div class="w-12 h-12 bg-rtp-emerald/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-emerald" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Risk Management</h3>
        <p class="text-rtp-muted leading-relaxed">
          Learn proper position sizing, stop losses, and risk/reward ratios from experienced professionals.
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Schedule Section -->
<section class="py-20 bg-rtp-surface">
  <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-5xl font-heading font-bold text-rtp-text mb-4">
        Daily Schedule
      </h2>
      <p class="text-xl text-rtp-muted">
        Structured trading sessions throughout the day
      </p>
    </div>

    <div class="space-y-4">
      <div class="bg-rtp-bg p-6 rounded-xl border border-rtp-border hover:border-rtp-primary transition-colors">
        <div class="flex items-start gap-4">
          <div class="flex-shrink-0 w-24 text-rtp-primary font-bold">8:30 AM</div>
          <div class="flex-1">
            <h3 class="font-heading font-bold text-rtp-text mb-2">Pre-Market Analysis</h3>
            <p class="text-rtp-muted">Review overnight action, key levels, and economic calendar for the day ahead.</p>
          </div>
        </div>
      </div>

      <div class="bg-rtp-bg p-6 rounded-xl border border-rtp-border hover:border-rtp-primary transition-colors">
        <div class="flex items-start gap-4">
          <div class="flex-shrink-0 w-24 text-rtp-emerald font-bold">9:30 AM</div>
          <div class="flex-1">
            <h3 class="font-heading font-bold text-rtp-text mb-2">Market Open Trading</h3>
            <p class="text-rtp-muted">Active trading and real-time alerts during the volatile opening session.</p>
          </div>
        </div>
      </div>

      <div class="bg-rtp-bg p-6 rounded-xl border border-rtp-border hover:border-rtp-primary transition-colors">
        <div class="flex items-start gap-4">
          <div class="flex-shrink-0 w-24 text-rtp-indigo font-bold">11:00 AM</div>
          <div class="flex-1">
            <h3 class="font-heading font-bold text-rtp-text mb-2">Mid-Day Review</h3>
            <p class="text-rtp-muted">Assess morning positions and identify new opportunities in the mid-day session.</p>
          </div>
        </div>
      </div>

      <div class="bg-rtp-bg p-6 rounded-xl border border-rtp-border hover:border-rtp-primary transition-colors">
        <div class="flex items-start gap-4">
          <div class="flex-shrink-0 w-24 text-rtp-blue font-bold">3:00 PM</div>
          <div class="flex-1">
            <h3 class="font-heading font-bold text-rtp-text mb-2">Power Hour & Close</h3>
            <p class="text-rtp-muted">Trade the final hour volatility and manage positions into market close.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Pricing Section -->
<section id="pricing" class="py-20 bg-rtp-bg">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-5xl font-heading font-bold text-rtp-text mb-4">
        Membership Pricing
      </h2>
      <p class="text-xl text-rtp-muted max-w-3xl mx-auto">
        Choose the plan that works best for you. All plans include full access to the live trading room.
      </p>
    </div>

    <div class="flex justify-center mb-12">
      <div class="bg-rtp-surface p-1 rounded-lg shadow-md inline-flex gap-1">
        <button
          on:click={() => selectedPlan = 'monthly'}
          class="px-6 py-2 rounded-md font-semibold transition-all {selectedPlan === 'monthly' ? 'bg-rtp-primary text-white' : 'text-rtp-muted hover:text-rtp-text'}"
        >
          Monthly
        </button>
        <button
          on:click={() => selectedPlan = 'quarterly'}
          class="px-6 py-2 rounded-md font-semibold transition-all {selectedPlan === 'quarterly' ? 'bg-rtp-primary text-white' : 'text-rtp-muted hover:text-rtp-text'}"
        >
          Quarterly
        </button>
        <button
          on:click={() => selectedPlan = 'annual'}
          class="px-6 py-2 rounded-md font-semibold transition-all {selectedPlan === 'annual' ? 'bg-rtp-primary text-white' : 'text-rtp-muted hover:text-rtp-text'}"
        >
          Annual
        </button>
      </div>
    </div>

    <div class="grid md:grid-cols-3 gap-8 max-w-5xl mx-auto">
      <!-- Monthly Plan -->
      {#if selectedPlan === 'monthly'}
        <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg border-2 border-rtp-border hover:border-rtp-primary transition-all">
          <div class="text-center mb-8">
            <h3 class="text-2xl font-heading font-bold text-rtp-text mb-2">Monthly</h3>
            <div class="text-5xl font-bold text-rtp-primary mb-2">$197</div>
            <div class="text-rtp-muted">per month</div>
          </div>
          <ul class="space-y-4 mb-8">
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text">Full live room access</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text">Real-time trade alerts</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text">Community support</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text">Educational content</span>
            </li>
          </ul>
          <button class="w-full bg-rtp-primary text-white py-3 rounded-lg font-semibold hover:bg-rtp-blue transition-all hover:scale-105">
            Get Started
          </button>
        </div>
      {/if}

      <!-- Quarterly Plan -->
      {#if selectedPlan === 'quarterly'}
        <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg border-2 border-rtp-primary">
          <div class="inline-block bg-rtp-emerald text-white px-3 py-1 rounded-full text-sm font-semibold mb-4">
            Save 15%
          </div>
          <div class="text-center mb-8">
            <h3 class="text-2xl font-heading font-bold text-rtp-text mb-2">Quarterly</h3>
            <div class="text-5xl font-bold text-rtp-primary mb-2">$497</div>
            <div class="text-rtp-muted">per quarter ($166/month)</div>
          </div>
          <ul class="space-y-4 mb-8">
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text">Everything in Monthly</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text font-semibold">Save $94</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text">Priority support</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text">Quarterly strategy sessions</span>
            </li>
          </ul>
          <button class="w-full bg-rtp-primary text-white py-3 rounded-lg font-semibold hover:bg-rtp-blue transition-all hover:scale-105">
            Get Started
          </button>
        </div>
      {/if}

      <!-- Annual Plan -->
      {#if selectedPlan === 'annual'}
        <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg border-2 border-rtp-emerald">
          <div class="inline-block bg-rtp-emerald text-white px-3 py-1 rounded-full text-sm font-semibold mb-4">
            Save 30%
          </div>
          <div class="text-center mb-8">
            <h3 class="text-2xl font-heading font-bold text-rtp-text mb-2">Annual</h3>
            <div class="text-5xl font-bold text-rtp-primary mb-2">$1,647</div>
            <div class="text-rtp-muted">per year ($137/month)</div>
          </div>
          <ul class="space-y-4 mb-8">
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text">Everything in Quarterly</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text font-semibold">Save $717</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text">1-on-1 coaching call</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text">Exclusive indicators</span>
            </li>
          </ul>
          <button class="w-full bg-rtp-emerald text-white py-3 rounded-lg font-semibold hover:bg-emerald-600 transition-all hover:scale-105">
            Get Started
          </button>
        </div>
      {/if}
    </div>
  </div>
</section>

<!-- Testimonials Section -->
<section class="py-20 bg-rtp-surface">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-5xl font-heading font-bold text-rtp-text mb-4">
        What Members Say
      </h2>
      <p class="text-xl text-rtp-muted">
        Real feedback from our trading community
      </p>
    </div>

    <div class="grid md:grid-cols-3 gap-8">
      <div class="bg-rtp-bg p-8 rounded-2xl border border-rtp-border">
        <div class="flex items-center gap-1 mb-4">
          {#each Array(5) as _}
            <svg class="w-5 h-5 text-yellow-400 fill-current" viewBox="0 0 20 20">
              <path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"/>
            </svg>
          {/each}
        </div>
        <p class="text-rtp-text mb-6 italic">
          "The day trading room completely changed my approach to 0DTE options. The real-time alerts and analysis are invaluable."
        </p>
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-rtp-primary rounded-full flex items-center justify-center text-white font-bold">
            JD
          </div>
          <div>
            <div class="font-semibold text-rtp-text">John D.</div>
            <div class="text-sm text-rtp-muted">Member since 2023</div>
          </div>
        </div>
      </div>

      <div class="bg-rtp-bg p-8 rounded-2xl border border-rtp-border">
        <div class="flex items-center gap-1 mb-4">
          {#each Array(5) as _}
            <svg class="w-5 h-5 text-yellow-400 fill-current" viewBox="0 0 20 20">
              <path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"/>
            </svg>
          {/each}
        </div>
        <p class="text-rtp-text mb-6 italic">
          "Best trading community I've been part of. The education and support have helped me become a consistently profitable trader."
        </p>
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-rtp-emerald rounded-full flex items-center justify-center text-white font-bold">
            SM
          </div>
          <div>
            <div class="font-semibold text-rtp-text">Sarah M.</div>
            <div class="text-sm text-rtp-muted">Member since 2022</div>
          </div>
        </div>
      </div>

      <div class="bg-rtp-bg p-8 rounded-2xl border border-rtp-border">
        <div class="flex items-center gap-1 mb-4">
          {#each Array(5) as _}
            <svg class="w-5 h-5 text-yellow-400 fill-current" viewBox="0 0 20 20">
              <path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"/>
            </svg>
          {/each}
        </div>
        <p class="text-rtp-text mb-6 italic">
          "The professional analysis and trade management strategies have taken my trading to the next level. Worth every penny."
        </p>
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-rtp-indigo rounded-full flex items-center justify-center text-white font-bold">
            MR
          </div>
          <div>
            <div class="font-semibold text-rtp-text">Mike R.</div>
            <div class="text-sm text-rtp-muted">Member since 2024</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Final CTA -->
<section class="py-20 bg-gradient-to-br from-rtp-primary to-rtp-indigo text-white">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
    <h2 class="text-3xl md:text-5xl font-heading font-bold mb-6">
      Ready to Join the Room?
    </h2>
    <p class="text-xl text-white/90 mb-8 max-w-2xl mx-auto">
      Start trading with professional guidance today. 30-day money-back guarantee.
    </p>
    <div class="flex flex-wrap gap-4 justify-center">
      <a href="#pricing" class="bg-white text-rtp-primary px-8 py-4 rounded-lg font-semibold hover:bg-rtp-bg transition-all hover:scale-105 shadow-lg">
        Choose Your Plan
      </a>
      <a href="/resources" class="bg-white/10 backdrop-blur-sm text-white border-2 border-white/20 px-8 py-4 rounded-lg font-semibold hover:bg-white/20 transition-all">
        View Resources
      </a>
    </div>
  </div>
</section>

# END OF frontend/src/routes/live-trading-rooms/day-trading/+page.svelte


##################################################################
# FILE: frontend/src/routes/live-trading-rooms/swing-trading/+page.svelte
# PATH: frontend/src/routes/live-trading-rooms/swing-trading/+page.svelte
##################################################################

<script lang="ts">
  let selectedPlan = 'monthly';
</script>

<svelte:head>
  <title>Swing Trading Room | Multi-Day SPX Trading | Revolution Trading Pros</title>
  <meta name="description" content="Join our swing trading room for multi-day SPX positions. Professional setups, risk management, and community support for swing traders." />
  <link rel="canonical" href="https://revolutiontradingpros.com/live-trading-rooms/swing-trading" />
</svelte:head>

<!-- Hero Section -->
<section class="relative bg-gradient-to-br from-rtp-indigo via-rtp-primary to-rtp-blue text-white py-20 md:py-32">
  <div class="absolute inset-0 bg-black/20"></div>
  <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center">
      <div class="inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full mb-6">
        <div class="w-2 h-2 bg-rtp-emerald rounded-full animate-pulse"></div>
        <span class="text-sm font-medium">Multi-Day Positions</span>
      </div>
      <h1 class="text-4xl md:text-6xl font-heading font-bold mb-6">
        Swing Trading Room
      </h1>
      <p class="text-xl md:text-2xl text-white/90 mb-8 max-w-3xl mx-auto">
        Capture larger market moves with professionally analyzed swing trades. Hold positions for days to weeks with clear entry and exit strategies.
      </p>
      <div class="flex flex-wrap gap-4 justify-center">
        <a href="#pricing" class="bg-white text-rtp-indigo px-8 py-3 rounded-lg font-semibold hover:bg-rtp-bg transition-all hover:scale-105 shadow-lg">
          View Pricing
        </a>
        <a href="#features" class="bg-white/10 backdrop-blur-sm text-white border-2 border-white/20 px-8 py-3 rounded-lg font-semibold hover:bg-white/20 transition-all">
          Learn More
        </a>
      </div>
    </div>
  </div>
</section>

<!-- Stats Bar -->
<section class="bg-rtp-surface border-b border-rtp-border py-12">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
      <div class="text-center">
        <div class="text-3xl md:text-4xl font-bold text-rtp-indigo mb-2">65%</div>
        <div class="text-rtp-muted font-medium">Win Rate</div>
      </div>
      <div class="text-center">
        <div class="text-3xl md:text-4xl font-bold text-rtp-emerald mb-2">3.2:1</div>
        <div class="text-rtp-muted font-medium">Avg Risk/Reward</div>
      </div>
      <div class="text-center">
        <div class="text-3xl md:text-4xl font-bold text-rtp-primary mb-2">2-10</div>
        <div class="text-rtp-muted font-medium">Days Per Trade</div>
      </div>
      <div class="text-center">
        <div class="text-3xl md:text-4xl font-bold text-rtp-blue mb-2">300+</div>
        <div class="text-rtp-muted font-medium">Active Members</div>
      </div>
    </div>
  </div>
</section>

<!-- Features Section -->
<section id="features" class="py-20 bg-rtp-bg">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-5xl font-heading font-bold text-rtp-text mb-4">
        Why Swing Trade With Us
      </h2>
      <p class="text-xl text-rtp-muted max-w-3xl mx-auto">
        Professional swing trading strategies for traders who can't watch the market all day
      </p>
    </div>

    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
      <!-- Feature 1 -->
      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all hover:-translate-y-1">
        <div class="w-12 h-12 bg-rtp-indigo/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-indigo" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Multi-Day Setups</h3>
        <p class="text-rtp-muted leading-relaxed">
          Carefully selected swing trades with 2-10 day holding periods targeting larger price movements.
        </p>
      </div>

      <!-- Feature 2 -->
      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all hover:-translate-y-1">
        <div class="w-12 h-12 bg-rtp-primary/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Technical Analysis</h3>
        <p class="text-rtp-muted leading-relaxed">
          In-depth chart analysis identifying key support, resistance, and trend continuation patterns.
        </p>
      </div>

      <!-- Feature 3 -->
      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all hover:-translate-y-1">
        <div class="w-12 h-12 bg-rtp-emerald/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-emerald" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Position Updates</h3>
        <p class="text-rtp-muted leading-relaxed">
          Daily updates on active positions with adjustment recommendations and profit-taking strategies.
        </p>
      </div>

      <!-- Feature 4 -->
      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all hover:-translate-y-1">
        <div class="w-12 h-12 bg-rtp-blue/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-blue" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Risk Management</h3>
        <p class="text-rtp-muted leading-relaxed">
          Clear stop losses, position sizing guidelines, and risk/reward ratios for every trade setup.
        </p>
      </div>

      <!-- Feature 5 -->
      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all hover:-translate-y-1">
        <div class="w-12 h-12 bg-rtp-indigo/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-indigo" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Community Trading</h3>
        <p class="text-rtp-muted leading-relaxed">
          Active Discord community for discussing setups, sharing ideas, and supporting each other.
        </p>
      </div>

      <!-- Feature 6 -->
      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all hover:-translate-y-1">
        <div class="w-12 h-12 bg-rtp-primary/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Flexible Schedule</h3>
        <p class="text-rtp-muted leading-relaxed">
          Perfect for traders with full-time jobs. No need to watch the market all day long.
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Trading Strategy Section -->
<section class="py-20 bg-rtp-surface">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-5xl font-heading font-bold text-rtp-text mb-4">
        Our Swing Trading Approach
      </h2>
      <p class="text-xl text-rtp-muted">
        Systematic strategies for consistent results
      </p>
    </div>

    <div class="grid md:grid-cols-2 gap-12 items-center">
      <div class="space-y-8">
        <div class="flex gap-4">
          <div class="flex-shrink-0 w-12 h-12 bg-rtp-primary rounded-lg flex items-center justify-center text-white font-bold text-xl">
            1
          </div>
          <div>
            <h3 class="text-xl font-heading font-bold text-rtp-text mb-2">Market Analysis</h3>
            <p class="text-rtp-muted leading-relaxed">
              Weekly market outlook identifying key levels, trends, and upcoming catalysts that could impact swing positions.
            </p>
          </div>
        </div>

        <div class="flex gap-4">
          <div class="flex-shrink-0 w-12 h-12 bg-rtp-indigo rounded-lg flex items-center justify-center text-white font-bold text-xl">
            2
          </div>
          <div>
            <h3 class="text-xl font-heading font-bold text-rtp-text mb-2">Setup Identification</h3>
            <p class="text-rtp-muted leading-relaxed">
              Scan for high-probability setups using technical analysis, volume patterns, and momentum indicators.
            </p>
          </div>
        </div>

        <div class="flex gap-4">
          <div class="flex-shrink-0 w-12 h-12 bg-rtp-emerald rounded-lg flex items-center justify-center text-white font-bold text-xl">
            3
          </div>
          <div>
            <h3 class="text-xl font-heading font-bold text-rtp-text mb-2">Entry & Alerts</h3>
            <p class="text-rtp-muted leading-relaxed">
              Clear entry signals with specific price levels, position sizing, and risk parameters for each trade.
            </p>
          </div>
        </div>

        <div class="flex gap-4">
          <div class="flex-shrink-0 w-12 h-12 bg-rtp-blue rounded-lg flex items-center justify-center text-white font-bold text-xl">
            4
          </div>
          <div>
            <h3 class="text-xl font-heading font-bold text-rtp-text mb-2">Trade Management</h3>
            <p class="text-rtp-muted leading-relaxed">
              Daily updates on position management including profit targets, trailing stops, and adjustment strategies.
            </p>
          </div>
        </div>
      </div>

      <div class="bg-gradient-to-br from-rtp-primary/10 to-rtp-indigo/10 p-8 rounded-2xl">
        <div class="bg-rtp-surface p-6 rounded-xl shadow-lg mb-4">
          <div class="flex items-center justify-between mb-2">
            <span class="text-sm font-semibold text-rtp-muted">SPX Call Spread</span>
            <span class="text-sm font-semibold text-rtp-emerald">+45%</span>
          </div>
          <div class="text-xs text-rtp-muted">Held 5 days | Target reached</div>
        </div>

        <div class="bg-rtp-surface p-6 rounded-xl shadow-lg mb-4">
          <div class="flex items-center justify-between mb-2">
            <span class="text-sm font-semibold text-rtp-muted">SPX Put Spread</span>
            <span class="text-sm font-semibold text-rtp-emerald">+32%</span>
          </div>
          <div class="text-xs text-rtp-muted">Held 3 days | Target reached</div>
        </div>

        <div class="bg-rtp-surface p-6 rounded-xl shadow-lg mb-4">
          <div class="flex items-center justify-between mb-2">
            <span class="text-sm font-semibold text-rtp-muted">SPX Iron Condor</span>
            <span class="text-sm font-semibold text-rtp-emerald">+28%</span>
          </div>
          <div class="text-xs text-rtp-muted">Held 7 days | Target reached</div>
        </div>

        <div class="bg-rtp-indigo text-white p-6 rounded-xl text-center">
          <div class="text-3xl font-bold mb-1">35%</div>
          <div class="text-sm">Average Gain Per Trade</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Pricing Section -->
<section id="pricing" class="py-20 bg-rtp-bg">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-5xl font-heading font-bold text-rtp-text mb-4">
        Membership Pricing
      </h2>
      <p class="text-xl text-rtp-muted max-w-3xl mx-auto">
        Join our swing trading community today
      </p>
    </div>

    <div class="flex justify-center mb-12">
      <div class="bg-rtp-surface p-1 rounded-lg shadow-md inline-flex gap-1">
        <button
          on:click={() => selectedPlan = 'monthly'}
          class="px-6 py-2 rounded-md font-semibold transition-all {selectedPlan === 'monthly' ? 'bg-rtp-indigo text-white' : 'text-rtp-muted hover:text-rtp-text'}"
        >
          Monthly
        </button>
        <button
          on:click={() => selectedPlan = 'quarterly'}
          class="px-6 py-2 rounded-md font-semibold transition-all {selectedPlan === 'quarterly' ? 'bg-rtp-indigo text-white' : 'text-rtp-muted hover:text-rtp-text'}"
        >
          Quarterly
        </button>
        <button
          on:click={() => selectedPlan = 'annual'}
          class="px-6 py-2 rounded-md font-semibold transition-all {selectedPlan === 'annual' ? 'bg-rtp-indigo text-white' : 'text-rtp-muted hover:text-rtp-text'}"
        >
          Annual
        </button>
      </div>
    </div>

    <div class="grid md:grid-cols-3 gap-8 max-w-5xl mx-auto">
      {#if selectedPlan === 'monthly'}
        <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg border-2 border-rtp-border hover:border-rtp-indigo transition-all md:col-start-2">
          <div class="text-center mb-8">
            <h3 class="text-2xl font-heading font-bold text-rtp-text mb-2">Monthly</h3>
            <div class="text-5xl font-bold text-rtp-indigo mb-2">$147</div>
            <div class="text-rtp-muted">per month</div>
          </div>
          <ul class="space-y-4 mb-8">
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text">Weekly swing trade setups</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text">Daily position updates</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text">Discord community access</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text">Trade analysis & education</span>
            </li>
          </ul>
          <button class="w-full bg-rtp-indigo text-white py-3 rounded-lg font-semibold hover:bg-purple-800 transition-all hover:scale-105">
            Get Started
          </button>
        </div>
      {:else if selectedPlan === 'quarterly'}
        <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg border-2 border-rtp-indigo md:col-start-2">
          <div class="inline-block bg-rtp-emerald text-white px-3 py-1 rounded-full text-sm font-semibold mb-4">
            Save 20%
          </div>
          <div class="text-center mb-8">
            <h3 class="text-2xl font-heading font-bold text-rtp-text mb-2">Quarterly</h3>
            <div class="text-5xl font-bold text-rtp-indigo mb-2">$353</div>
            <div class="text-rtp-muted">per quarter ($118/month)</div>
          </div>
          <ul class="space-y-4 mb-8">
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text">Everything in Monthly</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text font-semibold">Save $88</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text">Priority support</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text">Bonus swing strategies</span>
            </li>
          </ul>
          <button class="w-full bg-rtp-indigo text-white py-3 rounded-lg font-semibold hover:bg-purple-800 transition-all hover:scale-105">
            Get Started
          </button>
        </div>
      {:else}
        <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg border-2 border-rtp-emerald md:col-start-2">
          <div class="inline-block bg-rtp-emerald text-white px-3 py-1 rounded-full text-sm font-semibold mb-4">
            Save 35%
          </div>
          <div class="text-center mb-8">
            <h3 class="text-2xl font-heading font-bold text-rtp-text mb-2">Annual</h3>
            <div class="text-5xl font-bold text-rtp-indigo mb-2">$1,147</div>
            <div class="text-rtp-muted">per year ($96/month)</div>
          </div>
          <ul class="space-y-4 mb-8">
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text">Everything in Quarterly</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text font-semibold">Save $617</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text">1-on-1 strategy session</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text">Exclusive indicators</span>
            </li>
          </ul>
          <button class="w-full bg-rtp-emerald text-white py-3 rounded-lg font-semibold hover:bg-emerald-600 transition-all hover:scale-105">
            Get Started
          </button>
        </div>
      {/if}
    </div>
  </div>
</section>

<!-- Testimonials Section -->
<section class="py-20 bg-rtp-surface">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-5xl font-heading font-bold text-rtp-text mb-4">
        Member Success Stories
      </h2>
      <p class="text-xl text-rtp-muted">
        Real results from swing traders in our community
      </p>
    </div>

    <div class="grid md:grid-cols-3 gap-8">
      <div class="bg-rtp-bg p-8 rounded-2xl border border-rtp-border">
        <div class="flex items-center gap-1 mb-4">
          {#each Array(5) as _}
            <svg class="w-5 h-5 text-yellow-400 fill-current" viewBox="0 0 20 20">
              <path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"/>
            </svg>
          {/each}
        </div>
        <p class="text-rtp-text mb-6 italic">
          "Perfect for my schedule. I check the room once in the morning and evening. The swing setups have been incredibly profitable."
        </p>
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-rtp-indigo rounded-full flex items-center justify-center text-white font-bold">
            TC
          </div>
          <div>
            <div class="font-semibold text-rtp-text">Tom C.</div>
            <div class="text-sm text-rtp-muted">Full-time professional</div>
          </div>
        </div>
      </div>

      <div class="bg-rtp-bg p-8 rounded-2xl border border-rtp-border">
        <div class="flex items-center gap-1 mb-4">
          {#each Array(5) as _}
            <svg class="w-5 h-5 text-yellow-400 fill-current" viewBox="0 0 20 20">
              <path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"/>
            </svg>
          {/each}
        </div>
        <p class="text-rtp-text mb-6 italic">
          "The risk management and position sizing guidance has been game-changing. I'm finally trading with discipline and seeing consistent results."
        </p>
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-rtp-primary rounded-full flex items-center justify-center text-white font-bold">
            LH
          </div>
          <div>
            <div class="font-semibold text-rtp-text">Lisa H.</div>
            <div class="text-sm text-rtp-muted">Swing trader</div>
          </div>
        </div>
      </div>

      <div class="bg-rtp-bg p-8 rounded-2xl border border-rtp-border">
        <div class="flex items-center gap-1 mb-4">
          {#each Array(5) as _}
            <svg class="w-5 h-5 text-yellow-400 fill-current" viewBox="0 0 20 20">
              <path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"/>
            </svg>
          {/each}
        </div>
        <p class="text-rtp-text mb-6 italic">
          "Great community and excellent trade setups. The daily updates keep me informed without overwhelming me with constant notifications."
        </p>
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-rtp-emerald rounded-full flex items-center justify-center text-white font-bold">
            RK
          </div>
          <div>
            <div class="font-semibold text-rtp-text">Robert K.</div>
            <div class="text-sm text-rtp-muted">Part-time trader</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Final CTA -->
<section class="py-20 bg-gradient-to-br from-rtp-indigo to-rtp-primary text-white">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
    <h2 class="text-3xl md:text-5xl font-heading font-bold mb-6">
      Start Swing Trading Today
    </h2>
    <p class="text-xl text-white/90 mb-8 max-w-2xl mx-auto">
      Join our community and start receiving professional swing trade setups. 30-day money-back guarantee.
    </p>
    <div class="flex flex-wrap gap-4 justify-center">
      <a href="#pricing" class="bg-white text-rtp-indigo px-8 py-4 rounded-lg font-semibold hover:bg-rtp-bg transition-all hover:scale-105 shadow-lg">
        Choose Your Plan
      </a>
      <a href="/resources" class="bg-white/10 backdrop-blur-sm text-white border-2 border-white/20 px-8 py-4 rounded-lg font-semibold hover:bg-white/20 transition-all">
        Learn More
      </a>
    </div>
  </div>
</section>

# END OF frontend/src/routes/live-trading-rooms/swing-trading/+page.svelte


##################################################################
# FILE: frontend/src/routes/live-trading-rooms/small-accounts/+page.svelte
# PATH: frontend/src/routes/live-trading-rooms/small-accounts/+page.svelte
##################################################################

<script lang="ts">
  let selectedPlan = 'monthly';
</script>

<svelte:head>
  <title>Small Accounts Trading | $500-$5K Strategy | Revolution Trading Pros</title>
  <meta name="description" content="Grow your small trading account with proven strategies. Learn position sizing, risk management, and trading tactics for accounts under $5,000." />
  <link rel="canonical" href="https://revolutiontradingpros.com/live-trading-rooms/small-accounts" />
</svelte:head>

<!-- Hero Section -->
<section class="relative bg-gradient-to-br from-rtp-emerald via-rtp-primary to-rtp-blue text-white py-20 md:py-32">
  <div class="absolute inset-0 bg-black/20"></div>
  <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center">
      <div class="inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full mb-6">
        <svg class="w-4 h-4 text-emerald-300" fill="currentColor" viewBox="0 0 20 20">
          <path d="M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"/>
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z" clip-rule="evenodd"/>
        </svg>
        <span class="text-sm font-medium">Grow Your Small Account</span>
      </div>
      <h1 class="text-4xl md:text-6xl font-heading font-bold mb-6">
        Small Accounts Trading Room
      </h1>
      <p class="text-xl md:text-2xl text-white/90 mb-8 max-w-3xl mx-auto">
        Build your trading account from $500 to $5,000+. Specialized strategies, position sizing, and risk management for small account growth.
      </p>
      <div class="flex flex-wrap gap-4 justify-center">
        <a href="#pricing" class="bg-white text-rtp-emerald px-8 py-3 rounded-lg font-semibold hover:bg-rtp-bg transition-all hover:scale-105 shadow-lg">
          View Pricing
        </a>
        <a href="#features" class="bg-white/10 backdrop-blur-sm text-white border-2 border-white/20 px-8 py-3 rounded-lg font-semibold hover:bg-white/20 transition-all">
          Learn More
        </a>
      </div>
    </div>
  </div>
</section>

<!-- Stats Bar -->
<section class="bg-rtp-surface border-b border-rtp-border py-12">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
      <div class="text-center">
        <div class="text-3xl md:text-4xl font-bold text-rtp-emerald mb-2">$500</div>
        <div class="text-rtp-muted font-medium">Starting Capital</div>
      </div>
      <div class="text-center">
        <div class="text-3xl md:text-4xl font-bold text-rtp-primary mb-2">200+</div>
        <div class="text-rtp-muted font-medium">Success Stories</div>
      </div>
      <div class="text-center">
        <div class="text-3xl md:text-4xl font-bold text-rtp-indigo mb-2">72%</div>
        <div class="text-rtp-muted font-medium">Win Rate</div>
      </div>
      <div class="text-center">
        <div class="text-3xl md:text-4xl font-bold text-rtp-blue mb-2">90 Days</div>
        <div class="text-rtp-muted font-medium">Avg Growth Period</div>
      </div>
    </div>
  </div>
</section>

<!-- Features Section -->
<section id="features" class="py-20 bg-rtp-bg">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-5xl font-heading font-bold text-rtp-text mb-4">
        Built for Small Accounts
      </h2>
      <p class="text-xl text-rtp-muted max-w-3xl mx-auto">
        Everything you need to grow your account safely and consistently
      </p>
    </div>

    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
      <!-- Feature 1 -->
      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all hover:-translate-y-1">
        <div class="w-12 h-12 bg-rtp-emerald/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-emerald" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Smart Position Sizing</h3>
        <p class="text-rtp-muted leading-relaxed">
          Learn exactly how much to risk per trade based on your account size. Never blow up your account again.
        </p>
      </div>

      <!-- Feature 2 -->
      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all hover:-translate-y-1">
        <div class="w-12 h-12 bg-rtp-primary/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Account Growth Strategy</h3>
        <p class="text-rtp-muted leading-relaxed">
          Step-by-step plan to grow from $500 to $5,000+ with realistic targets and milestones.
        </p>
      </div>

      <!-- Feature 3 -->
      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all hover:-translate-y-1">
        <div class="w-12 h-12 bg-rtp-indigo/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-indigo" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Low-Cost Strategies</h3>
        <p class="text-rtp-muted leading-relaxed">
          Trades designed for small accounts. Focus on single contracts and spreads that don't require huge capital.
        </p>
      </div>

      <!-- Feature 4 -->
      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all hover:-translate-y-1">
        <div class="w-12 h-12 bg-rtp-blue/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-blue" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Education First</h3>
        <p class="text-rtp-muted leading-relaxed">
          Learn the fundamentals of trading while growing your account. Weekly training sessions and resources.
        </p>
      </div>

      <!-- Feature 5 -->
      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all hover:-translate-y-1">
        <div class="w-12 h-12 bg-rtp-emerald/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-emerald" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Risk Protection</h3>
        <p class="text-rtp-muted leading-relaxed">
          Strict risk management rules to protect your capital. Learn to preserve what you have while growing.
        </p>
      </div>

      <!-- Feature 6 -->
      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all hover:-translate-y-1">
        <div class="w-12 h-12 bg-rtp-primary/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Supportive Community</h3>
        <p class="text-rtp-muted leading-relaxed">
          Connect with other small account traders on the same journey. Share wins, losses, and learn together.
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Growth Roadmap Section -->
<section class="py-20 bg-rtp-surface">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-5xl font-heading font-bold text-rtp-text mb-4">
        Your Account Growth Roadmap
      </h2>
      <p class="text-xl text-rtp-muted">
        A proven path from $500 to $5,000+
      </p>
    </div>

    <div class="max-w-4xl mx-auto">
      <div class="space-y-8">
        <!-- Phase 1 -->
        <div class="flex gap-6 items-start">
          <div class="flex-shrink-0">
            <div class="w-16 h-16 bg-gradient-to-br from-rtp-emerald to-emerald-600 rounded-2xl flex items-center justify-center text-white font-bold text-xl shadow-lg">
              1
            </div>
          </div>
          <div class="flex-1 bg-rtp-bg p-6 rounded-xl border border-rtp-border">
            <h3 class="text-2xl font-heading font-bold text-rtp-text mb-3">Foundation Phase ($500-$1,000)</h3>
            <p class="text-rtp-muted mb-4">
              Focus on consistency and learning. Master the basics with minimal risk while building your skills.
            </p>
            <ul class="space-y-2 text-rtp-text">
              <li class="flex items-center gap-2">
                <svg class="w-5 h-5 text-rtp-emerald" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
                Risk 1-2% per trade maximum
              </li>
              <li class="flex items-center gap-2">
                <svg class="w-5 h-5 text-rtp-emerald" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
                Focus on single contract trades
              </li>
              <li class="flex items-center gap-2">
                <svg class="w-5 h-5 text-rtp-emerald" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
                Daily education and practice
              </li>
            </ul>
          </div>
        </div>

        <!-- Phase 2 -->
        <div class="flex gap-6 items-start">
          <div class="flex-shrink-0">
            <div class="w-16 h-16 bg-gradient-to-br from-rtp-primary to-rtp-blue rounded-2xl flex items-center justify-center text-white font-bold text-xl shadow-lg">
              2
            </div>
          </div>
          <div class="flex-1 bg-rtp-bg p-6 rounded-xl border border-rtp-border">
            <h3 class="text-2xl font-heading font-bold text-rtp-text mb-3">Growth Phase ($1,000-$2,500)</h3>
            <p class="text-rtp-muted mb-4">
              Scale your trading as your account grows. Start introducing spreads and multi-contract positions.
            </p>
            <ul class="space-y-2 text-rtp-text">
              <li class="flex items-center gap-2">
                <svg class="w-5 h-5 text-rtp-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
                Introduce vertical spreads
              </li>
              <li class="flex items-center gap-2">
                <svg class="w-5 h-5 text-rtp-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
                Scale to 2-3 contracts per trade
              </li>
              <li class="flex items-center gap-2">
                <svg class="w-5 h-5 text-rtp-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
                Maintain 2% max risk per trade
              </li>
            </ul>
          </div>
        </div>

        <!-- Phase 3 -->
        <div class="flex gap-6 items-start">
          <div class="flex-shrink-0">
            <div class="w-16 h-16 bg-gradient-to-br from-rtp-indigo to-purple-600 rounded-2xl flex items-center justify-center text-white font-bold text-xl shadow-lg">
              3
            </div>
          </div>
          <div class="flex-1 bg-rtp-bg p-6 rounded-xl border border-rtp-border">
            <h3 class="text-2xl font-heading font-bold text-rtp-text mb-3">Acceleration Phase ($2,500-$5,000+)</h3>
            <p class="text-rtp-muted mb-4">
              Advanced strategies and larger positions. You're now an experienced trader with a solid foundation.
            </p>
            <ul class="space-y-2 text-rtp-text">
              <li class="flex items-center gap-2">
                <svg class="w-5 h-5 text-rtp-indigo" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
                Advanced spread strategies
              </li>
              <li class="flex items-center gap-2">
                <svg class="w-5 h-5 text-rtp-indigo" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
                Multiple positions and diversification
              </li>
              <li class="flex items-center gap-2">
                <svg class="w-5 h-5 text-rtp-indigo" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
                Transition to larger account strategies
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Pricing Section -->
<section id="pricing" class="py-20 bg-rtp-bg">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-5xl font-heading font-bold text-rtp-text mb-4">
        Affordable Membership
      </h2>
      <p class="text-xl text-rtp-muted max-w-3xl mx-auto">
        Pricing designed for small account traders
      </p>
    </div>

    <div class="max-w-md mx-auto">
      <div class="bg-rtp-surface p-8 rounded-2xl shadow-xl border-2 border-rtp-emerald">
        <div class="inline-block bg-rtp-emerald text-white px-3 py-1 rounded-full text-sm font-semibold mb-4">
          Best Value
        </div>
        <div class="text-center mb-8">
          <h3 class="text-2xl font-heading font-bold text-rtp-text mb-2">Small Accounts Room</h3>
          <div class="text-5xl font-bold text-rtp-emerald mb-2">$97</div>
          <div class="text-rtp-muted">per month</div>
        </div>
        <ul class="space-y-4 mb-8">
          <li class="flex items-start gap-3">
            <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <span class="text-rtp-text">Daily trade alerts for small accounts</span>
          </li>
          <li class="flex items-start gap-3">
            <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <span class="text-rtp-text">Position sizing calculator</span>
          </li>
          <li class="flex items-start gap-3">
            <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <span class="text-rtp-text">Account growth roadmap</span>
          </li>
          <li class="flex items-start gap-3">
            <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <span class="text-rtp-text">Weekly education sessions</span>
          </li>
          <li class="flex items-start gap-3">
            <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <span class="text-rtp-text">Discord community access</span>
          </li>
          <li class="flex items-start gap-3">
            <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <span class="text-rtp-text">Risk management templates</span>
          </li>
          <li class="flex items-start gap-3">
            <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <span class="text-rtp-text">Trade journal templates</span>
          </li>
        </ul>
        <button class="w-full bg-rtp-emerald text-white py-3 rounded-lg font-semibold hover:bg-emerald-600 transition-all hover:scale-105">
          Start Growing Your Account
        </button>
        <p class="text-center text-sm text-rtp-muted mt-4">
          30-day money-back guarantee
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Success Stories Section -->
<section class="py-20 bg-rtp-surface">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-5xl font-heading font-bold text-rtp-text mb-4">
        Small Account Success Stories
      </h2>
      <p class="text-xl text-rtp-muted">
        Real traders who grew their accounts with us
      </p>
    </div>

    <div class="grid md:grid-cols-3 gap-8">
      <div class="bg-rtp-bg p-8 rounded-2xl border border-rtp-border">
        <div class="bg-gradient-to-r from-rtp-emerald to-emerald-600 text-white px-4 py-2 rounded-lg inline-block mb-4">
          $500  $3,200
        </div>
        <p class="text-rtp-text mb-6 italic">
          "Started with $500 and followed the roadmap exactly. In 4 months I've grown to over $3,000. The position sizing rules saved me from blowing up my account."
        </p>
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-rtp-emerald rounded-full flex items-center justify-center text-white font-bold">
            AJ
          </div>
          <div>
            <div class="font-semibold text-rtp-text">Alex J.</div>
            <div class="text-sm text-rtp-muted">4 months in program</div>
          </div>
        </div>
      </div>

      <div class="bg-rtp-bg p-8 rounded-2xl border border-rtp-border">
        <div class="bg-gradient-to-r from-rtp-primary to-rtp-blue text-white px-4 py-2 rounded-lg inline-block mb-4">
          $1,000  $5,800
        </div>
        <p class="text-rtp-text mb-6 italic">
          "Best investment I've made. The education alone is worth 10x the membership fee. My account has grown steadily and I'm now trading with confidence."
        </p>
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-rtp-primary rounded-full flex items-center justify-center text-white font-bold">
            KW
          </div>
          <div>
            <div class="font-semibold text-rtp-text">Kevin W.</div>
            <div class="text-sm text-rtp-muted">6 months in program</div>
          </div>
        </div>
      </div>

      <div class="bg-rtp-bg p-8 rounded-2xl border border-rtp-border">
        <div class="bg-gradient-to-r from-rtp-indigo to-purple-600 text-white px-4 py-2 rounded-lg inline-block mb-4">
          $750  $4,100
        </div>
        <p class="text-rtp-text mb-6 italic">
          "Finally a trading room that understands small account challenges. The community is supportive and the strategies actually work for accounts under $5K."
        </p>
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-rtp-indigo rounded-full flex items-center justify-center text-white font-bold">
            MN
          </div>
          <div>
            <div class="font-semibold text-rtp-text">Maria N.</div>
            <div class="text-sm text-rtp-muted">5 months in program</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- FAQ Section -->
<section class="py-20 bg-rtp-bg">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-5xl font-heading font-bold text-rtp-text mb-4">
        Common Questions
      </h2>
    </div>

    <div class="space-y-6">
      <div class="bg-rtp-surface p-6 rounded-xl border border-rtp-border">
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">What's the minimum account size?</h3>
        <p class="text-rtp-muted">
          We recommend starting with at least $500, but you can start with as little as $250. The key is proper position sizing and risk management.
        </p>
      </div>

      <div class="bg-rtp-surface p-6 rounded-xl border border-rtp-border">
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">How long until I reach $5,000?</h3>
        <p class="text-rtp-muted">
          Results vary, but most members who follow the roadmap see significant growth in 3-6 months. It depends on your starting capital, consistency, and market conditions.
        </p>
      </div>

      <div class="bg-rtp-surface p-6 rounded-xl border border-rtp-border">
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Do I need options trading approval?</h3>
        <p class="text-rtp-muted">
          Yes, you'll need at least Level 1 options approval from your broker. We'll help you understand what's needed and guide you through the process.
        </p>
      </div>

      <div class="bg-rtp-surface p-6 rounded-xl border border-rtp-border">
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Can I trade with a full-time job?</h3>
        <p class="text-rtp-muted">
          Absolutely! Many of our members have full-time jobs. We provide morning analysis and alerts that work with busy schedules.
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Final CTA -->
<section class="py-20 bg-gradient-to-br from-rtp-emerald to-rtp-primary text-white">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
    <h2 class="text-3xl md:text-5xl font-heading font-bold mb-6">
      Start Growing Your Account Today
    </h2>
    <p class="text-xl text-white/90 mb-8 max-w-2xl mx-auto">
      Join hundreds of traders who have successfully grown their small accounts. Get started for just $97/month.
    </p>
    <div class="flex flex-wrap gap-4 justify-center">
      <a href="#pricing" class="bg-white text-rtp-emerald px-8 py-4 rounded-lg font-semibold hover:bg-rtp-bg transition-all hover:scale-105 shadow-lg">
        Join Now - $97/Month
      </a>
      <a href="/resources" class="bg-white/10 backdrop-blur-sm text-white border-2 border-white/20 px-8 py-4 rounded-lg font-semibold hover:bg-white/20 transition-all">
        View Free Resources
      </a>
    </div>
  </div>
</section>

# END OF frontend/src/routes/live-trading-rooms/small-accounts/+page.svelte


##################################################################
# FILE: frontend/src/routes/explosive-swings/+page.svelte
# PATH: frontend/src/routes/explosive-swings/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { gsap } from 'gsap';
  import { IconTrendingUp, IconFlame, IconBellRinging, IconShoppingCart } from '@tabler/icons-svelte';
  import { addItemToCart } from '$lib/utils/cart-helpers';

  let headerRef: HTMLDivElement;
  let contentRef: HTMLDivElement;

  onMount(() => {
    initAnimations();
  });

  function initAnimations() {
    const tl = gsap.timeline({ defaults: { ease: 'power3.out' } });

    tl.from(headerRef, {
      opacity: 0,
      y: -50,
      duration: 1,
      ease: 'back.out(1.7)'
    })
    .from(contentRef, {
      opacity: 0,
      y: 60,
      duration: 0.8,
      ease: 'power4.out'
    }, '-=0.5');
  }

  async function handleSignUp(interval: 'monthly' | 'quarterly' | 'yearly') {
    let price: number;
    if (interval === 'monthly') price = 199;
    else if (interval === 'quarterly') price = 549;
    else price = 1999;

    await addItemToCart(
      {
        id: 'explosive-swings',
        name: 'Explosive Swings',
        description: 'High-momentum swing trade alerts with explosive profit potential',
        price,
        type: 'alert-service',
        interval
      },
      true // Navigate to cart after adding
    );
  }
</script>

<svelte:head>
  <title>Explosive Swings | Revolution Trading Pros</title>
</svelte:head>

<div class="explosive-page min-h-screen px-4 py-12 overflow-hidden relative">
  <!-- Animated gradient background -->
  <div class="gradient-bg absolute inset-0"></div>

  <!-- Grid overlay -->
  <div class="grid-overlay absolute inset-0"></div>

  <!-- Floating orbs -->
  <div class="glow-orb glow-orb-1"></div>
  <div class="glow-orb glow-orb-2"></div>

  <!-- Content -->
  <div class="relative max-w-7xl mx-auto z-10">
    <!-- Header -->
    <div class="mb-12" bind:this={headerRef}>
      <div class="flex items-center gap-4 mb-4">
        <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-yellow-500 to-amber-500 p-0.5 shadow-lg shadow-yellow-500/50">
          <div class="w-full h-full bg-slate-900 rounded-2xl flex items-center justify-center">
            <IconFlame size={32} class="text-yellow-400" />
          </div>
        </div>
        <div>
          <h1 class="text-5xl md:text-6xl font-heading font-bold bg-gradient-to-r from-yellow-300 via-amber-300 to-orange-300 bg-clip-text text-transparent">
            Explosive Swings
          </h1>
          <p class="text-xl text-slate-300 mt-2 flex items-center gap-2">
            <IconTrendingUp size={20} class="text-yellow-400" />
            <span>High-momentum swing alerts for maximum gains</span>
          </p>
        </div>
      </div>
    </div>

    <!-- Main Content Card -->
    <div bind:this={contentRef}>
      <div class="relative">
        <div class="absolute -inset-1 bg-gradient-to-r from-yellow-500 via-amber-500 to-orange-500 rounded-3xl opacity-30 blur-2xl"></div>
        <div class="relative bg-slate-900/95 backdrop-blur-xl border border-yellow-500/30 rounded-3xl p-8 md:p-12 shadow-2xl">

          <!-- Hero Section -->
          <div class="text-center mb-12">
            <div class="inline-flex items-center gap-2 px-4 py-2 bg-yellow-500/20 border border-yellow-500/30 rounded-full mb-6">
              <IconBellRinging size={20} class="text-yellow-400" />
              <span class="text-yellow-300 font-semibold">Momentum Swing Alerts</span>
            </div>

            <h2 class="text-3xl md:text-4xl font-heading font-bold text-white mb-4">
              Capture Explosive Market Moves
            </h2>
            <p class="text-lg text-slate-300 max-w-3xl mx-auto">
              Get alerts for high-momentum swing trades with explosive profit potential. Our system identifies
              stocks breaking out with strong momentum for multi-day gains that can transform your portfolio.
            </p>
          </div>

          <!-- Features Grid -->
          <div class="grid md:grid-cols-2 gap-6 mb-12">
            <div class="p-6 bg-slate-800/50 rounded-xl border border-slate-700/50">
              <h3 class="text-xl font-bold text-white mb-2"> Momentum Breakouts</h3>
              <p class="text-slate-300">Stocks with strong momentum and volume breaking key resistance levels</p>
            </div>

            <div class="p-6 bg-slate-800/50 rounded-xl border border-slate-700/50">
              <h3 class="text-xl font-bold text-white mb-2"> Multi-Day Holds</h3>
              <p class="text-slate-300">Swing positions designed to capture 3-10 day explosive moves</p>
            </div>

            <div class="p-6 bg-slate-800/50 rounded-xl border border-slate-700/50">
              <h3 class="text-xl font-bold text-white mb-2"> Clear Exit Strategy</h3>
              <p class="text-slate-300">Defined profit targets and stop losses for every alert</p>
            </div>

            <div class="p-6 bg-slate-800/50 rounded-xl border border-slate-700/50">
              <h3 class="text-xl font-bold text-white mb-2"> Real-Time Updates</h3>
              <p class="text-slate-300">Position updates and exit alerts sent in real-time</p>
            </div>
          </div>

          <!-- Pricing Options -->
          <div class="grid md:grid-cols-3 gap-6">
            <!-- Monthly Plan -->
            <div class="relative">
              <div class="absolute -inset-1 bg-gradient-to-r from-yellow-500 to-amber-500 rounded-2xl opacity-20 blur"></div>
              <div class="relative bg-slate-800/80 backdrop-blur-xl border border-yellow-500/30 rounded-2xl p-6">
                <div class="mb-6">
                  <h3 class="text-xl font-bold text-white mb-2">Monthly</h3>
                  <div class="flex items-baseline gap-2">
                    <span class="text-4xl font-bold bg-gradient-to-r from-yellow-300 to-amber-300 bg-clip-text text-transparent">$199</span>
                    <span class="text-slate-400 text-sm">/month</span>
                  </div>
                  <p class="text-xs text-slate-400 mt-2">Flexible monthly billing</p>
                </div>

                <button
                  on:click={() => handleSignUp('monthly')}
                  class="w-full px-6 py-3 bg-gradient-to-r from-yellow-500 to-amber-500 text-white font-bold rounded-xl hover:shadow-lg hover:shadow-yellow-500/50 transition-all duration-300 flex items-center justify-center gap-2"
                >
                  <IconShoppingCart size={18} />
                  <span>Sign Up</span>
                </button>
              </div>
            </div>

            <!-- Quarterly Plan -->
            <div class="relative">
              <div class="absolute -inset-1 bg-gradient-to-r from-amber-500 to-orange-500 rounded-2xl opacity-25 blur"></div>
              <div class="relative bg-slate-800/80 backdrop-blur-xl border border-amber-500/30 rounded-2xl p-6">
                <div class="absolute -top-3 -right-3 px-3 py-1 bg-gradient-to-r from-yellow-500 to-amber-500 text-white text-xs font-bold rounded-full">
                  Save 8%
                </div>

                <div class="mb-6">
                  <h3 class="text-xl font-bold text-white mb-2">Quarterly</h3>
                  <div class="flex items-baseline gap-2">
                    <span class="text-4xl font-bold bg-gradient-to-r from-amber-300 to-orange-300 bg-clip-text text-transparent">$549</span>
                    <span class="text-slate-400 text-sm">/3 months</span>
                  </div>
                  <p class="text-xs text-slate-400 mt-2">$183/month - Save $48</p>
                </div>

                <button
                  on:click={() => handleSignUp('quarterly')}
                  class="w-full px-6 py-3 bg-gradient-to-r from-amber-500 to-orange-500 text-white font-bold rounded-xl hover:shadow-lg hover:shadow-amber-500/50 transition-all duration-300 flex items-center justify-center gap-2"
                >
                  <IconShoppingCart size={18} />
                  <span>Sign Up</span>
                </button>
              </div>
            </div>

            <!-- Yearly Plan -->
            <div class="relative">
              <div class="absolute -inset-1 bg-gradient-to-r from-orange-500 to-red-500 rounded-2xl opacity-30 blur"></div>
              <div class="relative bg-slate-800/80 backdrop-blur-xl border border-orange-500/30 rounded-2xl p-6">
                <div class="absolute -top-3 -right-3 px-3 py-1 bg-gradient-to-r from-orange-500 to-yellow-500 text-white text-xs font-bold rounded-full">
                  Best Value
                </div>

                <div class="mb-6">
                  <h3 class="text-xl font-bold text-white mb-2">Yearly</h3>
                  <div class="flex items-baseline gap-2">
                    <span class="text-4xl font-bold bg-gradient-to-r from-orange-300 to-red-300 bg-clip-text text-transparent">$1,999</span>
                    <span class="text-slate-400 text-sm">/year</span>
                  </div>
                  <p class="text-xs text-slate-400 mt-2">$166/month - Save $389</p>
                </div>

                <button
                  on:click={() => handleSignUp('yearly')}
                  class="w-full px-6 py-3 bg-gradient-to-r from-orange-500 to-red-500 text-white font-bold rounded-xl hover:shadow-lg hover:shadow-orange-500/50 transition-all duration-300 flex items-center justify-center gap-2"
                >
                  <IconShoppingCart size={18} />
                  <span>Sign Up</span>
                </button>
              </div>
            </div>
          </div>

          <!-- Additional Info -->
          <div class="mt-8 text-center">
            <p class="text-slate-400">
              Cancel anytime  No long-term commitment  Full access from day one
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  /* Animated gradient background */
  .gradient-bg {
    background: linear-gradient(135deg,
      #0f172a 0%,
      #713f12 25%,
      #0f172a 50%,
      #78350f 75%,
      #0f172a 100%
    );
    background-size: 400% 400%;
    animation: gradientShift 25s ease infinite;
  }

  @keyframes gradientShift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  /* Grid overlay */
  .grid-overlay {
    background-image:
      linear-gradient(rgba(234, 179, 8, 0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(234, 179, 8, 0.03) 1px, transparent 1px);
    background-size: 50px 50px;
    animation: gridMove 30s linear infinite;
    pointer-events: none;
  }

  @keyframes gridMove {
    0% { transform: translate(0, 0); }
    100% { transform: translate(50px, 50px); }
  }

  /* Glowing orbs */
  .glow-orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.4;
    pointer-events: none;
  }

  .glow-orb-1 {
    width: 600px;
    height: 600px;
    top: -100px;
    left: 50%;
    background: radial-gradient(circle, #eab308, transparent 70%);
    animation: float1 25s ease-in-out infinite;
  }

  .glow-orb-2 {
    width: 500px;
    height: 500px;
    bottom: -100px;
    right: 10%;
    background: radial-gradient(circle, #f59e0b, transparent 70%);
    animation: float2 30s ease-in-out infinite;
  }

  @keyframes float1 {
    0%, 100% { transform: translateX(-50%) translateY(0) scale(1); }
    50% { transform: translateX(-50%) translateY(-50px) scale(1.1); }
  }

  @keyframes float2 {
    0%, 100% { transform: translateY(0) scale(1); }
    50% { transform: translateY(50px) scale(0.9); }
  }

  /* Responsive */
  @media (max-width: 640px) {
    .glow-orb {
      filter: blur(60px);
      opacity: 0.3;
    }

    .glow-orb-1, .glow-orb-2 {
      width: 300px;
      height: 300px;
    }
  }
</style>

# END OF frontend/src/routes/explosive-swings/+page.svelte


##################################################################
# FILE: frontend/src/routes/spx-profit-pulse/+page.svelte
# PATH: frontend/src/routes/spx-profit-pulse/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { gsap } from 'gsap';
  import { IconChartLine, IconBolt, IconBellRinging, IconShoppingCart } from '@tabler/icons-svelte';
  import { addItemToCart } from '$lib/utils/cart-helpers';

  let headerRef: HTMLDivElement;
  let contentRef: HTMLDivElement;

  onMount(() => {
    initAnimations();
  });

  function initAnimations() {
    const tl = gsap.timeline({ defaults: { ease: 'power3.out' } });

    tl.from(headerRef, {
      opacity: 0,
      y: -50,
      duration: 1,
      ease: 'back.out(1.7)'
    })
    .from(contentRef, {
      opacity: 0,
      y: 60,
      duration: 0.8,
      ease: 'power4.out'
    }, '-=0.5');
  }

  async function handleSignUp(interval: 'monthly' | 'quarterly' | 'yearly') {
    let price: number;
    if (interval === 'monthly') price = 199;
    else if (interval === 'quarterly') price = 549;
    else price = 1999;

    await addItemToCart(
      {
        id: 'spx-profit-pulse',
        name: 'SPX Profit Pulse',
        description: 'Premium SPX options alerts with high-probability setups',
        price,
        type: 'alert-service',
        interval
      },
      true // Navigate to cart after adding
    );
  }
</script>

<svelte:head>
  <title>SPX Profit Pulse | Revolution Trading Pros</title>
</svelte:head>

<div class="spx-page min-h-screen px-4 py-12 overflow-hidden relative">
  <!-- Animated gradient background -->
  <div class="gradient-bg absolute inset-0"></div>

  <!-- Grid overlay -->
  <div class="grid-overlay absolute inset-0"></div>

  <!-- Floating orbs -->
  <div class="glow-orb glow-orb-1"></div>
  <div class="glow-orb glow-orb-2"></div>

  <!-- Content -->
  <div class="relative max-w-7xl mx-auto z-10">
    <!-- Header -->
    <div class="mb-12" bind:this={headerRef}>
      <div class="flex items-center gap-4 mb-4">
        <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-orange-500 to-red-500 p-0.5 shadow-lg shadow-orange-500/50">
          <div class="w-full h-full bg-slate-900 rounded-2xl flex items-center justify-center">
            <IconChartLine size={32} class="text-orange-400" />
          </div>
        </div>
        <div>
          <h1 class="text-5xl md:text-6xl font-heading font-bold bg-gradient-to-r from-orange-300 via-red-300 to-pink-300 bg-clip-text text-transparent">
            SPX Profit Pulse
          </h1>
          <p class="text-xl text-slate-300 mt-2 flex items-center gap-2">
            <IconBolt size={20} class="text-orange-400" />
            <span>Premium SPX options alerts delivered instantly</span>
          </p>
        </div>
      </div>
    </div>

    <!-- Main Content Card -->
    <div bind:this={contentRef}>
      <div class="relative">
        <div class="absolute -inset-1 bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 rounded-3xl opacity-30 blur-2xl"></div>
        <div class="relative bg-slate-900/95 backdrop-blur-xl border border-orange-500/30 rounded-3xl p-8 md:p-12 shadow-2xl">

          <!-- Hero Section -->
          <div class="text-center mb-12">
            <div class="inline-flex items-center gap-2 px-4 py-2 bg-orange-500/20 border border-orange-500/30 rounded-full mb-6">
              <IconBellRinging size={20} class="text-orange-400" />
              <span class="text-orange-300 font-semibold">Real-Time SPX Alerts</span>
            </div>

            <h2 class="text-3xl md:text-4xl font-heading font-bold text-white mb-4">
              Elite SPX Options Alerts
            </h2>
            <p class="text-lg text-slate-300 max-w-3xl mx-auto">
              Get instant notifications for high-probability SPX options trades. Our proven system
              identifies premium entry and exit points on S&P 500 index options for consistent profits.
            </p>
          </div>

          <!-- Features Grid -->
          <div class="grid md:grid-cols-2 gap-6 mb-12">
            <div class="p-6 bg-slate-800/50 rounded-xl border border-slate-700/50">
              <h3 class="text-xl font-bold text-white mb-2"> Instant Alerts</h3>
              <p class="text-slate-300">Real-time SMS and email notifications the moment trades are identified</p>
            </div>

            <div class="p-6 bg-slate-800/50 rounded-xl border border-slate-700/50">
              <h3 class="text-xl font-bold text-white mb-2"> Complete Trade Details</h3>
              <p class="text-slate-300">Entry price, targets, stop loss, and position sizing included</p>
            </div>

            <div class="p-6 bg-slate-800/50 rounded-xl border border-slate-700/50">
              <h3 class="text-xl font-bold text-white mb-2"> High Win Rate</h3>
              <p class="text-slate-300">Carefully selected setups with proven track record of success</p>
            </div>

            <div class="p-6 bg-slate-800/50 rounded-xl border border-slate-700/50">
              <h3 class="text-xl font-bold text-white mb-2"> Mobile Friendly</h3>
              <p class="text-slate-300">Trade alerts optimized for mobile devices - trade anywhere</p>
            </div>
          </div>

          <!-- Pricing Options -->
          <div class="grid md:grid-cols-3 gap-6">
            <!-- Monthly Plan -->
            <div class="relative">
              <div class="absolute -inset-1 bg-gradient-to-r from-orange-500 to-red-500 rounded-2xl opacity-20 blur"></div>
              <div class="relative bg-slate-800/80 backdrop-blur-xl border border-orange-500/30 rounded-2xl p-6">
                <div class="mb-6">
                  <h3 class="text-xl font-bold text-white mb-2">Monthly</h3>
                  <div class="flex items-baseline gap-2">
                    <span class="text-4xl font-bold bg-gradient-to-r from-orange-300 to-red-300 bg-clip-text text-transparent">$199</span>
                    <span class="text-slate-400 text-sm">/month</span>
                  </div>
                  <p class="text-xs text-slate-400 mt-2">Flexible monthly billing</p>
                </div>

                <button
                  on:click={() => handleSignUp('monthly')}
                  class="w-full px-6 py-3 bg-gradient-to-r from-orange-500 to-red-500 text-white font-bold rounded-xl hover:shadow-lg hover:shadow-orange-500/50 transition-all duration-300 flex items-center justify-center gap-2"
                >
                  <IconShoppingCart size={18} />
                  <span>Sign Up</span>
                </button>
              </div>
            </div>

            <!-- Quarterly Plan -->
            <div class="relative">
              <div class="absolute -inset-1 bg-gradient-to-r from-red-500 to-pink-500 rounded-2xl opacity-25 blur"></div>
              <div class="relative bg-slate-800/80 backdrop-blur-xl border border-red-500/30 rounded-2xl p-6">
                <div class="absolute -top-3 -right-3 px-3 py-1 bg-gradient-to-r from-orange-500 to-red-500 text-white text-xs font-bold rounded-full">
                  Save 8%
                </div>

                <div class="mb-6">
                  <h3 class="text-xl font-bold text-white mb-2">Quarterly</h3>
                  <div class="flex items-baseline gap-2">
                    <span class="text-4xl font-bold bg-gradient-to-r from-red-300 to-pink-300 bg-clip-text text-transparent">$549</span>
                    <span class="text-slate-400 text-sm">/3 months</span>
                  </div>
                  <p class="text-xs text-slate-400 mt-2">$183/month - Save $48</p>
                </div>

                <button
                  on:click={() => handleSignUp('quarterly')}
                  class="w-full px-6 py-3 bg-gradient-to-r from-red-500 to-pink-500 text-white font-bold rounded-xl hover:shadow-lg hover:shadow-red-500/50 transition-all duration-300 flex items-center justify-center gap-2"
                >
                  <IconShoppingCart size={18} />
                  <span>Sign Up</span>
                </button>
              </div>
            </div>

            <!-- Yearly Plan -->
            <div class="relative">
              <div class="absolute -inset-1 bg-gradient-to-r from-pink-500 to-rose-500 rounded-2xl opacity-30 blur"></div>
              <div class="relative bg-slate-800/80 backdrop-blur-xl border border-pink-500/30 rounded-2xl p-6">
                <div class="absolute -top-3 -right-3 px-3 py-1 bg-gradient-to-r from-orange-500 to-yellow-500 text-white text-xs font-bold rounded-full">
                  Best Value
                </div>

                <div class="mb-6">
                  <h3 class="text-xl font-bold text-white mb-2">Yearly</h3>
                  <div class="flex items-baseline gap-2">
                    <span class="text-4xl font-bold bg-gradient-to-r from-pink-300 to-rose-300 bg-clip-text text-transparent">$1,999</span>
                    <span class="text-slate-400 text-sm">/year</span>
                  </div>
                  <p class="text-xs text-slate-400 mt-2">$166/month - Save $389</p>
                </div>

                <button
                  on:click={() => handleSignUp('yearly')}
                  class="w-full px-6 py-3 bg-gradient-to-r from-pink-500 to-rose-500 text-white font-bold rounded-xl hover:shadow-lg hover:shadow-pink-500/50 transition-all duration-300 flex items-center justify-center gap-2"
                >
                  <IconShoppingCart size={18} />
                  <span>Sign Up</span>
                </button>
              </div>
            </div>
          </div>

          <!-- Additional Info -->
          <div class="mt-8 text-center">
            <p class="text-slate-400">
              Cancel anytime  No long-term commitment  Full access from day one
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  /* Animated gradient background */
  .gradient-bg {
    background: linear-gradient(135deg,
      #0f172a 0%,
      #7c2d12 25%,
      #0f172a 50%,
      #991b1b 75%,
      #0f172a 100%
    );
    background-size: 400% 400%;
    animation: gradientShift 25s ease infinite;
  }

  @keyframes gradientShift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  /* Grid overlay */
  .grid-overlay {
    background-image:
      linear-gradient(rgba(249, 115, 22, 0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(249, 115, 22, 0.03) 1px, transparent 1px);
    background-size: 50px 50px;
    animation: gridMove 30s linear infinite;
    pointer-events: none;
  }

  @keyframes gridMove {
    0% { transform: translate(0, 0); }
    100% { transform: translate(50px, 50px); }
  }

  /* Glowing orbs */
  .glow-orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.4;
    pointer-events: none;
  }

  .glow-orb-1 {
    width: 600px;
    height: 600px;
    top: -100px;
    left: 50%;
    background: radial-gradient(circle, #f97316, transparent 70%);
    animation: float1 25s ease-in-out infinite;
  }

  .glow-orb-2 {
    width: 500px;
    height: 500px;
    bottom: -100px;
    right: 10%;
    background: radial-gradient(circle, #dc2626, transparent 70%);
    animation: float2 30s ease-in-out infinite;
  }

  @keyframes float1 {
    0%, 100% { transform: translateX(-50%) translateY(0) scale(1); }
    50% { transform: translateX(-50%) translateY(-50px) scale(1.1); }
  }

  @keyframes float2 {
    0%, 100% { transform: translateY(0) scale(1); }
    50% { transform: translateY(50px) scale(0.9); }
  }

  /* Responsive */
  @media (max-width: 640px) {
    .glow-orb {
      filter: blur(60px);
      opacity: 0.3;
    }

    .glow-orb-1, .glow-orb-2 {
      width: 300px;
      height: 300px;
    }
  }
</style>

# END OF frontend/src/routes/spx-profit-pulse/+page.svelte


##################################################################
# FILE: frontend/src/routes/alert-services/explosive-swings/+page.svelte
# PATH: frontend/src/routes/alert-services/explosive-swings/+page.svelte
##################################################################

<script lang="ts">
  let selectedPlan = 'monthly';
</script>

<svelte:head>
  <title>Explosive Swings Alerts | Multi-Day Swing Trading | Revolution Trading Pros</title>
  <meta name="description" content="Get explosive swing trading alerts for multi-day opportunities. Expert analysis, precise entries/exits, and proven strategies for swing traders." />
</svelte:head>

<!-- Hero Section -->
<section class="relative bg-gradient-to-br from-rtp-emerald via-rtp-blue to-rtp-primary text-white py-20 md:py-32">
  <div class="absolute inset-0 bg-black/20"></div>
  <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center">
      <div class="inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full mb-6">
        <svg class="w-4 h-4 text-emerald-400" fill="currentColor" viewBox="0 0 20 20">
          <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/>
          <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/>
        </svg>
        <span class="text-sm font-medium">Premium Swing Trading Alerts</span>
      </div>
      <h1 class="text-4xl md:text-6xl font-heading font-bold mb-6">
        Explosive Swings
      </h1>
      <p class="text-xl md:text-2xl text-white/90 mb-8 max-w-3xl mx-auto">
        Catch multi-day swing trades with our premium alert service. Get precise entry/exit signals for high-probability setups.
      </p>
      <div class="flex flex-wrap gap-4 justify-center">
        <a href="#pricing" class="bg-white text-rtp-emerald px-8 py-3 rounded-lg font-semibold hover:bg-rtp-bg transition-all hover:scale-105 shadow-lg">
          Subscribe Now
        </a>
        <a href="#pricing" class="bg-white/10 backdrop-blur-sm text-white border-2 border-white/20 px-8 py-3 rounded-lg font-semibold hover:bg-white/20 transition-all">
          View Pricing
        </a>
      </div>
    </div>
  </div>
</section>

<!-- Stats Bar -->
<section class="bg-rtp-surface border-b border-rtp-border py-12">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
      <div class="text-center">
        <div class="text-3xl md:text-4xl font-bold text-rtp-emerald mb-2">82%</div>
        <div class="text-rtp-muted font-medium">Win Rate</div>
      </div>
      <div class="text-center">
        <div class="text-3xl md:text-4xl font-bold text-rtp-primary mb-2">3-7</div>
        <div class="text-rtp-muted font-medium">Days Hold Time</div>
      </div>
      <div class="text-center">
        <div class="text-3xl md:text-4xl font-bold text-rtp-indigo mb-2">4:1</div>
        <div class="text-rtp-muted font-medium">Avg Risk/Reward</div>
      </div>
      <div class="text-center">
        <div class="text-3xl md:text-4xl font-bold text-rtp-blue mb-2">2-4</div>
        <div class="text-rtp-muted font-medium">Alerts Per Week</div>
      </div>
    </div>
  </div>
</section>

<!-- What You Get -->
<section class="py-20 bg-rtp-bg">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-5xl font-heading font-bold text-rtp-text mb-4">
        What's Included
      </h2>
      <p class="text-xl text-rtp-muted max-w-3xl mx-auto">
        Everything you need to execute profitable swing trades
      </p>
    </div>

    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all">
        <div class="w-12 h-12 bg-rtp-emerald/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-emerald" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Precise Entry Alerts</h3>
        <p class="text-rtp-muted leading-relaxed">
          Get exact entry prices, position sizes, and stop losses for each swing trade setup.
        </p>
      </div>

      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all">
        <div class="w-12 h-12 bg-rtp-primary/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Technical Analysis</h3>
        <p class="text-rtp-muted leading-relaxed">
          Detailed chart analysis explaining the setup, key levels, and expected price action.
        </p>
      </div>

      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all">
        <div class="w-12 h-12 bg-rtp-indigo/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-indigo" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Exit Management</h3>
        <p class="text-rtp-muted leading-relaxed">
          Real-time updates on profit targets, trailing stops, and when to exit positions.
        </p>
      </div>

      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all">
        <div class="w-12 h-12 bg-rtp-blue/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-blue" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Risk Management</h3>
        <p class="text-rtp-muted leading-relaxed">
          Clear risk parameters with calculated position sizing based on account size.
        </p>
      </div>

      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all">
        <div class="w-12 h-12 bg-rtp-emerald/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-emerald" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">SMS & Email Alerts</h3>
        <p class="text-rtp-muted leading-relaxed">
          Receive instant notifications via SMS, email, and Discord for all new alerts.
        </p>
      </div>

      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all">
        <div class="w-12 h-12 bg-rtp-primary/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Trading Education</h3>
        <p class="text-rtp-muted leading-relaxed">
          Learn the strategies behind each trade with detailed explanations and market context.
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Trading Strategy -->
<section class="py-20 bg-rtp-surface">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid md:grid-cols-2 gap-12 items-center">
      <div>
        <h2 class="text-3xl md:text-5xl font-heading font-bold text-rtp-text mb-6">
          Our Swing Trading Approach
        </h2>
        <p class="text-lg text-rtp-muted mb-8">
          We focus on high-probability swing setups with clear technical levels and momentum confirmation. Each trade is carefully analyzed for optimal risk/reward ratios.
        </p>
        <div class="space-y-4">
          <div class="flex items-start gap-4">
            <div class="flex-shrink-0 w-8 h-8 bg-rtp-emerald rounded-full flex items-center justify-center">
              <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
            </div>
            <div>
              <h3 class="font-semibold text-rtp-text mb-1">Technical Confirmation</h3>
              <p class="text-rtp-muted">Multiple timeframe analysis with clear support/resistance levels</p>
            </div>
          </div>
          <div class="flex items-start gap-4">
            <div class="flex-shrink-0 w-8 h-8 bg-rtp-emerald rounded-full flex items-center justify-center">
              <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
            </div>
            <div>
              <h3 class="font-semibold text-rtp-text mb-1">Momentum Analysis</h3>
              <p class="text-rtp-muted">Volume confirmation and momentum indicators for entry timing</p>
            </div>
          </div>
          <div class="flex items-start gap-4">
            <div class="flex-shrink-0 w-8 h-8 bg-rtp-emerald rounded-full flex items-center justify-center">
              <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
            </div>
            <div>
              <h3 class="font-semibold text-rtp-text mb-1">Risk Management</h3>
              <p class="text-rtp-muted">Defined stop losses and profit targets with 3:1 minimum R/R</p>
            </div>
          </div>
        </div>
      </div>
      <div class="bg-rtp-bg p-8 rounded-2xl">
        <h3 class="text-2xl font-heading font-bold text-rtp-text mb-6">Typical Trade Profile</h3>
        <div class="space-y-6">
          <div>
            <div class="flex justify-between mb-2">
              <span class="text-rtp-muted">Hold Time</span>
              <span class="font-semibold text-rtp-text">3-7 Days</span>
            </div>
            <div class="w-full bg-rtp-border rounded-full h-2">
              <div class="bg-rtp-emerald h-2 rounded-full" style="width: 75%"></div>
            </div>
          </div>
          <div>
            <div class="flex justify-between mb-2">
              <span class="text-rtp-muted">Win Rate</span>
              <span class="font-semibold text-rtp-text">82%</span>
            </div>
            <div class="w-full bg-rtp-border rounded-full h-2">
              <div class="bg-rtp-primary h-2 rounded-full" style="width: 82%"></div>
            </div>
          </div>
          <div>
            <div class="flex justify-between mb-2">
              <span class="text-rtp-muted">Avg Profit Target</span>
              <span class="font-semibold text-rtp-text">15-30%</span>
            </div>
            <div class="w-full bg-rtp-border rounded-full h-2">
              <div class="bg-rtp-indigo h-2 rounded-full" style="width: 65%"></div>
            </div>
          </div>
          <div>
            <div class="flex justify-between mb-2">
              <span class="text-rtp-muted">Max Risk Per Trade</span>
              <span class="font-semibold text-rtp-text">2-3%</span>
            </div>
            <div class="w-full bg-rtp-border rounded-full h-2">
              <div class="bg-rtp-blue h-2 rounded-full" style="width: 25%"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Pricing Section -->
<section id="pricing" class="py-20 bg-rtp-bg">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-5xl font-heading font-bold text-rtp-text mb-4">
        Simple Pricing
      </h2>
      <p class="text-xl text-rtp-muted max-w-3xl mx-auto">
        Choose your plan and start receiving explosive swing trade alerts today
      </p>
    </div>

    <div class="flex justify-center mb-12">
      <div class="bg-rtp-surface p-1 rounded-lg shadow-md inline-flex gap-1">
        <button
          on:click={() => selectedPlan = 'monthly'}
          class="px-6 py-2 rounded-md font-semibold transition-all {selectedPlan === 'monthly' ? 'bg-rtp-emerald text-white' : 'text-rtp-muted hover:text-rtp-text'}"
        >
          Monthly
        </button>
        <button
          on:click={() => selectedPlan = 'annual'}
          class="px-6 py-2 rounded-md font-semibold transition-all {selectedPlan === 'annual' ? 'bg-rtp-emerald text-white' : 'text-rtp-muted hover:text-rtp-text'}"
        >
          Annual
        </button>
      </div>
    </div>

    <div class="max-w-md mx-auto">
      {#if selectedPlan === 'monthly'}
        <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg border-2 border-rtp-emerald">
          <div class="text-center mb-8">
            <h3 class="text-2xl font-heading font-bold text-rtp-text mb-2">Monthly</h3>
            <div class="text-5xl font-bold text-rtp-emerald mb-2">$97</div>
            <div class="text-rtp-muted">per month</div>
          </div>
          <ul class="space-y-4 mb-8">
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text">2-4 swing alerts per week</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text">SMS & Email notifications</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text">Full technical analysis</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text">Real-time exit updates</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text">Discord community access</span>
            </li>
          </ul>
          <button class="w-full bg-rtp-emerald text-white py-3 rounded-lg font-semibold hover:bg-emerald-600 transition-all hover:scale-105">
            Subscribe Now
          </button>
        </div>
      {:else}
        <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg border-2 border-rtp-primary">
          <div class="inline-block bg-rtp-emerald text-white px-3 py-1 rounded-full text-sm font-semibold mb-4">
            Save 20%
          </div>
          <div class="text-center mb-8">
            <h3 class="text-2xl font-heading font-bold text-rtp-text mb-2">Annual</h3>
            <div class="text-5xl font-bold text-rtp-primary mb-2">$927</div>
            <div class="text-rtp-muted">per year ($77/month)</div>
          </div>
          <ul class="space-y-4 mb-8">
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text">Everything in Monthly</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text font-semibold">Save $237 per year</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text">Priority support</span>
            </li>
            <li class="flex items-start gap-3">
              <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span class="text-rtp-text">Exclusive indicators</span>
            </li>
          </ul>
          <button class="w-full bg-rtp-primary text-white py-3 rounded-lg font-semibold hover:bg-rtp-blue transition-all hover:scale-105">
            Subscribe Now
          </button>
        </div>
      {/if}
    </div>
  </div>
</section>

<!-- Final CTA -->
<section class="py-20 bg-gradient-to-br from-rtp-emerald to-rtp-primary text-white">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
    <h2 class="text-3xl md:text-5xl font-heading font-bold mb-6">
      Start Trading Explosive Swings
    </h2>
    <p class="text-xl text-white/90 mb-8 max-w-2xl mx-auto">
      Join hundreds of profitable swing traders. 30-day money-back guarantee.
    </p>
    <a href="#pricing" class="inline-block bg-white text-rtp-emerald px-8 py-4 rounded-lg font-semibold hover:bg-rtp-bg transition-all hover:scale-105 shadow-lg">
      Get Started Today
    </a>
  </div>
</section>

# END OF frontend/src/routes/alert-services/explosive-swings/+page.svelte


##################################################################
# FILE: frontend/src/routes/alert-services/spx-profit-pulse/+page.svelte
# PATH: frontend/src/routes/alert-services/spx-profit-pulse/+page.svelte
##################################################################

<svelte:head>
  <title>SPX Profit Pulse | Premium 0DTE Alerts | Revolution Trading Pros</title>
  <meta name="description" content="Get professional SPX 0DTE options alerts sent directly to your phone. Real-time entries, exits, and adjustments from experienced traders." />
  <link rel="canonical" href="https://revolutiontradingpros.com/alert-services/spx-profit-pulse" />
</svelte:head>

<!-- Hero Section -->
<section class="relative bg-gradient-to-br from-rtp-primary via-rtp-blue to-rtp-indigo text-white py-20 md:py-32 overflow-hidden">
  <div class="absolute inset-0">
    <div class="absolute inset-0 bg-black/30"></div>
    <div class="absolute top-0 right-0 w-96 h-96 bg-rtp-blue/30 rounded-full blur-3xl"></div>
    <div class="absolute bottom-0 left-0 w-96 h-96 bg-rtp-indigo/30 rounded-full blur-3xl"></div>
  </div>
  <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center">
      <div class="inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full mb-6">
        <svg class="w-4 h-4 text-emerald-300 animate-pulse" fill="currentColor" viewBox="0 0 20 20">
          <path d="M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"/>
          <path d="M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"/>
        </svg>
        <span class="text-sm font-medium">Real-Time SMS & Discord Alerts</span>
      </div>
      <h1 class="text-4xl md:text-6xl font-heading font-bold mb-6">
        SPX Profit Pulse
      </h1>
      <p class="text-xl md:text-2xl text-white/90 mb-8 max-w-3xl mx-auto">
        Professional SPX 0DTE options alerts delivered instantly to your phone. Follow along with experienced traders and never miss a setup.
      </p>
      <div class="flex flex-wrap gap-4 justify-center">
        <a href="#pricing" class="bg-white text-rtp-primary px-8 py-3 rounded-lg font-semibold hover:bg-rtp-bg transition-all hover:scale-105 shadow-lg">
          Get Started
        </a>
        <a href="#performance" class="bg-white/10 backdrop-blur-sm text-white border-2 border-white/20 px-8 py-3 rounded-lg font-semibold hover:bg-white/20 transition-all">
          View Performance
        </a>
      </div>
    </div>
  </div>
</section>

<!-- Stats Bar -->
<section class="bg-rtp-surface border-b border-rtp-border py-12">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
      <div class="text-center">
        <div class="text-3xl md:text-4xl font-bold text-rtp-emerald mb-2">78%</div>
        <div class="text-rtp-muted font-medium">Win Rate</div>
      </div>
      <div class="text-center">
        <div class="text-3xl md:text-4xl font-bold text-rtp-primary mb-2">&lt;30s</div>
        <div class="text-rtp-muted font-medium">Alert Speed</div>
      </div>
      <div class="text-center">
        <div class="text-3xl md:text-4xl font-bold text-rtp-indigo mb-2">3-5</div>
        <div class="text-rtp-muted font-medium">Alerts Per Day</div>
      </div>
      <div class="text-center">
        <div class="text-3xl md:text-4xl font-bold text-rtp-blue mb-2">1000+</div>
        <div class="text-rtp-muted font-medium">Active Subscribers</div>
      </div>
    </div>
  </div>
</section>

<!-- What You Get Section -->
<section class="py-20 bg-rtp-bg">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-5xl font-heading font-bold text-rtp-text mb-4">
        What's Included
      </h2>
      <p class="text-xl text-rtp-muted max-w-3xl mx-auto">
        Everything you need to trade SPX 0DTE options with confidence
      </p>
    </div>

    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
      <!-- Feature 1 -->
      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all hover:-translate-y-1">
        <div class="w-12 h-12 bg-rtp-primary/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">SMS Text Alerts</h3>
        <p class="text-rtp-muted leading-relaxed">
          Instant trade alerts sent directly to your phone via SMS. Never miss an entry or exit.
        </p>
      </div>

      <!-- Feature 2 -->
      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all hover:-translate-y-1">
        <div class="w-12 h-12 bg-rtp-indigo/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-indigo" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Discord Alerts</h3>
        <p class="text-rtp-muted leading-relaxed">
          Detailed alerts in our private Discord with charts, analysis, and real-time updates.
        </p>
      </div>

      <!-- Feature 3 -->
      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all hover:-translate-y-1">
        <div class="w-12 h-12 bg-rtp-emerald/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-emerald" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Entry Alerts</h3>
        <p class="text-rtp-muted leading-relaxed">
          Clear entry signals with specific strike prices, premiums, and entry reasoning.
        </p>
      </div>

      <!-- Feature 4 -->
      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all hover:-translate-y-1">
        <div class="w-12 h-12 bg-rtp-blue/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-blue" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Profit Targets</h3>
        <p class="text-rtp-muted leading-relaxed">
          Multiple profit targets (25%, 50%, 75%, 100%) so you can scale out of positions.
        </p>
      </div>

      <!-- Feature 5 -->
      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all hover:-translate-y-1">
        <div class="w-12 h-12 bg-rtp-primary/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Stop Losses</h3>
        <p class="text-rtp-muted leading-relaxed">
          Clear stop loss levels to protect your capital and manage risk on every trade.
        </p>
      </div>

      <!-- Feature 6 -->
      <div class="bg-rtp-surface p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all hover:-translate-y-1">
        <div class="w-12 h-12 bg-rtp-emerald/10 rounded-xl flex items-center justify-center mb-6">
          <svg class="w-6 h-6 text-rtp-emerald" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
          </svg>
        </div>
        <h3 class="text-xl font-heading font-bold text-rtp-text mb-3">Position Updates</h3>
        <p class="text-rtp-muted leading-relaxed">
          Real-time updates for adjustments, rolling positions, or closing trades early.
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Alert Example Section -->
<section class="py-20 bg-rtp-surface">
  <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-5xl font-heading font-bold text-rtp-text mb-4">
        Sample Alerts
      </h2>
      <p class="text-xl text-rtp-muted">
        See what our alerts look like
      </p>
    </div>

    <div class="space-y-6">
      <!-- Entry Alert -->
      <div class="bg-gradient-to-br from-rtp-emerald/10 to-rtp-primary/10 p-8 rounded-2xl border-2 border-rtp-emerald">
        <div class="flex items-center gap-3 mb-4">
          <div class="w-12 h-12 bg-rtp-emerald rounded-lg flex items-center justify-center">
            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
            </svg>
          </div>
          <div>
            <div class="text-sm font-semibold text-rtp-emerald uppercase">Entry Alert</div>
            <div class="text-xs text-rtp-muted">9:45 AM EST</div>
          </div>
        </div>
        <div class="bg-rtp-surface p-4 rounded-lg font-mono text-sm">
          <p class="text-rtp-text mb-2"><strong>SPX 0DTE Call Entry</strong></p>
          <p class="text-rtp-muted mb-1">Strike: 4,580 | Premium: $3.50</p>
          <p class="text-rtp-muted mb-1">Position Size: 1-3 contracts</p>
          <p class="text-rtp-muted mb-1">Stop Loss: $2.10 (40% loss)</p>
          <p class="text-rtp-muted mb-3">Targets: $4.50 (25%), $5.25 (50%), $7.00 (100%)</p>
          <p class="text-rtp-text text-xs">Reasoning: SPX holding above VWAP with bullish momentum. Looking for continuation to 4,590.</p>
        </div>
      </div>

      <!-- Update Alert -->
      <div class="bg-gradient-to-br from-rtp-blue/10 to-rtp-primary/10 p-8 rounded-2xl border-2 border-rtp-blue">
        <div class="flex items-center gap-3 mb-4">
          <div class="w-12 h-12 bg-rtp-blue rounded-lg flex items-center justify-center">
            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </div>
          <div>
            <div class="text-sm font-semibold text-rtp-blue uppercase">Position Update</div>
            <div class="text-xs text-rtp-muted">10:15 AM EST</div>
          </div>
        </div>
        <div class="bg-rtp-surface p-4 rounded-lg font-mono text-sm">
          <p class="text-rtp-text mb-2"><strong>SPX 4,580 Call Update</strong></p>
          <p class="text-rtp-muted mb-1">Current Premium: $5.25 (50% profit)</p>
          <p class="text-rtp-muted mb-3">Action: Take 50% off the table, let remaining ride to $7.00 target</p>
          <p class="text-rtp-text text-xs">Update: First target hit. Securing profits and trailing stop to breakeven on remaining position.</p>
        </div>
      </div>

      <!-- Exit Alert -->
      <div class="bg-gradient-to-br from-rtp-primary/10 to-rtp-indigo/10 p-8 rounded-2xl border-2 border-rtp-primary">
        <div class="flex items-center gap-3 mb-4">
          <div class="w-12 h-12 bg-rtp-primary rounded-lg flex items-center justify-center">
            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </div>
          <div>
            <div class="text-sm font-semibold text-rtp-primary uppercase">Exit Alert</div>
            <div class="text-xs text-rtp-muted">11:30 AM EST</div>
          </div>
        </div>
        <div class="bg-rtp-surface p-4 rounded-lg font-mono text-sm">
          <p class="text-rtp-text mb-2"><strong>SPX 4,580 Call - Full Exit</strong></p>
          <p class="text-rtp-muted mb-1">Exit Premium: $7.10</p>
          <p class="text-rtp-emerald mb-3"><strong>Total Profit: +103%</strong></p>
          <p class="text-rtp-text text-xs">Closing remaining position at final target. Great trade team! </p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Performance Section -->
<section id="performance" class="py-20 bg-rtp-bg">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-5xl font-heading font-bold text-rtp-text mb-4">
        Recent Performance
      </h2>
      <p class="text-xl text-rtp-muted">
        Last 30 days of SPX Profit Pulse alerts
      </p>
    </div>

    <div class="grid md:grid-cols-4 gap-8 mb-12">
      <div class="bg-rtp-surface p-6 rounded-xl text-center border border-rtp-border">
        <div class="text-4xl font-bold text-rtp-emerald mb-2">78%</div>
        <div class="text-rtp-muted font-medium">Win Rate</div>
      </div>
      <div class="bg-rtp-surface p-6 rounded-xl text-center border border-rtp-border">
        <div class="text-4xl font-bold text-rtp-primary mb-2">+42%</div>
        <div class="text-rtp-muted font-medium">Avg Winner</div>
      </div>
      <div class="bg-rtp-surface p-6 rounded-xl text-center border border-rtp-border">
        <div class="text-4xl font-bold text-rtp-indigo mb-2">-18%</div>
        <div class="text-rtp-muted font-medium">Avg Loser</div>
      </div>
      <div class="bg-rtp-surface p-6 rounded-xl text-center border border-rtp-border">
        <div class="text-4xl font-bold text-rtp-blue mb-2">2.3:1</div>
        <div class="text-rtp-muted font-medium">Risk/Reward</div>
      </div>
    </div>

    <div class="bg-rtp-surface p-8 rounded-2xl border border-rtp-border">
      <h3 class="text-xl font-heading font-bold text-rtp-text mb-6">Recent Trades</h3>
      <div class="space-y-3">
        <div class="flex items-center justify-between p-4 bg-rtp-bg rounded-lg">
          <div class="flex-1">
            <div class="font-semibold text-rtp-text">SPX 4,560 Call</div>
            <div class="text-sm text-rtp-muted">Nov 15 | Entry: $4.20  Exit: $6.30</div>
          </div>
          <div class="text-rtp-emerald font-bold">+50%</div>
        </div>
        <div class="flex items-center justify-between p-4 bg-rtp-bg rounded-lg">
          <div class="flex-1">
            <div class="font-semibold text-rtp-text">SPX 4,575 Put</div>
            <div class="text-sm text-rtp-muted">Nov 14 | Entry: $3.80  Exit: $5.70</div>
          </div>
          <div class="text-rtp-emerald font-bold">+50%</div>
        </div>
        <div class="flex items-center justify-between p-4 bg-rtp-bg rounded-lg">
          <div class="flex-1">
            <div class="font-semibold text-rtp-text">SPX 4,590 Call</div>
            <div class="text-sm text-rtp-muted">Nov 13 | Entry: $2.90  Exit: $2.00</div>
          </div>
          <div class="text-red-500 font-bold">-31%</div>
        </div>
        <div class="flex items-center justify-between p-4 bg-rtp-bg rounded-lg">
          <div class="flex-1">
            <div class="font-semibold text-rtp-text">SPX 4,555 Put</div>
            <div class="text-sm text-rtp-muted">Nov 12 | Entry: $5.10  Exit: $8.15</div>
          </div>
          <div class="text-rtp-emerald font-bold">+60%</div>
        </div>
        <div class="flex items-center justify-between p-4 bg-rtp-bg rounded-lg">
          <div class="flex-1">
            <div class="font-semibold text-rtp-text">SPX 4,580 Call</div>
            <div class="text-sm text-rtp-muted">Nov 11 | Entry: $3.50  Exit: $4.55</div>
          </div>
          <div class="text-rtp-emerald font-bold">+30%</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Pricing Section -->
<section id="pricing" class="py-20 bg-rtp-surface">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-5xl font-heading font-bold text-rtp-text mb-4">
        Simple Pricing
      </h2>
      <p class="text-xl text-rtp-muted max-w-3xl mx-auto">
        Choose the plan that works best for you
      </p>
    </div>

    <div class="grid md:grid-cols-3 gap-8 max-w-5xl mx-auto">
      <!-- Monthly Plan -->
      <div class="bg-rtp-bg p-8 rounded-2xl shadow-lg border-2 border-rtp-border hover:border-rtp-primary transition-all">
        <div class="text-center mb-8">
          <h3 class="text-2xl font-heading font-bold text-rtp-text mb-2">Monthly</h3>
          <div class="text-5xl font-bold text-rtp-primary mb-2">$97</div>
          <div class="text-rtp-muted">per month</div>
        </div>
        <ul class="space-y-4 mb-8">
          <li class="flex items-start gap-3">
            <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <span class="text-rtp-text">SMS & Discord alerts</span>
          </li>
          <li class="flex items-start gap-3">
            <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <span class="text-rtp-text">3-5 alerts per day</span>
          </li>
          <li class="flex items-start gap-3">
            <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <span class="text-rtp-text">Full support access</span>
          </li>
        </ul>
        <button class="w-full bg-rtp-primary text-white py-3 rounded-lg font-semibold hover:bg-rtp-blue transition-all hover:scale-105">
          Get Started
        </button>
      </div>

      <!-- Quarterly Plan -->
      <div class="bg-rtp-bg p-8 rounded-2xl shadow-xl border-2 border-rtp-primary transform md:scale-105">
        <div class="inline-block bg-rtp-primary text-white px-3 py-1 rounded-full text-sm font-semibold mb-4">
          Most Popular
        </div>
        <div class="text-center mb-8">
          <h3 class="text-2xl font-heading font-bold text-rtp-text mb-2">Quarterly</h3>
          <div class="text-5xl font-bold text-rtp-primary mb-2">$247</div>
          <div class="text-rtp-muted">per quarter ($82/month)</div>
        </div>
        <ul class="space-y-4 mb-8">
          <li class="flex items-start gap-3">
            <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <span class="text-rtp-text">Everything in Monthly</span>
          </li>
          <li class="flex items-start gap-3">
            <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <span class="text-rtp-text font-semibold">Save $45 (15%)</span>
          </li>
          <li class="flex items-start gap-3">
            <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <span class="text-rtp-text">Priority support</span>
          </li>
        </ul>
        <button class="w-full bg-rtp-primary text-white py-3 rounded-lg font-semibold hover:bg-rtp-blue transition-all hover:scale-105">
          Get Started
        </button>
      </div>

      <!-- Annual Plan -->
      <div class="bg-rtp-bg p-8 rounded-2xl shadow-lg border-2 border-rtp-emerald hover:border-rtp-emerald transition-all">
        <div class="inline-block bg-rtp-emerald text-white px-3 py-1 rounded-full text-sm font-semibold mb-4">
          Best Value
        </div>
        <div class="text-center mb-8">
          <h3 class="text-2xl font-heading font-bold text-rtp-text mb-2">Annual</h3>
          <div class="text-5xl font-bold text-rtp-primary mb-2">$777</div>
          <div class="text-rtp-muted">per year ($65/month)</div>
        </div>
        <ul class="space-y-4 mb-8">
          <li class="flex items-start gap-3">
            <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <span class="text-rtp-text">Everything in Quarterly</span>
          </li>
          <li class="flex items-start gap-3">
            <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <span class="text-rtp-text font-semibold">Save $387 (33%)</span>
          </li>
          <li class="flex items-start gap-3">
            <svg class="w-6 h-6 text-rtp-emerald flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <span class="text-rtp-text">Exclusive indicators</span>
          </li>
        </ul>
        <button class="w-full bg-rtp-emerald text-white py-3 rounded-lg font-semibold hover:bg-emerald-600 transition-all hover:scale-105">
          Get Started
        </button>
      </div>
    </div>
  </div>
</section>

<!-- Testimonials Section -->
<section class="py-20 bg-rtp-bg">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-5xl font-heading font-bold text-rtp-text mb-4">
        What Subscribers Say
      </h2>
    </div>

    <div class="grid md:grid-cols-3 gap-8">
      <div class="bg-rtp-surface p-8 rounded-2xl border border-rtp-border">
        <div class="flex items-center gap-1 mb-4">
          {#each Array(5) as _}
            <svg class="w-5 h-5 text-yellow-400 fill-current" viewBox="0 0 20 20">
              <path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"/>
            </svg>
          {/each}
        </div>
        <p class="text-rtp-text mb-6 italic">
          "The alerts are incredibly fast and accurate. I've been following for 3 months and my account is up significantly."
        </p>
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-rtp-primary rounded-full flex items-center justify-center text-white font-bold">
            DL
          </div>
          <div>
            <div class="font-semibold text-rtp-text">David L.</div>
            <div class="text-sm text-rtp-muted">Subscriber since 2024</div>
          </div>
        </div>
      </div>

      <div class="bg-rtp-surface p-8 rounded-2xl border border-rtp-border">
        <div class="flex items-center gap-1 mb-4">
          {#each Array(5) as _}
            <svg class="w-5 h-5 text-yellow-400 fill-current" viewBox="0 0 20 20">
              <path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"/>
            </svg>
          {/each}
        </div>
        <p class="text-rtp-text mb-6 italic">
          "Best alert service I've tried. The clear entry, exit, and stop loss levels make it easy to follow along even as a beginner."
        </p>
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-rtp-emerald rounded-full flex items-center justify-center text-white font-bold">
            JW
          </div>
          <div>
            <div class="font-semibold text-rtp-text">Jennifer W.</div>
            <div class="text-sm text-rtp-muted">Subscriber since 2023</div>
          </div>
        </div>
      </div>

      <div class="bg-rtp-surface p-8 rounded-2xl border border-rtp-border">
        <div class="flex items-center gap-1 mb-4">
          {#each Array(5) as _}
            <svg class="w-5 h-5 text-yellow-400 fill-current" viewBox="0 0 20 20">
              <path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"/>
            </svg>
          {/each}
        </div>
        <p class="text-rtp-text mb-6 italic">
          "The performance speaks for itself. Worth every penny. SMS alerts mean I never miss a trade even when I'm away from my desk."
        </p>
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-rtp-indigo rounded-full flex items-center justify-center text-white font-bold">
            PT
          </div>
          <div>
            <div class="font-semibold text-rtp-text">Paul T.</div>
            <div class="text-sm text-rtp-muted">Subscriber since 2023</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Final CTA -->
<section class="py-20 bg-gradient-to-br from-rtp-primary to-rtp-indigo text-white">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
    <h2 class="text-3xl md:text-5xl font-heading font-bold mb-6">
      Start Receiving Alerts Today
    </h2>
    <p class="text-xl text-white/90 mb-8 max-w-2xl mx-auto">
      Join over 1,000 traders receiving professional SPX 0DTE alerts. 14-day money-back guarantee.
    </p>
    <div class="flex flex-wrap gap-4 justify-center">
      <a href="#pricing" class="bg-white text-rtp-primary px-8 py-4 rounded-lg font-semibold hover:bg-rtp-bg transition-all hover:scale-105 shadow-lg">
        Choose Your Plan
      </a>
      <a href="/resources" class="bg-white/10 backdrop-blur-sm text-white border-2 border-white/20 px-8 py-4 rounded-lg font-semibold hover:bg-white/20 transition-all">
        Learn More
      </a>
    </div>
  </div>
</section>

# END OF frontend/src/routes/alert-services/spx-profit-pulse/+page.svelte


##################################################################
# FILE: frontend/src/routes/courses/+page.svelte
# PATH: frontend/src/routes/courses/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { browser } from '$app/environment';
  import NavBar from '$lib/components/NavBar.svelte';
  import {
    IconSchool,
    IconTrendingUp,
    IconChartCandle,
    IconClock,
    IconUsers,
    IconCertificate,
    IconChartLine,
    IconBrain,
    IconShield,
    IconRocket,
    IconStar
  } from '@tabler/icons-svelte';

  interface Course {
    id: string;
    title: string;
    slug: string;
    description: string;
    level: string;
    duration: string;
    students: string;
    rating: number;
    price: string;
    icon: any;
    features: string[];
    gradient: string;
  }

  const courses: Course[] = [
    {
      id: '1',
      title: 'Day Trading Masterclass',
      slug: 'day-trading-masterclass',
      description: 'Master the art of day trading with institutional-grade strategies, real-time execution tactics, and professional risk management.',
      level: 'Intermediate to Advanced',
      duration: '8 Weeks',
      students: '2,847',
      rating: 4.9,
      price: '$497',
      icon: IconChartCandle,
      features: [
        'Live trading sessions with pro traders',
        'Real-time market analysis and execution',
        'Advanced chart reading and pattern recognition',
        'Risk management and position sizing',
        'Psychology and discipline training'
      ],
      gradient: 'linear-gradient(135deg, #2e8eff 0%, #1e5cb8 100%)'
    },
    {
      id: '2',
      title: 'Swing Trading Pro',
      slug: 'swing-trading-pro',
      description: 'Learn professional swing trading strategies to capture multi-day moves with precision entries and optimal risk-reward setups.',
      level: 'Beginner to Intermediate',
      duration: '6 Weeks',
      students: '3,421',
      rating: 4.8,
      price: '$397',
      icon: IconChartLine,
      features: [
        'Weekly market analysis and trade setups',
        'Trend identification and momentum trading',
        'Support and resistance mastery',
        'Trade management and exit strategies',
        'Swing trading psychology'
      ],
      gradient: 'linear-gradient(135deg, #34d399 0%, #059669 100%)'
    },
    {
      id: '3',
      title: 'Options Trading Fundamentals',
      slug: 'options-trading',
      description: 'Unlock the power of options trading with comprehensive training on strategies, Greeks, volatility analysis, and risk management.',
      level: 'Intermediate',
      duration: '10 Weeks',
      students: '1,892',
      rating: 4.9,
      price: '$597',
      icon: IconBrain,
      features: [
        'Options fundamentals and terminology',
        'Understanding the Greeks (Delta, Gamma, Theta, Vega)',
        'Popular strategies (spreads, straddles, iron condors)',
        'Volatility analysis and implied volatility',
        'Advanced risk management for options'
      ],
      gradient: 'linear-gradient(135deg, #a78bfa 0%, #7c3aed 100%)'
    },
    {
      id: '4',
      title: 'Risk Management Mastery',
      slug: 'risk-management',
      description: 'Professional risk management techniques used by institutional traders to preserve capital and maximize long-term profitability.',
      level: 'All Levels',
      duration: '4 Weeks',
      students: '4,156',
      rating: 5.0,
      price: '$297',
      icon: IconShield,
      features: [
        'Position sizing and portfolio allocation',
        'Stop-loss strategies and trade management',
        'Maximum drawdown prevention',
        'Kelly Criterion and expectancy calculations',
        'Building a professional trading plan'
      ],
      gradient: 'linear-gradient(135deg, #fb923c 0%, #ea580c 100%)'
    }
  ];

  let heroVisible = false;
  let cardsVisible: boolean[] = new Array(courses.length).fill(false);

  onMount(() => {
    if (!browser) return;

    // Hero animation
    const heroObserver = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            heroVisible = true;
          }
        });
      },
      { threshold: 0.2 }
    );

    const heroElement = document.querySelector('.hero-section');
    if (heroElement) heroObserver.observe(heroElement);

    // Card animations
    const cardObserver = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            const index = parseInt(entry.target.getAttribute('data-index') || '0');
            cardsVisible[index] = true;
          }
        });
      },
      { threshold: 0.1 }
    );

    const cardElements = document.querySelectorAll('.course-card');
    cardElements.forEach((card) => cardObserver.observe(card));

    return () => {
      heroObserver.disconnect();
      cardObserver.disconnect();
    };
  });
</script>

<svelte:head>
  <title>Professional Trading Courses | Revolution Trading</title>
  <meta name="description" content="Master trading with our professional courses. Day trading, swing trading, options, and risk management from industry experts." />
  <meta property="og:title" content="Professional Trading Courses | Revolution Trading" />
  <meta property="og:description" content="Master trading with our professional courses. Day trading, swing trading, options, and risk management from industry experts." />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Professional Trading Courses | Revolution Trading" />
  <meta name="twitter:description" content="Master trading with our professional courses. Day trading, swing trading, options, and risk management from industry experts." />
</svelte:head>

<div class="courses-page">
  <NavBar />

  <!-- Hero Section -->
  <section class="hero-section" class:visible={heroVisible}>
    <div class="hero-background">
      <div class="glow-orb glow-orb-1"></div>
      <div class="glow-orb glow-orb-2"></div>
    </div>

    <div class="hero-content">
      <div class="hero-badge">
        <IconCertificate size={20} stroke={2} />
        <span>Professional Trading Education</span>
      </div>

      <h1 class="hero-title">
        Master Trading With<br />
        <span class="gradient-text">Institutional-Grade Courses</span>
      </h1>

      <p class="hero-description">
        Learn from professional traders with proven track records. Our comprehensive courses combine
        institutional strategies, real-time analysis, and hands-on training to transform you into a
        consistently profitable trader.
      </p>

      <div class="hero-stats">
        <div class="stat-item">
          <IconUsers size={32} stroke={1.5} class="stat-icon" />
          <div class="stat-content">
            <div class="stat-value">10,000+</div>
            <div class="stat-label">Active Students</div>
          </div>
        </div>
        <div class="stat-item">
          <IconStar size={32} stroke={1.5} class="stat-icon" />
          <div class="stat-content">
            <div class="stat-value">4.9/5.0</div>
            <div class="stat-label">Average Rating</div>
          </div>
        </div>
        <div class="stat-item">
          <IconRocket size={32} stroke={1.5} class="stat-icon" />
          <div class="stat-content">
            <div class="stat-value">85%</div>
            <div class="stat-label">Success Rate</div>
          </div>
        </div>
      </div>

      <div class="hero-cta">
        <a href="#courses" class="cta-button primary">
          Explore Courses
          <IconSchool size={20} stroke={2} />
        </a>
        <a href="/about" class="cta-button secondary">
          Meet Our Instructors
        </a>
      </div>
    </div>
  </section>

  <!-- Courses Grid -->
  <section class="courses-section" id="courses">
    <div class="section-header">
      <h2 class="section-title">Our Professional Courses</h2>
      <p class="section-description">
        Choose from our comprehensive curriculum designed to take you from beginner to professional trader
      </p>
    </div>

    <div class="courses-grid">
      {#each courses as course, index}
        <article
          class="course-card"
          class:visible={cardsVisible[index]}
          data-index={index}
          style="--delay: {index * 0.1}s"
        >
          <div class="card-header" style="background: {course.gradient}">
            <div class="card-icon">
              <svelte:component this={course.icon} size={48} stroke={1.5} />
            </div>
            <div class="card-badge">{course.level}</div>
          </div>

          <div class="card-content">
            <h3 class="card-title">{course.title}</h3>
            <p class="card-description">{course.description}</p>

            <div class="card-meta">
              <div class="meta-item">
                <IconClock size={18} stroke={2} />
                <span>{course.duration}</span>
              </div>
              <div class="meta-item">
                <IconUsers size={18} stroke={2} />
                <span>{course.students} students</span>
              </div>
              <div class="meta-item">
                <IconStar size={18} stroke={2} />
                <span>{course.rating}/5.0</span>
              </div>
            </div>

            <ul class="card-features">
              {#each course.features as feature}
                <li>
                  <IconTrendingUp size={16} stroke={2} />
                  <span>{feature}</span>
                </li>
              {/each}
            </ul>

            <div class="card-footer">
              <div class="card-price">
                <span class="price-label">Course Price</span>
                <span class="price-value">{course.price}</span>
              </div>
              <a href="/courses/{course.slug}" class="card-button">
                View Course
                <IconSchool size={18} stroke={2} />
              </a>
            </div>
          </div>
        </article>
      {/each}
    </div>
  </section>

  <!-- Why Choose Section -->
  <section class="why-choose-section">
    <div class="why-choose-content">
      <h2 class="section-title">Why Choose Revolution Trading Academy</h2>

      <div class="benefits-grid">
        <div class="benefit-card">
          <div class="benefit-icon">
            <IconChartCandle size={32} stroke={1.5} />
          </div>
          <h3>Real-World Strategies</h3>
          <p>Learn strategies actively used by professional traders in live markets, not theoretical concepts.</p>
        </div>

        <div class="benefit-card">
          <div class="benefit-icon">
            <IconUsers size={32} stroke={1.5} />
          </div>
          <h3>Expert Instructors</h3>
          <p>Learn from traders with verified track records and decades of combined market experience.</p>
        </div>

        <div class="benefit-card">
          <div class="benefit-icon">
            <IconBrain size={32} stroke={1.5} />
          </div>
          <h3>Hands-On Training</h3>
          <p>Practice with real market data, live trading sessions, and personalized feedback.</p>
        </div>

        <div class="benefit-card">
          <div class="benefit-icon">
            <IconCertificate size={32} stroke={1.5} />
          </div>
          <h3>Lifetime Access</h3>
          <p>Get unlimited access to all course materials, updates, and our exclusive trading community.</p>
        </div>
      </div>
    </div>
  </section>
</div>

<style>
  .courses-page {
    min-height: 100vh;
    background: linear-gradient(to bottom, #0a0f1e 0%, #050812 100%);
    color: white;
  }

  /* Hero Section */
  .hero-section {
    position: relative;
    min-height: 90vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 8rem 2rem 6rem;
    overflow: hidden;
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.8s ease, transform 0.8s ease;
  }

  .hero-section.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .hero-background {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    overflow: hidden;
    z-index: 0;
  }

  .glow-orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.3;
    animation: pulse 4s ease-in-out infinite;
  }

  .glow-orb-1 {
    width: 600px;
    height: 600px;
    background: radial-gradient(circle, #2e8eff 0%, transparent 70%);
    top: -200px;
    right: -200px;
  }

  .glow-orb-2 {
    width: 500px;
    height: 500px;
    background: radial-gradient(circle, #34d399 0%, transparent 70%);
    bottom: -150px;
    left: -150px;
    animation-delay: 2s;
  }

  @keyframes pulse {
    0%, 100% {
      transform: scale(1);
      opacity: 0.3;
    }
    50% {
      transform: scale(1.1);
      opacity: 0.5;
    }
  }

  .hero-content {
    position: relative;
    z-index: 1;
    max-width: 1000px;
    text-align: center;
  }

  .hero-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1.25rem;
    background: rgba(46, 142, 255, 0.15);
    border: 1px solid rgba(46, 142, 255, 0.3);
    border-radius: 50px;
    font-size: 0.875rem;
    font-weight: 500;
    color: #2e8eff;
    margin-bottom: 2rem;
    backdrop-filter: blur(10px);
  }

  .hero-title {
    font-size: clamp(2.5rem, 5vw, 4.5rem);
    font-weight: 800;
    line-height: 1.1;
    margin-bottom: 1.5rem;
    letter-spacing: -0.02em;
  }

  .gradient-text {
    background: linear-gradient(135deg, #2e8eff 0%, #34d399 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .hero-description {
    font-size: clamp(1rem, 2vw, 1.25rem);
    line-height: 1.7;
    color: rgba(255, 255, 255, 0.7);
    max-width: 800px;
    margin: 0 auto 3rem;
  }

  .hero-stats {
    display: flex;
    justify-content: center;
    gap: 3rem;
    margin-bottom: 3rem;
    flex-wrap: wrap;
  }

  .stat-item {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .stat-icon {
    color: #2e8eff;
  }

  .stat-content {
    text-align: left;
  }

  .stat-value {
    font-size: 1.5rem;
    font-weight: 700;
    color: white;
  }

  .stat-label {
    font-size: 0.875rem;
    color: rgba(255, 255, 255, 0.6);
  }

  .hero-cta {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
  }

  .cta-button {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 1rem 2rem;
    border-radius: 12px;
    font-weight: 600;
    font-size: 1rem;
    text-decoration: none;
    transition: all 0.3s ease;
    border: 2px solid transparent;
  }

  .cta-button.primary {
    background: linear-gradient(135deg, #2e8eff 0%, #1e5cb8 100%);
    color: white;
  }

  .cta-button.primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 30px rgba(46, 142, 255, 0.4);
  }

  .cta-button.secondary {
    background: rgba(255, 255, 255, 0.05);
    color: white;
    border-color: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
  }

  .cta-button.secondary:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.2);
  }

  /* Courses Section */
  .courses-section {
    padding: 6rem 2rem;
    max-width: 1400px;
    margin: 0 auto;
  }

  .section-header {
    text-align: center;
    margin-bottom: 4rem;
  }

  .section-title {
    font-size: clamp(2rem, 4vw, 3rem);
    font-weight: 800;
    margin-bottom: 1rem;
  }

  .section-description {
    font-size: 1.125rem;
    color: rgba(255, 255, 255, 0.7);
    max-width: 700px;
    margin: 0 auto;
  }

  .courses-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
  }

  .course-card {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 20px;
    overflow: hidden;
    transition: all 0.4s ease;
    opacity: 0;
    transform: translateY(30px);
  }

  .course-card.visible {
    opacity: 1;
    transform: translateY(0);
    transition-delay: var(--delay);
  }

  .course-card:hover {
    transform: translateY(-8px);
    border-color: rgba(46, 142, 255, 0.3);
    box-shadow: 0 20px 50px rgba(46, 142, 255, 0.2);
  }

  .card-header {
    position: relative;
    padding: 3rem 2rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .card-icon {
    color: white;
    filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.3));
  }

  .card-badge {
    position: absolute;
    top: 1rem;
    right: 1rem;
    padding: 0.4rem 1rem;
    background: rgba(0, 0, 0, 0.3);
    backdrop-filter: blur(10px);
    border-radius: 50px;
    font-size: 0.75rem;
    font-weight: 600;
    color: white;
  }

  .card-content {
    padding: 2rem;
  }

  .card-title {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
  }

  .card-description {
    font-size: 0.9375rem;
    line-height: 1.6;
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 1.5rem;
  }

  .card-meta {
    display: flex;
    gap: 1.5rem;
    margin-bottom: 1.5rem;
    flex-wrap: wrap;
  }

  .meta-item {
    display: flex;
    align-items: center;
    gap: 0.4rem;
    font-size: 0.875rem;
    color: rgba(255, 255, 255, 0.6);
  }

  .meta-item :global(svg) {
    color: #2e8eff;
  }

  .card-features {
    list-style: none;
    padding: 0;
    margin: 0 0 2rem 0;
  }

  .card-features li {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    padding: 0.75rem 0;
    font-size: 0.875rem;
    color: rgba(255, 255, 255, 0.8);
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  }

  .card-features li:last-child {
    border-bottom: none;
  }

  .card-features li :global(svg) {
    color: #34d399;
    flex-shrink: 0;
    margin-top: 2px;
  }

  .card-footer {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding-top: 1.5rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
  }

  .card-price {
    display: flex;
    flex-direction: column;
  }

  .price-label {
    font-size: 0.75rem;
    color: rgba(255, 255, 255, 0.5);
    margin-bottom: 0.25rem;
  }

  .price-value {
    font-size: 1.75rem;
    font-weight: 700;
    background: linear-gradient(135deg, #2e8eff 0%, #34d399 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .card-button {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.875rem 1.5rem;
    background: linear-gradient(135deg, #2e8eff 0%, #1e5cb8 100%);
    color: white;
    text-decoration: none;
    border-radius: 10px;
    font-weight: 600;
    font-size: 0.9375rem;
    transition: all 0.3s ease;
  }

  .card-button:hover {
    transform: translateX(4px);
    box-shadow: 0 5px 20px rgba(46, 142, 255, 0.4);
  }

  /* Why Choose Section */
  .why-choose-section {
    padding: 6rem 2rem;
    background: rgba(255, 255, 255, 0.02);
    border-top: 1px solid rgba(255, 255, 255, 0.05);
  }

  .why-choose-content {
    max-width: 1200px;
    margin: 0 auto;
  }

  .benefits-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2rem;
    margin-top: 3rem;
  }

  .benefit-card {
    padding: 2rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    transition: all 0.3s ease;
  }

  .benefit-card:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(46, 142, 255, 0.3);
    transform: translateY(-4px);
  }

  .benefit-icon {
    width: 64px;
    height: 64px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #2e8eff 0%, #1e5cb8 100%);
    border-radius: 12px;
    margin-bottom: 1.5rem;
    color: white;
  }

  .benefit-card h3 {
    font-size: 1.25rem;
    font-weight: 700;
    margin-bottom: 0.75rem;
  }

  .benefit-card p {
    font-size: 0.9375rem;
    line-height: 1.6;
    color: rgba(255, 255, 255, 0.7);
  }

  /* Responsive */
  @media (max-width: 1200px) {
    .glow-orb-1 {
      width: 500px;
      height: 500px;
    }

    .glow-orb-2 {
      width: 450px;
      height: 450px;
    }
  }

  @media (max-width: 1024px) {
    .courses-grid {
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    }

    .hero-stats {
      gap: 2rem;
    }

    .glow-orb-1 {
      width: 400px;
      height: 400px;
    }

    .glow-orb-2 {
      width: 350px;
      height: 350px;
    }
  }

  @media (max-width: 768px) {
    .hero-section {
      padding: 6rem 1.5rem 4rem;
      min-height: auto;
    }

    .courses-grid {
      grid-template-columns: 1fr;
    }

    .hero-stats {
      flex-direction: column;
      gap: 1.5rem;
    }

    .stat-item {
      justify-content: center;
    }

    .hero-cta {
      flex-direction: column;
    }

    .cta-button {
      width: 100%;
      justify-content: center;
    }

    .card-footer {
      flex-direction: column;
      gap: 1rem;
      align-items: flex-start;
    }

    .card-button {
      width: 100%;
      justify-content: center;
    }

    .glow-orb-1 {
      width: 300px;
      height: 300px;
    }

    .glow-orb-2 {
      width: 250px;
      height: 250px;
    }
  }

  @media (max-width: 640px) {
    .courses-section {
      padding: 4rem 1rem;
    }

    .why-choose-section {
      padding: 4rem 1rem;
    }

    .benefits-grid {
      grid-template-columns: 1fr;
    }
  }
</style>

# END OF frontend/src/routes/courses/+page.svelte


##################################################################
# FILE: frontend/src/routes/courses/day-trading-masterclass/+page.svelte
# PATH: frontend/src/routes/courses/day-trading-masterclass/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { browser } from '$app/environment';
  import NavBar from '$lib/components/NavBar.svelte';
  import {
    IconChartCandle,
    IconClock,
    IconUsers,
    IconStar,
    IconCertificate,
    IconTrendingUp,
    IconCheck,
    IconCalendar,
    IconVideo,
    IconFileText,
    IconHeadset,
    IconBolt,
    IconTarget,
    IconChartLine,
    IconShield,
    IconTrophy
  } from '@tabler/icons-svelte';

  interface Module {
    week: number;
    title: string;
    topics: string[];
    duration: string;
  }

  interface Instructor {
    name: string;
    title: string;
    experience: string;
    achievements: string[];
  }

  const modules: Module[] = [
    {
      week: 1,
      title: 'Day Trading Fundamentals',
      duration: '6 hours',
      topics: [
        'Market structure and mechanics',
        'Understanding price action and volume',
        'Types of day trading strategies',
        'Setting up your trading workspace',
        'Pre-market and post-market analysis'
      ]
    },
    {
      week: 2,
      title: 'Chart Reading Mastery',
      duration: '7 hours',
      topics: [
        'Advanced candlestick patterns',
        'Support and resistance levels',
        'Trendlines and channels',
        'Chart patterns (flags, pennants, triangles)',
        'Multiple timeframe analysis'
      ]
    },
    {
      week: 3,
      title: 'Technical Indicators & Tools',
      duration: '6 hours',
      topics: [
        'Moving averages and crossovers',
        'VWAP and VWMA strategies',
        'RSI and momentum indicators',
        'Volume analysis techniques',
        'Level 2 and time & sales'
      ]
    },
    {
      week: 4,
      title: 'Entry & Exit Strategies',
      duration: '8 hours',
      topics: [
        'Identifying high-probability setups',
        'Precision entry techniques',
        'Stop-loss placement strategies',
        'Profit target calculation',
        'Scaling in and out of positions'
      ]
    },
    {
      week: 5,
      title: 'Risk Management Excellence',
      duration: '6 hours',
      topics: [
        'Position sizing formulas',
        'Risk-reward ratio optimization',
        'Maximum daily loss limits',
        'Portfolio heat management',
        'Trading journal best practices'
      ]
    },
    {
      week: 6,
      title: 'Advanced Day Trading Strategies',
      duration: '8 hours',
      topics: [
        'Momentum and breakout trading',
        'Gap trading strategies',
        'Reversal and pullback setups',
        'News-based trading',
        'Scalping techniques'
      ]
    },
    {
      week: 7,
      title: 'Psychology & Discipline',
      duration: '5 hours',
      topics: [
        'Controlling emotions in trading',
        'Building a trading routine',
        'Overcoming fear and greed',
        'Dealing with losing streaks',
        'Developing mental resilience'
      ]
    },
    {
      week: 8,
      title: 'Live Trading & Mastery',
      duration: '10 hours',
      topics: [
        'Live trading sessions with instructors',
        'Real-time market analysis',
        'Trade review and feedback',
        'Building your personalized strategy',
        'Graduation and next steps'
      ]
    }
  ];

  const instructor: Instructor = {
    name: 'Marcus Chen',
    title: 'Lead Day Trading Instructor',
    experience: '15+ Years Trading Experience',
    achievements: [
      'Former institutional trader at top prop firm',
      'Trained over 5,000 successful day traders',
      'Featured in Trading Magazine and Forbes',
      'Verified 78% win rate over 5 years'
    ]
  };

  const features = [
    { icon: IconVideo, title: '56 hours of video content', description: 'Comprehensive video lessons' },
    { icon: IconFileText, title: 'Downloadable resources', description: 'Cheat sheets, templates, guides' },
    { icon: IconHeadset, title: 'Live trading sessions', description: 'Weekly live market analysis' },
    { icon: IconCertificate, title: 'Certificate of completion', description: 'Professional certification' },
    { icon: IconUsers, title: 'Private community access', description: 'Connect with fellow traders' },
    { icon: IconBolt, title: 'Lifetime updates', description: 'Free course updates forever' }
  ];

  let heroVisible = false;
  let modulesVisible: boolean[] = new Array(modules.length).fill(false);

  onMount(() => {
    if (!browser) return;

    const heroObserver = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            heroVisible = true;
          }
        });
      },
      { threshold: 0.2 }
    );

    const moduleObserver = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            const index = parseInt(entry.target.getAttribute('data-index') || '0');
            modulesVisible[index] = true;
          }
        });
      },
      { threshold: 0.1 }
    );

    const heroElement = document.querySelector('.hero-section');
    if (heroElement) heroObserver.observe(heroElement);

    const moduleElements = document.querySelectorAll('.module-card');
    moduleElements.forEach((module) => moduleObserver.observe(module));

    return () => {
      heroObserver.disconnect();
      moduleObserver.disconnect();
    };
  });
</script>

<svelte:head>
  <title>Day Trading Masterclass | Revolution Trading</title>
  <meta name="description" content="Master day trading with institutional-grade strategies, real-time execution tactics, and professional risk management." />
  <meta property="og:title" content="Day Trading Masterclass | Revolution Trading" />
  <meta property="og:description" content="Master day trading with institutional-grade strategies, real-time execution tactics, and professional risk management." />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Day Trading Masterclass | Revolution Trading" />
  <meta name="twitter:description" content="Master day trading with institutional-grade strategies, real-time execution tactics, and professional risk management." />
</svelte:head>

<div class="course-page">
  <NavBar />

  <!-- Hero Section -->
  <section class="hero-section" class:visible={heroVisible}>
    <div class="hero-background">
      <div class="glow-orb glow-orb-1"></div>
      <div class="glow-orb glow-orb-2"></div>
      <div class="chart-pattern"></div>
    </div>

    <div class="hero-content">
      <div class="hero-badge">
        <IconChartCandle size={20} stroke={2} />
        <span>Professional Day Trading Course</span>
      </div>

      <h1 class="hero-title">
        Day Trading<br />
        <span class="gradient-text">Masterclass</span>
      </h1>

      <p class="hero-description">
        Transform into a consistently profitable day trader with institutional-grade strategies,
        real-time market analysis, and professional risk management techniques.
      </p>

      <div class="hero-meta">
        <div class="meta-item">
          <IconClock size={24} stroke={2} />
          <div>
            <div class="meta-label">Duration</div>
            <div class="meta-value">8 Weeks</div>
          </div>
        </div>
        <div class="meta-item">
          <IconUsers size={24} stroke={2} />
          <div>
            <div class="meta-label">Students</div>
            <div class="meta-value">2,847</div>
          </div>
        </div>
        <div class="meta-item">
          <IconStar size={24} stroke={2} />
          <div>
            <div class="meta-label">Rating</div>
            <div class="meta-value">4.9/5.0</div>
          </div>
        </div>
        <div class="meta-item">
          <IconTrendingUp size={24} stroke={2} />
          <div>
            <div class="meta-label">Level</div>
            <div class="meta-value">Intermediate</div>
          </div>
        </div>
      </div>

      <div class="hero-cta">
        <a href="/register" class="cta-button primary">
          Enroll Now - $497
          <IconBolt size={20} stroke={2} />
        </a>
        <a href="#curriculum" class="cta-button secondary">
          View Curriculum
        </a>
      </div>
    </div>
  </section>

  <!-- What You'll Learn -->
  <section class="learning-section">
    <div class="section-container">
      <h2 class="section-title">What You'll Master</h2>
      <p class="section-description">
        This comprehensive program covers everything you need to become a professional day trader
      </p>

      <div class="learning-grid">
        <div class="learning-card">
          <div class="learning-icon">
            <IconTarget size={32} stroke={1.5} />
          </div>
          <h3>High-Probability Setups</h3>
          <p>Identify and execute trades with institutional-grade precision using proven chart patterns and technical analysis.</p>
        </div>

        <div class="learning-card">
          <div class="learning-icon">
            <IconChartLine size={32} stroke={1.5} />
          </div>
          <h3>Real-Time Execution</h3>
          <p>Master the art of timing your entries and exits in fast-moving markets with confidence and discipline.</p>
        </div>

        <div class="learning-card">
          <div class="learning-icon">
            <IconShield size={32} stroke={1.5} />
          </div>
          <h3>Professional Risk Management</h3>
          <p>Protect your capital with advanced position sizing, stop-loss strategies, and portfolio heat management.</p>
        </div>

        <div class="learning-card">
          <div class="learning-icon">
            <IconTrophy size={32} stroke={1.5} />
          </div>
          <h3>Consistent Profitability</h3>
          <p>Build a sustainable trading career with proven strategies that generate consistent returns over time.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Curriculum -->
  <section class="curriculum-section" id="curriculum">
    <div class="section-container">
      <h2 class="section-title">Course Curriculum</h2>
      <p class="section-description">8 comprehensive weeks designed to transform you into a professional day trader</p>

      <div class="modules-grid">
        {#each modules as module, index}
          <div
            class="module-card"
            class:visible={modulesVisible[index]}
            data-index={index}
            style="--delay: {index * 0.1}s"
          >
            <div class="module-header">
              <div class="module-number">Week {module.week}</div>
              <div class="module-duration">
                <IconClock size={16} stroke={2} />
                <span>{module.duration}</span>
              </div>
            </div>

            <h3 class="module-title">{module.title}</h3>

            <ul class="module-topics">
              {#each module.topics as topic}
                <li>
                  <IconCheck size={18} stroke={2} />
                  <span>{topic}</span>
                </li>
              {/each}
            </ul>
          </div>
        {/each}
      </div>
    </div>
  </section>

  <!-- Course Features -->
  <section class="features-section">
    <div class="section-container">
      <h2 class="section-title">What's Included</h2>

      <div class="features-grid">
        {#each features as feature}
          <div class="feature-card">
            <div class="feature-icon">
              <svelte:component this={feature.icon} size={28} stroke={1.5} />
            </div>
            <div class="feature-content">
              <h4>{feature.title}</h4>
              <p>{feature.description}</p>
            </div>
          </div>
        {/each}
      </div>
    </div>
  </section>

  <!-- Instructor -->
  <section class="instructor-section">
    <div class="section-container">
      <h2 class="section-title">Your Instructor</h2>

      <div class="instructor-card">
        <div class="instructor-avatar">
          <IconChartCandle size={64} stroke={1.5} />
        </div>

        <div class="instructor-content">
          <h3 class="instructor-name">{instructor.name}</h3>
          <p class="instructor-title">{instructor.title}</p>
          <p class="instructor-experience">{instructor.experience}</p>

          <ul class="instructor-achievements">
            {#each instructor.achievements as achievement}
              <li>
                <IconTrophy size={18} stroke={2} />
                <span>{achievement}</span>
              </li>
            {/each}
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- Enrollment CTA -->
  <section class="enrollment-section">
    <div class="enrollment-card">
      <div class="enrollment-content">
        <h2>Ready to Master Day Trading?</h2>
        <p>Join 2,847 students already transforming their trading careers</p>

        <div class="enrollment-features">
          <div class="enrollment-feature">
            <IconCheck size={20} stroke={2} />
            <span>56 hours of premium content</span>
          </div>
          <div class="enrollment-feature">
            <IconCheck size={20} stroke={2} />
            <span>Lifetime access & updates</span>
          </div>
          <div class="enrollment-feature">
            <IconCheck size={20} stroke={2} />
            <span>Private community access</span>
          </div>
          <div class="enrollment-feature">
            <IconCheck size={20} stroke={2} />
            <span>Certificate of completion</span>
          </div>
        </div>

        <div class="enrollment-pricing">
          <div class="price-container">
            <span class="price-label">One-time payment</span>
            <span class="price-value">$497</span>
          </div>

          <a href="/register" class="enrollment-button">
            Enroll Now
            <IconBolt size={20} stroke={2} />
          </a>
        </div>

        <p class="enrollment-guarantee">30-day money-back guarantee</p>
      </div>
    </div>
  </section>
</div>

<style>
  .course-page {
    min-height: 100vh;
    background: linear-gradient(to bottom, #0a0f1e 0%, #050812 100%);
    color: white;
  }

  /* Hero Section */
  .hero-section {
    position: relative;
    min-height: 85vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 8rem 2rem 4rem;
    overflow: hidden;
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.8s ease, transform 0.8s ease;
  }

  .hero-section.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .hero-background {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    overflow: hidden;
    z-index: 0;
  }

  .glow-orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.3;
    animation: pulse 4s ease-in-out infinite;
  }

  .glow-orb-1 {
    width: 600px;
    height: 600px;
    background: radial-gradient(circle, #2e8eff 0%, transparent 70%);
    top: -200px;
    right: -200px;
  }

  .glow-orb-2 {
    width: 500px;
    height: 500px;
    background: radial-gradient(circle, #34d399 0%, transparent 70%);
    bottom: -150px;
    left: -150px;
    animation-delay: 2s;
  }

  .chart-pattern {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 800px;
    height: 400px;
    background:
      linear-gradient(90deg, transparent 49%, rgba(46, 142, 255, 0.1) 50%, transparent 51%),
      linear-gradient(0deg, transparent 49%, rgba(46, 142, 255, 0.1) 50%, transparent 51%);
    background-size: 40px 40px;
    opacity: 0.2;
  }

  @keyframes pulse {
    0%, 100% {
      transform: scale(1);
      opacity: 0.3;
    }
    50% {
      transform: scale(1.1);
      opacity: 0.5;
    }
  }

  .hero-content {
    position: relative;
    z-index: 1;
    max-width: 900px;
    text-align: center;
  }

  .hero-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1.25rem;
    background: rgba(46, 142, 255, 0.15);
    border: 1px solid rgba(46, 142, 255, 0.3);
    border-radius: 50px;
    font-size: 0.875rem;
    font-weight: 500;
    color: #2e8eff;
    margin-bottom: 2rem;
    backdrop-filter: blur(10px);
  }

  .hero-title {
    font-size: clamp(2.5rem, 5vw, 4.5rem);
    font-weight: 800;
    line-height: 1.1;
    margin-bottom: 1.5rem;
    letter-spacing: -0.02em;
  }

  .gradient-text {
    background: linear-gradient(135deg, #2e8eff 0%, #34d399 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .hero-description {
    font-size: clamp(1rem, 2vw, 1.25rem);
    line-height: 1.7;
    color: rgba(255, 255, 255, 0.7);
    max-width: 700px;
    margin: 0 auto 3rem;
  }

  .hero-meta {
    display: flex;
    justify-content: center;
    gap: 2rem;
    margin-bottom: 3rem;
    flex-wrap: wrap;
  }

  .meta-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }

  .meta-item :global(svg) {
    color: #2e8eff;
  }

  .meta-label {
    font-size: 0.75rem;
    color: rgba(255, 255, 255, 0.5);
  }

  .meta-value {
    font-size: 1rem;
    font-weight: 700;
    color: white;
  }

  .hero-cta {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
  }

  .cta-button {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 1rem 2rem;
    border-radius: 12px;
    font-weight: 600;
    font-size: 1rem;
    text-decoration: none;
    transition: all 0.3s ease;
    border: 2px solid transparent;
  }

  .cta-button.primary {
    background: linear-gradient(135deg, #2e8eff 0%, #1e5cb8 100%);
    color: white;
  }

  .cta-button.primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 30px rgba(46, 142, 255, 0.4);
  }

  .cta-button.secondary {
    background: rgba(255, 255, 255, 0.05);
    color: white;
    border-color: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
  }

  .cta-button.secondary:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.2);
  }

  /* Section Container */
  .section-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
  }

  .section-title {
    font-size: clamp(2rem, 4vw, 3rem);
    font-weight: 800;
    text-align: center;
    margin-bottom: 1rem;
  }

  .section-description {
    font-size: 1.125rem;
    color: rgba(255, 255, 255, 0.7);
    text-align: center;
    max-width: 700px;
    margin: 0 auto 4rem;
  }

  /* Learning Section */
  .learning-section {
    padding: 6rem 0;
  }

  .learning-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2rem;
  }

  .learning-card {
    padding: 2rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    transition: all 0.3s ease;
  }

  .learning-card:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(46, 142, 255, 0.3);
    transform: translateY(-4px);
  }

  .learning-icon {
    width: 64px;
    height: 64px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #2e8eff 0%, #1e5cb8 100%);
    border-radius: 12px;
    margin-bottom: 1.5rem;
    color: white;
  }

  .learning-card h3 {
    font-size: 1.25rem;
    font-weight: 700;
    margin-bottom: 0.75rem;
  }

  .learning-card p {
    font-size: 0.9375rem;
    line-height: 1.6;
    color: rgba(255, 255, 255, 0.7);
  }

  /* Curriculum Section */
  .curriculum-section {
    padding: 6rem 0;
    background: rgba(255, 255, 255, 0.02);
  }

  .modules-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
  }

  .module-card {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    padding: 2rem;
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.4s ease;
  }

  .module-card.visible {
    opacity: 1;
    transform: translateY(0);
    transition-delay: var(--delay);
  }

  .module-card:hover {
    border-color: rgba(46, 142, 255, 0.3);
    background: rgba(255, 255, 255, 0.05);
  }

  .module-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
  }

  .module-number {
    padding: 0.5rem 1rem;
    background: linear-gradient(135deg, #2e8eff 0%, #1e5cb8 100%);
    border-radius: 8px;
    font-size: 0.875rem;
    font-weight: 600;
  }

  .module-duration {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.875rem;
    color: rgba(255, 255, 255, 0.6);
  }

  .module-duration :global(svg) {
    color: #2e8eff;
  }

  .module-title {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 1.5rem;
  }

  .module-topics {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .module-topics li {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    padding: 0.75rem 0;
    font-size: 0.9375rem;
    color: rgba(255, 255, 255, 0.8);
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  }

  .module-topics li:last-child {
    border-bottom: none;
  }

  .module-topics li :global(svg) {
    color: #34d399;
    flex-shrink: 0;
    margin-top: 2px;
  }

  /* Features Section */
  .features-section {
    padding: 6rem 0;
  }

  .features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
  }

  .feature-card {
    display: flex;
    gap: 1.5rem;
    padding: 2rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    transition: all 0.3s ease;
  }

  .feature-card:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(46, 142, 255, 0.3);
    transform: translateY(-4px);
  }

  .feature-icon {
    width: 56px;
    height: 56px;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #2e8eff 0%, #1e5cb8 100%);
    border-radius: 12px;
    color: white;
  }

  .feature-content h4 {
    font-size: 1.125rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
  }

  .feature-content p {
    font-size: 0.9375rem;
    color: rgba(255, 255, 255, 0.7);
  }

  /* Instructor Section */
  .instructor-section {
    padding: 6rem 0;
    background: rgba(255, 255, 255, 0.02);
  }

  .instructor-card {
    display: flex;
    gap: 3rem;
    max-width: 900px;
    margin: 0 auto;
    padding: 3rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 20px;
  }

  .instructor-avatar {
    width: 180px;
    height: 180px;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #2e8eff 0%, #1e5cb8 100%);
    border-radius: 16px;
    color: white;
  }

  .instructor-name {
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
  }

  .instructor-title {
    font-size: 1.125rem;
    color: #2e8eff;
    margin-bottom: 0.5rem;
  }

  .instructor-experience {
    font-size: 1rem;
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 1.5rem;
  }

  .instructor-achievements {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .instructor-achievements li {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 0;
    font-size: 0.9375rem;
    color: rgba(255, 255, 255, 0.8);
  }

  .instructor-achievements li :global(svg) {
    color: #f59e0b;
    flex-shrink: 0;
  }

  /* Enrollment Section */
  .enrollment-section {
    padding: 6rem 2rem;
  }

  .enrollment-card {
    max-width: 800px;
    margin: 0 auto;
    padding: 4rem;
    background: linear-gradient(135deg, rgba(46, 142, 255, 0.1) 0%, rgba(52, 211, 153, 0.1) 100%);
    border: 2px solid rgba(46, 142, 255, 0.3);
    border-radius: 24px;
    text-align: center;
    backdrop-filter: blur(20px);
  }

  .enrollment-content h2 {
    font-size: clamp(2rem, 4vw, 2.5rem);
    font-weight: 800;
    margin-bottom: 1rem;
  }

  .enrollment-content > p {
    font-size: 1.125rem;
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 3rem;
  }

  .enrollment-features {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 1rem;
    margin-bottom: 3rem;
  }

  .enrollment-feature {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    font-size: 0.9375rem;
  }

  .enrollment-feature :global(svg) {
    color: #34d399;
    flex-shrink: 0;
  }

  .enrollment-pricing {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 2rem;
    margin-bottom: 2rem;
    flex-wrap: wrap;
  }

  .price-container {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  }

  .price-label {
    font-size: 0.875rem;
    color: rgba(255, 255, 255, 0.6);
    margin-bottom: 0.25rem;
  }

  .price-value {
    font-size: 3rem;
    font-weight: 800;
    background: linear-gradient(135deg, #2e8eff 0%, #34d399 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .enrollment-button {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 1.25rem 2.5rem;
    background: linear-gradient(135deg, #2e8eff 0%, #1e5cb8 100%);
    color: white;
    text-decoration: none;
    border-radius: 12px;
    font-weight: 700;
    font-size: 1.125rem;
    transition: all 0.3s ease;
  }

  .enrollment-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 15px 40px rgba(46, 142, 255, 0.5);
  }

  .enrollment-guarantee {
    font-size: 0.875rem;
    color: rgba(255, 255, 255, 0.6);
  }

  /* Responsive */
  @media (max-width: 1024px) {
    .modules-grid {
      grid-template-columns: 1fr;
    }

    .glow-orb-1 {
      width: 400px;
      height: 400px;
    }

    .glow-orb-2 {
      width: 350px;
      height: 350px;
    }
  }

  @media (max-width: 768px) {
    .hero-section {
      padding: 6rem 1.5rem 4rem;
      min-height: auto;
    }

    .hero-meta {
      flex-direction: column;
      gap: 1rem;
    }

    .instructor-card {
      flex-direction: column;
      text-align: center;
      padding: 2rem;
    }

    .instructor-avatar {
      margin: 0 auto;
    }

    .instructor-achievements {
      text-align: left;
    }

    .enrollment-card {
      padding: 2rem;
    }

    .enrollment-pricing {
      flex-direction: column;
      gap: 1.5rem;
    }

    .price-container {
      align-items: center;
    }

    .enrollment-button {
      width: 100%;
      justify-content: center;
    }

    .chart-pattern {
      width: 400px;
      height: 200px;
    }

    .glow-orb-1 {
      width: 300px;
      height: 300px;
    }

    .glow-orb-2 {
      width: 250px;
      height: 250px;
    }
  }

  @media (max-width: 640px) {
    .section-container {
      padding: 0 1rem;
    }

    .learning-grid,
    .features-grid {
      grid-template-columns: 1fr;
    }

    .modules-grid {
      grid-template-columns: 1fr;
    }

    .module-card {
      padding: 1.5rem;
    }

    .feature-card {
      flex-direction: column;
      text-align: center;
    }

    .feature-icon {
      margin: 0 auto;
    }

    .enrollment-features {
      grid-template-columns: 1fr;
    }
  }
</style>

# END OF frontend/src/routes/courses/day-trading-masterclass/+page.svelte


##################################################################
# FILE: frontend/src/routes/courses/swing-trading-pro/+page.svelte
# PATH: frontend/src/routes/courses/swing-trading-pro/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { browser } from '$app/environment';
  import NavBar from '$lib/components/NavBar.svelte';
  import {
    IconChartLine,
    IconClock,
    IconUsers,
    IconStar,
    IconCertificate,
    IconTrendingUp,
    IconCheck,
    IconVideo,
    IconFileText,
    IconHeadset,
    IconBolt,
    IconTarget,
    IconShield,
    IconTrophy,
    IconCalendarEvent
  } from '@tabler/icons-svelte';

  interface Module {
    week: number;
    title: string;
    topics: string[];
    duration: string;
  }

  const modules: Module[] = [
    {
      week: 1,
      title: 'Swing Trading Foundations',
      duration: '5 hours',
      topics: [
        'What is swing trading and who it\'s for',
        'Time frames and holding periods',
        'Fundamental market structure',
        'Swing vs day trading comparison',
        'Building your watchlist strategy'
      ]
    },
    {
      week: 2,
      title: 'Trend Analysis & Identification',
      duration: '6 hours',
      topics: [
        'Higher highs and higher lows',
        'Trend strength indicators',
        'Moving average strategies',
        'Identifying trend reversals',
        'Multiple timeframe confluence'
      ]
    },
    {
      week: 3,
      title: 'Support & Resistance Mastery',
      duration: '5 hours',
      topics: [
        'Horizontal support and resistance zones',
        'Dynamic support with moving averages',
        'Fibonacci retracements and extensions',
        'Pivot points and key levels',
        'Breaking through resistance'
      ]
    },
    {
      week: 4,
      title: 'Swing Trading Setups',
      duration: '7 hours',
      topics: [
        'Pullback to support entries',
        'Breakout confirmation strategies',
        'Flag and pennant patterns',
        'Cup and handle formations',
        'Head and shoulders reversals'
      ]
    },
    {
      week: 5,
      title: 'Entry & Exit Timing',
      duration: '6 hours',
      topics: [
        'Optimal entry zones',
        'Stop-loss placement for swings',
        'Profit targets and take-profit levels',
        'Trailing stops for trend continuation',
        'Partial position exits'
      ]
    },
    {
      week: 6,
      title: 'Risk Management for Swing Traders',
      duration: '5 hours',
      topics: [
        'Position sizing calculations',
        'Risk-reward ratios (minimum 2:1)',
        'Managing overnight and weekend risk',
        'Portfolio diversification',
        'Correlation analysis'
      ]
    }
  ];

  const features = [
    { icon: IconVideo, title: '34 hours of video content', description: 'Comprehensive lessons' },
    { icon: IconFileText, title: 'Swing trading templates', description: 'Ready-to-use tools' },
    { icon: IconHeadset, title: 'Weekly market reviews', description: 'Live analysis sessions' },
    { icon: IconCertificate, title: 'Certificate included', description: 'Professional credential' },
    { icon: IconUsers, title: 'Community access', description: 'Network with traders' },
    { icon: IconBolt, title: 'Lifetime updates', description: 'Forever access' }
  ];

  let heroVisible = false;
  let modulesVisible: boolean[] = new Array(modules.length).fill(false);

  onMount(() => {
    if (!browser) return;

    const heroObserver = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) heroVisible = true;
        });
      },
      { threshold: 0.2 }
    );

    const moduleObserver = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            const index = parseInt(entry.target.getAttribute('data-index') || '0');
            modulesVisible[index] = true;
          }
        });
      },
      { threshold: 0.1 }
    );

    const heroElement = document.querySelector('.hero-section');
    if (heroElement) heroObserver.observe(heroElement);

    const moduleElements = document.querySelectorAll('.module-card');
    moduleElements.forEach((module) => moduleObserver.observe(module));

    return () => {
      heroObserver.disconnect();
      moduleObserver.disconnect();
    };
  });
</script>

<svelte:head>
  <title>Swing Trading Pro | Revolution Trading</title>
  <meta name="description" content="Master swing trading with professional strategies to capture multi-day moves and optimal risk-reward setups." />
  <meta property="og:title" content="Swing Trading Pro | Revolution Trading" />
  <meta property="og:description" content="Master swing trading with professional strategies to capture multi-day moves and optimal risk-reward setups." />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Swing Trading Pro | Revolution Trading" />
  <meta name="twitter:description" content="Master swing trading with professional strategies to capture multi-day moves and optimal risk-reward setups." />
</svelte:head>

<div class="course-page">
  <NavBar />

  <!-- Hero Section -->
  <section class="hero-section" class:visible={heroVisible}>
    <div class="hero-background">
      <div class="glow-orb glow-orb-1"></div>
      <div class="glow-orb glow-orb-2"></div>
    </div>

    <div class="hero-content">
      <div class="hero-badge">
        <IconChartLine size={20} stroke={2} />
        <span>Professional Swing Trading Course</span>
      </div>

      <h1 class="hero-title">
        Swing Trading<br />
        <span class="gradient-text">Pro</span>
      </h1>

      <p class="hero-description">
        Master swing trading strategies to capture multi-day moves with precision entries,
        optimal risk-reward setups, and professional trade management techniques.
      </p>

      <div class="hero-meta">
        <div class="meta-item">
          <IconClock size={24} stroke={2} />
          <div>
            <div class="meta-label">Duration</div>
            <div class="meta-value">6 Weeks</div>
          </div>
        </div>
        <div class="meta-item">
          <IconUsers size={24} stroke={2} />
          <div>
            <div class="meta-label">Students</div>
            <div class="meta-value">3,421</div>
          </div>
        </div>
        <div class="meta-item">
          <IconStar size={24} stroke={2} />
          <div>
            <div class="meta-label">Rating</div>
            <div class="meta-value">4.8/5.0</div>
          </div>
        </div>
        <div class="meta-item">
          <IconTrendingUp size={24} stroke={2} />
          <div>
            <div class="meta-label">Level</div>
            <div class="meta-value">Beginner+</div>
          </div>
        </div>
      </div>

      <div class="hero-cta">
        <a href="/register" class="cta-button primary">
          Enroll Now - $397
          <IconBolt size={20} stroke={2} />
        </a>
        <a href="#curriculum" class="cta-button secondary">
          View Curriculum
        </a>
      </div>
    </div>
  </section>

  <!-- What You'll Learn -->
  <section class="learning-section">
    <div class="section-container">
      <h2 class="section-title">Master Swing Trading</h2>
      <p class="section-description">
        Learn to identify and execute high-probability swing trades with professional precision
      </p>

      <div class="learning-grid">
        <div class="learning-card">
          <div class="learning-icon">
            <IconTarget size={32} stroke={1.5} />
          </div>
          <h3>Trend Identification</h3>
          <p>Spot powerful trends early and ride them for maximum profit with institutional-grade analysis techniques.</p>
        </div>

        <div class="learning-card">
          <div class="learning-icon">
            <IconChartLine size={32} stroke={1.5} />
          </div>
          <h3>Perfect Timing</h3>
          <p>Master entry and exit timing to capture the best risk-reward opportunities in trending markets.</p>
        </div>

        <div class="learning-card">
          <div class="learning-icon">
            <IconShield size={32} stroke={1.5} />
          </div>
          <h3>Risk Control</h3>
          <p>Protect capital with professional position sizing and stop-loss strategies designed for swing traders.</p>
        </div>

        <div class="learning-card">
          <div class="learning-icon">
            <IconTrophy size={32} stroke={1.5} />
          </div>
          <h3>Consistent Profits</h3>
          <p>Build a sustainable swing trading system that generates returns while working full-time.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Curriculum -->
  <section class="curriculum-section" id="curriculum">
    <div class="section-container">
      <h2 class="section-title">6-Week Curriculum</h2>
      <p class="section-description">Comprehensive training from foundations to advanced swing trading strategies</p>

      <div class="modules-grid">
        {#each modules as module, index}
          <div
            class="module-card"
            class:visible={modulesVisible[index]}
            data-index={index}
            style="--delay: {index * 0.1}s"
          >
            <div class="module-header">
              <div class="module-number">Week {module.week}</div>
              <div class="module-duration">
                <IconClock size={16} stroke={2} />
                <span>{module.duration}</span>
              </div>
            </div>

            <h3 class="module-title">{module.title}</h3>

            <ul class="module-topics">
              {#each module.topics as topic}
                <li>
                  <IconCheck size={18} stroke={2} />
                  <span>{topic}</span>
                </li>
              {/each}
            </ul>
          </div>
        {/each}
      </div>
    </div>
  </section>

  <!-- Features -->
  <section class="features-section">
    <div class="section-container">
      <h2 class="section-title">What's Included</h2>

      <div class="features-grid">
        {#each features as feature}
          <div class="feature-card">
            <div class="feature-icon">
              <svelte:component this={feature.icon} size={28} stroke={1.5} />
            </div>
            <div class="feature-content">
              <h4>{feature.title}</h4>
              <p>{feature.description}</p>
            </div>
          </div>
        {/each}
      </div>
    </div>
  </section>

  <!-- Enrollment CTA -->
  <section class="enrollment-section">
    <div class="enrollment-card">
      <div class="enrollment-content">
        <h2>Start Swing Trading Like a Pro</h2>
        <p>Join 3,421 students building profitable swing trading systems</p>

        <div class="enrollment-features">
          <div class="enrollment-feature">
            <IconCheck size={20} stroke={2} />
            <span>34 hours of premium content</span>
          </div>
          <div class="enrollment-feature">
            <IconCheck size={20} stroke={2} />
            <span>Lifetime access & updates</span>
          </div>
          <div class="enrollment-feature">
            <IconCheck size={20} stroke={2} />
            <span>Weekly market analysis</span>
          </div>
          <div class="enrollment-feature">
            <IconCheck size={20} stroke={2} />
            <span>Professional certification</span>
          </div>
        </div>

        <div class="enrollment-pricing">
          <div class="price-container">
            <span class="price-label">One-time payment</span>
            <span class="price-value">$397</span>
          </div>

          <a href="/register" class="enrollment-button">
            Enroll Now
            <IconBolt size={20} stroke={2} />
          </a>
        </div>

        <p class="enrollment-guarantee">30-day money-back guarantee</p>
      </div>
    </div>
  </section>
</div>

<style>
  .course-page {
    min-height: 100vh;
    background: linear-gradient(to bottom, #0a0f1e 0%, #050812 100%);
    color: white;
  }

  /* Hero Section */
  .hero-section {
    position: relative;
    min-height: 85vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 8rem 2rem 4rem;
    overflow: hidden;
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.8s ease, transform 0.8s ease;
  }

  .hero-section.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .hero-background {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    overflow: hidden;
    z-index: 0;
  }

  .glow-orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.3;
    animation: pulse 4s ease-in-out infinite;
  }

  .glow-orb-1 {
    width: 600px;
    height: 600px;
    background: radial-gradient(circle, #34d399 0%, transparent 70%);
    top: -200px;
    right: -200px;
  }

  .glow-orb-2 {
    width: 500px;
    height: 500px;
    background: radial-gradient(circle, #2e8eff 0%, transparent 70%);
    bottom: -150px;
    left: -150px;
    animation-delay: 2s;
  }

  @keyframes pulse {
    0%, 100% {
      transform: scale(1);
      opacity: 0.3;
    }
    50% {
      transform: scale(1.1);
      opacity: 0.5;
    }
  }

  .hero-content {
    position: relative;
    z-index: 1;
    max-width: 900px;
    text-align: center;
  }

  .hero-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1.25rem;
    background: rgba(52, 211, 153, 0.15);
    border: 1px solid rgba(52, 211, 153, 0.3);
    border-radius: 50px;
    font-size: 0.875rem;
    font-weight: 500;
    color: #34d399;
    margin-bottom: 2rem;
    backdrop-filter: blur(10px);
  }

  .hero-title {
    font-size: clamp(2.5rem, 5vw, 4.5rem);
    font-weight: 800;
    line-height: 1.1;
    margin-bottom: 1.5rem;
    letter-spacing: -0.02em;
  }

  .gradient-text {
    background: linear-gradient(135deg, #34d399 0%, #059669 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .hero-description {
    font-size: clamp(1rem, 2vw, 1.25rem);
    line-height: 1.7;
    color: rgba(255, 255, 255, 0.7);
    max-width: 700px;
    margin: 0 auto 3rem;
  }

  .hero-meta {
    display: flex;
    justify-content: center;
    gap: 2rem;
    margin-bottom: 3rem;
    flex-wrap: wrap;
  }

  .meta-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }

  .meta-item :global(svg) {
    color: #34d399;
  }

  .meta-label {
    font-size: 0.75rem;
    color: rgba(255, 255, 255, 0.5);
  }

  .meta-value {
    font-size: 1rem;
    font-weight: 700;
    color: white;
  }

  .hero-cta {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
  }

  .cta-button {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 1rem 2rem;
    border-radius: 12px;
    font-weight: 600;
    font-size: 1rem;
    text-decoration: none;
    transition: all 0.3s ease;
    border: 2px solid transparent;
  }

  .cta-button.primary {
    background: linear-gradient(135deg, #34d399 0%, #059669 100%);
    color: white;
  }

  .cta-button.primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 30px rgba(52, 211, 153, 0.4);
  }

  .cta-button.secondary {
    background: rgba(255, 255, 255, 0.05);
    color: white;
    border-color: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
  }

  .cta-button.secondary:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.2);
  }

  /* Section Container */
  .section-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
  }

  .section-title {
    font-size: clamp(2rem, 4vw, 3rem);
    font-weight: 800;
    text-align: center;
    margin-bottom: 1rem;
  }

  .section-description {
    font-size: 1.125rem;
    color: rgba(255, 255, 255, 0.7);
    text-align: center;
    max-width: 700px;
    margin: 0 auto 4rem;
  }

  /* Learning Section */
  .learning-section {
    padding: 6rem 0;
  }

  .learning-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2rem;
  }

  .learning-card {
    padding: 2rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    transition: all 0.3s ease;
  }

  .learning-card:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(52, 211, 153, 0.3);
    transform: translateY(-4px);
  }

  .learning-icon {
    width: 64px;
    height: 64px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #34d399 0%, #059669 100%);
    border-radius: 12px;
    margin-bottom: 1.5rem;
    color: white;
  }

  .learning-card h3 {
    font-size: 1.25rem;
    font-weight: 700;
    margin-bottom: 0.75rem;
  }

  .learning-card p {
    font-size: 0.9375rem;
    line-height: 1.6;
    color: rgba(255, 255, 255, 0.7);
  }

  /* Curriculum Section */
  .curriculum-section {
    padding: 6rem 0;
    background: rgba(255, 255, 255, 0.02);
  }

  .modules-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
  }

  .module-card {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    padding: 2rem;
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.4s ease;
  }

  .module-card.visible {
    opacity: 1;
    transform: translateY(0);
    transition-delay: var(--delay);
  }

  .module-card:hover {
    border-color: rgba(52, 211, 153, 0.3);
    background: rgba(255, 255, 255, 0.05);
  }

  .module-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
  }

  .module-number {
    padding: 0.5rem 1rem;
    background: linear-gradient(135deg, #34d399 0%, #059669 100%);
    border-radius: 8px;
    font-size: 0.875rem;
    font-weight: 600;
  }

  .module-duration {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.875rem;
    color: rgba(255, 255, 255, 0.6);
  }

  .module-duration :global(svg) {
    color: #34d399;
  }

  .module-title {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 1.5rem;
  }

  .module-topics {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .module-topics li {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    padding: 0.75rem 0;
    font-size: 0.9375rem;
    color: rgba(255, 255, 255, 0.8);
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  }

  .module-topics li:last-child {
    border-bottom: none;
  }

  .module-topics li :global(svg) {
    color: #34d399;
    flex-shrink: 0;
    margin-top: 2px;
  }

  /* Features Section */
  .features-section {
    padding: 6rem 0;
  }

  .features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
  }

  .feature-card {
    display: flex;
    gap: 1.5rem;
    padding: 2rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    transition: all 0.3s ease;
  }

  .feature-card:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(52, 211, 153, 0.3);
    transform: translateY(-4px);
  }

  .feature-icon {
    width: 56px;
    height: 56px;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #34d399 0%, #059669 100%);
    border-radius: 12px;
    color: white;
  }

  .feature-content h4 {
    font-size: 1.125rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
  }

  .feature-content p {
    font-size: 0.9375rem;
    color: rgba(255, 255, 255, 0.7);
  }

  /* Enrollment Section */
  .enrollment-section {
    padding: 6rem 2rem;
  }

  .enrollment-card {
    max-width: 800px;
    margin: 0 auto;
    padding: 4rem;
    background: linear-gradient(135deg, rgba(52, 211, 153, 0.1) 0%, rgba(46, 142, 255, 0.1) 100%);
    border: 2px solid rgba(52, 211, 153, 0.3);
    border-radius: 24px;
    text-align: center;
    backdrop-filter: blur(20px);
  }

  .enrollment-content h2 {
    font-size: clamp(2rem, 4vw, 2.5rem);
    font-weight: 800;
    margin-bottom: 1rem;
  }

  .enrollment-content > p {
    font-size: 1.125rem;
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 3rem;
  }

  .enrollment-features {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 1rem;
    margin-bottom: 3rem;
  }

  .enrollment-feature {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    font-size: 0.9375rem;
  }

  .enrollment-feature :global(svg) {
    color: #34d399;
    flex-shrink: 0;
  }

  .enrollment-pricing {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 2rem;
    margin-bottom: 2rem;
    flex-wrap: wrap;
  }

  .price-container {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  }

  .price-label {
    font-size: 0.875rem;
    color: rgba(255, 255, 255, 0.6);
    margin-bottom: 0.25rem;
  }

  .price-value {
    font-size: 3rem;
    font-weight: 800;
    background: linear-gradient(135deg, #34d399 0%, #059669 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .enrollment-button {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 1.25rem 2.5rem;
    background: linear-gradient(135deg, #34d399 0%, #059669 100%);
    color: white;
    text-decoration: none;
    border-radius: 12px;
    font-weight: 700;
    font-size: 1.125rem;
    transition: all 0.3s ease;
  }

  .enrollment-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 15px 40px rgba(52, 211, 153, 0.5);
  }

  .enrollment-guarantee {
    font-size: 0.875rem;
    color: rgba(255, 255, 255, 0.6);
  }

  /* Responsive */
  @media (max-width: 1024px) {
    .modules-grid {
      grid-template-columns: 1fr;
    }

    .glow-orb-1 {
      width: 400px;
      height: 400px;
    }

    .glow-orb-2 {
      width: 350px;
      height: 350px;
    }
  }

  @media (max-width: 768px) {
    .hero-section {
      padding: 6rem 1.5rem 4rem;
      min-height: auto;
    }

    .hero-meta {
      flex-direction: column;
      gap: 1rem;
    }

    .enrollment-card {
      padding: 2rem;
    }

    .enrollment-pricing {
      flex-direction: column;
      gap: 1.5rem;
    }

    .price-container {
      align-items: center;
    }

    .enrollment-button {
      width: 100%;
      justify-content: center;
    }

    .glow-orb-1 {
      width: 300px;
      height: 300px;
    }

    .glow-orb-2 {
      width: 250px;
      height: 250px;
    }
  }

  @media (max-width: 640px) {
    .section-container {
      padding: 0 1rem;
    }

    .learning-grid,
    .features-grid {
      grid-template-columns: 1fr;
    }

    .modules-grid {
      grid-template-columns: 1fr;
    }

    .module-card {
      padding: 1.5rem;
    }

    .feature-card {
      flex-direction: column;
      text-align: center;
    }

    .feature-icon {
      margin: 0 auto;
    }

    .enrollment-features {
      grid-template-columns: 1fr;
    }
  }
</style>

# END OF frontend/src/routes/courses/swing-trading-pro/+page.svelte


##################################################################
# FILE: frontend/src/routes/courses/options-trading/+page.svelte
# PATH: frontend/src/routes/courses/options-trading/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { browser } from '$app/environment';
  import NavBar from '$lib/components/NavBar.svelte';
  import {
    IconBrain,
    IconClock,
    IconUsers,
    IconStar,
    IconCheck,
    IconBolt,
    IconTrendingUp
  } from '@tabler/icons-svelte';

  let heroVisible = false;

  onMount(() => {
    if (!browser) return;
    const heroObserver = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) heroVisible = true;
        });
      },
      { threshold: 0.2 }
    );

    const heroElement = document.querySelector('.hero-section');
    if (heroElement) heroObserver.observe(heroElement);

    return () => heroObserver.disconnect();
  });
</script>

<svelte:head>
  <title>Options Trading Fundamentals | Revolution Trading</title>
  <meta name="description" content="Master options trading with comprehensive training on strategies, Greeks, volatility analysis, and institutional-grade risk management." />
  <meta property="og:title" content="Options Trading Fundamentals | Revolution Trading" />
  <meta property="og:description" content="Master options trading with comprehensive training on strategies, Greeks, volatility analysis, and institutional-grade risk management." />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Options Trading Fundamentals | Revolution Trading" />
  <meta name="twitter:description" content="Master options trading with comprehensive training on strategies, Greeks, volatility analysis, and institutional-grade risk management." />
</svelte:head>

<div class="course-page">
  <NavBar />

  <section class="hero-section" class:visible={heroVisible}>
    <div class="hero-background">
      <div class="glow-orb glow-orb-1"></div>
    </div>

    <div class="hero-content">
      <div class="hero-badge">
        <IconBrain size={20} stroke={2} />
        <span>Advanced Options Course</span>
      </div>

      <h1 class="hero-title">
        Options Trading<br />
        <span class="gradient-text">Fundamentals</span>
      </h1>

      <p class="hero-description">
        Master options trading with comprehensive training on strategies, Greeks, volatility analysis, and institutional-grade risk management.
      </p>

      <div class="hero-meta">
        <div class="meta-item">
          <IconClock size={24} stroke={2} />
          <div>
            <div class="meta-label">Duration</div>
            <div class="meta-value">10 Weeks</div>
          </div>
        </div>
        <div class="meta-item">
          <IconUsers size={24} stroke={2} />
          <div>
            <div class="meta-label">Students</div>
            <div class="meta-value">1,892</div>
          </div>
        </div>
        <div class="meta-item">
          <IconStar size={24} stroke={2} />
          <div>
            <div class="meta-label">Rating</div>
            <div class="meta-value">4.9/5.0</div>
          </div>
        </div>
      </div>

      <div class="hero-cta">
        <a href="/register" class="cta-button primary">
          Enroll Now - $597
          <IconBolt size={20} stroke={2} />
        </a>
      </div>
    </div>
  </section>

  <section class="content-section">
    <div class="section-container">
      <h2 class="section-title">What You'll Learn</h2>

      <div class="learning-grid">
        <div class="learning-card">
          <IconTrendingUp size={32} stroke={1.5} />
          <h3>Options Fundamentals</h3>
          <p>Understand calls, puts, strikes, expiration, and how options are priced in the market.</p>
        </div>

        <div class="learning-card">
          <IconTrendingUp size={32} stroke={1.5} />
          <h3>The Greeks</h3>
          <p>Master Delta, Gamma, Theta, and Vega to predict and manage your options positions.</p>
        </div>

        <div class="learning-card">
          <IconTrendingUp size={32} stroke={1.5} />
          <h3>Advanced Strategies</h3>
          <p>Learn spreads, straddles, strangles, iron condors, and calendar spreads.</p>
        </div>

        <div class="learning-card">
          <IconTrendingUp size={32} stroke={1.5} />
          <h3>Risk Management</h3>
          <p>Professional position sizing and portfolio management for options traders.</p>
        </div>
      </div>
    </div>
  </section>

  <section class="enrollment-section">
    <div class="enrollment-card">
      <h2>Master Options Trading</h2>
      <p>Join 1,892 students unlocking the power of options</p>

      <div class="features-list">
        <div class="feature-item">
          <IconCheck size={20} stroke={2} />
          <span>60+ hours of content</span>
        </div>
        <div class="feature-item">
          <IconCheck size={20} stroke={2} />
          <span>Lifetime access</span>
        </div>
        <div class="feature-item">
          <IconCheck size={20} stroke={2} />
          <span>Professional certification</span>
        </div>
      </div>

      <div class="pricing">
        <span class="price">$597</span>
        <a href="/register" class="enroll-button">
          Enroll Now
          <IconBolt size={20} stroke={2} />
        </a>
      </div>
    </div>
  </section>
</div>

<style>
  .course-page {
    min-height: 100vh;
    background: linear-gradient(to bottom, #0a0f1e 0%, #050812 100%);
    color: white;
  }

  .hero-section {
    position: relative;
    min-height: 80vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 8rem 2rem 4rem;
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.8s ease, transform 0.8s ease;
  }

  .hero-section.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .hero-background {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    overflow: hidden;
  }

  .glow-orb-1 {
    position: absolute;
    width: 600px;
    height: 600px;
    background: radial-gradient(circle, #a78bfa 0%, transparent 70%);
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.3;
    top: -200px;
    right: -200px;
    animation: pulse 4s ease-in-out infinite;
  }

  @keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 0.3; }
    50% { transform: scale(1.1); opacity: 0.5; }
  }

  .hero-content {
    position: relative;
    z-index: 1;
    max-width: 900px;
    text-align: center;
  }

  .hero-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1.25rem;
    background: rgba(167, 139, 250, 0.15);
    border: 1px solid rgba(167, 139, 250, 0.3);
    border-radius: 50px;
    font-size: 0.875rem;
    color: #a78bfa;
    margin-bottom: 2rem;
  }

  .hero-title {
    font-size: clamp(2.5rem, 5vw, 4.5rem);
    font-weight: 800;
    margin-bottom: 1.5rem;
  }

  .gradient-text {
    background: linear-gradient(135deg, #a78bfa 0%, #7c3aed 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .hero-description {
    font-size: clamp(1rem, 2vw, 1.25rem);
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 3rem;
  }

  .hero-meta {
    display: flex;
    justify-content: center;
    gap: 2rem;
    margin-bottom: 3rem;
    flex-wrap: wrap;
  }

  .meta-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }

  .meta-item :global(svg) {
    color: #a78bfa;
  }

  .meta-label {
    font-size: 0.75rem;
    color: rgba(255, 255, 255, 0.5);
  }

  .meta-value {
    font-size: 1rem;
    font-weight: 700;
  }

  .hero-cta {
    display: flex;
    justify-content: center;
  }

  .cta-button.primary {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 1rem 2rem;
    background: linear-gradient(135deg, #a78bfa 0%, #7c3aed 100%);
    color: white;
    text-decoration: none;
    border-radius: 12px;
    font-weight: 600;
    transition: all 0.3s ease;
  }

  .cta-button.primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 30px rgba(167, 139, 250, 0.4);
  }

  .content-section {
    padding: 6rem 2rem;
  }

  .section-container {
    max-width: 1200px;
    margin: 0 auto;
  }

  .section-title {
    font-size: clamp(2rem, 4vw, 3rem);
    font-weight: 800;
    text-align: center;
    margin-bottom: 4rem;
  }

  .learning-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2rem;
  }

  .learning-card {
    padding: 2rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    transition: all 0.3s ease;
  }

  .learning-card:hover {
    border-color: rgba(167, 139, 250, 0.3);
    transform: translateY(-4px);
  }

  .learning-card :global(svg) {
    color: #a78bfa;
    margin-bottom: 1rem;
  }

  .learning-card h3 {
    font-size: 1.25rem;
    margin-bottom: 0.75rem;
  }

  .learning-card p {
    color: rgba(255, 255, 255, 0.7);
  }

  .enrollment-section {
    padding: 6rem 2rem;
  }

  .enrollment-card {
    max-width: 800px;
    margin: 0 auto;
    padding: 4rem;
    background: linear-gradient(135deg, rgba(167, 139, 250, 0.1) 0%, rgba(124, 58, 237, 0.1) 100%);
    border: 2px solid rgba(167, 139, 250, 0.3);
    border-radius: 24px;
    text-align: center;
  }

  .enrollment-card h2 {
    font-size: 2.5rem;
    font-weight: 800;
    margin-bottom: 1rem;
  }

  .enrollment-card > p {
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 3rem;
  }

  .features-list {
    display: flex;
    gap: 2rem;
    justify-content: center;
    margin-bottom: 3rem;
    flex-wrap: wrap;
  }

  .feature-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .feature-item :global(svg) {
    color: #a78bfa;
  }

  .pricing {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 2rem;
    flex-wrap: wrap;
  }

  .price {
    font-size: 3rem;
    font-weight: 800;
    background: linear-gradient(135deg, #a78bfa 0%, #7c3aed 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .enroll-button {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 1.25rem 2.5rem;
    background: linear-gradient(135deg, #a78bfa 0%, #7c3aed 100%);
    color: white;
    text-decoration: none;
    border-radius: 12px;
    font-weight: 700;
    font-size: 1.125rem;
    transition: all 0.3s ease;
  }

  .enroll-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 15px 40px rgba(167, 139, 250, 0.5);
  }

  /* Responsive */
  @media (max-width: 1200px) {
    .glow-orb-1 {
      width: 500px;
      height: 500px;
    }
  }

  @media (max-width: 1024px) {
    .learning-grid {
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    }

    .glow-orb-1 {
      width: 400px;
      height: 400px;
    }
  }

  @media (max-width: 768px) {
    .hero-section {
      padding: 6rem 1.5rem 4rem;
      min-height: auto;
    }

    .learning-grid {
      grid-template-columns: 1fr;
    }

    .hero-meta {
      flex-direction: column;
      gap: 1rem;
    }

    .enrollment-card {
      padding: 2rem;
    }

    .enrollment-card h2 {
      font-size: 2rem;
    }

    .pricing {
      flex-direction: column;
    }

    .glow-orb-1 {
      width: 300px;
      height: 300px;
    }
  }

  @media (max-width: 640px) {
    .content-section {
      padding: 4rem 1rem;
    }

    .enrollment-section {
      padding: 4rem 1rem;
    }

    .section-title {
      font-size: 1.75rem;
    }

    .enrollment-card {
      padding: 1.5rem;
    }

    .features-list {
      flex-direction: column;
      gap: 1rem;
      align-items: stretch;
    }

    .feature-item {
      justify-content: center;
    }
  }
</style>

# END OF frontend/src/routes/courses/options-trading/+page.svelte


##################################################################
# FILE: frontend/src/routes/courses/risk-management/+page.svelte
# PATH: frontend/src/routes/courses/risk-management/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { browser } from '$app/environment';
  import NavBar from '$lib/components/NavBar.svelte';
  import {
    IconShield,
    IconClock,
    IconUsers,
    IconStar,
    IconCheck,
    IconBolt,
    IconTrendingUp
  } from '@tabler/icons-svelte';

  let heroVisible = false;

  onMount(() => {
    if (!browser) return;
    const heroObserver = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) heroVisible = true;
        });
      },
      { threshold: 0.2 }
    );

    const heroElement = document.querySelector('.hero-section');
    if (heroElement) heroObserver.observe(heroElement);

    return () => heroObserver.disconnect();
  });
</script>

<svelte:head>
  <title>Risk Management Mastery | Revolution Trading</title>
  <meta name="description" content="Learn professional risk management techniques used by institutional traders to preserve capital and maximize long-term profitability." />
  <meta property="og:title" content="Risk Management Mastery | Revolution Trading" />
  <meta property="og:description" content="Learn professional risk management techniques used by institutional traders to preserve capital and maximize long-term profitability." />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Risk Management Mastery | Revolution Trading" />
  <meta name="twitter:description" content="Learn professional risk management techniques used by institutional traders to preserve capital and maximize long-term profitability." />
</svelte:head>

<div class="course-page">
  <NavBar />

  <section class="hero-section" class:visible={heroVisible}>
    <div class="hero-background">
      <div class="glow-orb glow-orb-1"></div>
    </div>

    <div class="hero-content">
      <div class="hero-badge">
        <IconShield size={20} stroke={2} />
        <span>Essential Risk Management</span>
      </div>

      <h1 class="hero-title">
        Risk Management<br />
        <span class="gradient-text">Mastery</span>
      </h1>

      <p class="hero-description">
        Learn professional risk management techniques used by institutional traders to preserve capital and maximize long-term profitability.
      </p>

      <div class="hero-meta">
        <div class="meta-item">
          <IconClock size={24} stroke={2} />
          <div>
            <div class="meta-label">Duration</div>
            <div class="meta-value">4 Weeks</div>
          </div>
        </div>
        <div class="meta-item">
          <IconUsers size={24} stroke={2} />
          <div>
            <div class="meta-label">Students</div>
            <div class="meta-value">4,156</div>
          </div>
        </div>
        <div class="meta-item">
          <IconStar size={24} stroke={2} />
          <div>
            <div class="meta-label">Rating</div>
            <div class="meta-value">5.0/5.0</div>
          </div>
        </div>
      </div>

      <div class="hero-cta">
        <a href="/register" class="cta-button primary">
          Enroll Now - $297
          <IconBolt size={20} stroke={2} />
        </a>
      </div>
    </div>
  </section>

  <section class="content-section">
    <div class="section-container">
      <h2 class="section-title">Master Risk Management</h2>

      <div class="learning-grid">
        <div class="learning-card">
          <IconTrendingUp size={32} stroke={1.5} />
          <h3>Position Sizing</h3>
          <p>Calculate optimal position sizes based on account size, risk tolerance, and market conditions.</p>
        </div>

        <div class="learning-card">
          <IconTrendingUp size={32} stroke={1.5} />
          <h3>Stop-Loss Strategies</h3>
          <p>Professional stop-loss placement techniques to protect capital while giving trades room to breathe.</p>
        </div>

        <div class="learning-card">
          <IconTrendingUp size={32} stroke={1.5} />
          <h3>Drawdown Prevention</h3>
          <p>Techniques to prevent catastrophic drawdowns and preserve your trading capital.</p>
        </div>

        <div class="learning-card">
          <IconTrendingUp size={32} stroke={1.5} />
          <h3>Trading Plan Development</h3>
          <p>Build a comprehensive trading plan with clear rules, risk parameters, and performance metrics.</p>
        </div>
      </div>
    </div>
  </section>

  <section class="enrollment-section">
    <div class="enrollment-card">
      <h2>Protect Your Capital</h2>
      <p>Join 4,156 traders mastering professional risk management</p>

      <div class="features-list">
        <div class="feature-item">
          <IconCheck size={20} stroke={2} />
          <span>24 hours of content</span>
        </div>
        <div class="feature-item">
          <IconCheck size={20} stroke={2} />
          <span>Risk calculators included</span>
        </div>
        <div class="feature-item">
          <IconCheck size={20} stroke={2} />
          <span>Trading plan templates</span>
        </div>
      </div>

      <div class="pricing">
        <span class="price">$297</span>
        <a href="/register" class="enroll-button">
          Enroll Now
          <IconBolt size={20} stroke={2} />
        </a>
      </div>
    </div>
  </section>
</div>

<style>
  .course-page {
    min-height: 100vh;
    background: linear-gradient(to bottom, #0a0f1e 0%, #050812 100%);
    color: white;
  }

  .hero-section {
    position: relative;
    min-height: 80vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 8rem 2rem 4rem;
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.8s ease, transform 0.8s ease;
  }

  .hero-section.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .hero-background {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    overflow: hidden;
  }

  .glow-orb-1 {
    position: absolute;
    width: 600px;
    height: 600px;
    background: radial-gradient(circle, #fb923c 0%, transparent 70%);
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.3;
    top: -200px;
    right: -200px;
    animation: pulse 4s ease-in-out infinite;
  }

  @keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 0.3; }
    50% { transform: scale(1.1); opacity: 0.5; }
  }

  .hero-content {
    position: relative;
    z-index: 1;
    max-width: 900px;
    text-align: center;
  }

  .hero-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1.25rem;
    background: rgba(251, 146, 60, 0.15);
    border: 1px solid rgba(251, 146, 60, 0.3);
    border-radius: 50px;
    font-size: 0.875rem;
    color: #fb923c;
    margin-bottom: 2rem;
  }

  .hero-title {
    font-size: clamp(2.5rem, 5vw, 4.5rem);
    font-weight: 800;
    margin-bottom: 1.5rem;
  }

  .gradient-text {
    background: linear-gradient(135deg, #fb923c 0%, #ea580c 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .hero-description {
    font-size: clamp(1rem, 2vw, 1.25rem);
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 3rem;
  }

  .hero-meta {
    display: flex;
    justify-content: center;
    gap: 2rem;
    margin-bottom: 3rem;
    flex-wrap: wrap;
  }

  .meta-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }

  .meta-item :global(svg) {
    color: #fb923c;
  }

  .meta-label {
    font-size: 0.75rem;
    color: rgba(255, 255, 255, 0.5);
  }

  .meta-value {
    font-size: 1rem;
    font-weight: 700;
  }

  .hero-cta {
    display: flex;
    justify-content: center;
  }

  .cta-button.primary {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 1rem 2rem;
    background: linear-gradient(135deg, #fb923c 0%, #ea580c 100%);
    color: white;
    text-decoration: none;
    border-radius: 12px;
    font-weight: 600;
    transition: all 0.3s ease;
  }

  .cta-button.primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 30px rgba(251, 146, 60, 0.4);
  }

  .content-section {
    padding: 6rem 2rem;
  }

  .section-container {
    max-width: 1200px;
    margin: 0 auto;
  }

  .section-title {
    font-size: clamp(2rem, 4vw, 3rem);
    font-weight: 800;
    text-align: center;
    margin-bottom: 4rem;
  }

  .learning-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2rem;
  }

  .learning-card {
    padding: 2rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    transition: all 0.3s ease;
  }

  .learning-card:hover {
    border-color: rgba(251, 146, 60, 0.3);
    transform: translateY(-4px);
  }

  .learning-card :global(svg) {
    color: #fb923c;
    margin-bottom: 1rem;
  }

  .learning-card h3 {
    font-size: 1.25rem;
    margin-bottom: 0.75rem;
  }

  .learning-card p {
    color: rgba(255, 255, 255, 0.7);
  }

  .enrollment-section {
    padding: 6rem 2rem;
  }

  .enrollment-card {
    max-width: 800px;
    margin: 0 auto;
    padding: 4rem;
    background: linear-gradient(135deg, rgba(251, 146, 60, 0.1) 0%, rgba(234, 88, 12, 0.1) 100%);
    border: 2px solid rgba(251, 146, 60, 0.3);
    border-radius: 24px;
    text-align: center;
  }

  .enrollment-card h2 {
    font-size: 2.5rem;
    font-weight: 800;
    margin-bottom: 1rem;
  }

  .enrollment-card > p {
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 3rem;
  }

  .features-list {
    display: flex;
    gap: 2rem;
    justify-content: center;
    margin-bottom: 3rem;
    flex-wrap: wrap;
  }

  .feature-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .feature-item :global(svg) {
    color: #fb923c;
  }

  .pricing {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 2rem;
    flex-wrap: wrap;
  }

  .price {
    font-size: 3rem;
    font-weight: 800;
    background: linear-gradient(135deg, #fb923c 0%, #ea580c 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .enroll-button {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 1.25rem 2.5rem;
    background: linear-gradient(135deg, #fb923c 0%, #ea580c 100%);
    color: white;
    text-decoration: none;
    border-radius: 12px;
    font-weight: 700;
    font-size: 1.125rem;
    transition: all 0.3s ease;
  }

  .enroll-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 15px 40px rgba(251, 146, 60, 0.5);
  }

  /* Responsive */
  @media (max-width: 1200px) {
    .glow-orb-1 {
      width: 500px;
      height: 500px;
    }
  }

  @media (max-width: 1024px) {
    .learning-grid {
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    }

    .glow-orb-1 {
      width: 400px;
      height: 400px;
    }
  }

  @media (max-width: 768px) {
    .hero-section {
      padding: 6rem 1.5rem 4rem;
      min-height: auto;
    }

    .learning-grid {
      grid-template-columns: 1fr;
    }

    .hero-meta {
      flex-direction: column;
      gap: 1rem;
    }

    .enrollment-card {
      padding: 2rem;
    }

    .enrollment-card h2 {
      font-size: 2rem;
    }

    .pricing {
      flex-direction: column;
    }

    .glow-orb-1 {
      width: 300px;
      height: 300px;
    }
  }

  @media (max-width: 640px) {
    .content-section {
      padding: 4rem 1rem;
    }

    .enrollment-section {
      padding: 4rem 1rem;
    }

    .section-title {
      font-size: 1.75rem;
    }

    .enrollment-card {
      padding: 1.5rem;
    }

    .features-list {
      flex-direction: column;
      gap: 1rem;
      align-items: stretch;
    }

    .feature-item {
      justify-content: center;
    }
  }
</style>

# END OF frontend/src/routes/courses/risk-management/+page.svelte


##################################################################
# FILE: frontend/src/routes/indicators/+page.svelte
# PATH: frontend/src/routes/indicators/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { browser } from '$app/environment';
  import NavBar from '$lib/components/NavBar.svelte';
  import {
    IconChartLine,
    IconTrendingUp,
    IconTrendingDown,
    IconActivity,
    IconTarget,
    IconBolt,
    IconStar,
    IconCheck,
    IconArrowRight,
    IconChartCandle,
    IconWaveSine,
    IconChartBar
  } from '@tabler/icons-svelte';

  interface Indicator {
    id: string;
    name: string;
    slug: string;
    category: string;
    description: string;
    useCase: string;
    difficulty: string;
    icon: any;
    color: string;
    gradient: string;
    features: string[];
  }

  const indicators: Indicator[] = [
    {
      id: '1',
      name: 'RSI - Relative Strength Index',
      slug: 'rsi',
      category: 'Momentum',
      description: 'Measure momentum and identify overbought/oversold conditions with precision.',
      useCase: 'Perfect for finding reversal points and confirming trend strength',
      difficulty: 'Beginner',
      icon: IconActivity,
      color: '#2e8eff',
      gradient: 'linear-gradient(135deg, #2e8eff 0%, #1e5cb8 100%)',
      features: ['Overbought/Oversold signals', 'Divergence detection', 'Trend confirmation']
    },
    {
      id: '2',
      name: 'MACD - Moving Average Convergence Divergence',
      slug: 'macd',
      category: 'Trend Following',
      description: 'Identify trend changes and momentum shifts with this powerful indicator.',
      useCase: 'Essential for catching trend reversals and momentum confirmation',
      difficulty: 'Intermediate',
      icon: IconWaveSine,
      color: '#34d399',
      gradient: 'linear-gradient(135deg, #34d399 0%, #059669 100%)',
      features: ['Signal line crossovers', 'Histogram analysis', 'Divergence patterns']
    },
    {
      id: '3',
      name: 'Moving Averages (SMA/EMA)',
      slug: 'moving-averages',
      category: 'Trend Following',
      description: 'Smooth price action and identify trend direction with moving averages.',
      useCase: 'Foundation for trend trading and dynamic support/resistance',
      difficulty: 'Beginner',
      icon: IconChartLine,
      color: '#a78bfa',
      gradient: 'linear-gradient(135deg, #a78bfa 0%, #7c3aed 100%)',
      features: ['Golden/Death cross', 'Dynamic support/resistance', 'Trend identification']
    },
    {
      id: '4',
      name: 'Bollinger Bands',
      slug: 'bollinger-bands',
      category: 'Volatility',
      description: 'Measure volatility and identify potential breakouts or reversals.',
      useCase: 'Excellent for volatility-based trading and squeeze setups',
      difficulty: 'Intermediate',
      icon: IconChartBar,
      color: '#fb923c',
      gradient: 'linear-gradient(135deg, #fb923c 0%, #ea580c 100%)',
      features: ['Volatility measurement', 'Squeeze patterns', 'Breakout signals']
    },
    {
      id: '5',
      name: 'VWAP - Volume Weighted Average Price',
      slug: 'vwap',
      category: 'Volume',
      description: 'Institutional-level price benchmark weighted by volume.',
      useCase: 'Used by institutions for optimal execution and fair value',
      difficulty: 'Beginner',
      icon: IconChartCandle,
      color: '#f59e0b',
      gradient: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',
      features: ['Fair value benchmark', 'Intraday support/resistance', 'Institutional levels']
    },
    {
      id: '6',
      name: 'Stochastic Oscillator',
      slug: 'stochastic',
      category: 'Momentum',
      description: 'Compare closing price to price range over time for momentum insights.',
      useCase: 'Identify overbought/oversold extremes and potential reversals',
      difficulty: 'Intermediate',
      icon: IconActivity,
      color: '#ec4899',
      gradient: 'linear-gradient(135deg, #ec4899 0%, #be185d 100%)',
      features: ['%K and %D lines', 'Overbought/Oversold zones', 'Crossover signals']
    }
  ];

  let heroVisible = false;
  let cardsVisible: boolean[] = new Array(indicators.length).fill(false);
  let selectedCategory = 'All';

  const categories = ['All', 'Momentum', 'Trend Following', 'Volatility', 'Volume'];

  $: filteredIndicators = selectedCategory === 'All'
    ? indicators
    : indicators.filter(ind => ind.category === selectedCategory);

  onMount(() => {
    if (!browser) return;

    const heroObserver = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            heroVisible = true;
          }
        });
      },
      { threshold: 0.2 }
    );

    const cardObserver = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            const index = parseInt(entry.target.getAttribute('data-index') || '0');
            cardsVisible[index] = true;
          }
        });
      },
      { threshold: 0.1 }
    );

    const heroElement = document.querySelector('.hero-section');
    if (heroElement) heroObserver.observe(heroElement);

    const cardElements = document.querySelectorAll('.indicator-card');
    cardElements.forEach((card) => cardObserver.observe(card));

    return () => {
      heroObserver.disconnect();
      cardObserver.disconnect();
    };
  });
</script>

<svelte:head>
  <title>Professional Trading Indicators | Revolution Trading</title>
  <meta name="description" content="Master technical indicators used by professional traders. RSI, MACD, Moving Averages, Bollinger Bands, and more." />
  <meta property="og:title" content="Professional Trading Indicators | Revolution Trading" />
  <meta property="og:description" content="Master technical indicators used by professional traders. RSI, MACD, Moving Averages, Bollinger Bands, and more." />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Professional Trading Indicators | Revolution Trading" />
  <meta name="twitter:description" content="Master technical indicators used by professional traders. RSI, MACD, Moving Averages, Bollinger Bands, and more." />
</svelte:head>

<div class="indicators-page">
  <NavBar />

  <!-- Hero Section -->
  <section class="hero-section" class:visible={heroVisible}>
    <div class="hero-background">
      <div class="glow-orb glow-orb-1"></div>
      <div class="glow-orb glow-orb-2"></div>
      <div class="chart-lines">
        <div class="chart-line line-1"></div>
        <div class="chart-line line-2"></div>
        <div class="chart-line line-3"></div>
      </div>
    </div>

    <div class="hero-content">
      <div class="hero-badge">
        <IconChartLine size={20} stroke={2} />
        <span>Professional Trading Indicators</span>
      </div>

      <h1 class="hero-title">
        Master Technical<br />
        <span class="gradient-text">Indicators</span>
      </h1>

      <p class="hero-description">
        Learn to use professional-grade technical indicators to identify high-probability setups,
        confirm trends, and time your entries with precision. From momentum oscillators to trend-following
        tools, master the indicators used by institutional traders.
      </p>

      <div class="hero-stats">
        <div class="stat-item">
          <IconTarget size={32} stroke={1.5} class="stat-icon" />
          <div class="stat-content">
            <div class="stat-value">15+</div>
            <div class="stat-label">Pro Indicators</div>
          </div>
        </div>
        <div class="stat-item">
          <IconBolt size={32} stroke={1.5} class="stat-icon" />
          <div class="stat-content">
            <div class="stat-value">Real-Time</div>
            <div class="stat-label">Market Analysis</div>
          </div>
        </div>
        <div class="stat-item">
          <IconStar size={32} stroke={1.5} class="stat-icon" />
          <div class="stat-content">
            <div class="stat-value">Proven</div>
            <div class="stat-label">Strategies</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Category Filter -->
  <section class="filter-section">
    <div class="filter-container">
      <h3>Filter by Category</h3>
      <div class="filter-buttons">
        {#each categories as category}
          <button
            class="filter-button"
            class:active={selectedCategory === category}
            on:click={() => selectedCategory = category}
          >
            {category}
          </button>
        {/each}
      </div>
    </div>
  </section>

  <!-- Indicators Grid -->
  <section class="indicators-section">
    <div class="section-container">
      <div class="indicators-grid">
        {#each filteredIndicators as indicator, index}
          <article
            class="indicator-card"
            class:visible={cardsVisible[index]}
            data-index={index}
            style="--delay: {index * 0.1}s; --card-color: {indicator.color}"
          >
            <div class="card-header" style="background: {indicator.gradient}">
              <div class="card-icon">
                <svelte:component this={indicator.icon} size={48} stroke={1.5} />
              </div>
              <div class="card-category">{indicator.category}</div>
            </div>

            <div class="card-content">
              <h3 class="card-title">{indicator.name}</h3>
              <p class="card-description">{indicator.description}</p>

              <div class="card-use-case">
                <IconTarget size={18} stroke={2} />
                <span>{indicator.useCase}</span>
              </div>

              <div class="card-meta">
                <div class="meta-badge difficulty">
                  <IconStar size={16} stroke={2} />
                  <span>{indicator.difficulty}</span>
                </div>
              </div>

              <ul class="card-features">
                {#each indicator.features as feature}
                  <li>
                    <IconCheck size={16} stroke={2} />
                    <span>{feature}</span>
                  </li>
                {/each}
              </ul>

              <a href="/indicators/{indicator.slug}" class="card-button">
                Learn More
                <IconArrowRight size={18} stroke={2} />
              </a>
            </div>
          </article>
        {/each}
      </div>
    </div>
  </section>

  <!-- Why Use Indicators -->
  <section class="benefits-section">
    <div class="section-container">
      <h2 class="section-title">Why Use Technical Indicators?</h2>

      <div class="benefits-grid">
        <div class="benefit-card">
          <div class="benefit-icon">
            <IconTrendingUp size={32} stroke={1.5} />
          </div>
          <h3>Identify Trends</h3>
          <p>Spot trends early and ride them for maximum profit with trend-following indicators.</p>
        </div>

        <div class="benefit-card">
          <div class="benefit-icon">
            <IconActivity size={32} stroke={1.5} />
          </div>
          <h3>Measure Momentum</h3>
          <p>Gauge market momentum to identify strong moves and potential exhaustion points.</p>
        </div>

        <div class="benefit-card">
          <div class="benefit-icon">
            <IconTarget size={32} stroke={1.5} />
          </div>
          <h3>Time Entries</h3>
          <p>Improve entry and exit timing with precise signals from oscillators and crossovers.</p>
        </div>

        <div class="benefit-card">
          <div class="benefit-icon">
            <IconTrendingDown size={32} stroke={1.5} />
          </div>
          <h3>Confirm Setups</h3>
          <p>Validate trade ideas with multiple indicators for higher probability setups.</p>
        </div>
      </div>
    </div>
  </section>
</div>

<style>
  .indicators-page {
    min-height: 100vh;
    background: linear-gradient(to bottom, #0a0f1e 0%, #050812 100%);
    color: white;
  }

  /* Hero Section */
  .hero-section {
    position: relative;
    min-height: 85vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 8rem 2rem 4rem;
    overflow: hidden;
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.8s ease, transform 0.8s ease;
  }

  .hero-section.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .hero-background {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    overflow: hidden;
    z-index: 0;
  }

  .glow-orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.3;
    animation: pulse 4s ease-in-out infinite;
  }

  .glow-orb-1 {
    width: 600px;
    height: 600px;
    background: radial-gradient(circle, #2e8eff 0%, transparent 70%);
    top: -200px;
    right: -200px;
  }

  .glow-orb-2 {
    width: 500px;
    height: 500px;
    background: radial-gradient(circle, #34d399 0%, transparent 70%);
    bottom: -150px;
    left: -150px;
    animation-delay: 2s;
  }

  .chart-lines {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    max-width: 1000px;
    height: 400px;
  }

  .chart-line {
    position: absolute;
    width: 100%;
    height: 2px;
    background: linear-gradient(90deg, transparent 0%, var(--line-color) 50%, transparent 100%);
    opacity: 0.2;
    animation: slideLine 3s ease-in-out infinite;
  }

  .line-1 {
    --line-color: #2e8eff;
    top: 30%;
    animation-delay: 0s;
  }

  .line-2 {
    --line-color: #34d399;
    top: 50%;
    animation-delay: 1s;
  }

  .line-3 {
    --line-color: #a78bfa;
    top: 70%;
    animation-delay: 2s;
  }

  @keyframes pulse {
    0%, 100% {
      transform: scale(1);
      opacity: 0.3;
    }
    50% {
      transform: scale(1.1);
      opacity: 0.5;
    }
  }

  @keyframes slideLine {
    0%, 100% {
      transform: translateX(-10%);
      opacity: 0.1;
    }
    50% {
      transform: translateX(10%);
      opacity: 0.3;
    }
  }

  .hero-content {
    position: relative;
    z-index: 1;
    max-width: 1000px;
    text-align: center;
  }

  .hero-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1.25rem;
    background: rgba(46, 142, 255, 0.15);
    border: 1px solid rgba(46, 142, 255, 0.3);
    border-radius: 50px;
    font-size: 0.875rem;
    font-weight: 500;
    color: #2e8eff;
    margin-bottom: 2rem;
    backdrop-filter: blur(10px);
  }

  .hero-title {
    font-size: clamp(2.5rem, 5vw, 4.5rem);
    font-weight: 800;
    line-height: 1.1;
    margin-bottom: 1.5rem;
    letter-spacing: -0.02em;
  }

  .gradient-text {
    background: linear-gradient(135deg, #2e8eff 0%, #34d399 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .hero-description {
    font-size: clamp(1rem, 2vw, 1.25rem);
    line-height: 1.7;
    color: rgba(255, 255, 255, 0.7);
    max-width: 850px;
    margin: 0 auto 3rem;
  }

  .hero-stats {
    display: flex;
    justify-content: center;
    gap: 3rem;
    flex-wrap: wrap;
  }

  .stat-item {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .stat-icon {
    color: #2e8eff;
  }

  .stat-content {
    text-align: left;
  }

  .stat-value {
    font-size: 1.5rem;
    font-weight: 700;
    color: white;
  }

  .stat-label {
    font-size: 0.875rem;
    color: rgba(255, 255, 255, 0.6);
  }

  /* Filter Section */
  .filter-section {
    padding: 2rem 2rem 4rem;
    background: rgba(255, 255, 255, 0.02);
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  }

  .filter-container {
    max-width: 1400px;
    margin: 0 auto;
    text-align: center;
  }

  .filter-container h3 {
    font-size: 1.25rem;
    font-weight: 700;
    margin-bottom: 1.5rem;
  }

  .filter-buttons {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
  }

  .filter-button {
    padding: 0.75rem 1.5rem;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 50px;
    color: rgba(255, 255, 255, 0.7);
    font-weight: 600;
    font-size: 0.9375rem;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .filter-button:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(46, 142, 255, 0.3);
    color: white;
  }

  .filter-button.active {
    background: linear-gradient(135deg, #2e8eff 0%, #1e5cb8 100%);
    border-color: #2e8eff;
    color: white;
  }

  /* Indicators Section */
  .indicators-section {
    padding: 6rem 2rem;
  }

  .section-container {
    max-width: 1400px;
    margin: 0 auto;
  }

  .section-title {
    font-size: clamp(2rem, 4vw, 3rem);
    font-weight: 800;
    text-align: center;
    margin-bottom: 4rem;
  }

  .indicators-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
  }

  .indicator-card {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 20px;
    overflow: hidden;
    transition: all 0.4s ease;
    opacity: 0;
    transform: translateY(30px);
  }

  .indicator-card.visible {
    opacity: 1;
    transform: translateY(0);
    transition-delay: var(--delay);
  }

  .indicator-card:hover {
    transform: translateY(-8px);
    border-color: var(--card-color);
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
  }

  .card-header {
    position: relative;
    padding: 3rem 2rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .card-icon {
    color: white;
    filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.3));
  }

  .card-category {
    position: absolute;
    top: 1rem;
    right: 1rem;
    padding: 0.4rem 1rem;
    background: rgba(0, 0, 0, 0.3);
    backdrop-filter: blur(10px);
    border-radius: 50px;
    font-size: 0.75rem;
    font-weight: 600;
    color: white;
  }

  .card-content {
    padding: 2rem;
  }

  .card-title {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
  }

  .card-description {
    font-size: 0.9375rem;
    line-height: 1.6;
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 1.5rem;
  }

  .card-use-case {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    padding: 1rem;
    background: rgba(255, 255, 255, 0.05);
    border-left: 3px solid var(--card-color);
    border-radius: 8px;
    margin-bottom: 1.5rem;
    font-size: 0.875rem;
    color: rgba(255, 255, 255, 0.8);
  }

  .card-use-case :global(svg) {
    color: var(--card-color);
    flex-shrink: 0;
    margin-top: 2px;
  }

  .card-meta {
    display: flex;
    gap: 1rem;
    margin-bottom: 1.5rem;
  }

  .meta-badge {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 50px;
    font-size: 0.8125rem;
    font-weight: 600;
  }

  .meta-badge.difficulty :global(svg) {
    color: #f59e0b;
  }

  .card-features {
    list-style: none;
    padding: 0;
    margin: 0 0 2rem 0;
  }

  .card-features li {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 0;
    font-size: 0.875rem;
    color: rgba(255, 255, 255, 0.8);
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  }

  .card-features li:last-child {
    border-bottom: none;
  }

  .card-features li :global(svg) {
    color: var(--card-color);
    flex-shrink: 0;
  }

  .card-button {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    width: 100%;
    justify-content: center;
    padding: 1rem 1.5rem;
    background: rgba(255, 255, 255, 0.05);
    color: white;
    text-decoration: none;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    font-weight: 600;
    font-size: 0.9375rem;
    transition: all 0.3s ease;
  }

  .card-button:hover {
    background: var(--card-color);
    border-color: var(--card-color);
    transform: translateX(4px);
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
  }

  /* Benefits Section */
  .benefits-section {
    padding: 6rem 2rem;
    background: rgba(255, 255, 255, 0.02);
  }

  .benefits-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2rem;
    margin-top: 3rem;
  }

  .benefit-card {
    padding: 2rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    transition: all 0.3s ease;
  }

  .benefit-card:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(46, 142, 255, 0.3);
    transform: translateY(-4px);
  }

  .benefit-icon {
    width: 64px;
    height: 64px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #2e8eff 0%, #1e5cb8 100%);
    border-radius: 12px;
    margin-bottom: 1.5rem;
    color: white;
  }

  .benefit-card h3 {
    font-size: 1.25rem;
    font-weight: 700;
    margin-bottom: 0.75rem;
  }

  .benefit-card p {
    font-size: 0.9375rem;
    line-height: 1.6;
    color: rgba(255, 255, 255, 0.7);
  }

  /* Responsive */
  @media (max-width: 1200px) {
    .glow-orb-1 {
      width: 500px;
      height: 500px;
    }

    .glow-orb-2 {
      width: 450px;
      height: 450px;
    }
  }

  @media (max-width: 1024px) {
    .indicators-grid {
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    }

    .glow-orb-1 {
      width: 400px;
      height: 400px;
    }

    .glow-orb-2 {
      width: 350px;
      height: 350px;
    }
  }

  @media (max-width: 768px) {
    .hero-section {
      padding: 6rem 1.5rem 4rem;
      min-height: auto;
    }

    .indicators-grid {
      grid-template-columns: 1fr;
    }

    .hero-stats {
      flex-direction: column;
      gap: 1.5rem;
    }

    .stat-item {
      justify-content: center;
    }

    .filter-section {
      padding: 2rem 1rem;
    }

    .glow-orb-1 {
      width: 300px;
      height: 300px;
    }

    .glow-orb-2 {
      width: 250px;
      height: 250px;
    }
  }

  @media (max-width: 640px) {
    .section-container {
      padding: 0 1rem;
    }

    .indicators-section {
      padding: 4rem 1rem;
    }

    .benefits-section {
      padding: 4rem 1rem;
    }

    .benefits-grid {
      grid-template-columns: 1fr;
    }
  }
</style>

# END OF frontend/src/routes/indicators/+page.svelte


##################################################################
# FILE: frontend/src/routes/indicators/macd/+page.svelte
# PATH: frontend/src/routes/indicators/macd/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { browser } from '$app/environment';
  import NavBar from '$lib/components/NavBar.svelte';
  import {
    IconWaveSine,
    IconTrendingUp,
    IconCheck,
    IconAlertTriangle,
    IconBolt,
    IconChartLine,
    IconTarget
  } from '@tabler/icons-svelte';

  let heroVisible = false;

  onMount(() => {
    if (!browser) return;
    const heroObserver = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) heroVisible = true;
        });
      },
      { threshold: 0.2 }
    );

    const heroElement = document.querySelector('.hero-section');
    if (heroElement) heroObserver.observe(heroElement);

    return () => heroObserver.disconnect();
  });
</script>

<svelte:head>
  <title>MACD - Moving Average Convergence Divergence | Revolution Trading</title>
  <meta name="description" content="Master the MACD indicator to identify trend changes and momentum shifts with this powerful trend-following tool." />
  <meta property="og:title" content="MACD Indicator | Revolution Trading" />
  <meta property="og:description" content="Master the MACD indicator to identify trend changes and momentum shifts with this powerful trend-following tool." />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="MACD Indicator | Revolution Trading" />
  <meta name="twitter:description" content="Master the MACD indicator to identify trend changes and momentum shifts with this powerful trend-following tool." />
</svelte:head>

<div class="indicator-page">
  <NavBar />

  <section class="hero-section" class:visible={heroVisible}>
    <div class="hero-background">
      <div class="glow-orb"></div>
      <div class="wave-pattern"></div>
    </div>

    <div class="hero-content">
      <div class="hero-badge">
        <IconWaveSine size={20} stroke={2} />
        <span>Trend Following Indicator</span>
      </div>

      <h1 class="hero-title">
        MACD<br />
        <span class="gradient-text">Indicator</span>
      </h1>

      <p class="hero-description">
        The MACD (Moving Average Convergence Divergence) is a trend-following momentum indicator
        that shows the relationship between two moving averages of price.
      </p>

      <div class="hero-meta">
        <div class="meta-item">
          <IconChartLine size={24} stroke={2} />
          <div>
            <div class="meta-label">Type</div>
            <div class="meta-value">Trend + Momentum</div>
          </div>
        </div>
        <div class="meta-item">
          <IconTarget size={24} stroke={2} />
          <div>
            <div class="meta-label">Components</div>
            <div class="meta-value">3 Lines</div>
          </div>
        </div>
        <div class="meta-item">
          <IconBolt size={24} stroke={2} />
          <div>
            <div class="meta-label">Best For</div>
            <div class="meta-value">Trend Changes</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="content-section">
    <div class="section-container">
      <h2 class="section-title">MACD Components</h2>

      <div class="components-grid">
        <div class="component-card">
          <div class="component-number">1</div>
          <h3>MACD Line</h3>
          <p>12-period EMA minus 26-period EMA. This is the faster moving line that reacts to price changes.</p>
        </div>

        <div class="component-card">
          <div class="component-number">2</div>
          <h3>Signal Line</h3>
          <p>9-period EMA of the MACD line. Crossovers with the MACD line generate trading signals.</p>
        </div>

        <div class="component-card">
          <div class="component-number">3</div>
          <h3>Histogram</h3>
          <p>Difference between MACD line and signal line. Shows momentum strength and potential reversals.</p>
        </div>
      </div>
    </div>
  </section>

  <section class="strategies-section">
    <div class="section-container">
      <h2 class="section-title">MACD Trading Signals</h2>

      <div class="signals-grid">
        <div class="signal-card bullish">
          <div class="signal-icon">
            <IconTrendingUp size={32} stroke={1.5} />
          </div>
          <h3>Bullish Crossover</h3>
          <p>MACD line crosses above signal line - potential buy signal</p>
          <div class="signal-tip">
            <IconCheck size={16} stroke={2} />
            <span>Confirm with price action</span>
          </div>
        </div>

        <div class="signal-card bearish">
          <div class="signal-icon">
            <IconTrendingUp size={32} stroke={1.5} style="transform: rotate(180deg)" />
          </div>
          <h3>Bearish Crossover</h3>
          <p>MACD line crosses below signal line - potential sell signal</p>
          <div class="signal-tip">
            <IconCheck size={16} stroke={2} />
            <span>Watch for volume confirmation</span>
          </div>
        </div>

        <div class="signal-card divergence">
          <div class="signal-icon">
            <IconWaveSine size={32} stroke={1.5} />
          </div>
          <h3>Divergence</h3>
          <p>Price makes new high/low but MACD doesn't - reversal signal</p>
          <div class="signal-tip">
            <IconAlertTriangle size={16} stroke={2} />
            <span>High probability setup</span>
          </div>
        </div>

        <div class="signal-card histogram">
          <div class="signal-icon">
            <IconChartLine size={32} stroke={1.5} />
          </div>
          <h3>Histogram Reversal</h3>
          <p>Histogram peaks and starts declining - momentum shift</p>
          <div class="signal-tip">
            <IconCheck size={16} stroke={2} />
            <span>Early reversal warning</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="cta-section">
    <div class="cta-card">
      <h2>Master MACD Trading</h2>
      <p>Learn advanced MACD strategies in our comprehensive courses</p>
      <a href="/courses" class="cta-button">
        View Courses
        <IconBolt size={20} stroke={2} />
      </a>
    </div>
  </section>
</div>

<style>
  .indicator-page {
    min-height: 100vh;
    background: linear-gradient(to bottom, #0a0f1e 0%, #050812 100%);
    color: white;
  }

  .hero-section {
    position: relative;
    min-height: 80vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 8rem 2rem 4rem;
    overflow: hidden;
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.8s ease, transform 0.8s ease;
  }

  .hero-section.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .hero-background {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    overflow: hidden;
  }

  .glow-orb {
    position: absolute;
    width: 600px;
    height: 600px;
    background: radial-gradient(circle, #34d399 0%, transparent 70%);
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.3;
    top: -200px;
    right: -200px;
    animation: pulse 4s ease-in-out infinite;
  }

  .wave-pattern {
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 100px;
    background:
      linear-gradient(90deg, transparent 0%, rgba(52, 211, 153, 0.2) 50%, transparent 100%);
    opacity: 0.3;
    animation: wave 4s ease-in-out infinite;
  }

  @keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 0.3; }
    50% { transform: scale(1.1); opacity: 0.5; }
  }

  @keyframes wave {
    0%, 100% { transform: translateY(-20px) scaleY(1); }
    50% { transform: translateY(20px) scaleY(0.8); }
  }

  .hero-content {
    position: relative;
    z-index: 1;
    max-width: 900px;
    text-align: center;
  }

  .hero-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1.25rem;
    background: rgba(52, 211, 153, 0.15);
    border: 1px solid rgba(52, 211, 153, 0.3);
    border-radius: 50px;
    font-size: 0.875rem;
    color: #34d399;
    margin-bottom: 2rem;
  }

  .hero-title {
    font-size: clamp(2.5rem, 5vw, 4.5rem);
    font-weight: 800;
    margin-bottom: 1.5rem;
  }

  .gradient-text {
    background: linear-gradient(135deg, #34d399 0%, #059669 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .hero-description {
    font-size: clamp(1rem, 2vw, 1.25rem);
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 3rem;
  }

  .hero-meta {
    display: flex;
    justify-content: center;
    gap: 2rem;
    flex-wrap: wrap;
  }

  .meta-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }

  .meta-item :global(svg) {
    color: #34d399;
  }

  .meta-label {
    font-size: 0.75rem;
    color: rgba(255, 255, 255, 0.5);
  }

  .meta-value {
    font-size: 1rem;
    font-weight: 700;
  }

  .content-section {
    padding: 6rem 2rem;
  }

  .section-container {
    max-width: 1200px;
    margin: 0 auto;
  }

  .section-title {
    font-size: clamp(2rem, 4vw, 3rem);
    font-weight: 800;
    text-align: center;
    margin-bottom: 4rem;
  }

  .components-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
  }

  .component-card {
    padding: 2rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    position: relative;
    transition: all 0.3s ease;
  }

  .component-card:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(52, 211, 153, 0.3);
    transform: translateY(-4px);
  }

  .component-number {
    position: absolute;
    top: 1rem;
    right: 1rem;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #34d399 0%, #059669 100%);
    border-radius: 50%;
    font-size: 1.25rem;
    font-weight: 700;
  }

  .component-card h3 {
    font-size: 1.5rem;
    margin-bottom: 1rem;
  }

  .component-card p {
    color: rgba(255, 255, 255, 0.7);
    line-height: 1.6;
  }

  .strategies-section {
    padding: 6rem 2rem;
    background: rgba(255, 255, 255, 0.02);
  }

  .signals-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2rem;
  }

  .signal-card {
    padding: 2rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    transition: all 0.3s ease;
  }

  .signal-card:hover {
    transform: translateY(-4px);
  }

  .signal-card.bullish {
    border-left: 4px solid #34d399;
  }

  .signal-card.bullish:hover {
    border-color: rgba(52, 211, 153, 0.5);
    background: rgba(52, 211, 153, 0.05);
  }

  .signal-card.bearish {
    border-left: 4px solid #ef4444;
  }

  .signal-card.bearish:hover {
    border-color: rgba(239, 68, 68, 0.5);
    background: rgba(239, 68, 68, 0.05);
  }

  .signal-card.divergence {
    border-left: 4px solid #a78bfa;
  }

  .signal-card.divergence:hover {
    border-color: rgba(167, 139, 250, 0.5);
    background: rgba(167, 139, 250, 0.05);
  }

  .signal-card.histogram {
    border-left: 4px solid #2e8eff;
  }

  .signal-card.histogram:hover {
    border-color: rgba(46, 142, 255, 0.5);
    background: rgba(46, 142, 255, 0.05);
  }

  .signal-icon {
    width: 64px;
    height: 64px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #34d399 0%, #059669 100%);
    border-radius: 12px;
    margin-bottom: 1.5rem;
    color: white;
  }

  .signal-card h3 {
    font-size: 1.25rem;
    margin-bottom: 0.75rem;
  }

  .signal-card p {
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 1rem;
  }

  .signal-tip {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem;
    background: rgba(52, 211, 153, 0.1);
    border-radius: 8px;
    font-size: 0.875rem;
    color: #34d399;
  }

  .cta-section {
    padding: 6rem 2rem;
  }

  .cta-card {
    max-width: 800px;
    margin: 0 auto;
    padding: 4rem;
    background: linear-gradient(135deg, rgba(52, 211, 153, 0.1) 0%, rgba(5, 150, 105, 0.1) 100%);
    border: 2px solid rgba(52, 211, 153, 0.3);
    border-radius: 24px;
    text-align: center;
  }

  .cta-card h2 {
    font-size: 2.5rem;
    font-weight: 800;
    margin-bottom: 1rem;
  }

  .cta-card p {
    font-size: 1.125rem;
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 2rem;
  }

  .cta-button {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 1.25rem 2.5rem;
    background: linear-gradient(135deg, #34d399 0%, #059669 100%);
    color: white;
    text-decoration: none;
    border-radius: 12px;
    font-weight: 700;
    font-size: 1.125rem;
    transition: all 0.3s ease;
  }

  .cta-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 15px 40px rgba(52, 211, 153, 0.5);
  }

  /* Responsive */
  @media (max-width: 1200px) {
    .glow-orb {
      width: 500px;
      height: 500px;
    }
  }

  @media (max-width: 1024px) {
    .components-grid {
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    }

    .glow-orb {
      width: 400px;
      height: 400px;
    }
  }

  @media (max-width: 768px) {
    .hero-section {
      padding: 6rem 1.5rem 4rem;
      min-height: auto;
    }

    .hero-meta {
      flex-direction: column;
      gap: 1rem;
    }

    .components-grid,
    .signals-grid {
      grid-template-columns: 1fr;
    }

    .cta-card {
      padding: 2rem;
    }

    .cta-card h2 {
      font-size: 2rem;
    }

    .glow-orb {
      width: 300px;
      height: 300px;
    }
  }

  @media (max-width: 640px) {
    .content-section {
      padding: 4rem 1rem;
    }

    .strategies-section {
      padding: 4rem 1rem;
    }

    .cta-section {
      padding: 4rem 1rem;
    }

    .section-container {
      padding: 0 1rem;
    }

    .cta-card {
      padding: 1.5rem;
    }
  }
</style>

# END OF frontend/src/routes/indicators/macd/+page.svelte


##################################################################
# FILE: frontend/src/routes/indicators/rsi/+page.svelte
# PATH: frontend/src/routes/indicators/rsi/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { browser } from '$app/environment';
  import NavBar from '$lib/components/NavBar.svelte';
  import {
    IconActivity,
    IconTrendingUp,
    IconTrendingDown,
    IconCheck,
    IconAlertTriangle,
    IconBolt,
    IconChartLine,
    IconTarget
  } from '@tabler/icons-svelte';

  let heroVisible = false;
  let sectionsVisible: boolean[] = [false, false, false];

  onMount(() => {
    if (!browser) return;

    const heroObserver = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) heroVisible = true;
        });
      },
      { threshold: 0.2 }
    );

    const sectionObserver = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            const index = parseInt(entry.target.getAttribute('data-section') || '0');
            sectionsVisible[index] = true;
          }
        });
      },
      { threshold: 0.1 }
    );

    const heroElement = document.querySelector('.hero-section');
    if (heroElement) heroObserver.observe(heroElement);

    const sectionElements = document.querySelectorAll('.animated-section');
    sectionElements.forEach((section) => sectionObserver.observe(section));

    return () => {
      heroObserver.disconnect();
      sectionObserver.disconnect();
    };
  });
</script>

<svelte:head>
  <title>RSI - Relative Strength Index | Revolution Trading</title>
  <meta name="description" content="Master the RSI indicator to identify overbought/oversold conditions and reversal points with precision." />
  <meta property="og:title" content="RSI - Relative Strength Index | Revolution Trading" />
  <meta property="og:description" content="Master the RSI indicator to identify overbought/oversold conditions and reversal points with precision." />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="RSI Indicator | Revolution Trading" />
  <meta name="twitter:description" content="Master the RSI indicator to identify overbought/oversold conditions and reversal points with precision." />
</svelte:head>

<div class="indicator-page">
  <NavBar />

  <!-- Hero Section -->
  <section class="hero-section" class:visible={heroVisible}>
    <div class="hero-background">
      <div class="glow-orb"></div>
      <div class="oscillator-line"></div>
    </div>

    <div class="hero-content">
      <div class="hero-badge">
        <IconActivity size={20} stroke={2} />
        <span>Momentum Indicator</span>
      </div>

      <h1 class="hero-title">
        RSI - Relative<br />
        <span class="gradient-text">Strength Index</span>
      </h1>

      <p class="hero-description">
        The RSI is a momentum oscillator that measures the speed and magnitude of price changes.
        Used by professional traders to identify overbought/oversold conditions and potential reversals.
      </p>

      <div class="hero-meta">
        <div class="meta-item">
          <IconChartLine size={24} stroke={2} />
          <div>
            <div class="meta-label">Type</div>
            <div class="meta-value">Oscillator</div>
          </div>
        </div>
        <div class="meta-item">
          <IconTarget size={24} stroke={2} />
          <div>
            <div class="meta-label">Range</div>
            <div class="meta-value">0-100</div>
          </div>
        </div>
        <div class="meta-item">
          <IconBolt size={24} stroke={2} />
          <div>
            <div class="meta-label">Best For</div>
            <div class="meta-value">Reversals</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- How It Works -->
  <section class="animated-section" class:visible={sectionsVisible[0]} data-section="0">
    <div class="section-container">
      <h2 class="section-title">How RSI Works</h2>

      <div class="content-grid">
        <div class="content-card">
          <div class="card-number">1</div>
          <h3>Calculation</h3>
          <p>RSI = 100 - (100 / (1 + RS)) where RS = Average Gain / Average Loss over 14 periods.</p>
        </div>

        <div class="content-card">
          <div class="card-number">2</div>
          <h3>Interpretation</h3>
          <p>Values above 70 indicate overbought conditions. Values below 30 indicate oversold conditions.</p>
        </div>

        <div class="content-card">
          <div class="card-number">3</div>
          <h3>Signals</h3>
          <p>Look for divergences between price and RSI, as well as crossovers of the 30 and 70 levels.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Key Levels -->
  <section class="levels-section animated-section" class:visible={sectionsVisible[1]} data-section="1">
    <div class="section-container">
      <h2 class="section-title">RSI Key Levels</h2>

      <div class="levels-visual">
        <div class="level-bar">
          <div class="level-zone overbought">
            <div class="zone-label">
              <IconTrendingUp size={20} stroke={2} />
              <span>Overbought (70-100)</span>
            </div>
            <p>Potential selling opportunity or trend continuation in strong uptrends</p>
          </div>

          <div class="level-zone neutral">
            <div class="zone-label">
              <IconActivity size={20} stroke={2} />
              <span>Neutral (30-70)</span>
            </div>
            <p>Normal trading range with no extreme conditions</p>
          </div>

          <div class="level-zone oversold">
            <div class="zone-label">
              <IconTrendingDown size={20} stroke={2} />
              <span>Oversold (0-30)</span>
            </div>
            <p>Potential buying opportunity or trend continuation in strong downtrends</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Trading Strategies -->
  <section class="strategies-section animated-section" class:visible={sectionsVisible[2]} data-section="2">
    <div class="section-container">
      <h2 class="section-title">RSI Trading Strategies</h2>

      <div class="strategies-grid">
        <div class="strategy-card">
          <div class="strategy-icon">
            <IconCheck size={32} stroke={1.5} />
          </div>
          <h3>Overbought/Oversold</h3>
          <p>Classic strategy: Buy when RSI crosses above 30, sell when it crosses below 70.</p>
          <div class="strategy-tip">
            <IconAlertTriangle size={16} stroke={2} />
            <span>Works best in ranging markets</span>
          </div>
        </div>

        <div class="strategy-card">
          <div class="strategy-icon">
            <IconCheck size={32} stroke={1.5} />
          </div>
          <h3>Divergence Trading</h3>
          <p>Look for divergence between price action and RSI to identify potential reversals.</p>
          <div class="strategy-tip">
            <IconAlertTriangle size={16} stroke={2} />
            <span>High probability reversal signal</span>
          </div>
        </div>

        <div class="strategy-card">
          <div class="strategy-icon">
            <IconCheck size={32} stroke={1.5} />
          </div>
          <h3>Trend Confirmation</h3>
          <p>In uptrends, use RSI pullbacks to 40-50 as buying opportunities.</p>
          <div class="strategy-tip">
            <IconAlertTriangle size={16} stroke={2} />
            <span>Aligns with trend direction</span>
          </div>
        </div>

        <div class="strategy-card">
          <div class="strategy-icon">
            <IconCheck size={32} stroke={1.5} />
          </div>
          <h3>Failure Swings</h3>
          <p>Identify RSI failure swings for high-probability reversal signals.</p>
          <div class="strategy-tip">
            <IconAlertTriangle size={16} stroke={2} />
            <span>Advanced pattern recognition</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="cta-section">
    <div class="cta-card">
      <h2>Master RSI Trading</h2>
      <p>Learn advanced RSI strategies in our professional trading courses</p>
      <a href="/courses" class="cta-button">
        View Courses
        <IconBolt size={20} stroke={2} />
      </a>
    </div>
  </section>
</div>

<style>
  .indicator-page {
    min-height: 100vh;
    background: linear-gradient(to bottom, #0a0f1e 0%, #050812 100%);
    color: white;
  }

  /* Hero Section */
  .hero-section {
    position: relative;
    min-height: 80vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 8rem 2rem 4rem;
    overflow: hidden;
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.8s ease, transform 0.8s ease;
  }

  .hero-section.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .hero-background {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    overflow: hidden;
  }

  .glow-orb {
    position: absolute;
    width: 600px;
    height: 600px;
    background: radial-gradient(circle, #2e8eff 0%, transparent 70%);
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.3;
    top: -200px;
    right: -200px;
    animation: pulse 4s ease-in-out infinite;
  }

  .oscillator-line {
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent 0%, #2e8eff 50%, transparent 100%);
    opacity: 0.3;
    animation: oscillate 3s ease-in-out infinite;
  }

  @keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 0.3; }
    50% { transform: scale(1.1); opacity: 0.5; }
  }

  @keyframes oscillate {
    0%, 100% { transform: translateX(-20%); }
    50% { transform: translateX(20%); }
  }

  .hero-content {
    position: relative;
    z-index: 1;
    max-width: 900px;
    text-align: center;
  }

  .hero-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1.25rem;
    background: rgba(46, 142, 255, 0.15);
    border: 1px solid rgba(46, 142, 255, 0.3);
    border-radius: 50px;
    font-size: 0.875rem;
    color: #2e8eff;
    margin-bottom: 2rem;
  }

  .hero-title {
    font-size: clamp(2.5rem, 5vw, 4.5rem);
    font-weight: 800;
    margin-bottom: 1.5rem;
  }

  .gradient-text {
    background: linear-gradient(135deg, #2e8eff 0%, #1e5cb8 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .hero-description {
    font-size: clamp(1rem, 2vw, 1.25rem);
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 3rem;
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
  }

  .hero-meta {
    display: flex;
    justify-content: center;
    gap: 2rem;
    flex-wrap: wrap;
  }

  .meta-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }

  .meta-item :global(svg) {
    color: #2e8eff;
  }

  .meta-label {
    font-size: 0.75rem;
    color: rgba(255, 255, 255, 0.5);
  }

  .meta-value {
    font-size: 1rem;
    font-weight: 700;
  }

  /* Animated Sections */
  .animated-section {
    padding: 6rem 2rem;
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.8s ease, transform 0.8s ease;
  }

  .animated-section.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .section-container {
    max-width: 1200px;
    margin: 0 auto;
  }

  .section-title {
    font-size: clamp(2rem, 4vw, 3rem);
    font-weight: 800;
    text-align: center;
    margin-bottom: 4rem;
  }

  /* Content Grid */
  .content-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
  }

  .content-card {
    padding: 2rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    position: relative;
    transition: all 0.3s ease;
  }

  .content-card:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(46, 142, 255, 0.3);
    transform: translateY(-4px);
  }

  .card-number {
    position: absolute;
    top: 1rem;
    right: 1rem;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #2e8eff 0%, #1e5cb8 100%);
    border-radius: 50%;
    font-size: 1.25rem;
    font-weight: 700;
  }

  .content-card h3 {
    font-size: 1.5rem;
    margin-bottom: 1rem;
  }

  .content-card p {
    color: rgba(255, 255, 255, 0.7);
    line-height: 1.6;
  }

  /* Levels Section */
  .levels-section {
    background: rgba(255, 255, 255, 0.02);
  }

  .levels-visual {
    max-width: 900px;
    margin: 0 auto;
  }

  .level-bar {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .level-zone {
    padding: 2rem;
    border-radius: 16px;
    border-left: 4px solid;
    transition: all 0.3s ease;
  }

  .level-zone:hover {
    transform: translateX(8px);
  }

  .level-zone.overbought {
    background: linear-gradient(90deg, rgba(239, 68, 68, 0.1) 0%, transparent 100%);
    border-left-color: #ef4444;
  }

  .level-zone.neutral {
    background: linear-gradient(90deg, rgba(46, 142, 255, 0.1) 0%, transparent 100%);
    border-left-color: #2e8eff;
  }

  .level-zone.oversold {
    background: linear-gradient(90deg, rgba(52, 211, 153, 0.1) 0%, transparent 100%);
    border-left-color: #34d399;
  }

  .zone-label {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 1.25rem;
    font-weight: 700;
    margin-bottom: 0.75rem;
  }

  .level-zone p {
    color: rgba(255, 255, 255, 0.7);
  }

  /* Strategies Section */
  .strategies-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2rem;
  }

  .strategy-card {
    padding: 2rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    transition: all 0.3s ease;
  }

  .strategy-card:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(46, 142, 255, 0.3);
    transform: translateY(-4px);
  }

  .strategy-icon {
    width: 64px;
    height: 64px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #2e8eff 0%, #1e5cb8 100%);
    border-radius: 12px;
    margin-bottom: 1.5rem;
    color: white;
  }

  .strategy-card h3 {
    font-size: 1.25rem;
    margin-bottom: 0.75rem;
  }

  .strategy-card p {
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 1rem;
    line-height: 1.6;
  }

  .strategy-tip {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem;
    background: rgba(46, 142, 255, 0.1);
    border-radius: 8px;
    font-size: 0.875rem;
    color: #2e8eff;
  }

  /* CTA Section */
  .cta-section {
    padding: 6rem 2rem;
  }

  .cta-card {
    max-width: 800px;
    margin: 0 auto;
    padding: 4rem;
    background: linear-gradient(135deg, rgba(46, 142, 255, 0.1) 0%, rgba(30, 92, 184, 0.1) 100%);
    border: 2px solid rgba(46, 142, 255, 0.3);
    border-radius: 24px;
    text-align: center;
  }

  .cta-card h2 {
    font-size: 2.5rem;
    font-weight: 800;
    margin-bottom: 1rem;
  }

  .cta-card p {
    font-size: 1.125rem;
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 2rem;
  }

  .cta-button {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 1.25rem 2.5rem;
    background: linear-gradient(135deg, #2e8eff 0%, #1e5cb8 100%);
    color: white;
    text-decoration: none;
    border-radius: 12px;
    font-weight: 700;
    font-size: 1.125rem;
    transition: all 0.3s ease;
  }

  .cta-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 15px 40px rgba(46, 142, 255, 0.5);
  }

  /* Responsive */
  /* Responsive */
  @media (max-width: 1200px) {
    .glow-orb {
      width: 500px;
      height: 500px;
    }
  }

  @media (max-width: 1024px) {
    .content-grid {
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    }

    .glow-orb {
      width: 400px;
      height: 400px;
    }
  }

  @media (max-width: 768px) {
    .hero-section {
      padding: 6rem 1.5rem 4rem;
      min-height: auto;
    }

    .hero-meta {
      flex-direction: column;
      gap: 1rem;
    }

    .content-grid,
    .strategies-grid {
      grid-template-columns: 1fr;
    }

    .cta-card {
      padding: 2rem;
    }

    .cta-card h2 {
      font-size: 2rem;
    }

    .glow-orb {
      width: 300px;
      height: 300px;
    }
  }

  @media (max-width: 640px) {
    .animated-section {
      padding: 4rem 1rem;
    }

    .section-container {
      padding: 0 1rem;
    }

    .cta-section {
      padding: 4rem 1rem;
    }

    .cta-card {
      padding: 1.5rem;
    }

    .level-zone {
      padding: 1.5rem;
    }
  }
</style>

# END OF frontend/src/routes/indicators/rsi/+page.svelte


##################################################################
# FILE: frontend/src/routes/cart/+page.svelte
# PATH: frontend/src/routes/cart/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { goto } from '$app/navigation';
  import { gsap } from 'gsap';
  import { cartStore, cartItemCount, cartTotal } from '$lib/stores/cart';
  import { validateCoupon } from '$lib/api/coupons';
  import {
    IconTrash,
    IconPlus,
    IconMinus,
    IconShoppingCart,
    IconCreditCard,
    IconShieldCheck,
    IconArrowLeft,
    IconTicket,
    IconX
  } from '@tabler/icons-svelte';

  let isVisible = false;
  let headerRef: HTMLDivElement;
  let cartItemsRef: HTMLDivElement;
  let summaryRef: HTMLDivElement;

  // Coupon state
  let couponCode = '';
  let appliedCoupon: { code: string; discount: number; type: 'percentage' | 'fixed' } | null = null;
  let couponError = '';
  let applyingCoupon = false;

  onMount(() => {
    isVisible = true;
    initAnimations();
  });

  function initAnimations() {
    const tl = gsap.timeline({ defaults: { ease: 'power3.out' } });

    // Animate header
    tl.from(headerRef, {
      opacity: 0,
      y: -50,
      duration: 1,
      ease: 'back.out(1.7)'
    })
    // Animate cart items
    .from('.cart-item-card', {
      opacity: 0,
      x: -60,
      duration: 0.8,
      stagger: 0.15,
      ease: 'power4.out'
    }, '-=0.5')
    // Animate summary
    .from(summaryRef, {
      opacity: 0,
      x: 60,
      duration: 0.8,
      ease: 'power4.out'
    }, '-=0.6');
  }

  function removeItem(itemId: string, interval?: 'monthly' | 'quarterly' | 'yearly') {
    cartStore.removeItem(itemId, interval);
  }

  function updateQuantity(itemId: string, quantity: number, interval?: 'monthly' | 'quarterly' | 'yearly') {
    cartStore.updateQuantity(itemId, quantity, interval);
  }

  function formatPrice(price: number): string {
    return new Intl.NumberFormat('en-US', {
      style: 'currency',
      currency: 'USD'
    }).format(price);
  }

  async function handleCheckout() {
    // TODO: Implement checkout with Stripe
    console.log('Proceeding to checkout...');
    await goto('/checkout');
  }

  async function applyCouponCode() {
    if (!couponCode.trim()) {
      couponError = 'Please enter a coupon code';
      return;
    }

    applyingCoupon = true;
    couponError = '';

    try {
      const result = await validateCoupon(couponCode.trim().toUpperCase(), $cartTotal);

      if (result.valid) {
        appliedCoupon = {
          code: couponCode.trim().toUpperCase(),
          discount: result.discountAmount || 0,
          type: result.type || 'percentage'
        };

        // Apply to cart store
        cartStore.applyCoupon(appliedCoupon.code, appliedCoupon.discount);

        couponCode = '';
        couponError = '';
      } else {
        couponError = result.message || 'Invalid coupon code';
      }
    } catch (error) {
      console.error('Error applying coupon:', error);
      couponError = 'Failed to apply coupon. Please try again.';
    } finally {
      applyingCoupon = false;
    }
  }

  function removeCouponCode() {
    appliedCoupon = null;
    couponCode = '';
    couponError = '';
    cartStore.removeCoupon();
  }

  // Calculate discount amount
  $: discountAmount = appliedCoupon
    ? appliedCoupon.type === 'percentage'
      ? ($cartTotal * appliedCoupon.discount) / 100
      : appliedCoupon.discount
    : 0;

  // Calculate final total after discount
  $: finalTotal = Math.max(0, $cartTotal - discountAmount);
</script>

<svelte:head>
  <title>Shopping Cart | Revolution Trading Pros</title>
</svelte:head>

<div class="cart-page min-h-screen px-4 py-12 overflow-hidden relative">
  <!-- Animated gradient background -->
  <div class="gradient-bg absolute inset-0"></div>

  <!-- Grid overlay -->
  <div class="grid-overlay absolute inset-0"></div>

  <!-- Floating orbs -->
  <div class="glow-orb glow-orb-1"></div>
  <div class="glow-orb glow-orb-2"></div>
  <div class="glow-orb glow-orb-3"></div>

  <!-- Cart content -->
  <div class="relative max-w-7xl mx-auto z-10">
    <!-- Header -->
    <div class="mb-12" bind:this={headerRef}>
      <a
        href="/"
        class="inline-flex items-center gap-2 text-indigo-400 hover:text-indigo-300 mb-6 transition-colors duration-300"
      >
        <IconArrowLeft size={20} />
        <span class="font-semibold">Continue Shopping</span>
      </a>

      <div class="flex items-center gap-4 mb-4">
        <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-purple-500 to-pink-500 p-0.5 shadow-lg shadow-purple-500/50">
          <div class="w-full h-full bg-slate-900 rounded-2xl flex items-center justify-center">
            <IconShoppingCart size={32} class="text-purple-400" />
          </div>
        </div>
        <div>
          <h1 class="text-5xl md:text-6xl font-heading font-bold bg-gradient-to-r from-purple-300 via-pink-300 to-rose-300 bg-clip-text text-transparent">
            Shopping Cart
          </h1>
          <p class="text-xl text-slate-300 mt-2">
            {$cartItemCount} {$cartItemCount === 1 ? 'item' : 'items'} in your cart
          </p>
        </div>
      </div>
    </div>

    {#if $cartStore.items.length === 0}
      <!-- Empty cart state -->
      <div class="empty-cart-card relative">
        <div class="absolute -inset-1 bg-gradient-to-r from-slate-500/20 to-slate-700/20 rounded-3xl opacity-30 blur-2xl"></div>
        <div class="relative bg-slate-900/95 backdrop-blur-xl border border-slate-500/30 rounded-3xl p-16 text-center shadow-2xl">
          <div class="w-24 h-24 mx-auto mb-6 rounded-full bg-gradient-to-br from-slate-600 to-slate-800 p-0.5">
            <div class="w-full h-full bg-slate-900 rounded-full flex items-center justify-center">
              <IconShoppingCart size={48} class="text-slate-400" />
            </div>
          </div>
          <h2 class="text-3xl font-bold text-white mb-4">Your cart is empty</h2>
          <p class="text-slate-400 mb-8 text-lg">Start adding some amazing products to get started!</p>
          <a
            href="/"
            class="inline-block px-8 py-4 bg-gradient-to-r from-purple-500 via-pink-500 to-rose-500 text-white font-bold rounded-xl hover:shadow-lg hover:shadow-purple-500/50 transition-all duration-300 transform hover:scale-105"
          >
            Browse Products
          </a>
        </div>
      </div>
    {:else}
      <!-- Cart items grid -->
      <div class="grid lg:grid-cols-3 gap-8">
        <!-- Cart items list -->
        <div class="lg:col-span-2 space-y-4" bind:this={cartItemsRef}>
          {#each $cartStore.items as item (item.id + (item.interval || ''))}
            <div class="cart-item-card relative">
              <div class="absolute -inset-1 bg-gradient-to-r from-indigo-500/20 via-purple-500/20 to-pink-500/20 rounded-2xl opacity-50 blur-xl"></div>
              <div class="relative bg-slate-900/95 backdrop-blur-xl border border-indigo-500/30 rounded-2xl p-6 shadow-xl">
                <div class="flex gap-6">
                  <!-- Product image placeholder -->
                  <div class="flex-shrink-0 w-24 h-24 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 p-0.5">
                    <div class="w-full h-full bg-slate-900 rounded-xl flex items-center justify-center">
                      {#if item.type === 'membership'}
                        <IconShieldCheck size={40} class="text-indigo-400" />
                      {:else if item.type === 'course'}
                        <IconCreditCard size={40} class="text-purple-400" />
                      {:else}
                        <IconShoppingCart size={40} class="text-pink-400" />
                      {/if}
                    </div>
                  </div>

                  <!-- Product details -->
                  <div class="flex-1 min-w-0">
                    <div class="flex items-start justify-between gap-4 mb-2">
                      <div class="flex-1">
                        <h3 class="text-xl font-bold text-white mb-1">{item.name}</h3>
                        <p class="text-sm text-slate-400">{item.description}</p>
                        {#if item.interval}
                          <span class="inline-block mt-2 px-3 py-1 bg-purple-500/20 text-purple-300 text-xs font-semibold rounded-full border border-purple-500/30">
                            {item.interval === 'monthly' ? 'Monthly' : 'Yearly'}
                          </span>
                        {/if}
                      </div>
                      <button
                        on:click={() => removeItem(item.id, item.interval)}
                        class="p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-all duration-300"
                        aria-label="Remove item"
                      >
                        <IconTrash size={20} />
                      </button>
                    </div>

                    <div class="flex items-center justify-between mt-4">
                      <!-- Quantity controls -->
                      <div class="flex items-center gap-3">
                        <span class="text-sm text-slate-400 font-semibold">Quantity:</span>
                        <div class="flex items-center gap-2">
                          <button
                            on:click={() => updateQuantity(item.id, item.quantity - 1, item.interval)}
                            class="w-8 h-8 flex items-center justify-center bg-slate-800 hover:bg-indigo-500/20 text-white rounded-lg transition-all duration-300"
                            disabled={item.quantity <= 1}
                          >
                            <IconMinus size={16} />
                          </button>
                          <span class="w-12 text-center font-bold text-white text-lg">{item.quantity}</span>
                          <button
                            on:click={() => updateQuantity(item.id, item.quantity + 1, item.interval)}
                            class="w-8 h-8 flex items-center justify-center bg-slate-800 hover:bg-indigo-500/20 text-white rounded-lg transition-all duration-300"
                          >
                            <IconPlus size={16} />
                          </button>
                        </div>
                      </div>

                      <!-- Price -->
                      <div class="text-right">
                        <p class="text-2xl font-bold text-white">{formatPrice(item.price * item.quantity)}</p>
                        {#if item.quantity > 1}
                          <p class="text-sm text-slate-400">{formatPrice(item.price)} each</p>
                        {/if}
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          {/each}
        </div>

        <!-- Order summary -->
        <div class="lg:col-span-1">
          <div class="sticky top-24" bind:this={summaryRef}>
            <div class="summary-card relative">
              <div class="absolute -inset-1 bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 rounded-3xl opacity-30 blur-2xl"></div>
              <div class="relative bg-slate-900/95 backdrop-blur-xl border border-emerald-500/30 rounded-3xl p-8 shadow-2xl">
                <h2 class="text-2xl font-heading font-bold text-white mb-6">Order Summary</h2>

                <!-- Coupon Code Section -->
                <div class="mb-6">
                  <label for="coupon" class="block text-sm font-semibold text-slate-300 mb-2">
                    Have a coupon code?
                  </label>

                  {#if appliedCoupon}
                    <!-- Applied Coupon Display -->
                    <div class="flex items-center justify-between p-4 bg-emerald-500/10 border border-emerald-500/30 rounded-xl mb-4">
                      <div class="flex items-center gap-3">
                        <div class="w-10 h-10 rounded-lg bg-emerald-500/20 flex items-center justify-center">
                          <IconTicket size={20} class="text-emerald-400" />
                        </div>
                        <div>
                          <p class="font-bold text-emerald-400">{appliedCoupon.code}</p>
                          <p class="text-xs text-slate-400">
                            {appliedCoupon.type === 'percentage'
                              ? `${appliedCoupon.discount}% off`
                              : `$${appliedCoupon.discount} off`}
                          </p>
                        </div>
                      </div>
                      <button
                        on:click={removeCouponCode}
                        class="p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-all"
                        aria-label="Remove coupon"
                      >
                        <IconX size={20} />
                      </button>
                    </div>
                  {:else}
                    <!-- Coupon Input Field -->
                    <div class="flex gap-2">
                      <div class="flex-1 relative">
                        <input
                          type="text"
                          id="coupon"
                          bind:value={couponCode}
                          on:keypress={(e) => e.key === 'Enter' && applyCouponCode()}
                          placeholder="Enter code"
                          class="w-full px-4 py-3 bg-slate-800 border border-slate-600 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-emerald-500 transition-colors uppercase"
                          disabled={applyingCoupon}
                        />
                        {#if applyingCoupon}
                          <div class="absolute right-3 top-1/2 -translate-y-1/2">
                            <div class="w-5 h-5 border-2 border-emerald-500 border-t-transparent rounded-full animate-spin"></div>
                          </div>
                        {/if}
                      </div>
                      <button
                        on:click={applyCouponCode}
                        disabled={applyingCoupon || !couponCode.trim()}
                        class="px-6 py-3 bg-emerald-500 hover:bg-emerald-600 text-white font-semibold rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed"
                      >
                        Apply
                      </button>
                    </div>
                    {#if couponError}
                      <p class="mt-2 text-sm text-red-400">{couponError}</p>
                    {/if}
                  {/if}
                </div>

                <div class="space-y-4 mb-6">
                  <div class="flex justify-between text-slate-300">
                    <span>Subtotal</span>
                    <span class="font-semibold">{formatPrice($cartTotal)}</span>
                  </div>

                  {#if appliedCoupon && discountAmount > 0}
                    <div class="flex justify-between text-emerald-400">
                      <span class="flex items-center gap-2">
                        <IconTicket size={16} />
                        Discount ({appliedCoupon.code})
                      </span>
                      <span class="font-semibold">-{formatPrice(discountAmount)}</span>
                    </div>
                  {/if}

                  <div class="flex justify-between text-slate-300">
                    <span>Tax</span>
                    <span class="font-semibold">{formatPrice(0)}</span>
                  </div>
                  <div class="h-px bg-gradient-to-r from-transparent via-emerald-500/50 to-transparent"></div>
                  <div class="flex justify-between text-white text-xl font-bold">
                    <span>Total</span>
                    <span>{formatPrice(finalTotal)}</span>
                  </div>

                  {#if appliedCoupon && discountAmount > 0}
                    <p class="text-sm text-emerald-400 text-center">
                      You saved {formatPrice(discountAmount)}!
                    </p>
                  {/if}
                </div>

                <button
                  on:click={handleCheckout}
                  class="w-full relative px-6 py-4 bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 text-white font-heading font-bold rounded-xl overflow-hidden group transition-all duration-300 hover:shadow-lg hover:shadow-emerald-500/50 mb-4"
                >
                  <span class="relative z-10 flex items-center justify-center gap-2">
                    <IconCreditCard size={24} />
                    <span>Proceed to Checkout</span>
                  </span>
                  <div class="absolute inset-0 bg-white/20 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"></div>
                </button>

                <div class="flex items-center justify-center gap-2 text-emerald-400 text-sm">
                  <IconShieldCheck size={16} />
                  <span>Secure checkout guaranteed</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    {/if}
  </div>
</div>

<style>
  /* Animated gradient background */
  .gradient-bg {
    background: linear-gradient(135deg,
      #0f172a 0%,
      #1e1b4b 20%,
      #312e81 40%,
      #1e1b4b 60%,
      #0f172a 80%,
      #1e1b4b 100%
    );
    background-size: 400% 400%;
    animation: gradientShift 25s ease infinite;
  }

  @keyframes gradientShift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  /* Grid overlay */
  .grid-overlay {
    background-image:
      linear-gradient(rgba(139, 92, 246, 0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(139, 92, 246, 0.03) 1px, transparent 1px);
    background-size: 50px 50px;
    animation: gridMove 30s linear infinite;
    pointer-events: none;
  }

  @keyframes gridMove {
    0% { transform: translate(0, 0); }
    100% { transform: translate(50px, 50px); }
  }

  /* Glowing orbs */
  .glow-orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.4;
    pointer-events: none;
  }

  .glow-orb-1 {
    width: 600px;
    height: 600px;
    top: -100px;
    right: -100px;
    background: radial-gradient(circle, #8b5cf6, transparent 70%);
    animation: float1 25s ease-in-out infinite;
  }

  .glow-orb-2 {
    width: 500px;
    height: 500px;
    bottom: -100px;
    left: -100px;
    background: radial-gradient(circle, #ec4899, transparent 70%);
    animation: float2 30s ease-in-out infinite;
  }

  .glow-orb-3 {
    width: 450px;
    height: 450px;
    top: 50%;
    left: 50%;
    background: radial-gradient(circle, #14b8a6, transparent 70%);
    animation: float3 35s ease-in-out infinite;
  }

  @keyframes float1 {
    0%, 100% { transform: translate(0, 0) scale(1); }
    33% { transform: translate(-100px, -50px) scale(1.1); }
    66% { transform: translate(50px, -100px) scale(0.9); }
  }

  @keyframes float2 {
    0%, 100% { transform: translate(0, 0) scale(1); }
    33% { transform: translate(100px, 50px) scale(1.1); }
    66% { transform: translate(-50px, 100px) scale(0.9); }
  }

  @keyframes float3 {
    0%, 100% { transform: translate(-50%, -50%) scale(1); }
    50% { transform: translate(-50%, -50%) scale(1.2); }
  }

  /* Responsive adjustments */
  @media (max-width: 640px) {
    .glow-orb {
      filter: blur(60px);
      opacity: 0.3;
    }

    .glow-orb-1, .glow-orb-2, .glow-orb-3 {
      width: 300px;
      height: 300px;
    }
  }
</style>

# END OF frontend/src/routes/cart/+page.svelte


##################################################################
# FILE: frontend/src/routes/checkout/+page.svelte
# PATH: frontend/src/routes/checkout/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { goto } from '$app/navigation';
  import { gsap } from 'gsap';
  import { user } from '$lib/stores/auth';
  import { cartStore, cartTotal } from '$lib/stores/cart';
  import { createCheckoutSession } from '$lib/api/cart';
  import {
    IconCreditCard,
    IconShieldCheck,
    IconArrowLeft,
    IconLock,
    IconCheck
  } from '@tabler/icons-svelte';
  import type { PageData } from './$types';

  export let data: PageData;

  let isProcessing = false;
  let headerRef: HTMLDivElement;
  let orderSummaryRef: HTMLDivElement;
  let paymentFormRef: HTMLDivElement;

  onMount(() => {
    // Redirect to cart if no items
    if ($cartStore.items.length === 0) {
      goto('/cart');
      return;
    }

    initAnimations();
  });

  function initAnimations() {
    const tl = gsap.timeline({ defaults: { ease: 'power3.out' } });

    tl.from(headerRef, {
      opacity: 0,
      y: -50,
      duration: 1,
      ease: 'back.out(1.7)'
    })
    .from(orderSummaryRef, {
      opacity: 0,
      x: -60,
      duration: 0.8,
      ease: 'power4.out'
    }, '-=0.5')
    .from(paymentFormRef, {
      opacity: 0,
      x: 60,
      duration: 0.8,
      ease: 'power4.out'
    }, '-=0.6');
  }

  function formatPrice(price: number): string {
    return new Intl.NumberFormat('en-US', {
      style: 'currency',
      currency: 'USD'
    }).format(price);
  }

  async function handleCheckout() {
    isProcessing = true;

    try {
      // Create Stripe checkout session
      const session = await createCheckoutSession($cartStore.items);

      // Redirect to Stripe checkout
      window.location.href = session.url;
    } catch (error) {
      console.error('Checkout error:', error);
      const errorMessage = error instanceof Error ? error.message : 'Failed to process checkout. Please try again.';
      alert(errorMessage);
      isProcessing = false;
    }
  }
</script>

<svelte:head>
  <title>Secure Checkout | Revolution Trading Pros</title>
</svelte:head>

<div class="checkout-page min-h-screen px-4 py-12 overflow-hidden relative">
  <!-- Animated gradient background -->
  <div class="gradient-bg absolute inset-0"></div>

  <!-- Grid overlay -->
  <div class="grid-overlay absolute inset-0"></div>

  <!-- Floating orbs -->
  <div class="glow-orb glow-orb-1"></div>
  <div class="glow-orb glow-orb-2"></div>

  <!-- Checkout content -->
  <div class="relative max-w-7xl mx-auto z-10">
    <!-- Header -->
    <div class="mb-12" bind:this={headerRef}>
      <a
        href="/cart"
        class="inline-flex items-center gap-2 text-emerald-400 hover:text-emerald-300 mb-6 transition-colors duration-300"
      >
        <IconArrowLeft size={20} />
        <span class="font-semibold">Back to Cart</span>
      </a>

      <div class="flex items-center gap-4 mb-4">
        <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-emerald-500 to-teal-500 p-0.5 shadow-lg shadow-emerald-500/50">
          <div class="w-full h-full bg-slate-900 rounded-2xl flex items-center justify-center">
            <IconShieldCheck size={32} class="text-emerald-400" />
          </div>
        </div>
        <div>
          <h1 class="text-5xl md:text-6xl font-heading font-bold bg-gradient-to-r from-emerald-300 via-teal-300 to-cyan-300 bg-clip-text text-transparent">
            Secure Checkout
          </h1>
          <p class="text-xl text-slate-300 mt-2 flex items-center gap-2">
            <IconLock size={20} class="text-emerald-400" />
            <span>256-bit SSL encrypted payment</span>
          </p>
        </div>
      </div>
    </div>

    <!-- Checkout grid -->
    <div class="grid lg:grid-cols-3 gap-8">
      <!-- Order Summary -->
      <div class="lg:col-span-1 order-2 lg:order-1">
        <div class="sticky top-24" bind:this={orderSummaryRef}>
          <div class="relative">
            <div class="absolute -inset-1 bg-gradient-to-r from-indigo-500/20 via-purple-500/20 to-pink-500/20 rounded-3xl opacity-50 blur-2xl"></div>
            <div class="relative bg-slate-900/95 backdrop-blur-xl border border-indigo-500/30 rounded-3xl p-8 shadow-2xl">
              <h2 class="text-2xl font-heading font-bold text-white mb-6">Order Summary</h2>

              <!-- Cart items -->
              <div class="space-y-4 mb-6 max-h-96 overflow-y-auto">
                {#each $cartStore.items as item}
                  <div class="flex gap-3 p-3 bg-slate-800/50 rounded-xl border border-slate-700/50">
                    <div class="flex-1 min-w-0">
                      <p class="font-semibold text-white text-sm truncate">{item.name}</p>
                      <p class="text-xs text-slate-400">Qty: {item.quantity}</p>
                      {#if item.interval}
                        <span class="inline-block mt-1 px-2 py-0.5 bg-purple-500/20 text-purple-300 text-xs rounded-full">
                          {item.interval}
                        </span>
                      {/if}
                    </div>
                    <div class="text-right">
                      <p class="font-bold text-white">{formatPrice(item.price * item.quantity)}</p>
                    </div>
                  </div>
                {/each}
              </div>

              <div class="space-y-3 mb-6">
                <div class="flex justify-between text-slate-300">
                  <span>Subtotal</span>
                  <span class="font-semibold">{formatPrice($cartTotal)}</span>
                </div>
                <div class="flex justify-between text-slate-300">
                  <span>Tax</span>
                  <span class="font-semibold">{formatPrice(0)}</span>
                </div>
                <div class="h-px bg-gradient-to-r from-transparent via-indigo-500/50 to-transparent"></div>
                <div class="flex justify-between text-white text-xl font-bold">
                  <span>Total</span>
                  <span>{formatPrice($cartTotal)}</span>
                </div>
              </div>

              <!-- Security badges -->
              <div class="flex flex-wrap gap-3 pt-4 border-t border-slate-700/50">
                <div class="flex items-center gap-2 text-emerald-400 text-xs">
                  <IconShieldCheck size={16} />
                  <span>Secure Payment</span>
                </div>
                <div class="flex items-center gap-2 text-emerald-400 text-xs">
                  <IconLock size={16} />
                  <span>SSL Encrypted</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Payment Form -->
      <div class="lg:col-span-2 order-1 lg:order-2">
        <div bind:this={paymentFormRef}>
          <div class="relative">
            <div class="absolute -inset-1 bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 rounded-3xl opacity-30 blur-2xl"></div>
            <div class="relative bg-slate-900/95 backdrop-blur-xl border border-emerald-500/30 rounded-3xl p-8 shadow-2xl">
              <!-- Billing Information -->
              <div class="mb-8">
                <h2 class="text-2xl font-heading font-bold text-white mb-6">Billing Information</h2>

                <div class="p-4 bg-emerald-500/10 border border-emerald-500/30 rounded-xl mb-6">
                  <div class="flex items-start gap-3">
                    <IconCheck size={20} class="text-emerald-400 flex-shrink-0 mt-0.5" />
                    <div>
                      <p class="text-emerald-300 font-semibold mb-1">Logged in as:</p>
                      <p class="text-white">{$user?.name}</p>
                      <p class="text-slate-400 text-sm">{$user?.email}</p>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Payment Method -->
              <div class="mb-8">
                <h2 class="text-2xl font-heading font-bold text-white mb-6">Payment Method</h2>

                <div class="p-6 bg-gradient-to-br from-slate-800/60 to-slate-800/40 rounded-xl border border-slate-700/50 mb-6">
                  <div class="flex items-center gap-3 mb-4">
                    <IconCreditCard size={24} class="text-emerald-400" />
                    <p class="text-white font-semibold">Credit or Debit Card</p>
                  </div>
                  <p class="text-slate-400 text-sm mb-4">
                    You'll be securely redirected to our payment processor (Stripe) to complete your purchase.
                  </p>
                  <div class="flex gap-2">
                    <img src="https://js.stripe.com/v3/fingerprinted/img/visa-729c05c240c4bdb47b03ac81d9945bfe.svg" alt="Visa" class="h-8" />
                    <img src="https://js.stripe.com/v3/fingerprinted/img/mastercard-4d8844094130711885b5e41b28c9848f.svg" alt="Mastercard" class="h-8" />
                    <img src="https://js.stripe.com/v3/fingerprinted/img/amex-a49b82f46c5cd6a96a6e418a6ca1717c.svg" alt="Amex" class="h-8" />
                    <img src="https://js.stripe.com/v3/fingerprinted/img/discover-ac52cd46f89fa40a29a0bfb954e33173.svg" alt="Discover" class="h-8" />
                  </div>
                </div>
              </div>

              <!-- Complete Purchase Button -->
              <button
                on:click={handleCheckout}
                disabled={isProcessing}
                class="w-full relative px-8 py-5 bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 text-white font-heading font-bold text-lg rounded-xl overflow-hidden group transition-all duration-300 hover:shadow-2xl hover:shadow-emerald-500/50 disabled:opacity-50 disabled:cursor-not-allowed"
              >
                <span class="relative z-10 flex items-center justify-center gap-3">
                  {#if isProcessing}
                    <div class="w-6 h-6 border-3 border-white/30 border-t-white rounded-full animate-spin"></div>
                    <span>Processing...</span>
                  {:else}
                    <IconShieldCheck size={24} />
                    <span>Complete Secure Purchase</span>
                  {/if}
                </span>
                <div class="absolute inset-0 bg-white/20 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"></div>
              </button>

              <!-- Terms -->
              <p class="text-center text-slate-400 text-sm mt-6">
                By completing this purchase, you agree to our
                <a href="/terms" class="text-emerald-400 hover:text-emerald-300 underline">Terms of Service</a> and
                <a href="/privacy" class="text-emerald-400 hover:text-emerald-300 underline">Privacy Policy</a>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  /* Animated gradient background */
  .gradient-bg {
    background: linear-gradient(135deg,
      #0f172a 0%,
      #064e3b 25%,
      #0f172a 50%,
      #1e1b4b 75%,
      #0f172a 100%
    );
    background-size: 400% 400%;
    animation: gradientShift 25s ease infinite;
  }

  @keyframes gradientShift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  /* Grid overlay */
  .grid-overlay {
    background-image:
      linear-gradient(rgba(16, 185, 129, 0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(16, 185, 129, 0.03) 1px, transparent 1px);
    background-size: 50px 50px;
    animation: gridMove 30s linear infinite;
    pointer-events: none;
  }

  @keyframes gridMove {
    0% { transform: translate(0, 0); }
    100% { transform: translate(50px, 50px); }
  }

  /* Glowing orbs */
  .glow-orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.4;
    pointer-events: none;
  }

  .glow-orb-1 {
    width: 600px;
    height: 600px;
    top: -100px;
    left: 50%;
    background: radial-gradient(circle, #10b981, transparent 70%);
    animation: float1 25s ease-in-out infinite;
  }

  .glow-orb-2 {
    width: 500px;
    height: 500px;
    bottom: -100px;
    right: 10%;
    background: radial-gradient(circle, #14b8a6, transparent 70%);
    animation: float2 30s ease-in-out infinite;
  }

  @keyframes float1 {
    0%, 100% { transform: translateX(-50%) translateY(0) scale(1); }
    50% { transform: translateX(-50%) translateY(-50px) scale(1.1); }
  }

  @keyframes float2 {
    0%, 100% { transform: translateY(0) scale(1); }
    50% { transform: translateY(50px) scale(0.9); }
  }

  /* Responsive */
  @media (max-width: 640px) {
    .glow-orb {
      filter: blur(60px);
      opacity: 0.3;
    }

    .glow-orb-1, .glow-orb-2 {
      width: 300px;
      height: 300px;
    }
  }
</style>

# END OF frontend/src/routes/checkout/+page.svelte


##################################################################
# FILE: frontend/src/routes/checkout/+page.ts
# PATH: frontend/src/routes/checkout/+page.ts
##################################################################

import { browser } from '$app/environment';
import { goto } from '$app/navigation';
import { authStore } from '$lib/stores/auth';
import { getUser } from '$lib/api/auth';
import type { LoadEvent } from '@sveltejs/kit';

type PageLoad = (event: LoadEvent) => Promise<Record<string, any>> | Record<string, any>;

/**
 * Protected checkout route loader
 * Redirects to login if user is not authenticated
 */
export const load: PageLoad = async ({ url }) => {
  if (!browser) {
    return {};
  }

  const token = authStore.getToken();

  if (!token) {
    // No token - redirect to login with return URL
    const returnUrl = encodeURIComponent(url.pathname + url.search);
    goto(`/login?redirect=${returnUrl}`);
    return {};
  }

  try {
    // Verify token is still valid by fetching user
    const user = await getUser();
    return { user };
  } catch (error) {
    // Token invalid - clear auth and redirect to login
    authStore.clearAuth();
    const returnUrl = encodeURIComponent(url.pathname + url.search);
    goto(`/login?redirect=${returnUrl}`);
    return {};
  }
};

# END OF frontend/src/routes/checkout/+page.ts


##################################################################
# FILE: frontend/src/routes/dashboard/+page.svelte
# PATH: frontend/src/routes/dashboard/+page.svelte
##################################################################

<script lang="ts">
  import { user } from '$lib/stores/auth';
  import { IconUser, IconMail, IconCalendar, IconShieldCheck, IconChartLine, IconBell, IconBook } from '@tabler/icons-svelte';
  import { onMount } from 'svelte';
  import { gsap } from 'gsap';
  import type { PageData } from './$types';

  export let data: PageData;

  let isVisible = false;
  let dashboardRef: HTMLDivElement;
  let particlesRef: HTMLDivElement;
  let headerRef: HTMLDivElement;
  let cardsRef: HTMLDivElement;
  let actionsRef: HTMLDivElement;

  onMount(() => {
    isVisible = true;

    // Initialize GSAP animations
    initAnimations();
    createFloatingParticles();

    return () => {
      // Cleanup particles
      if (particlesRef) {
        particlesRef.innerHTML = '';
      }
    };
  });

  function initAnimations() {
    const tl = gsap.timeline({ defaults: { ease: 'power3.out' } });

    // Animate header
    tl.from(headerRef, {
      opacity: 0,
      y: -50,
      duration: 1,
      ease: 'back.out(1.7)'
    })
    // Animate cards with stagger
    .from('.info-card', {
      opacity: 0,
      y: 80,
      scale: 0.9,
      duration: 1,
      stagger: 0.2,
      ease: 'power4.out'
    }, '-=0.6')
    // Animate quick actions
    .from(actionsRef, {
      opacity: 0,
      y: 60,
      duration: 0.8
    }, '-=0.4')
    .from('.action-card', {
      opacity: 0,
      scale: 0.8,
      duration: 0.6,
      stagger: 0.15,
      ease: 'back.out(1.4)'
    }, '-=0.4');

    // Animate icons with pulse
    gsap.to('.icon-pulse', {
      scale: 1.1,
      opacity: 0.8,
      duration: 2,
      repeat: -1,
      yoyo: true,
      ease: 'sine.inOut'
    });

    // Floating card effect on hover
    const cards = document.querySelectorAll('.hover-lift');
    cards.forEach(card => {
      card.addEventListener('mouseenter', () => {
        gsap.to(card, {
          y: -10,
          duration: 0.3,
          ease: 'power2.out'
        });
      });

      card.addEventListener('mouseleave', () => {
        gsap.to(card, {
          y: 0,
          duration: 0.3,
          ease: 'power2.out'
        });
      });
    });
  }

  function createFloatingParticles() {
    if (!particlesRef) return;

    // Create 50 particles with varying colors
    const colors = ['#6366f1', '#8b5cf6', '#ec4899', '#06b6d4', '#10b981'];

    for (let i = 0; i < 50; i++) {
      const particle = document.createElement('div');
      particle.className = 'floating-particle';

      const size = Math.random() * 5 + 2;
      const color = colors[Math.floor(Math.random() * colors.length)];
      const startX = Math.random() * 100;
      const startY = Math.random() * 100;
      const duration = Math.random() * 25 + 20;
      const delay = Math.random() * 5;

      particle.style.width = `${size}px`;
      particle.style.height = `${size}px`;
      particle.style.backgroundColor = color;
      particle.style.left = `${startX}%`;
      particle.style.top = `${startY}%`;
      particle.style.borderRadius = '50%';
      particle.style.position = 'absolute';
      particle.style.pointerEvents = 'none';
      particle.style.opacity = '0.6';
      particle.style.filter = 'blur(1px)';

      particlesRef.appendChild(particle);

      // Animate particles
      gsap.to(particle, {
        y: -150,
        x: `+=${Math.random() * 150 - 75}`,
        opacity: 0,
        duration: duration,
        delay: delay,
        repeat: -1,
        ease: 'none'
      });

      // Add rotation
      gsap.to(particle, {
        rotation: 360,
        duration: duration / 2,
        delay: delay,
        repeat: -1,
        ease: 'none'
      });
    }
  }

  function formatDate(dateString: string | null | undefined): string {
    if (!dateString) return 'Not verified';
    return new Date(dateString).toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'long',
      day: 'numeric'
    });
  }
</script>

<svelte:head>
  <title>Dashboard | Revolution Trading Pros</title>
</svelte:head>

<div class="dashboard-page min-h-screen px-4 py-12 overflow-hidden relative" bind:this={dashboardRef}>
  <!-- Animated gradient background -->
  <div class="gradient-bg absolute inset-0"></div>

  <!-- Grid overlay -->
  <div class="grid-overlay absolute inset-0"></div>

  <!-- Floating particles container -->
  <div class="particles-container absolute inset-0 pointer-events-none overflow-hidden" bind:this={particlesRef}></div>

  <!-- Floating orbs -->
  <div class="glow-orb glow-orb-1"></div>
  <div class="glow-orb glow-orb-2"></div>
  <div class="glow-orb glow-orb-3"></div>

  <!-- Dashboard content -->
  <div class="relative max-w-6xl mx-auto z-10">
    <!-- Header -->
    <div class="mb-12" bind:this={headerRef}>
      <h1 class="text-5xl md:text-6xl font-heading font-bold mb-4 bg-gradient-to-r from-indigo-300 via-purple-300 to-pink-300 bg-clip-text text-transparent">
        Dashboard
      </h1>
      <p class="text-xl md:text-2xl text-slate-300">
        Welcome back, <span class="text-indigo-400 font-semibold glow-text">{$user?.name}</span>
      </p>
    </div>

    <!-- User info cards grid -->
    <div class="grid md:grid-cols-2 gap-6 mb-12" bind:this={cardsRef}>
      <!-- Account info card -->
      <div class="info-card card-wrapper hover-lift">
        <div class="absolute -inset-1 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-3xl opacity-30 blur-2xl"></div>
        <div class="relative bg-slate-900/95 backdrop-blur-xl border border-indigo-500/30 rounded-3xl p-8 shadow-2xl">
          <div class="flex items-center gap-4 mb-8">
            <div class="w-20 h-20 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 p-0.5 icon-pulse shadow-lg shadow-indigo-500/50">
              <div class="w-full h-full bg-slate-900 rounded-2xl flex items-center justify-center">
                <IconUser size={36} class="text-indigo-400" />
              </div>
            </div>
            <div>
              <h2 class="text-2xl font-heading font-bold text-white mb-1">Account Information</h2>
              <p class="text-slate-400 text-sm">Your profile details</p>
            </div>
          </div>

          <div class="space-y-3">
            <div class="info-item flex items-center gap-3 p-4 bg-gradient-to-r from-slate-800/60 to-slate-800/40 rounded-xl border border-slate-700/50 hover:border-indigo-500/30 transition-all duration-300">
              <div class="w-10 h-10 rounded-lg bg-indigo-500/10 flex items-center justify-center">
                <IconUser size={20} class="text-indigo-400" />
              </div>
              <div>
                <p class="text-xs text-slate-500 uppercase tracking-wide font-semibold">Name</p>
                <p class="text-white font-medium text-lg">{$user?.name}</p>
              </div>
            </div>

            <div class="info-item flex items-center gap-3 p-4 bg-gradient-to-r from-slate-800/60 to-slate-800/40 rounded-xl border border-slate-700/50 hover:border-indigo-500/30 transition-all duration-300">
              <div class="w-10 h-10 rounded-lg bg-indigo-500/10 flex items-center justify-center">
                <IconMail size={20} class="text-indigo-400" />
              </div>
              <div>
                <p class="text-xs text-slate-500 uppercase tracking-wide font-semibold">Email</p>
                <p class="text-white font-medium text-lg">{$user?.email}</p>
              </div>
            </div>

            <div class="info-item flex items-center gap-3 p-4 bg-gradient-to-r from-slate-800/60 to-slate-800/40 rounded-xl border border-slate-700/50 hover:border-indigo-500/30 transition-all duration-300">
              <div class="w-10 h-10 rounded-lg bg-indigo-500/10 flex items-center justify-center">
                <IconCalendar size={20} class="text-indigo-400" />
              </div>
              <div>
                <p class="text-xs text-slate-500 uppercase tracking-wide font-semibold">Member Since</p>
                <p class="text-white font-medium text-lg">{formatDate($user?.created_at)}</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Email verification card -->
      <div class="info-card card-wrapper hover-lift">
        <div class="absolute -inset-1 bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 rounded-3xl opacity-30 blur-2xl"></div>
        <div class="relative bg-slate-900/95 backdrop-blur-xl border border-emerald-500/30 rounded-3xl p-8 shadow-2xl">
          <div class="flex items-center gap-4 mb-8">
            <div class="w-20 h-20 rounded-2xl bg-gradient-to-br from-emerald-500 to-teal-600 p-0.5 icon-pulse shadow-lg shadow-emerald-500/50">
              <div class="w-full h-full bg-slate-900 rounded-2xl flex items-center justify-center">
                <IconShieldCheck size={36} class="text-emerald-400" />
              </div>
            </div>
            <div>
              <h2 class="text-2xl font-heading font-bold text-white mb-1">Verification Status</h2>
              <p class="text-slate-400 text-sm">Email verification</p>
            </div>
          </div>

          {#if $user?.email_verified_at}
            <div class="p-6 bg-gradient-to-br from-emerald-500/15 to-teal-500/10 border border-emerald-500/40 rounded-2xl shadow-lg shadow-emerald-500/10">
              <div class="flex items-center gap-3 mb-3">
                <div class="w-12 h-12 rounded-full bg-emerald-500/20 flex items-center justify-center">
                  <IconShieldCheck size={28} class="text-emerald-400" />
                </div>
                <p class="text-xl font-bold text-emerald-300">Email Verified</p>
              </div>
              <p class="text-sm text-emerald-400/80 ml-15">
                Verified on {formatDate($user.email_verified_at)}
              </p>
            </div>
          {:else}
            <div class="p-6 bg-gradient-to-br from-amber-500/15 to-orange-500/10 border border-amber-500/40 rounded-2xl shadow-lg shadow-amber-500/10">
              <div class="flex items-center gap-3 mb-4">
                <div class="w-12 h-12 rounded-full bg-amber-500/20 flex items-center justify-center">
                  <IconMail size={28} class="text-amber-400" />
                </div>
                <p class="text-xl font-bold text-amber-300">Email Not Verified</p>
              </div>
              <p class="text-sm text-amber-400/80 mb-5">
                Please check your email and click the verification link.
              </p>
              <button class="w-full px-6 py-3.5 bg-gradient-to-r from-amber-500 to-orange-500 text-white font-bold rounded-xl hover:shadow-lg hover:shadow-amber-500/50 transition-all duration-300 transform hover:scale-105">
                Resend Verification Email
              </button>
            </div>
          {/if}
        </div>
      </div>
    </div>

    <!-- Quick actions -->
    <div class="mb-12" bind:this={actionsRef}>
      <h2 class="text-3xl font-heading font-bold text-white mb-8 bg-gradient-to-r from-white via-slate-200 to-slate-400 bg-clip-text text-transparent">Quick Actions</h2>
      <div class="grid sm:grid-cols-3 gap-6">
        <a
          href="/trading-rooms"
          class="action-card group relative p-8 bg-slate-900/80 backdrop-blur-xl border border-purple-500/30 rounded-2xl overflow-hidden transition-all duration-500 hover:transform hover:scale-105 hover:shadow-2xl hover:shadow-purple-500/20"
        >
          <div class="absolute inset-0 bg-gradient-to-br from-purple-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
          <div class="relative z-10">
            <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-purple-500 to-pink-500 p-0.5 mb-5 shadow-lg shadow-purple-500/30">
              <div class="w-full h-full bg-slate-900 rounded-xl flex items-center justify-center">
                <IconChartLine size={28} class="text-purple-400" />
              </div>
            </div>
            <h3 class="text-xl font-bold text-white mb-2 group-hover:text-purple-300 transition-colors">Trading Rooms</h3>
            <p class="text-sm text-slate-400 group-hover:text-slate-300 transition-colors">Join live trading sessions</p>
          </div>
          <div class="absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-purple-500 to-pink-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"></div>
        </a>

        <a
          href="/alert-services"
          class="action-card group relative p-8 bg-slate-900/80 backdrop-blur-xl border border-amber-500/30 rounded-2xl overflow-hidden transition-all duration-500 hover:transform hover:scale-105 hover:shadow-2xl hover:shadow-amber-500/20"
        >
          <div class="absolute inset-0 bg-gradient-to-br from-amber-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
          <div class="relative z-10">
            <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-amber-500 to-orange-500 p-0.5 mb-5 shadow-lg shadow-amber-500/30">
              <div class="w-full h-full bg-slate-900 rounded-xl flex items-center justify-center">
                <IconBell size={28} class="text-amber-400" />
              </div>
            </div>
            <h3 class="text-xl font-bold text-white mb-2 group-hover:text-amber-300 transition-colors">Alert Services</h3>
            <p class="text-sm text-slate-400 group-hover:text-slate-300 transition-colors">Manage your subscriptions</p>
          </div>
          <div class="absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-amber-500 to-orange-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"></div>
        </a>

        <a
          href="/courses"
          class="action-card group relative p-8 bg-slate-900/80 backdrop-blur-xl border border-cyan-500/30 rounded-2xl overflow-hidden transition-all duration-500 hover:transform hover:scale-105 hover:shadow-2xl hover:shadow-cyan-500/20"
        >
          <div class="absolute inset-0 bg-gradient-to-br from-cyan-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
          <div class="relative z-10">
            <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-cyan-500 to-blue-500 p-0.5 mb-5 shadow-lg shadow-cyan-500/30">
              <div class="w-full h-full bg-slate-900 rounded-xl flex items-center justify-center">
                <IconBook size={28} class="text-cyan-400" />
              </div>
            </div>
            <h3 class="text-xl font-bold text-white mb-2 group-hover:text-cyan-300 transition-colors">Courses</h3>
            <p class="text-sm text-slate-400 group-hover:text-slate-300 transition-colors">Continue your education</p>
          </div>
          <div class="absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-cyan-500 to-blue-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"></div>
        </a>
      </div>
    </div>
  </div>
</div>

<style>
  /* Animated gradient background */
  .gradient-bg {
    background: linear-gradient(135deg,
      #0f172a 0%,
      #1e1b4b 20%,
      #312e81 40%,
      #1e1b4b 60%,
      #0f172a 80%,
      #1e1b4b 100%
    );
    background-size: 400% 400%;
    animation: gradientShift 25s ease infinite;
  }

  @keyframes gradientShift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  /* Grid overlay */
  .grid-overlay {
    background-image:
      linear-gradient(rgba(99, 102, 241, 0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(99, 102, 241, 0.03) 1px, transparent 1px);
    background-size: 50px 50px;
    animation: gridMove 30s linear infinite;
    pointer-events: none;
  }

  @keyframes gridMove {
    0% { transform: translate(0, 0); }
    100% { transform: translate(50px, 50px); }
  }

  /* Glowing orbs */
  .glow-orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.4;
    pointer-events: none;
  }

  .glow-orb-1 {
    width: 600px;
    height: 600px;
    top: -100px;
    left: -100px;
    background: radial-gradient(circle, #6366f1, transparent 70%);
    animation: float1 25s ease-in-out infinite;
  }

  .glow-orb-2 {
    width: 500px;
    height: 500px;
    bottom: -100px;
    right: -100px;
    background: radial-gradient(circle, #8b5cf6, transparent 70%);
    animation: float2 30s ease-in-out infinite;
  }

  .glow-orb-3 {
    width: 450px;
    height: 450px;
    top: 50%;
    left: 50%;
    background: radial-gradient(circle, #ec4899, transparent 70%);
    animation: float3 35s ease-in-out infinite;
  }

  @keyframes float1 {
    0%, 100% { transform: translate(0, 0) scale(1); }
    33% { transform: translate(100px, 50px) scale(1.1); }
    66% { transform: translate(-50px, 100px) scale(0.9); }
  }

  @keyframes float2 {
    0%, 100% { transform: translate(0, 0) scale(1); }
    33% { transform: translate(-100px, -50px) scale(1.1); }
    66% { transform: translate(50px, -100px) scale(0.9); }
  }

  @keyframes float3 {
    0%, 100% { transform: translate(-50%, -50%) scale(1); }
    50% { transform: translate(-50%, -50%) scale(1.2); }
  }

  /* Text glow effect */
  .glow-text {
    text-shadow: 0 0 20px rgba(99, 102, 241, 0.5),
                 0 0 40px rgba(99, 102, 241, 0.3);
    animation: textGlow 3s ease-in-out infinite;
  }

  @keyframes textGlow {
    0%, 100% {
      text-shadow: 0 0 20px rgba(99, 102, 241, 0.5),
                   0 0 40px rgba(99, 102, 241, 0.3);
    }
    50% {
      text-shadow: 0 0 30px rgba(99, 102, 241, 0.7),
                   0 0 60px rgba(99, 102, 241, 0.5);
    }
  }

  /* Card wrapper */
  .card-wrapper {
    position: relative;
  }

  /* Info item hover effects */
  .info-item {
    transition: all 0.3s ease;
  }

  .info-item:hover {
    transform: translateX(5px);
    background: linear-gradient(to right, rgba(99, 102, 241, 0.1), rgba(99, 102, 241, 0.05));
  }

  /* Responsive adjustments */
  @media (max-width: 640px) {
    .glow-orb {
      filter: blur(60px);
      opacity: 0.3;
    }

    .glow-orb-1 {
      width: 400px;
      height: 400px;
    }

    .glow-orb-2 {
      width: 350px;
      height: 350px;
    }

    .glow-orb-3 {
      width: 300px;
      height: 300px;
    }
  }

  /* Particle base styles */
  .floating-particle {
    will-change: transform, opacity;
  }
</style>

# END OF frontend/src/routes/dashboard/+page.svelte


##################################################################
# FILE: frontend/src/routes/dashboard/+page.ts
# PATH: frontend/src/routes/dashboard/+page.ts
##################################################################

import { browser } from '$app/environment';
import { goto } from '$app/navigation';
import { authStore } from '$lib/stores/auth';
import { getUser } from '$lib/api/auth';
import type { LoadEvent } from '@sveltejs/kit';

type PageLoad = (event: LoadEvent) => Promise<Record<string, any>> | Record<string, any>;

/**
 * Protected route loader
 * Ensures user is authenticated before accessing dashboard
 */
export const load: PageLoad = async () => {
  if (!browser) {
    return {};
  }

  const token = authStore.getToken();

  if (!token) {
    // No token - redirect to login
    goto('/login');
    return {};
  }

  try {
    // Verify token is still valid by fetching user
    const user = await getUser();
    return { user };
  } catch (error) {
    // Token invalid - clear auth and redirect to login
    authStore.clearAuth();
    goto('/login');
    return {};
  }
};

# END OF frontend/src/routes/dashboard/+page.ts


##################################################################
# FILE: frontend/src/routes/mentorship/+page.svelte
# PATH: frontend/src/routes/mentorship/+page.svelte
##################################################################

<script lang="ts">
  import MentorshipSection from '$lib/components/sections/MentorshipSection.svelte';
  import SEOHead from '$lib/components/SEOHead.svelte';
  import { IconSchool, IconSparkles, IconCheck, IconTrophy, IconChartLine, IconUsers } from '@tabler/icons-svelte';

  const mentorshipSchema = {
    '@context': 'https://schema.org',
    '@type': 'Service',
    name: '1-on-1 Trading Mentorship',
    description: 'Private trading mentorship with experienced traders. Custom curriculum, personalized feedback, and accountability.',
    provider: {
      '@type': 'Organization',
      name: 'Revolution Trading Pros'
    },
    areaServed: 'Worldwide',
    availableChannel: {
      '@type': 'ServiceChannel',
      serviceType: 'Private 1-on-1 Trading Mentorship'
    }
  };
</script>

<SEOHead
  title="1-on-1 Trading Mentorship | Elite Private Coaching"
  description="Work directly with experienced traders in private mentorship sessions. Custom curriculum, personalized feedback, and accountability to accelerate your trading development."
  canonical="/mentorship"
  ogType="website"
  schema={mentorshipSchema}
/>

<div class="mentorship-page">
  <!-- Hero Section with Mentorship Component -->
  <MentorshipSection />

  <!-- Detailed Benefits Section -->
  <section class="benefits-section">
    <div class="container">
      <h2 class="section-title">What You Get</h2>

      <div class="benefits-grid">
        <div class="benefit-card">
          <div class="benefit-icon">
            <IconUsers size={32} />
          </div>
          <h3>Private 1-on-1 Sessions</h3>
          <p>Direct access to experienced traders for personalized coaching sessions tailored to your skill level and goals.</p>
        </div>

        <div class="benefit-card">
          <div class="benefit-icon">
            <IconChartLine size={32} />
          </div>
          <h3>Custom Curriculum</h3>
          <p>Personalized learning path designed specifically for you, covering strategies, risk management, and psychology.</p>
        </div>

        <div class="benefit-card">
          <div class="benefit-icon">
            <IconTrophy size={32} />
          </div>
          <h3>Performance Reviews</h3>
          <p>Regular review of your trades, strategies, and progress with constructive feedback and actionable insights.</p>
        </div>

        <div class="benefit-card">
          <div class="benefit-icon">
            <IconSchool size={32} />
          </div>
          <h3>Lifetime Support</h3>
          <p>Ongoing support even after your mentorship period ends. We're invested in your long-term success.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- What's Included -->
  <section class="included-section">
    <div class="container">
      <h2 class="section-title">Program Includes</h2>

      <div class="included-list">
        <div class="included-item">
          <IconCheck size={24} class="check-icon" />
          <span>Weekly 1-on-1 video sessions (60-90 minutes)</span>
        </div>
        <div class="included-item">
          <IconCheck size={24} class="check-icon" />
          <span>Daily communication via private Discord channel</span>
        </div>
        <div class="included-item">
          <IconCheck size={24} class="check-icon" />
          <span>Personalized trading plan development</span>
        </div>
        <div class="included-item">
          <IconCheck size={24} class="check-icon" />
          <span>Trade journal reviews and performance analysis</span>
        </div>
        <div class="included-item">
          <IconCheck size={24} class="check-icon" />
          <span>Screen sharing and live trade observation</span>
        </div>
        <div class="included-item">
          <IconCheck size={24} class="check-icon" />
          <span>Access to all courses and trading rooms</span>
        </div>
        <div class="included-item">
          <IconCheck size={24} class="check-icon" />
          <span>Custom indicators and tools</span>
        </div>
        <div class="included-item">
          <IconCheck size={24} class="check-icon" />
          <span>Priority support and resources</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Application CTA -->
  <section class="cta-section">
    <div class="container">
      <div class="cta-card">
        <IconSparkles size={48} class="sparkle-icon" />
        <h2>Ready to Transform Your Trading?</h2>
        <p>Limited spots available. Application required.</p>
        <a href="mailto:mentorship@revolutiontradingpros.com" class="apply-button">
          Apply Now
        </a>
        <p class="pricing-note">Starting at $2,500/month  3-month minimum commitment</p>
      </div>
    </div>
  </section>
</div>

<style>
  .mentorship-page {
    min-height: 100vh;
    background: linear-gradient(135deg, #0a1628 0%, #050e1f 100%);
  }

  .benefits-section,
  .included-section {
    padding: 6rem 2rem;
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%);
  }

  .cta-section {
    padding: 6rem 2rem;
    background: linear-gradient(135deg, #064e3b 0%, #0f766e 50%, #064e3b 100%);
  }

  .container {
    max-width: 1200px;
    margin: 0 auto;
  }

  .section-title {
    font-size: clamp(2.5rem, 5vw, 3.5rem);
    font-weight: 800;
    text-align: center;
    margin-bottom: 4rem;
    background: linear-gradient(135deg, #10b981, #14b8a6, #06b6d4);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .benefits-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2rem;
  }

  .benefit-card {
    background: rgba(15, 23, 42, 0.6);
    border: 1px solid rgba(16, 185, 129, 0.2);
    border-radius: 16px;
    padding: 2rem;
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
  }

  .benefit-card:hover {
    border-color: rgba(16, 185, 129, 0.4);
    transform: translateY(-4px);
    box-shadow: 0 10px 40px rgba(16, 185, 129, 0.2);
  }

  .benefit-icon {
    width: 64px;
    height: 64px;
    background: linear-gradient(135deg, #10b981, #14b8a6);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    margin-bottom: 1.5rem;
  }

  .benefit-card h3 {
    font-size: 1.5rem;
    font-weight: 700;
    color: #ffffff;
    margin-bottom: 1rem;
  }

  .benefit-card p {
    font-size: 1rem;
    color: #cbd5e1;
    line-height: 1.6;
  }

  .included-list {
    max-width: 800px;
    margin: 0 auto;
    display: grid;
    gap: 1.5rem;
  }

  .included-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1.5rem;
    background: rgba(15, 23, 42, 0.6);
    border: 1px solid rgba(16, 185, 129, 0.2);
    border-radius: 12px;
    color: #e2e8f0;
    font-size: 1.1rem;
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
  }

  .included-item:hover {
    border-color: rgba(16, 185, 129, 0.4);
    transform: translateX(8px);
  }

  .check-icon {
    color: #10b981;
    flex-shrink: 0;
  }

  .cta-card {
    text-align: center;
    padding: 4rem 2rem;
    background: rgba(15, 23, 42, 0.8);
    border: 2px solid rgba(16, 185, 129, 0.3);
    border-radius: 24px;
    backdrop-filter: blur(10px);
  }

  .sparkle-icon {
    color: #10b981;
    margin: 0 auto 1.5rem;
    animation: sparkle 2s ease-in-out infinite;
  }

  @keyframes sparkle {
    0%, 100% {
      opacity: 1;
      transform: scale(1) rotate(0deg);
    }
    50% {
      opacity: 0.5;
      transform: scale(1.2) rotate(180deg);
    }
  }

  .cta-card h2 {
    font-size: clamp(2rem, 4vw, 3rem);
    font-weight: 800;
    color: #ffffff;
    margin-bottom: 1rem;
  }

  .cta-card p {
    font-size: 1.25rem;
    color: #cbd5e1;
    margin-bottom: 2rem;
  }

  .apply-button {
    display: inline-block;
    padding: 1.25rem 3rem;
    background: linear-gradient(135deg, #10b981, #14b8a6);
    color: white;
    font-size: 1.25rem;
    font-weight: 700;
    border-radius: 12px;
    text-decoration: none;
    transition: all 0.3s ease;
    box-shadow: 0 10px 30px rgba(16, 185, 129, 0.3);
  }

  .apply-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 15px 40px rgba(16, 185, 129, 0.4);
  }

  .pricing-note {
    margin-top: 1.5rem;
    font-size: 0.95rem;
    color: #94a3b8;
    font-style: italic;
  }

  @media (max-width: 768px) {
    .benefits-section,
    .included-section,
    .cta-section {
      padding: 4rem 1rem;
    }

    .section-title {
      margin-bottom: 2rem;
    }

    .benefits-grid {
      grid-template-columns: 1fr;
    }

    .included-item {
      font-size: 1rem;
      padding: 1rem;
    }

    .cta-card {
      padding: 3rem 1.5rem;
    }
  }
</style>

# END OF frontend/src/routes/mentorship/+page.svelte


##################################################################
# FILE: frontend/src/routes/popup-demo/+page.svelte
# PATH: frontend/src/routes/popup-demo/+page.svelte
##################################################################

<script lang="ts">
  import { popupStore, type Popup } from '$lib/stores/popups';
  import { IconRocket, IconGift, IconMail, IconAlertCircle } from '@tabler/icons-svelte';

  // Demo popup templates
  const demoPopups: Partial<Popup>[] = [
    {
      id: 'welcome-popup',
      name: 'Welcome Popup',
      title: ' Welcome to Revolution Trading!',
      isActive: true,
      content: {
        type: 'html',
        data: `
          <p style="font-size: 1.125rem; margin-bottom: 1.5rem; line-height: 1.6;">
            Get <strong style="color: #6366f1;">20% OFF</strong> your first month when you sign up today!
          </p>
          <ul style="text-align: left; margin-bottom: 1.5rem; line-height: 1.8;">
            <li> Live trading sessions daily</li>
            <li> Real-time alerts & analysis</li>
            <li> Community support</li>
          </ul>
        `
      },
      buttons: [
        {
          text: 'Claim Offer',
          link: '/day-trading',
          action: 'custom',
          style: 'primary',
          gradient: 'bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500'
        },
        {
          text: 'Maybe Later',
          action: 'close',
          style: 'ghost'
        }
      ],
      closeButton: true,
      closeOnOverlayClick: true,
      design: {
        width: '600px',
        maxWidth: '95vw',
        height: 'auto',
        padding: '3rem',
        backgroundColor: '#1e293b',
        textColor: '#f1f5f9',
        borderRadius: '32px',
        borderWidth: '2px',
        borderColor: '#6366f1',
        borderStyle: 'solid',
        backdropBlur: '20px',
        boxShadow: '0 25px 50px -12px rgba(99, 102, 241, 0.5)',
        backgroundGradient: 'linear-gradient(135deg, #1e293b 0%, #0f172a 100%)'
      },
      animation: {
        entrance: 'zoom',
        exit: 'fade',
        duration: 400,
        easing: 'ease-out'
      },
      overlayColor: '#000000',
      overlayOpacity: 0.8,
      displayRules: {
        delaySeconds: 2,
        showOnScroll: false,
        scrollPercentage: 0,
        showOnExit: false,
        frequency: 'once-per-session',
        pages: ['/*'],
        excludePages: ['/checkout', '/cart'],
        deviceTargeting: 'all',
        newVisitorsOnly: false,
        returningVisitorsOnly: false,
        minPageViews: 0
      },
      impressions: 0,
      conversions: 0
    },
    {
      id: 'exit-intent-popup',
      name: 'Exit Intent Popup',
      title: ' Wait! Don\'t Miss Out!',
      isActive: true,
      content: {
        type: 'html',
        data: `
          <p style="font-size: 1.25rem; margin-bottom: 1rem;">
            Before you go, grab this <span style="color: #ef4444; font-weight: 700;">exclusive offer</span>!
          </p>
          <p style="margin-bottom: 1.5rem; color: #94a3b8;">
            Join thousands of successful traders who trust our alerts and strategies.
          </p>
        `
      },
      buttons: [
        {
          text: 'Show Me The Offer',
          link: '/explosive-swings',
          action: 'custom',
          style: 'primary',
          gradient: 'bg-gradient-to-r from-red-500 to-orange-500'
        },
        {
          text: 'No Thanks',
          action: 'close',
          style: 'outline'
        }
      ],
      closeButton: true,
      closeOnOverlayClick: true,
      design: {
        width: '500px',
        maxWidth: '95vw',
        height: 'auto',
        padding: '2.5rem',
        backgroundColor: '#1e293b',
        textColor: '#f1f5f9',
        borderRadius: '24px',
        borderWidth: '1px',
        borderColor: '#ef4444',
        borderStyle: 'solid',
        backdropBlur: '16px',
        boxShadow: '0 20px 40px rgba(239, 68, 68, 0.3)'
      },
      animation: {
        entrance: 'bounce',
        exit: 'slide-up',
        duration: 500,
        easing: 'ease-out'
      },
      overlayColor: '#000000',
      overlayOpacity: 0.75,
      displayRules: {
        delaySeconds: 0,
        showOnScroll: false,
        scrollPercentage: 0,
        showOnExit: true,
        frequency: 'once-per-day',
        pages: ['/*'],
        excludePages: ['/checkout'],
        deviceTargeting: 'all',
        newVisitorsOnly: false,
        returningVisitorsOnly: false,
        minPageViews: 0
      },
      impressions: 0,
      conversions: 0
    },
    {
      id: 'scroll-popup',
      name: 'Scroll Triggered Newsletter',
      title: ' Stay Updated',
      isActive: true,
      content: {
        type: 'html',
        data: `
          <p style="margin-bottom: 1.5rem; font-size: 1.125rem;">
            Get weekly trading insights, market analysis, and exclusive tips delivered to your inbox.
          </p>
        `
      },
      formFields: [
        {
          name: 'email',
          type: 'email',
          placeholder: 'Enter your email',
          required: true
        },
        {
          name: 'name',
          type: 'text',
          placeholder: 'Your name',
          required: true
        }
      ],
      formAction: '/api/newsletter-signup',
      buttons: [
        {
          text: 'Subscribe Now',
          action: 'submit',
          style: 'primary',
          gradient: 'bg-gradient-to-r from-emerald-500 to-teal-500'
        }
      ],
      closeButton: true,
      closeOnOverlayClick: true,
      design: {
        width: '550px',
        maxWidth: '95vw',
        height: 'auto',
        padding: '2.5rem',
        backgroundColor: '#0f172a',
        textColor: '#f1f5f9',
        borderRadius: '28px',
        borderWidth: '1px',
        borderColor: '#10b981',
        borderStyle: 'solid',
        backdropBlur: '24px',
        boxShadow: '0 25px 50px rgba(16, 185, 129, 0.3)'
      },
      animation: {
        entrance: 'slide-up',
        exit: 'fade',
        duration: 350,
        easing: 'ease-out'
      },
      overlayColor: '#000000',
      overlayOpacity: 0.7,
      displayRules: {
        delaySeconds: 0,
        showOnScroll: true,
        scrollPercentage: 50,
        showOnExit: false,
        frequency: 'once-per-week',
        pages: ['/*'],
        excludePages: [],
        deviceTargeting: 'all',
        newVisitorsOnly: false,
        returningVisitorsOnly: false,
        minPageViews: 0
      },
      impressions: 0,
      conversions: 0
    },
    {
      id: 'small-popup',
      name: 'Small Notification',
      title: null,
      isActive: true,
      content: {
        type: 'html',
        data: `
          <div style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 0.5rem;"></div>
            <p style="font-weight: 700; font-size: 1.125rem; margin-bottom: 0.5rem;">Flash Sale!</p>
            <p style="color: #94a3b8; font-size: 0.875rem;">Limited time: 30% off all plans</p>
          </div>
        `
      },
      buttons: [
        {
          text: 'View Deals',
          link: '/day-trading',
          action: 'custom',
          style: 'primary'
        }
      ],
      closeButton: true,
      closeOnOverlayClick: true,
      design: {
        width: '320px',
        maxWidth: '95vw',
        height: 'auto',
        padding: '2rem',
        backgroundColor: '#1e293b',
        textColor: '#f1f5f9',
        borderRadius: '20px',
        borderWidth: '1px',
        borderColor: '#f59e0b',
        borderStyle: 'solid',
        backdropBlur: '16px',
        boxShadow: '0 20px 40px rgba(245, 158, 11, 0.3)'
      },
      animation: {
        entrance: 'slide-right',
        exit: 'slide-right',
        duration: 300,
        easing: 'ease-out'
      },
      overlayColor: '#000000',
      overlayOpacity: 0.6,
      displayRules: {
        delaySeconds: 5,
        showOnScroll: false,
        scrollPercentage: 0,
        showOnExit: false,
        frequency: 'once-per-session',
        pages: ['/*'],
        excludePages: [],
        deviceTargeting: 'all',
        newVisitorsOnly: false,
        returningVisitorsOnly: false,
        minPageViews: 0
      },
      impressions: 0,
      conversions: 0
    },
    {
      id: 'large-popup',
      name: 'Large Featured Popup',
      title: ' Massive Trading Event',
      isActive: true,
      content: {
        type: 'html',
        data: `
          <div style="text-align: center;">
            <p style="font-size: 1.5rem; font-weight: 700; margin-bottom: 1rem; background: linear-gradient(to right, #f59e0b, #f97316); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
              3-DAY LIVE TRADING BOOTCAMP
            </p>
            <p style="font-size: 1.125rem; margin-bottom: 2rem; color: #94a3b8;">
              Learn advanced strategies from professional traders
            </p>
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem; margin-bottom: 2rem;">
              <div>
                <div style="font-size: 2.5rem; font-weight: 700; color: #6366f1;">Day 1</div>
                <div style="font-size: 0.875rem; color: #94a3b8;">Market Analysis</div>
              </div>
              <div>
                <div style="font-size: 2.5rem; font-weight: 700; color: #8b5cf6;">Day 2</div>
                <div style="font-size: 0.875rem; color: #94a3b8;">Live Trading</div>
              </div>
              <div>
                <div style="font-size: 2.5rem; font-weight: 700; color: #ec4899;">Day 3</div>
                <div style="font-size: 0.875rem; color: #94a3b8;">Q&A Session</div>
              </div>
            </div>
          </div>
        `
      },
      buttons: [
        {
          text: 'Reserve My Spot',
          link: '/day-trading',
          action: 'custom',
          style: 'primary',
          gradient: 'bg-gradient-to-r from-orange-500 via-red-500 to-pink-500'
        },
        {
          text: 'Learn More',
          link: '/about',
          action: 'custom',
          style: 'outline'
        }
      ],
      closeButton: true,
      closeOnOverlayClick: false,
      design: {
        width: '800px',
        maxWidth: '95vw',
        height: 'auto',
        padding: '3rem',
        backgroundColor: '#0f172a',
        textColor: '#f1f5f9',
        borderRadius: '32px',
        borderWidth: '2px',
        borderColor: '#f59e0b',
        borderStyle: 'solid',
        backdropBlur: '24px',
        boxShadow: '0 30px 60px rgba(245, 158, 11, 0.4)',
        backgroundGradient: 'linear-gradient(135deg, #1e293b 0%, #0f172a 100%)'
      },
      animation: {
        entrance: 'flip',
        exit: 'zoom',
        duration: 600,
        easing: 'ease-out'
      },
      overlayColor: '#000000',
      overlayOpacity: 0.85,
      displayRules: {
        delaySeconds: 3,
        showOnScroll: false,
        scrollPercentage: 0,
        showOnExit: false,
        frequency: 'once-per-day',
        pages: ['/*'],
        excludePages: [],
        deviceTargeting: 'desktop',
        newVisitorsOnly: true,
        returningVisitorsOnly: false,
        minPageViews: 0
      },
      impressions: 0,
      conversions: 0
    }
  ];

  function showPopup(popup: Partial<Popup>) {
    popupStore.show(popup as Popup);
  }

  function clearHistory() {
    popupStore.clearHistory();
    alert('Popup history cleared! You can now test frequency rules again.');
  }
</script>

<svelte:head>
  <title>Popup System Demo | Revolution Trading Pros</title>
</svelte:head>

<div class="demo-page">
  <div class="demo-container">
    <!-- Header -->
    <div class="demo-header">
      <h1 class="demo-title">
        <IconRocket size={48} class="title-icon" />
        Popup System Demo
      </h1>
      <p class="demo-subtitle">
        Test the most advanced, fully customizable popup system
      </p>
    </div>

    <!-- Controls -->
    <div class="demo-controls">
      <button class="control-btn danger" on:click={clearHistory}>
        Clear History (Reset Frequency)
      </button>
      <a href="/admin/popups/create" class="control-btn primary">
        Create Custom Popup
      </a>
    </div>

    <!-- Demo Grid -->
    <div class="demo-grid">
      {#each demoPopups as popup}
        <div class="demo-card">
          <div class="card-header">
            <h3 class="card-title">{popup.name}</h3>
            <div class="card-badges">
              {#if popup.displayRules?.showOnExit}
                <span class="badge red">Exit Intent</span>
              {/if}
              {#if popup.displayRules?.showOnScroll}
                <span class="badge blue">Scroll: {popup.displayRules.scrollPercentage}%</span>
              {/if}
              {#if popup.displayRules?.delaySeconds && popup.displayRules.delaySeconds > 0}
                <span class="badge yellow">Delay: {popup.displayRules.delaySeconds}s</span>
              {/if}
            </div>
          </div>

          <div class="card-body">
            <!-- Size Info -->
            <div class="info-row">
              <span class="info-label">Size:</span>
              <span class="info-value">{popup.design?.width}</span>
            </div>

            <!-- Animation Info -->
            <div class="info-row">
              <span class="info-label">Animation:</span>
              <span class="info-value">{popup.animation?.entrance}  {popup.animation?.exit}</span>
            </div>

            <!-- Frequency Info -->
            <div class="info-row">
              <span class="info-label">Frequency:</span>
              <span class="info-value">{popup.displayRules?.frequency}</span>
            </div>

            <!-- Features -->
            <div class="features">
              {#if popup.buttons && popup.buttons.length > 0}
                <span class="feature"> {popup.buttons.length} Button{popup.buttons.length > 1 ? 's' : ''}</span>
              {/if}
              {#if popup.formFields && popup.formFields.length > 0}
                <span class="feature"> Form ({popup.formFields.length} fields)</span>
              {/if}
              {#if popup.design?.backgroundGradient}
                <span class="feature"> Gradient BG</span>
              {/if}
            </div>
          </div>

          <button class="test-btn" on:click={() => showPopup(popup)}>
            Test This Popup
          </button>
        </div>
      {/each}
    </div>

    <!-- Feature List -->
    <div class="features-section">
      <h2 class="section-title"> Customization Features</h2>
      <div class="features-grid">
        <div class="feature-card">
          <h3> Sizes & Layout</h3>
          <ul>
            <li>Custom width/height (px, %, vh, vw)</li>
            <li>Max width for responsiveness</li>
            <li>Custom padding & margins</li>
            <li>Responsive breakpoints</li>
          </ul>
        </div>

        <div class="feature-card">
          <h3> Animations</h3>
          <ul>
            <li>8 entrance animations</li>
            <li>8 exit animations</li>
            <li>Custom duration & easing</li>
            <li>GSAP-powered smoothness</li>
          </ul>
        </div>

        <div class="feature-card">
          <h3> Timing & Triggers</h3>
          <ul>
            <li>Delay (0- seconds)</li>
            <li>Scroll percentage trigger</li>
            <li>Exit intent detection</li>
            <li>Page view count</li>
          </ul>
        </div>

        <div class="feature-card">
          <h3> Targeting</h3>
          <ul>
            <li>Page URL patterns (wildcards)</li>
            <li>Device targeting (desktop/mobile/tablet)</li>
            <li>New vs returning visitors</li>
            <li>Exclude specific pages</li>
          </ul>
        </div>

        <div class="feature-card">
          <h3> Frequency Control</h3>
          <ul>
            <li>Always show</li>
            <li>Once per session</li>
            <li>Once per day</li>
            <li>Once per week</li>
            <li>Once ever</li>
          </ul>
        </div>

        <div class="feature-card">
          <h3> Design Options</h3>
          <ul>
            <li>Custom colors & gradients</li>
            <li>Border radius, width, style</li>
            <li>Box shadows</li>
            <li>Backdrop blur effects</li>
            <li>Custom CSS support</li>
          </ul>
        </div>

        <div class="feature-card">
          <h3> Content Types</h3>
          <ul>
            <li>HTML content</li>
            <li>Markdown support</li>
            <li>Custom components</li>
            <li>Form fields (all types)</li>
          </ul>
        </div>

        <div class="feature-card">
          <h3> Analytics</h3>
          <ul>
            <li>Impression tracking</li>
            <li>Conversion tracking</li>
            <li>Conversion rate calculation</li>
            <li>Timeline analytics</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Instructions -->
    <div class="instructions">
      <h2 class="section-title"> Testing Instructions</h2>
      <ol>
        <li><strong>Welcome Popup:</strong> Shows after 2 seconds delay (once per session)</li>
        <li><strong>Exit Intent:</strong> Move your mouse cursor to the top of the browser window to trigger</li>
        <li><strong>Scroll Popup:</strong> Scroll down 50% of the page to trigger (once per week)</li>
        <li><strong>Small Notification:</strong> Appears after 5 seconds (compact size demo)</li>
        <li><strong>Large Featured:</strong> Shows after 3 seconds, desktop only, new visitors only (once per day)</li>
      </ol>
      <p class="note">
        <strong>Note:</strong> If popups don't show due to frequency limits, click "Clear History" to reset.
      </p>
    </div>
  </div>
</div>

<style>
  .demo-page {
    min-height: 100vh;
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
    padding: 4rem 2rem;
  }

  .demo-container {
    max-width: 1400px;
    margin: 0 auto;
  }

  .demo-header {
    text-align: center;
    margin-bottom: 3rem;
  }

  .demo-title {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    font-size: 3rem;
    font-weight: 700;
    background: linear-gradient(to right, #6366f1, #8b5cf6, #ec4899);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 1rem;
  }

  .title-icon {
    color: #6366f1;
    -webkit-text-fill-color: initial;
  }

  .demo-subtitle {
    font-size: 1.25rem;
    color: #94a3b8;
  }

  .demo-controls {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 3rem;
  }

  .control-btn {
    padding: 0.875rem 1.75rem;
    font-weight: 600;
    border-radius: 12px;
    border: none;
    cursor: pointer;
    transition: all 0.3s;
    text-decoration: none;
    display: inline-block;
  }

  .control-btn.primary {
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    color: white;
  }

  .control-btn.danger {
    background: rgba(239, 68, 68, 0.2);
    color: #f87171;
    border: 1px solid #f87171;
  }

  .control-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(99, 102, 241, 0.3);
  }

  .demo-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 2rem;
    margin-bottom: 4rem;
  }

  .demo-card {
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 20px;
    overflow: hidden;
    transition: all 0.3s;
  }

  .demo-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 40px rgba(99, 102, 241, 0.2);
    border-color: rgba(99, 102, 241, 0.4);
  }

  .card-header {
    padding: 1.5rem;
    border-bottom: 1px solid rgba(99, 102, 241, 0.1);
  }

  .card-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: #f1f5f9;
    margin-bottom: 0.75rem;
  }

  .card-badges {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  .badge {
    padding: 0.25rem 0.75rem;
    border-radius: 6px;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .badge.red {
    background: rgba(239, 68, 68, 0.2);
    color: #f87171;
  }

  .badge.blue {
    background: rgba(59, 130, 246, 0.2);
    color: #60a5fa;
  }

  .badge.yellow {
    background: rgba(245, 158, 11, 0.2);
    color: #fbbf24;
  }

  .card-body {
    padding: 1.5rem;
  }

  .info-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.75rem;
    padding-bottom: 0.75rem;
    border-bottom: 1px solid rgba(99, 102, 241, 0.1);
  }

  .info-label {
    color: #94a3b8;
    font-weight: 600;
  }

  .info-value {
    color: #e2e8f0;
  }

  .features {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-top: 1rem;
  }

  .feature {
    padding: 0.375rem 0.75rem;
    background: rgba(34, 197, 94, 0.1);
    border: 1px solid rgba(34, 197, 94, 0.2);
    border-radius: 6px;
    font-size: 0.8125rem;
    color: #4ade80;
  }

  .test-btn {
    width: 100%;
    padding: 1rem;
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    color: white;
    border: none;
    font-weight: 700;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.3s;
  }

  .test-btn:hover {
    background: linear-gradient(135deg, #4f46e5, #7c3aed);
    box-shadow: 0 10px 25px rgba(99, 102, 241, 0.4);
  }

  .features-section {
    margin-bottom: 4rem;
  }

  .section-title {
    font-size: 2rem;
    font-weight: 700;
    color: #f1f5f9;
    margin-bottom: 2rem;
    text-align: center;
  }

  .features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 1.5rem;
  }

  .feature-card {
    background: rgba(99, 102, 241, 0.05);
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 16px;
    padding: 1.5rem;
  }

  .feature-card h3 {
    font-size: 1.25rem;
    font-weight: 700;
    color: #a5b4fc;
    margin-bottom: 1rem;
  }

  .feature-card ul {
    list-style: none;
    padding: 0;
  }

  .feature-card li {
    color: #cbd5e1;
    margin-bottom: 0.5rem;
    padding-left: 1.5rem;
    position: relative;
  }

  .feature-card li::before {
    content: '';
    position: absolute;
    left: 0;
    color: #6366f1;
  }

  .instructions {
    background: rgba(99, 102, 241, 0.05);
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 16px;
    padding: 2rem;
  }

  .instructions ol {
    color: #e2e8f0;
    line-height: 2;
    margin-bottom: 1.5rem;
  }

  .instructions strong {
    color: #a5b4fc;
  }

  .note {
    background: rgba(245, 158, 11, 0.1);
    border: 1px solid rgba(245, 158, 11, 0.3);
    border-radius: 8px;
    padding: 1rem;
    color: #fbbf24;
  }

  @media (max-width: 768px) {
    .demo-title {
      font-size: 2rem;
    }

    .demo-grid {
      grid-template-columns: 1fr;
    }

    .features-grid {
      grid-template-columns: 1fr;
    }
  }
</style>

# END OF frontend/src/routes/popup-demo/+page.svelte


##################################################################
# FILE: frontend/src/routes/popup-advanced-demo/+page.svelte
# PATH: frontend/src/routes/popup-advanced-demo/+page.svelte
##################################################################

<script lang="ts">
  import { popupStore, type Popup } from '$lib/stores/popups';
  import { IconClock, IconVideo, IconRocket } from '@tabler/icons-svelte';

  // Get date 24 hours from now for countdown demo
  const tomorrow = new Date();
  tomorrow.setDate(tomorrow.getDate() + 1);

  // Advanced popup demos with countdown and video
  const advancedDemos: Partial<Popup>[] = [
    {
      id: 'countdown-flash-sale',
      name: 'Flash Sale with Countdown',
      title: ' FLASH SALE ENDING SOON!',
      isActive: true,
      content: {
        type: 'html',
        data: `
          <p style="font-size: 1.25rem; margin-bottom: 0.5rem; text-align: center;">
            <strong style="color: #ef4444;">LIMITED TIME OFFER</strong>
          </p>
          <p style="text-align: center; color: #94a3b8; margin-bottom: 1rem;">
            Get 50% OFF all trading plans before time runs out!
          </p>
        `
      },
      countdownTimer: {
        enabled: true,
        endDate: tomorrow.toISOString(),
        showDays: true,
        showHours: true,
        showMinutes: true,
        showSeconds: true,
        timerColor: '#ef4444',
        onExpire: 'show-message',
        expireMessage: 'Sale has ended! Check back for more deals.'
      },
      buttons: [
        {
          text: 'Grab This Deal',
          link: '/day-trading',
          action: 'custom',
          style: 'primary',
          gradient: 'bg-gradient-to-r from-red-500 via-orange-500 to-yellow-500'
        }
      ],
      closeButton: true,
      closeOnOverlayClick: true,
      design: {
        width: '650px',
        maxWidth: '95vw',
        height: 'auto',
        padding: '2.5rem',
        backgroundColor: '#0f172a',
        textColor: '#f1f5f9',
        borderRadius: '28px',
        borderWidth: '2px',
        borderColor: '#ef4444',
        borderStyle: 'solid',
        backdropBlur: '20px',
        boxShadow: '0 25px 50px rgba(239, 68, 68, 0.4)',
        backgroundGradient: 'linear-gradient(135deg, #1e293b 0%, #0f172a 100%)'
      },
      animation: {
        entrance: 'zoom',
        exit: 'fade',
        duration: 400,
        easing: 'ease-out'
      },
      overlayColor: '#000000',
      overlayOpacity: 0.8,
      displayRules: {
        delaySeconds: 1,
        showOnScroll: false,
        scrollPercentage: 0,
        showOnExit: false,
        frequency: 'once-per-session',
        pages: ['/*'],
        excludePages: [],
        deviceTargeting: 'all',
        newVisitorsOnly: false,
        returningVisitorsOnly: false,
        minPageViews: 0
      },
      impressions: 0,
      conversions: 0
    },
    {
      id: 'video-popup',
      name: 'Video Introduction Popup',
      title: ' Watch How It Works',
      isActive: true,
      content: {
        type: 'html',
        data: `
          <p style="text-align: center; font-size: 1.125rem; margin-bottom: 1rem;">
            See our trading room in action and learn how we help traders succeed
          </p>
        `
      },
      videoEmbed: {
        enabled: true,
        url: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
        autoplay: false,
        muted: false,
        controls: true,
        aspectRatio: '16:9'
      },
      buttons: [
        {
          text: 'Join Now',
          link: '/day-trading',
          action: 'custom',
          style: 'primary',
          gradient: 'bg-gradient-to-r from-blue-500 to-purple-500'
        },
        {
          text: 'Learn More',
          link: '/about',
          action: 'custom',
          style: 'outline'
        }
      ],
      closeButton: true,
      closeOnOverlayClick: true,
      design: {
        width: '800px',
        maxWidth: '95vw',
        height: 'auto',
        padding: '2.5rem',
        backgroundColor: '#1e293b',
        textColor: '#f1f5f9',
        borderRadius: '24px',
        borderWidth: '1px',
        borderColor: '#3b82f6',
        borderStyle: 'solid',
        backdropBlur: '16px',
        boxShadow: '0 25px 50px rgba(59, 130, 246, 0.3)'
      },
      animation: {
        entrance: 'slide-up',
        exit: 'fade',
        duration: 350,
        easing: 'ease-out'
      },
      overlayColor: '#000000',
      overlayOpacity: 0.85,
      displayRules: {
        delaySeconds: 2,
        showOnScroll: false,
        scrollPercentage: 0,
        showOnExit: false,
        frequency: 'once-per-session',
        pages: ['/*'],
        excludePages: [],
        deviceTargeting: 'all',
        newVisitorsOnly: false,
        returningVisitorsOnly: false,
        minPageViews: 0
      },
      impressions: 0,
      conversions: 0
    },
    {
      id: 'countdown-video-combo',
      name: 'Countdown + Video Combo',
      title: ' Webinar Starting Soon!',
      isActive: true,
      content: {
        type: 'html',
        data: `
          <p style="font-size: 1.25rem; text-align: center; margin-bottom: 1.5rem;">
            Join our <strong style="color: #6366f1;">LIVE Trading Masterclass</strong>
          </p>
          <p style="text-align: center; color: #94a3b8;">
            Watch a preview of what you'll learn:
          </p>
        `
      },
      countdownTimer: {
        enabled: true,
        endDate: tomorrow.toISOString(),
        showDays: false,
        showHours: true,
        showMinutes: true,
        showSeconds: true,
        timerColor: '#6366f1',
        onExpire: 'hide'
      },
      videoEmbed: {
        enabled: true,
        url: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
        autoplay: false,
        muted: true,
        controls: true,
        aspectRatio: '16:9'
      },
      buttons: [
        {
          text: 'Reserve My Spot',
          link: '/day-trading',
          action: 'custom',
          style: 'primary',
          gradient: 'bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500'
        }
      ],
      closeButton: true,
      closeOnOverlayClick: false,
      design: {
        width: '850px',
        maxWidth: '95vw',
        height: 'auto',
        padding: '3rem',
        backgroundColor: '#0f172a',
        textColor: '#f1f5f9',
        borderRadius: '32px',
        borderWidth: '2px',
        borderColor: '#8b5cf6',
        borderStyle: 'solid',
        backdropBlur: '24px',
        boxShadow: '0 30px 60px rgba(139, 92, 246, 0.4)',
        backgroundGradient: 'linear-gradient(135deg, #1e293b 0%, #0f172a 100%)'
      },
      animation: {
        entrance: 'zoom',
        exit: 'zoom',
        duration: 500,
        easing: 'ease-out'
      },
      overlayColor: '#000000',
      overlayOpacity: 0.9,
      displayRules: {
        delaySeconds: 3,
        showOnScroll: false,
        scrollPercentage: 0,
        showOnExit: false,
        frequency: 'once-per-day',
        pages: ['/*'],
        excludePages: [],
        deviceTargeting: 'desktop',
        newVisitorsOnly: false,
        returningVisitorsOnly: false,
        minPageViews: 0
      },
      impressions: 0,
      conversions: 0
    }
  ];

  function showPopup(popup: Partial<Popup>) {
    popupStore.show(popup as Popup);
  }

  function clearHistory() {
    popupStore.clearHistory();
    alert('Popup history cleared!');
  }
</script>

<svelte:head>
  <title>Advanced Popup Features Demo | Revolution Trading Pros</title>
</svelte:head>

<div class="demo-page">
  <div class="demo-container">
    <!-- Header -->
    <div class="demo-header">
      <h1 class="demo-title">
        <IconRocket size={48} class="title-icon" />
        Advanced Popup Features
      </h1>
      <p class="demo-subtitle">
        Countdown Timers, Video Embeds, and More
      </p>
    </div>

    <!-- Controls -->
    <div class="demo-controls">
      <button class="control-btn danger" on:click={clearHistory}>
        Clear History
      </button>
      <a href="/popup-demo" class="control-btn secondary">
        View Basic Demos
      </a>
      <a href="/admin/popups/create" class="control-btn primary">
        Create Custom Popup
      </a>
    </div>

    <!-- Demo Grid -->
    <div class="demo-grid">
      {#each advancedDemos as popup}
        <div class="demo-card">
          <div class="card-header">
            <h3 class="card-title">{popup.name}</h3>
            <div class="card-badges">
              {#if popup.countdownTimer?.enabled}
                <span class="badge blue">
                  <IconClock size={14} />
                  Countdown
                </span>
              {/if}
              {#if popup.videoEmbed?.enabled}
                <span class="badge purple">
                  <IconVideo size={14} />
                  Video
                </span>
              {/if}
            </div>
          </div>

          <div class="card-body">
            <!-- Features -->
            <div class="features">
              {#if popup.countdownTimer?.enabled}
                <div class="feature-item">
                  <span class="feature-label"> Timer:</span>
                  <span class="feature-value">
                    {popup.countdownTimer.showDays ? 'Days ' : ''}
                    {popup.countdownTimer.showHours ? 'Hours ' : ''}
                    {popup.countdownTimer.showMinutes ? 'Mins ' : ''}
                    {popup.countdownTimer.showSeconds ? 'Secs' : ''}
                  </span>
                </div>
              {/if}

              {#if popup.videoEmbed?.enabled}
                <div class="feature-item">
                  <span class="feature-label"> Video:</span>
                  <span class="feature-value">{popup.videoEmbed.aspectRatio} aspect ratio</span>
                </div>
              {/if}

              <div class="feature-item">
                <span class="feature-label"> Size:</span>
                <span class="feature-value">{popup.design?.width}</span>
              </div>

              <div class="feature-item">
                <span class="feature-label"> Animation:</span>
                <span class="feature-value">{popup.animation?.entrance}</span>
              </div>
            </div>

            <!-- Description -->
            <div class="description">
              {#if popup.id === 'countdown-flash-sale'}
                <p>Demonstrates countdown timer with flash sale urgency. Timer shows days, hours, minutes, and seconds until offer expires.</p>
              {:else if popup.id === 'video-popup'}
                <p>Shows embedded YouTube video with custom controls. Perfect for product demos or testimonials.</p>
              {:else if popup.id === 'countdown-video-combo'}
                <p>Combines countdown timer with video embed for maximum engagement. Perfect for webinar registrations.</p>
              {/if}
            </div>
          </div>

          <button class="test-btn" on:click={() => showPopup(popup)}>
            Test This Popup
          </button>
        </div>
      {/each}
    </div>

    <!-- Feature Documentation -->
    <div class="documentation">
      <h2 class="section-title"> Advanced Features Documentation</h2>

      <div class="doc-grid">
        <div class="doc-card">
          <h3> Countdown Timers</h3>
          <ul>
            <li><strong>Flexible Display:</strong> Show/hide days, hours, minutes, seconds individually</li>
            <li><strong>Custom Colors:</strong> Match your brand with custom timer colors</li>
            <li><strong>Expiry Actions:</strong> Hide popup, show message, or redirect on expiration</li>
            <li><strong>Real-Time:</strong> Updates every second for accurate countdown</li>
            <li><strong>Use Cases:</strong> Flash sales, webinar registration, limited offers</li>
          </ul>
        </div>

        <div class="doc-card">
          <h3> Video Embeds</h3>
          <ul>
            <li><strong>Multi-Platform:</strong> YouTube, Vimeo, or direct video URLs</li>
            <li><strong>Autoplay Control:</strong> Auto-play with optional mute</li>
            <li><strong>Aspect Ratios:</strong> 16:9, 4:3, 1:1, or custom ratios</li>
            <li><strong>Player Controls:</strong> Show/hide video controls</li>
            <li><strong>Use Cases:</strong> Product demos, testimonials, tutorials, webinar previews</li>
          </ul>
        </div>

        <div class="doc-card">
          <h3> Advanced Targeting</h3>
          <ul>
            <li><strong>UTM Parameters:</strong> Target based on campaign source and campaign name</li>
            <li><strong>Referrer Tracking:</strong> Show popups based on traffic source</li>
            <li><strong>Time on Page:</strong> Trigger after user spends X seconds on page</li>
            <li><strong>Page View Limits:</strong> Min/max page view requirements</li>
            <li><strong>Geo-Targeting:</strong> Country-based targeting (backend required)</li>
          </ul>
        </div>

        <div class="doc-card">
          <h3> Analytics & Tracking</h3>
          <ul>
            <li><strong>Impression Tracking:</strong> Automatic tracking of popup views</li>
            <li><strong>Conversion Tracking:</strong> Track button clicks and form submissions</li>
            <li><strong>Conversion Rate:</strong> Automatic CVR calculation</li>
            <li><strong>Timeline Data:</strong> Historical performance metrics</li>
            <li><strong>API Integration:</strong> Send data to your analytics platform</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Implementation Guide -->
    <div class="guide">
      <h2 class="section-title"> Implementation Guide</h2>

      <div class="guide-section">
        <h3>Creating a Countdown Popup</h3>
        <pre class="code-block"><code>{`{
  countdownTimer: {
    enabled: true,
    endDate: '2025-12-31T23:59:59Z',
    showDays: true,
    showHours: true,
    showMinutes: true,
    showSeconds: true,
    timerColor: '#6366f1',
    onExpire: 'hide'
  }
}`}</code></pre>
      </div>

      <div class="guide-section">
        <h3>Embedding a Video</h3>
        <pre class="code-block"><code>{`{
  videoEmbed: {
    enabled: true,
    url: 'https://www.youtube.com/watch?v=VIDEO_ID',
    autoplay: false,
    muted: false,
    controls: true,
    aspectRatio: '16:9'
  }
}`}</code></pre>
      </div>

      <div class="guide-section">
        <h3>Advanced Targeting</h3>
        <pre class="code-block"><code>{`{
  displayRules: {
    timeOnPage: 30, // Show after 30 seconds
    utmSource: ['google', 'facebook'],
    utmCampaign: ['summer-sale'],
    referrer: ['google.com'],
    minPageViews: 3,
    maxPageViews: 10
  }
}`}</code></pre>
      </div>
    </div>
  </div>
</div>

<style>
  .demo-page {
    min-height: 100vh;
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
    padding: 4rem 2rem;
  }

  .demo-container {
    max-width: 1400px;
    margin: 0 auto;
  }

  .demo-header {
    text-align: center;
    margin-bottom: 3rem;
  }

  .demo-title {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    font-size: 3rem;
    font-weight: 700;
    background: linear-gradient(to right, #3b82f6, #8b5cf6, #ec4899);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 1rem;
  }

  .title-icon {
    color: #3b82f6;
    -webkit-text-fill-color: initial;
  }

  .demo-subtitle {
    font-size: 1.25rem;
    color: #94a3b8;
  }

  .demo-controls {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 3rem;
    flex-wrap: wrap;
  }

  .control-btn {
    padding: 0.875rem 1.75rem;
    font-weight: 600;
    border-radius: 12px;
    border: none;
    cursor: pointer;
    transition: all 0.3s;
    text-decoration: none;
    display: inline-block;
  }

  .control-btn.primary {
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    color: white;
  }

  .control-btn.secondary {
    background: rgba(99, 102, 241, 0.2);
    color: #a5b4fc;
    border: 1px solid rgba(99, 102, 241, 0.3);
  }

  .control-btn.danger {
    background: rgba(239, 68, 68, 0.2);
    color: #f87171;
    border: 1px solid #f87171;
  }

  .control-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(99, 102, 241, 0.3);
  }

  .demo-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
    gap: 2rem;
    margin-bottom: 4rem;
  }

  .demo-card {
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 20px;
    overflow: hidden;
    transition: all 0.3s;
  }

  .demo-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 40px rgba(99, 102, 241, 0.2);
    border-color: rgba(99, 102, 241, 0.4);
  }

  .card-header {
    padding: 1.5rem;
    border-bottom: 1px solid rgba(99, 102, 241, 0.1);
  }

  .card-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: #f1f5f9;
    margin-bottom: 0.75rem;
  }

  .card-badges {
    display: flex;
    gap: 0.5rem;
  }

  .badge {
    display: flex;
    align-items: center;
    gap: 0.375rem;
    padding: 0.375rem 0.875rem;
    border-radius: 8px;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
  }

  .badge.blue {
    background: rgba(59, 130, 246, 0.2);
    color: #60a5fa;
  }

  .badge.purple {
    background: rgba(139, 92, 246, 0.2);
    color: #a78bfa;
  }

  .card-body {
    padding: 1.5rem;
  }

  .features {
    margin-bottom: 1.5rem;
  }

  .feature-item {
    display: flex;
    justify-content: space-between;
    padding: 0.75rem;
    margin-bottom: 0.5rem;
    background: rgba(99, 102, 241, 0.05);
    border-radius: 8px;
  }

  .feature-label {
    color: #94a3b8;
    font-weight: 600;
  }

  .feature-value {
    color: #e2e8f0;
  }

  .description {
    padding: 1rem;
    background: rgba(59, 130, 246, 0.05);
    border-left: 3px solid #3b82f6;
    border-radius: 8px;
    color: #cbd5e1;
    line-height: 1.6;
  }

  .test-btn {
    width: 100%;
    padding: 1rem;
    background: linear-gradient(135deg, #3b82f6, #8b5cf6);
    color: white;
    border: none;
    font-weight: 700;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.3s;
  }

  .test-btn:hover {
    background: linear-gradient(135deg, #2563eb, #7c3aed);
    box-shadow: 0 10px 25px rgba(59, 130, 246, 0.4);
  }

  .documentation,
  .guide {
    margin-bottom: 4rem;
  }

  .section-title {
    font-size: 2rem;
    font-weight: 700;
    color: #f1f5f9;
    margin-bottom: 2rem;
    text-align: center;
  }

  .doc-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 1.5rem;
  }

  .doc-card {
    background: rgba(99, 102, 241, 0.05);
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 16px;
    padding: 2rem;
  }

  .doc-card h3 {
    font-size: 1.5rem;
    font-weight: 700;
    color: #a5b4fc;
    margin-bottom: 1rem;
  }

  .doc-card ul {
    list-style: none;
    padding: 0;
  }

  .doc-card li {
    color: #cbd5e1;
    margin-bottom: 0.75rem;
    padding-left: 1.5rem;
    position: relative;
    line-height: 1.6;
  }

  .doc-card li::before {
    content: '';
    position: absolute;
    left: 0;
    color: #6366f1;
  }

  .doc-card strong {
    color: #e2e8f0;
  }

  .guide-section {
    margin-bottom: 2rem;
    background: rgba(99, 102, 241, 0.05);
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 16px;
    padding: 2rem;
  }

  .guide-section h3 {
    font-size: 1.25rem;
    font-weight: 700;
    color: #a5b4fc;
    margin-bottom: 1rem;
  }

  .code-block {
    background: #0f172a;
    border: 1px solid rgba(99, 102, 241, 0.3);
    border-radius: 12px;
    padding: 1.5rem;
    overflow-x: auto;
  }

  .code-block code {
    color: #94a3b8;
    font-family: 'Courier New', monospace;
    font-size: 0.875rem;
    line-height: 1.6;
  }

  @media (max-width: 768px) {
    .demo-title {
      font-size: 2rem;
    }

    .demo-grid {
      grid-template-columns: 1fr;
    }

    .doc-grid {
      grid-template-columns: 1fr;
    }
  }
</style>

# END OF frontend/src/routes/popup-advanced-demo/+page.svelte


##################################################################
# FILE: frontend/src/routes/embed/form/[slug]/+page.svelte
# PATH: frontend/src/routes/embed/form/[slug]/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { page } from '$app/stores';
  import FormRenderer from '$lib/components/forms/FormRenderer.svelte';
  import { previewForm } from '$lib/api/forms';
  import type { Form } from '$lib/api/forms';

  let formSlug: string;
  let form: Form | null = null;
  let loading = true;
  let error = '';
  let submitted = false;

  $: formSlug = $page.params.slug;

  onMount(async () => {
    try {
      form = await previewForm(formSlug);
    } catch (err) {
      error = err instanceof Error ? err.message : 'Form not found';
    } finally {
      loading = false;
    }
  });

  function handleSuccess(submissionId: string) {
    submitted = true;

    // Send message to parent window if embedded in iframe
    if (window.parent !== window) {
      window.parent.postMessage({
        type: 'form-submitted',
        submissionId,
        formSlug
      }, '*');
    }
  }

  function handleError(errorMessage: string) {
    // Send error to parent window if embedded
    if (window.parent !== window) {
      window.parent.postMessage({
        type: 'form-error',
        error: errorMessage,
        formSlug
      }, '*');
    }
  }
</script>

<svelte:head>
  <title>{form?.title || 'Form'}</title>
  <meta name="robots" content="noindex, nofollow" />
</svelte:head>

<div class="embed-container">
  {#if loading}
    <div class="loading-state">
      <div class="spinner"></div>
      <p>Loading form...</p>
    </div>
  {:else if error}
    <div class="error-state">
      <p>{error}</p>
    </div>
  {:else if form}
    <FormRenderer {form} onSuccess={handleSuccess} onError={handleError} />
  {/if}
</div>

<style>
  .embed-container {
    min-height: 100vh;
    padding: 1rem;
    background: transparent;
  }

  .loading-state,
  .error-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 200px;
    padding: 2rem;
  }

  .loading-state {
    color: #6b7280;
  }

  .error-state {
    color: #dc2626;
  }

  .spinner {
    width: 40px;
    height: 40px;
    border: 3px solid #e5e7eb;
    border-top-color: #2563eb;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin-bottom: 1rem;
  }

  @keyframes spin {
    to {
      transform: rotate(360deg);
    }
  }

  /* Make form renderer styles work in embed context */
  :global(.revolution-form) {
    background: white;
    padding: 2rem;
    border-radius: 0.5rem;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }
</style>

# END OF frontend/src/routes/embed/form/[slug]/+page.svelte


##################################################################
# FILE: frontend/src/routes/embed/form/[slug]/+page.ts
# PATH: frontend/src/routes/embed/form/[slug]/+page.ts
##################################################################

// Disable prerendering for dynamic route
export const prerender = false;

# END OF frontend/src/routes/embed/form/[slug]/+page.ts


##################################################################
# FILE: frontend/src/routes/resources/etf-stocks-list/+page.svelte
# PATH: frontend/src/routes/resources/etf-stocks-list/+page.svelte
##################################################################

<script lang="ts">
  import { IconTrendingUp, IconChartLine } from '@tabler/icons-svelte';
</script>

<svelte:head>
  <title>ETF Stocks List | Revolution Trading Pros</title>
  <meta name="description" content="Comprehensive list of ETF stocks for professional traders. Track and analyze the most traded ETFs in the market." />
</svelte:head>

<div class="page-container">
  <header class="page-header">
    <div class="header-content">
      <div class="icon-wrapper">
        <IconChartLine size={48} class="header-icon" />
      </div>
      <h1 class="page-title">ETF Stocks List</h1>
      <p class="page-subtitle">
        Comprehensive list of Exchange-Traded Funds for professional traders. Track performance, analyze trends, and make informed decisions.
      </p>
    </div>
  </header>

  <section class="content-section">
    <div class="content-wrapper">
      <div class="info-card">
        <div class="card-header">
          <IconTrendingUp size={32} class="card-icon" />
          <h2>Popular ETFs</h2>
        </div>
        <div class="card-body">
          <p>Stay tuned for our curated list of the most popular and actively traded ETFs across various sectors including technology, healthcare, energy, and more.</p>

          <div class="placeholder-grid">
            <div class="placeholder-item">
              <div class="placeholder-title">SPY</div>
              <div class="placeholder-desc">S&P 500 ETF Trust</div>
            </div>
            <div class="placeholder-item">
              <div class="placeholder-title">QQQ</div>
              <div class="placeholder-desc">Invesco QQQ Trust</div>
            </div>
            <div class="placeholder-item">
              <div class="placeholder-title">IWM</div>
              <div class="placeholder-desc">iShares Russell 2000 ETF</div>
            </div>
            <div class="placeholder-item">
              <div class="placeholder-title">VTI</div>
              <div class="placeholder-desc">Vanguard Total Stock Market ETF</div>
            </div>
          </div>
        </div>
      </div>

      <div class="info-card">
        <div class="card-header">
          <h2>Coming Soon</h2>
        </div>
        <div class="card-body">
          <ul class="feature-list">
            <li>Real-time ETF price tracking</li>
            <li>Sector-based ETF categorization</li>
            <li>Performance analytics and charts</li>
            <li>Institutional ownership data</li>
            <li>Dividend yield information</li>
            <li>Expense ratio comparisons</li>
          </ul>
        </div>
      </div>
    </div>
  </section>
</div>

<style>
  .page-container {
    min-height: 100vh;
    background: linear-gradient(135deg, #050e1f 0%, #0a1628 50%, #0f1e33 100%);
    padding-top: 120px;
  }

  .page-header {
    padding: 4rem 1.5rem;
    text-align: center;
    background: linear-gradient(to bottom, rgba(46, 142, 255, 0.1), transparent);
  }

  .header-content {
    max-width: 800px;
    margin: 0 auto;
  }

  .icon-wrapper {
    display: inline-flex;
    padding: 1.5rem;
    background: linear-gradient(135deg, rgba(46, 142, 255, 0.2), rgba(46, 142, 255, 0.05));
    border-radius: 20px;
    margin-bottom: 2rem;
  }

  :global(.header-icon) {
    color: #2e8eff;
  }

  .page-title {
    font-size: clamp(2.5rem, 5vw, 4rem);
    font-weight: 800;
    color: #ffffff;
    margin-bottom: 1rem;
    background: linear-gradient(135deg, #2e8eff, #60a5fa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .page-subtitle {
    font-size: 1.25rem;
    color: #cbd5e1;
    line-height: 1.8;
    max-width: 600px;
    margin: 0 auto;
  }

  .content-section {
    padding: 2rem 1.5rem 4rem;
  }

  .content-wrapper {
    max-width: 1200px;
    margin: 0 auto;
    display: grid;
    gap: 2rem;
  }

  .info-card {
    background: rgba(15, 23, 42, 0.6);
    border: 1px solid rgba(46, 142, 255, 0.2);
    border-radius: 16px;
    padding: 2rem;
    backdrop-filter: blur(10px);
  }

  .card-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.5rem;
  }

  :global(.card-icon) {
    color: #2e8eff;
  }

  .card-header h2 {
    font-size: 1.75rem;
    font-weight: 700;
    color: #ffffff;
    margin: 0;
  }

  .card-body {
    color: #cbd5e1;
    font-size: 1.1rem;
    line-height: 1.8;
  }

  .placeholder-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 1.5rem;
    margin-top: 2rem;
  }

  .placeholder-item {
    background: rgba(46, 142, 255, 0.1);
    border: 1px solid rgba(46, 142, 255, 0.3);
    border-radius: 12px;
    padding: 1.5rem;
    transition: all 0.3s ease;
  }

  .placeholder-item:hover {
    background: rgba(46, 142, 255, 0.15);
    border-color: rgba(46, 142, 255, 0.5);
    transform: translateY(-2px);
  }

  .placeholder-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: #2e8eff;
    margin-bottom: 0.5rem;
  }

  .placeholder-desc {
    color: #94a3b8;
    font-size: 0.95rem;
  }

  .feature-list {
    list-style: none;
    padding: 0;
    margin: 1.5rem 0 0 0;
  }

  .feature-list li {
    padding: 0.75rem 0;
    padding-left: 1.5rem;
    position: relative;
    font-size: 1.1rem;
  }

  .feature-list li::before {
    content: '';
    position: absolute;
    left: 0;
    color: #2e8eff;
    font-weight: bold;
  }

  @media (max-width: 768px) {
    .page-container {
      padding-top: 80px;
    }

    .page-header {
      padding: 2rem 1rem;
    }

    .placeholder-grid {
      grid-template-columns: 1fr;
    }
  }
</style>

# END OF frontend/src/routes/resources/etf-stocks-list/+page.svelte


##################################################################
# FILE: frontend/src/routes/resources/stock-indexes-list/+page.svelte
# PATH: frontend/src/routes/resources/stock-indexes-list/+page.svelte
##################################################################

<script lang="ts">
  import { IconChartCandle, IconWorld } from '@tabler/icons-svelte';
</script>

<svelte:head>
  <title>Stock Indexes List | Revolution Trading Pros</title>
  <meta name="description" content="Track major global stock market indexes. Monitor S&P 500, Nasdaq, Dow Jones, and international indexes." />
</svelte:head>

<div class="page-container">
  <header class="page-header">
    <div class="header-content">
      <div class="icon-wrapper">
        <IconChartCandle size={48} class="header-icon" />
      </div>
      <h1 class="page-title">Stock Indexes List</h1>
      <p class="page-subtitle">
        Monitor major global stock market indexes. Track performance of leading indices including S&P 500, Nasdaq Composite, Dow Jones Industrial Average, and more.
      </p>
    </div>
  </header>

  <section class="content-section">
    <div class="content-wrapper">
      <div class="info-card">
        <div class="card-header">
          <IconWorld size={32} class="card-icon" />
          <h2>Major US Indexes</h2>
        </div>
        <div class="card-body">
          <p>Real-time tracking of the most important U.S. stock market indexes that move the markets.</p>

          <div class="placeholder-grid">
            <div class="placeholder-item">
              <div class="placeholder-title">S&P 500</div>
              <div class="placeholder-desc">Standard & Poor's 500 Index</div>
              <div class="placeholder-symbol">SPX</div>
            </div>
            <div class="placeholder-item">
              <div class="placeholder-title">Nasdaq 100</div>
              <div class="placeholder-desc">Nasdaq-100 Index</div>
              <div class="placeholder-symbol">NDX</div>
            </div>
            <div class="placeholder-item">
              <div class="placeholder-title">Dow Jones</div>
              <div class="placeholder-desc">Dow Jones Industrial Average</div>
              <div class="placeholder-symbol">DJI</div>
            </div>
            <div class="placeholder-item">
              <div class="placeholder-title">Russell 2000</div>
              <div class="placeholder-desc">Small Cap Index</div>
              <div class="placeholder-symbol">RUT</div>
            </div>
          </div>
        </div>
      </div>

      <div class="info-card">
        <div class="card-header">
          <h2>International Indexes</h2>
        </div>
        <div class="card-body">
          <div class="placeholder-grid">
            <div class="placeholder-item">
              <div class="placeholder-title">FTSE 100</div>
              <div class="placeholder-desc">Financial Times Stock Exchange</div>
              <div class="placeholder-symbol">UKX</div>
            </div>
            <div class="placeholder-item">
              <div class="placeholder-title">DAX</div>
              <div class="placeholder-desc">German Stock Index</div>
              <div class="placeholder-symbol">DAX</div>
            </div>
            <div class="placeholder-item">
              <div class="placeholder-title">Nikkei 225</div>
              <div class="placeholder-desc">Japan Stock Average</div>
              <div class="placeholder-symbol">NKY</div>
            </div>
            <div class="placeholder-item">
              <div class="placeholder-title">Hang Seng</div>
              <div class="placeholder-desc">Hong Kong Index</div>
              <div class="placeholder-symbol">HSI</div>
            </div>
          </div>
        </div>
      </div>

      <div class="info-card">
        <div class="card-header">
          <h2>Coming Soon</h2>
        </div>
        <div class="card-body">
          <ul class="feature-list">
            <li>Live index price updates</li>
            <li>Historical performance charts</li>
            <li>Sector breakdown analysis</li>
            <li>Index correlation matrices</li>
            <li>Market breadth indicators</li>
            <li>Technical analysis overlays</li>
            <li>Economic calendar integration</li>
          </ul>
        </div>
      </div>
    </div>
  </section>
</div>

<style>
  .page-container {
    min-height: 100vh;
    background: linear-gradient(135deg, #050e1f 0%, #0a1628 50%, #0f1e33 100%);
    padding-top: 120px;
  }

  .page-header {
    padding: 4rem 1.5rem;
    text-align: center;
    background: linear-gradient(to bottom, rgba(46, 142, 255, 0.1), transparent);
  }

  .header-content {
    max-width: 800px;
    margin: 0 auto;
  }

  .icon-wrapper {
    display: inline-flex;
    padding: 1.5rem;
    background: linear-gradient(135deg, rgba(46, 142, 255, 0.2), rgba(46, 142, 255, 0.05));
    border-radius: 20px;
    margin-bottom: 2rem;
  }

  :global(.header-icon) {
    color: #2e8eff;
  }

  .page-title {
    font-size: clamp(2.5rem, 5vw, 4rem);
    font-weight: 800;
    color: #ffffff;
    margin-bottom: 1rem;
    background: linear-gradient(135deg, #2e8eff, #60a5fa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .page-subtitle {
    font-size: 1.25rem;
    color: #cbd5e1;
    line-height: 1.8;
    max-width: 600px;
    margin: 0 auto;
  }

  .content-section {
    padding: 2rem 1.5rem 4rem;
  }

  .content-wrapper {
    max-width: 1200px;
    margin: 0 auto;
    display: grid;
    gap: 2rem;
  }

  .info-card {
    background: rgba(15, 23, 42, 0.6);
    border: 1px solid rgba(46, 142, 255, 0.2);
    border-radius: 16px;
    padding: 2rem;
    backdrop-filter: blur(10px);
  }

  .card-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.5rem;
  }

  :global(.card-icon) {
    color: #2e8eff;
  }

  .card-header h2 {
    font-size: 1.75rem;
    font-weight: 700;
    color: #ffffff;
    margin: 0;
  }

  .card-body {
    color: #cbd5e1;
    font-size: 1.1rem;
    line-height: 1.8;
  }

  .placeholder-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 1.5rem;
    margin-top: 2rem;
  }

  .placeholder-item {
    background: rgba(46, 142, 255, 0.1);
    border: 1px solid rgba(46, 142, 255, 0.3);
    border-radius: 12px;
    padding: 1.5rem;
    transition: all 0.3s ease;
  }

  .placeholder-item:hover {
    background: rgba(46, 142, 255, 0.15);
    border-color: rgba(46, 142, 255, 0.5);
    transform: translateY(-2px);
  }

  .placeholder-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: #2e8eff;
    margin-bottom: 0.5rem;
  }

  .placeholder-desc {
    color: #94a3b8;
    font-size: 0.95rem;
    margin-bottom: 0.5rem;
  }

  .placeholder-symbol {
    color: #64748b;
    font-size: 0.85rem;
    font-family: monospace;
  }

  .feature-list {
    list-style: none;
    padding: 0;
    margin: 1.5rem 0 0 0;
  }

  .feature-list li {
    padding: 0.75rem 0;
    padding-left: 1.5rem;
    position: relative;
    font-size: 1.1rem;
  }

  .feature-list li::before {
    content: '';
    position: absolute;
    left: 0;
    color: #2e8eff;
    font-weight: bold;
  }

  @media (max-width: 768px) {
    .page-container {
      padding-top: 80px;
    }

    .page-header {
      padding: 2rem 1rem;
    }

    .placeholder-grid {
      grid-template-columns: 1fr;
    }
  }
</style>

# END OF frontend/src/routes/resources/stock-indexes-list/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/+layout.svelte
# PATH: frontend/src/routes/admin/+layout.svelte
##################################################################

<script lang="ts">
  import { page } from '$app/stores';
  import { goto } from '$app/navigation';
  import { user, isAuthenticated } from '$lib/stores/auth';
  import {
    IconDashboard,
    IconReceipt,
    IconTicket,
    IconUsers,
    IconSettings,
    IconLogout,
    IconMenu2,
    IconX,
    IconBellRinging,
    IconForms,
    IconSeo,
    IconNews
  } from '@tabler/icons-svelte';
  import { onMount } from 'svelte';
  import { browser } from '$app/environment';

  let isSidebarOpen = false;

  // Check if user is admin (you'll need to add role check)
  $: if (browser && !$isAuthenticated) {
    goto('/login?redirect=/admin');
  }

  function toggleSidebar() {
    isSidebarOpen = !isSidebarOpen;
  }

  const menuItems = [
    { icon: IconDashboard, label: 'Overview', href: '/admin' },
    { icon: IconReceipt, label: 'Subscriptions', href: '/admin/subscriptions' },
    { icon: IconTicket, label: 'Coupons', href: '/admin/coupons' },
    { icon: IconBellRinging, label: 'Popups', href: '/admin/popups' },
    { icon: IconForms, label: 'Forms', href: '/admin/forms' },
    { icon: IconNews, label: 'Blog', href: '/admin/blog' },
    { icon: IconSeo, label: 'SEO', href: '/admin/seo' },
    { icon: IconUsers, label: 'Users', href: '/admin/users' },
    { icon: IconSettings, label: 'Settings', href: '/admin/settings' }
  ];
</script>

<svelte:head>
  <title>Admin Dashboard | Revolution Trading Pros</title>
</svelte:head>

<div class="admin-layout">
  <!-- Sidebar -->
  <aside class="admin-sidebar" class:open={isSidebarOpen}>
    <!-- Logo Section -->
    <div class="sidebar-header">
      <div class="logo-container">
        <img src="/revolution-trading-pros.png" alt="RTP" class="admin-logo" />
        <span class="admin-badge">ADMIN</span>
      </div>
      <button class="close-btn" on:click={toggleSidebar}>
        <IconX size={24} />
      </button>
    </div>

    <!-- Navigation -->
    <nav class="sidebar-nav">
      {#each menuItems as item}
        <a
          href={item.href}
          class="nav-item"
          class:active={$page.url.pathname === item.href}
          on:click={() => isSidebarOpen = false}
        >
          <svelte:component this={item.icon} size={20} />
          <span>{item.label}</span>
        </a>
      {/each}
    </nav>

    <!-- User Section -->
    <div class="sidebar-footer">
      <div class="user-info">
        <div class="user-avatar">
          {$user?.name?.charAt(0).toUpperCase() || 'A'}
        </div>
        <div class="user-details">
          <div class="user-name">{$user?.name || 'Admin'}</div>
          <div class="user-role">Administrator</div>
        </div>
      </div>
      <a href="/" class="logout-btn">
        <IconLogout size={18} />
        <span>Exit Admin</span>
      </a>
    </div>
  </aside>

  <!-- Main Content -->
  <div class="admin-main">
    <!-- Top Bar -->
    <header class="admin-header">
      <button class="mobile-menu-btn" on:click={toggleSidebar}>
        <IconMenu2 size={24} />
      </button>
      <div class="header-title">
        <h1>{$page.url.pathname.split('/').pop() || 'Dashboard'}</h1>
      </div>
      <div class="header-actions">
        <a href="/" class="view-site-btn">View Site</a>
      </div>
    </header>

    <!-- Page Content -->
    <main class="admin-content">
      <slot />
    </main>
  </div>

  <!-- Mobile Overlay -->
  {#if isSidebarOpen}
    <div
      class="mobile-overlay"
      role="button"
      tabindex="0"
      on:click={toggleSidebar}
      on:keydown={(e) => e.key === 'Escape' && toggleSidebar()}
    ></div>
  {/if}
</div>

<style>
  .admin-layout {
    display: flex;
    min-height: 100vh;
    background: #0f172a;
    color: #e2e8f0;
  }

  /* Sidebar */
  .admin-sidebar {
    width: 280px;
    background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%);
    border-right: 1px solid rgba(99, 102, 241, 0.1);
    display: flex;
    flex-direction: column;
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    z-index: 40;
    transition: transform 0.3s ease;
  }

  .sidebar-header {
    padding: 1.5rem;
    border-bottom: 1px solid rgba(99, 102, 241, 0.1);
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .logo-container {
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }

  .admin-logo {
    height: 40px;
    width: auto;
  }

  .admin-badge {
    padding: 0.25rem 0.5rem;
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    color: white;
    font-size: 0.7rem;
    font-weight: 700;
    border-radius: 6px;
    letter-spacing: 0.5px;
  }

  .close-btn {
    display: none;
    background: none;
    border: none;
    color: #94a3b8;
    cursor: pointer;
    padding: 0.5rem;
    border-radius: 8px;
    transition: all 0.2s;
  }

  .close-btn:hover {
    background: rgba(99, 102, 241, 0.1);
    color: #818cf8;
  }

  /* Navigation */
  .sidebar-nav {
    flex: 1;
    padding: 1rem;
    overflow-y: auto;
  }

  .nav-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.875rem 1rem;
    color: #94a3b8;
    text-decoration: none;
    border-radius: 10px;
    margin-bottom: 0.5rem;
    transition: all 0.2s;
    font-weight: 500;
  }

  .nav-item:hover {
    background: rgba(99, 102, 241, 0.1);
    color: #a5b4fc;
  }

  .nav-item.active {
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.2), rgba(139, 92, 246, 0.2));
    color: #a5b4fc;
    border: 1px solid rgba(99, 102, 241, 0.3);
  }

  /* Sidebar Footer */
  .sidebar-footer {
    padding: 1rem;
    border-top: 1px solid rgba(99, 102, 241, 0.1);
  }

  .user-info {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem;
    background: rgba(99, 102, 241, 0.05);
    border-radius: 10px;
    margin-bottom: 0.75rem;
  }

  .user-avatar {
    width: 40px;
    height: 40px;
    border-radius: 10px;
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 1.125rem;
    color: white;
  }

  .user-details {
    flex: 1;
    min-width: 0;
  }

  .user-name {
    font-weight: 600;
    font-size: 0.9375rem;
    color: #e2e8f0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .user-role {
    font-size: 0.8125rem;
    color: #64748b;
  }

  .logout-btn {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    color: #94a3b8;
    text-decoration: none;
    border-radius: 10px;
    transition: all 0.2s;
    font-weight: 500;
    width: 100%;
    justify-content: center;
    border: 1px solid rgba(239, 68, 68, 0.2);
  }

  .logout-btn:hover {
    background: rgba(239, 68, 68, 0.1);
    color: #f87171;
    border-color: rgba(239, 68, 68, 0.3);
  }

  /* Main Content */
  .admin-main {
    flex: 1;
    margin-left: 280px;
    display: flex;
    flex-direction: column;
  }

  .admin-header {
    height: 70px;
    background: #1e293b;
    border-bottom: 1px solid rgba(99, 102, 241, 0.1);
    display: flex;
    align-items: center;
    padding: 0 2rem;
    gap: 1rem;
    position: sticky;
    top: 0;
    z-index: 30;
  }

  .mobile-menu-btn {
    display: none;
    background: none;
    border: none;
    color: #94a3b8;
    cursor: pointer;
    padding: 0.5rem;
    border-radius: 8px;
    transition: all 0.2s;
  }

  .mobile-menu-btn:hover {
    background: rgba(99, 102, 241, 0.1);
    color: #818cf8;
  }

  .header-title h1 {
    font-size: 1.5rem;
    font-weight: 700;
    color: #f1f5f9;
    text-transform: capitalize;
    margin: 0;
  }

  .header-actions {
    margin-left: auto;
  }

  .view-site-btn {
    padding: 0.625rem 1.25rem;
    background: rgba(99, 102, 241, 0.1);
    color: #a5b4fc;
    text-decoration: none;
    border-radius: 8px;
    font-weight: 600;
    font-size: 0.9375rem;
    border: 1px solid rgba(99, 102, 241, 0.2);
    transition: all 0.2s;
  }

  .view-site-btn:hover {
    background: rgba(99, 102, 241, 0.2);
    border-color: rgba(99, 102, 241, 0.4);
  }

  .admin-content {
    flex: 1;
    padding: 2rem;
    overflow-y: auto;
  }

  .mobile-overlay {
    display: none;
  }

  /* Responsive */
  @media (max-width: 1024px) {
    .admin-sidebar {
      transform: translateX(-100%);
    }

    .admin-sidebar.open {
      transform: translateX(0);
    }

    .close-btn {
      display: block;
    }

    .admin-main {
      margin-left: 0;
    }

    .mobile-menu-btn {
      display: block;
    }

    .mobile-overlay {
      display: block;
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      z-index: 35;
    }

    .admin-content {
      padding: 1.5rem;
    }
  }

  @media (max-width: 640px) {
    .admin-header {
      padding: 0 1rem;
    }

    .header-title h1 {
      font-size: 1.25rem;
    }

    .admin-content {
      padding: 1rem;
    }
  }
</style>

# END OF frontend/src/routes/admin/+layout.svelte


##################################################################
# FILE: frontend/src/routes/admin/+layout.ts
# PATH: frontend/src/routes/admin/+layout.ts
##################################################################

// Disable server-side rendering for all admin pages
// Admin pages require authentication and don't benefit from SSR/prerendering
export const ssr = false;
export const prerender = false;

# END OF frontend/src/routes/admin/+layout.ts


##################################################################
# FILE: frontend/src/routes/admin/+page.svelte
# PATH: frontend/src/routes/admin/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { gsap } from 'gsap';
  import {
    IconReceipt,
    IconTicket,
    IconUsers,
    IconTrendingUp,
    IconCurrencyDollar
  } from '@tabler/icons-svelte';

  let statsRef: HTMLDivElement;

  // Mock data - replace with real API calls
  let stats = {
    activeSubscriptions: 247,
    monthlyRevenue: 48930,
    activeCoupons: 12,
    totalUsers: 532
  };

  onMount(() => {
    const tl = gsap.timeline();
    tl.from('.stat-card', {
      opacity: 0,
      y: 30,
      duration: 0.6,
      stagger: 0.1,
      ease: 'power3.out'
    });
  });

  function formatCurrency(amount: number): string {
    return new Intl.NumberFormat('en-US', {
      style: 'currency',
      currency: 'USD',
      minimumFractionDigits: 0
    }).format(amount);
  }
</script>

<div class="dashboard-container">
  <!-- Welcome Section -->
  <div class="welcome-section">
    <h2 class="welcome-title">Welcome back, Admin</h2>
    <p class="welcome-subtitle">Here's what's happening with your business today.</p>
  </div>

  <!-- Stats Grid -->
  <div class="stats-grid" bind:this={statsRef}>
    <!-- Active Subscriptions -->
    <div class="stat-card">
      <div class="stat-icon subscription">
        <IconReceipt size={28} />
      </div>
      <div class="stat-content">
        <div class="stat-label">Active Subscriptions</div>
        <div class="stat-value">{stats.activeSubscriptions}</div>
        <div class="stat-change positive">+12.5% from last month</div>
      </div>
    </div>

    <!-- Monthly Revenue -->
    <div class="stat-card">
      <div class="stat-icon revenue">
        <IconCurrencyDollar size={28} />
      </div>
      <div class="stat-content">
        <div class="stat-label">Monthly Revenue</div>
        <div class="stat-value">{formatCurrency(stats.monthlyRevenue)}</div>
        <div class="stat-change positive">+8.2% from last month</div>
      </div>
    </div>

    <!-- Active Coupons -->
    <div class="stat-card">
      <div class="stat-icon coupons">
        <IconTicket size={28} />
      </div>
      <div class="stat-content">
        <div class="stat-label">Active Coupons</div>
        <div class="stat-value">{stats.activeCoupons}</div>
        <div class="stat-change neutral">Available for use</div>
      </div>
    </div>

    <!-- Total Users -->
    <div class="stat-card">
      <div class="stat-icon users">
        <IconUsers size={28} />
      </div>
      <div class="stat-content">
        <div class="stat-label">Total Users</div>
        <div class="stat-value">{stats.totalUsers}</div>
        <div class="stat-change positive">+24 this week</div>
      </div>
    </div>
  </div>

  <!-- Quick Actions -->
  <div class="quick-actions">
    <h3 class="section-title">Quick Actions</h3>
    <div class="actions-grid">
      <a href="/admin/coupons" class="action-card">
        <IconTicket size={24} />
        <span>Create Coupon</span>
      </a>
      <a href="/admin/subscriptions" class="action-card">
        <IconReceipt size={24} />
        <span>View Subscriptions</span>
      </a>
      <a href="/admin/users" class="action-card">
        <IconUsers size={24} />
        <span>Manage Users</span>
      </a>
    </div>
  </div>
</div>

<style>
  .dashboard-container {
    max-width: 1400px;
  }

  .welcome-section {
    margin-bottom: 2rem;
  }

  .welcome-title {
    font-size: 2rem;
    font-weight: 700;
    color: #f1f5f9;
    margin-bottom: 0.5rem;
  }

  .welcome-subtitle {
    font-size: 1.125rem;
    color: #64748b;
  }

  /* Stats Grid */
  .stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
    margin-bottom: 3rem;
  }

  .stat-card {
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    border: 1px solid rgba(99, 102, 241, 0.1);
    border-radius: 16px;
    padding: 1.5rem;
    display: flex;
    gap: 1.25rem;
    transition: all 0.3s ease;
  }

  .stat-card:hover {
    border-color: rgba(99, 102, 241, 0.3);
    transform: translateY(-2px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  }

  .stat-icon {
    width: 60px;
    height: 60px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }

  .stat-icon.subscription {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(37, 99, 235, 0.1));
    color: #60a5fa;
  }

  .stat-icon.revenue {
    background: linear-gradient(135deg, rgba(34, 197, 94, 0.2), rgba(21, 128, 61, 0.1));
    color: #4ade80;
  }

  .stat-icon.coupons {
    background: linear-gradient(135deg, rgba(168, 85, 247, 0.2), rgba(126, 34, 206, 0.1));
    color: #a78bfa;
  }

  .stat-icon.users {
    background: linear-gradient(135deg, rgba(249, 115, 22, 0.2), rgba(234, 88, 12, 0.1));
    color: #fb923c;
  }

  .stat-content {
    flex: 1;
  }

  .stat-label {
    font-size: 0.875rem;
    color: #94a3b8;
    margin-bottom: 0.5rem;
    font-weight: 500;
  }

  .stat-value {
    font-size: 2rem;
    font-weight: 700;
    color: #f1f5f9;
    margin-bottom: 0.5rem;
  }

  .stat-change {
    font-size: 0.8125rem;
    font-weight: 500;
  }

  .stat-change.positive {
    color: #4ade80;
  }

  .stat-change.neutral {
    color: #94a3b8;
  }

  /* Quick Actions */
  .quick-actions {
    margin-top: 3rem;
  }

  .section-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: #f1f5f9;
    margin-bottom: 1.5rem;
  }

  .actions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
  }

  .action-card {
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.05));
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 12px;
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
    text-decoration: none;
    color: #a5b4fc;
    font-weight: 600;
    transition: all 0.3s ease;
  }

  .action-card:hover {
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.2), rgba(139, 92, 246, 0.1));
    border-color: rgba(99, 102, 241, 0.4);
    transform: translateY(-2px);
  }

  /* Responsive */
  @media (max-width: 640px) {
    .welcome-title {
      font-size: 1.5rem;
    }

    .stats-grid {
      grid-template-columns: 1fr;
    }

    .stat-value {
      font-size: 1.75rem;
    }
  }
</style>

# END OF frontend/src/routes/admin/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/blog/+page.svelte
# PATH: frontend/src/routes/admin/blog/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { goto } from '$app/navigation';
  import {
    IconPlus,
    IconSearch,
    IconFilter,
    IconEdit,
    IconTrash,
    IconEye,
    IconCopy,
    IconCalendar,
    IconUser
  } from '@tabler/icons-svelte';

  let posts: any[] = [];
  let stats: any = null;
  let loading = false;
  let searchQuery = '';
  let statusFilter = 'all';
  let categoryFilter = 'all';
  let categories: any[] = [];

  const statusOptions = [
    { value: 'all', label: 'All Status' },
    { value: 'published', label: 'Published' },
    { value: 'draft', label: 'Draft' },
    { value: 'archived', label: 'Archived' }
  ];

  onMount(() => {
    loadPosts();
    loadStats();
    loadCategories();
  });

  async function loadPosts() {
    loading = true;
    try {
      const params = new URLSearchParams();
      if (statusFilter !== 'all') params.append('status', statusFilter);
      if (categoryFilter !== 'all') params.append('category', categoryFilter);
      if (searchQuery) params.append('search', searchQuery);

      const response = await fetch(`/api/admin/posts?${params}`);
      const data = await response.json();
      posts = data.data || [];
    } catch (error) {
      console.error('Failed to load posts:', error);
    } finally {
      loading = false;
    }
  }

  async function loadStats() {
    try {
      const response = await fetch('/api/admin/posts/stats');
      stats = await response.json();
    } catch (error) {
      console.error('Failed to load stats:', error);
    }
  }

  async function loadCategories() {
    try {
      const response = await fetch('/api/admin/categories');
      const data = await response.json();
      categories = data.data || [];
    } catch (error) {
      console.error('Failed to load categories:', error);
    }
  }

  async function deletePost(id: number) {
    if (!confirm('Are you sure you want to delete this post?')) return;

    try {
      await fetch(`/api/admin/posts/${id}`, { method: 'DELETE' });
      loadPosts();
      loadStats();
    } catch (error) {
      console.error('Failed to delete post:', error);
    }
  }

  async function duplicatePost(id: number) {
    try {
      await fetch(`/api/admin/posts/${id}/duplicate`, { method: 'POST' });
      loadPosts();
    } catch (error) {
      console.error('Failed to duplicate post:', error);
    }
  }

  function formatDate(dateString: string) {
    return new Date(dateString).toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'short',
      day: 'numeric'
    });
  }

  $: {
    if (searchQuery !== undefined || statusFilter !== undefined || categoryFilter !== undefined) {
      loadPosts();
    }
  }
</script>

<svelte:head>
  <title>Blog Posts | Admin</title>
</svelte:head>

<div class="blog-page">
  <header class="page-header">
    <div>
      <h1>Blog Posts</h1>
      <p>Create and manage blog posts</p>
    </div>
    <button class="btn-primary" on:click={() => goto('/admin/blog/create')}>
      <IconPlus size={18} />
      New Post
    </button>
  </header>

  {#if stats}
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-value">{stats.total}</div>
        <div class="stat-label">Total Posts</div>
      </div>
      <div class="stat-card published">
        <div class="stat-value">{stats.published}</div>
        <div class="stat-label">Published</div>
      </div>
      <div class="stat-card draft">
        <div class="stat-value">{stats.draft}</div>
        <div class="stat-label">Drafts</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">{stats.total_views?.toLocaleString() || 0}</div>
        <div class="stat-label">Total Views</div>
      </div>
    </div>
  {/if}

  <div class="controls-bar">
    <div class="search-box">
      <IconSearch size={20} />
      <input
        type="text"
        bind:value={searchQuery}
        placeholder="Search posts..."
      />
    </div>

    <select class="filter-select" bind:value={statusFilter}>
      {#each statusOptions as option}
        <option value={option.value}>{option.label}</option>
      {/each}
    </select>

    <select class="filter-select" bind:value={categoryFilter}>
      <option value="all">All Categories</option>
      {#each categories as category}
        <option value={category.id}>{category.name}</option>
      {/each}
    </select>

    <a href="/admin/blog/categories" class="btn-secondary">
      <IconFilter size={18} />
      Manage Categories & Tags
    </a>
  </div>

  <div class="posts-grid">
    {#if loading}
      <div class="loading">Loading posts...</div>
    {:else if posts.length === 0}
      <div class="empty-state">
        <h3>No posts found</h3>
        <p>{searchQuery ? 'Try a different search' : 'Create your first blog post'}</p>
        <button class="btn-primary" on:click={() => goto('/admin/blog/create')}>
          <IconPlus size={18} />
          Create Post
        </button>
      </div>
    {:else}
      {#each posts as post}
        <div class="post-card">
          {#if post.featured_image}
            <div class="post-image" style="background-image: url({post.featured_image})"></div>
          {:else}
            <div class="post-image placeholder"></div>
          {/if}

          <div class="post-content">
            <div class="post-header">
              <h3>{post.title}</h3>
              <span class="status-badge status-{post.status}">{post.status}</span>
            </div>

            {#if post.excerpt}
              <p class="post-excerpt">{post.excerpt}</p>
            {/if}

            <div class="post-meta">
              {#if post.author}
                <div class="meta-item">
                  <IconUser size={16} />
                  {post.author.name}
                </div>
              {/if}

              {#if post.published_at}
                <div class="meta-item">
                  <IconCalendar size={16} />
                  {formatDate(post.published_at)}
                </div>
              {/if}

              {#if post.view_count}
                <div class="meta-item">
                  <IconEye size={16} />
                  {post.view_count} views
                </div>
              {/if}
            </div>

            {#if post.categories && post.categories.length > 0}
              <div class="post-categories">
                {#each post.categories as category}
                  <span class="category-badge" style="background-color: {category.color}20; color: {category.color}">
                    {category.name}
                  </span>
                {/each}
              </div>
            {/if}

            <div class="post-actions">
              <button
                class="action-btn"
                on:click={() => goto(`/admin/blog/edit/${post.id}`)}
                title="Edit"
              >
                <IconEdit size={18} />
                Edit
              </button>

              <button
                class="action-btn"
                on:click={() => duplicatePost(post.id)}
                title="Duplicate"
              >
                <IconCopy size={18} />
              </button>

              <button
                class="action-btn danger"
                on:click={() => deletePost(post.id)}
                title="Delete"
              >
                <IconTrash size={18} />
              </button>
            </div>
          </div>
        </div>
      {/each}
    {/if}
  </div>
</div>

<style>
  .blog-page {
    padding: 2rem;
    max-width: 1400px;
    margin: 0 auto;
  }

  .page-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
  }

  .page-header h1 {
    font-size: 1.75rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 0.5rem;
  }

  .page-header p {
    color: #666;
    font-size: 0.95rem;
  }

  .btn-primary, .btn-secondary {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    font-weight: 500;
    border: none;
    cursor: pointer;
    transition: all 0.2s;
    text-decoration: none;
  }

  .btn-primary {
    background: #3b82f6;
    color: white;
  }

  .btn-primary:hover {
    background: #2563eb;
  }

  .btn-secondary {
    background: white;
    color: #666;
    border: 1px solid #e5e5e5;
  }

  .btn-secondary:hover {
    background: #f8f9fa;
  }

  .stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 2rem;
  }

  .stat-card {
    background: white;
    padding: 1.5rem;
    border-radius: 8px;
    border: 1px solid #e5e5e5;
    text-align: center;
  }

  .stat-card.published {
    background: #dcfce7;
    border-color: #86efac;
  }

  .stat-card.draft {
    background: #fef3c7;
    border-color: #fde047;
  }

  .stat-value {
    font-size: 2rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 0.5rem;
  }

  .stat-label {
    color: #666;
    font-size: 0.9rem;
  }

  .controls-bar {
    display: flex;
    gap: 1rem;
    margin-bottom: 2rem;
    flex-wrap: wrap;
  }

  .search-box {
    flex: 1;
    min-width: 250px;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    background: white;
    border: 1px solid #e5e5e5;
    border-radius: 6px;
  }

  .search-box input {
    flex: 1;
    border: none;
    outline: none;
    font-size: 0.95rem;
  }

  .filter-select {
    padding: 0.75rem 1rem;
    background: white;
    border: 1px solid #e5e5e5;
    border-radius: 6px;
    font-size: 0.95rem;
    cursor: pointer;
  }

  .posts-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 1.5rem;
  }

  .post-card {
    background: white;
    border-radius: 12px;
    border: 1px solid #e5e5e5;
    overflow: hidden;
    transition: all 0.3s;
  }

  .post-card:hover {
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
    transform: translateY(-4px);
  }

  .post-image {
    width: 100%;
    height: 200px;
    background-size: cover;
    background-position: center;
    background-color: #f0f0f0;
  }

  .post-image.placeholder {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  }

  .post-content {
    padding: 1.5rem;
  }

  .post-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 1rem;
    margin-bottom: 0.75rem;
  }

  .post-header h3 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #1a1a1a;
    line-height: 1.4;
    flex: 1;
    margin: 0;
  }

  .status-badge {
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    white-space: nowrap;
  }

  .status-badge.status-published {
    background: #dcfce7;
    color: #16a34a;
  }

  .status-badge.status-draft {
    background: #fef3c7;
    color: #d97706;
  }

  .status-badge.status-archived {
    background: #f0f0f0;
    color: #666;
  }

  .post-excerpt {
    color: #666;
    font-size: 0.9rem;
    line-height: 1.6;
    margin-bottom: 1rem;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .post-meta {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    margin-bottom: 1rem;
    font-size: 0.85rem;
    color: #666;
  }

  .meta-item {
    display: flex;
    align-items: center;
    gap: 0.375rem;
  }

  .post-categories {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-bottom: 1rem;
  }

  .category-badge {
    padding: 0.25rem 0.75rem;
    border-radius: 4px;
    font-size: 0.75rem;
    font-weight: 500;
  }

  .post-actions {
    display: flex;
    gap: 0.5rem;
    padding-top: 1rem;
    border-top: 1px solid #f0f0f0;
  }

  .action-btn {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.625rem;
    background: white;
    border: 1px solid #e5e5e5;
    border-radius: 6px;
    color: #666;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.2s;
  }

  .action-btn:hover {
    background: #f8f9fa;
  }

  .action-btn.danger {
    color: #ef4444;
    border-color: #fee2e2;
  }

  .action-btn.danger:hover {
    background: #fee2e2;
  }

  .empty-state {
    grid-column: 1 / -1;
    text-align: center;
    padding: 4rem 2rem;
  }

  .empty-state h3 {
    color: #1a1a1a;
    margin-bottom: 0.5rem;
  }

  .empty-state p {
    color: #666;
    margin-bottom: 1.5rem;
  }

  .loading {
    grid-column: 1 / -1;
    text-align: center;
    padding: 3rem;
    color: #999;
  }

  @media (max-width: 768px) {
    .posts-grid {
      grid-template-columns: 1fr;
    }

    .controls-bar {
      flex-direction: column;
    }

    .search-box {
      min-width: unset;
    }
  }
</style>

# END OF frontend/src/routes/admin/blog/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/blog/create/+page.svelte
# PATH: frontend/src/routes/admin/blog/create/+page.svelte
##################################################################

<script lang="ts">
  import { goto } from '$app/navigation';
  import { onMount } from 'svelte';
  import {
    IconDeviceFloppy,
    IconEye,
    IconPhoto,
    IconX,
    IconPlus,
    IconCalendar
  } from '@tabler/icons-svelte';
  import RichTextEditor from '$lib/components/blog/RichTextEditor.svelte';
  import SeoMetaFields from '$lib/components/blog/SeoMetaFields.svelte';

  let post = {
    title: '',
    slug: '',
    excerpt: '',
    content_blocks: [],
    featured_image: '',
    featured_image_alt: '',
    featured_image_title: '',
    status: 'draft',
    published_at: '',
    allow_comments: true,
    meta_title: '',
    meta_description: '',
    indexable: true,
    canonical_url: '',
    categories: [] as number[],
    tags: [] as number[]
  };

  let content = '';
  let categories: any[] = [];
  let tags: any[] = [];
  let availableCategories: any[] = [];
  let availableTags: any[] = [];
  let saving = false;
  let showFeaturedImage = false;
  let newTag = '';
  let showSeoPanel = false;

  onMount(() => {
    loadCategories();
    loadTags();
    generateSlug();
  });

  async function loadCategories() {
    try {
      const response = await fetch('/api/admin/categories');
      const data = await response.json();
      availableCategories = data.data || [];
    } catch (error) {
      console.error('Failed to load categories:', error);
    }
  }

  async function loadTags() {
    try {
      const response = await fetch('/api/admin/tags');
      const data = await response.json();
      availableTags = data.data || [];
    } catch (error) {
      console.error('Failed to load tags:', error);
    }
  }

  function generateSlug() {
    if (!post.slug && post.title) {
      post.slug = post.title
        .toLowerCase()
        .replace(/[^a-z0-9]+/g, '-')
        .replace(/^-+|-+$/g, '');
    }
  }

  function handleContentChange(event: CustomEvent) {
    content = event.detail;
  }

  async function createTag() {
    if (!newTag.trim()) return;

    try {
      const response = await fetch('/api/admin/tags', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ name: newTag.trim() })
      });

      if (response.ok) {
        const data = await response.json();
        availableTags = [...availableTags, data.data];
        post.tags = [...post.tags, data.data.id];
        newTag = '';
      }
    } catch (error) {
      console.error('Failed to create tag:', error);
    }
  }

  async function savePost(status: string) {
    saving = true;

    try {
      const postData = {
        ...post,
        status,
        content_blocks: [{ type: 'html', content }],
        published_at: status === 'published' && !post.published_at
          ? new Date().toISOString()
          : post.published_at || null
      };

      const response = await fetch('/api/admin/posts', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(postData)
      });

      if (response.ok) {
        const data = await response.json();
        goto('/admin/blog');
      } else {
        alert('Failed to save post');
      }
    } catch (error) {
      console.error('Failed to save post:', error);
      alert('Failed to save post');
    } finally {
      saving = false;
    }
  }

  function handleFeaturedImageUpload(event: Event) {
    const input = event.target as HTMLInputElement;
    if (input.files && input.files[0]) {
      const file = input.files[0];
      // Here you would upload to your server
      // For now, create a local URL
      post.featured_image = URL.createObjectURL(file);
      showFeaturedImage = true;
    }
  }

  $: if (post.title) {
    generateSlug();
  }
</script>

<svelte:head>
  <title>Create Post | Blog</title>
</svelte:head>

<div class="post-editor">
  <div class="editor-header">
    <div class="header-left">
      <h1>Create New Post</h1>
    </div>
    <div class="header-actions">
      <button class="btn-secondary" on:click={() => goto('/admin/blog')}>
        Cancel
      </button>
      <button class="btn-secondary" on:click={() => savePost('draft')} disabled={saving}>
        <IconDeviceFloppy size={18} />
        Save Draft
      </button>
      <button class="btn-primary" on:click={() => savePost('published')} disabled={saving}>
        <IconEye size={18} />
        {saving ? 'Publishing...' : 'Publish'}
      </button>
    </div>
  </div>

  <div class="editor-layout">
    <!-- Main Content Area -->
    <div class="editor-main">
      <div class="form-group">
        <input
          type="text"
          bind:value={post.title}
          placeholder="Post Title"
          class="title-input"
        />
      </div>

      <div class="form-group">
        <label for="slug">URL Slug</label>
        <div class="slug-input">
          <span class="slug-prefix">your-site.com/blog/</span>
          <input
            id="slug"
            type="text"
            bind:value={post.slug}
            placeholder="post-url-slug"
          />
        </div>
      </div>

      <div class="form-group">
        <label for="excerpt">Excerpt</label>
        <textarea
          id="excerpt"
          bind:value={post.excerpt}
          placeholder="Brief description of the post..."
          rows="3"
        ></textarea>
      </div>

      <div class="form-group">
        <label>Content</label>
        <RichTextEditor bind:content on:change={handleContentChange} />
      </div>

      <!-- SEO Section -->
      <div class="panel">
        <button
          type="button"
          class="panel-header"
          on:click={() => showSeoPanel = !showSeoPanel}
        >
          <h3>SEO Settings</h3>
          <span>{showSeoPanel ? '' : '+'}</span>
        </button>

        {#if showSeoPanel}
          <div class="panel-content">
            <SeoMetaFields bind:meta={post} />
          </div>
        {/if}
      </div>
    </div>

    <!-- Sidebar -->
    <div class="editor-sidebar">
      <!-- Publish Settings -->
      <div class="sidebar-panel">
        <h3>Publish</h3>

        <div class="form-group">
          <label for="publish-date">
            <IconCalendar size={16} />
            Publish Date
          </label>
          <input
            id="publish-date"
            type="datetime-local"
            bind:value={post.published_at}
          />
        </div>

        <div class="form-group">
          <label>
            <input type="checkbox" bind:checked={post.allow_comments} />
            Allow Comments
          </label>
        </div>
      </div>

      <!-- Featured Image -->
      <div class="sidebar-panel">
        <h3>Featured Image</h3>

        {#if post.featured_image}
          <div class="featured-image-preview">
            <img src={post.featured_image} alt={post.featured_image_alt || 'Featured'} />
            <button
              type="button"
              class="remove-image"
              on:click={() => post.featured_image = ''}
            >
              <IconX size={16} />
            </button>
          </div>

          <div class="form-group">
            <label for="img-title">Image Title</label>
            <input
              id="img-title"
              type="text"
              bind:value={post.featured_image_title}
              placeholder="Image title"
            />
          </div>

          <div class="form-group">
            <label for="img-alt">Alt Text</label>
            <input
              id="img-alt"
              type="text"
              bind:value={post.featured_image_alt}
              placeholder="Describe the image for accessibility"
            />
          </div>
        {:else}
          <label class="upload-box">
            <input
              type="file"
              accept="image/*"
              on:change={handleFeaturedImageUpload}
              hidden
            />
            <IconPhoto size={48} />
            <span>Click to upload featured image</span>
          </label>
        {/if}
      </div>

      <!-- Categories -->
      <div class="sidebar-panel">
        <h3>Categories</h3>
        <div class="checkbox-list">
          {#each availableCategories as category}
            <label class="checkbox-item">
              <input
                type="checkbox"
                value={category.id}
                checked={post.categories.includes(category.id)}
                on:change={(e) => {
                  if (e.currentTarget.checked) {
                    post.categories = [...post.categories, category.id];
                  } else {
                    post.categories = post.categories.filter(id => id !== category.id);
                  }
                }}
              />
              <span style="color: {category.color}">{category.name}</span>
            </label>
          {/each}
        </div>

        {#if availableCategories.length === 0}
          <p class="empty-text">No categories. <a href="/admin/blog/categories">Create one</a></p>
        {/if}
      </div>

      <!-- Tags -->
      <div class="sidebar-panel">
        <h3>Tags</h3>

        <div class="tags-selected">
          {#each post.tags as tagId}
            {@const tag = availableTags.find(t => t.id === tagId)}
            {#if tag}
              <span class="tag-badge" style="background: {tag.color}20; color: {tag.color}">
                {tag.name}
                <button
                  type="button"
                  on:click={() => post.tags = post.tags.filter(id => id !== tagId)}
                >
                  <IconX size={14} />
                </button>
              </span>
            {/if}
          {/each}
        </div>

        <div class="tag-input-group">
          <input
            type="text"
            bind:value={newTag}
            placeholder="Add new tag..."
            on:keydown={(e) => e.key === 'Enter' && (e.preventDefault(), createTag())}
          />
          <button type="button" class="btn-add-tag" on:click={createTag}>
            <IconPlus size={16} />
          </button>
        </div>

        <div class="checkbox-list">
          {#each availableTags as tag}
            {#if !post.tags.includes(tag.id)}
              <label class="checkbox-item">
                <input
                  type="checkbox"
                  value={tag.id}
                  on:change={(e) => {
                    if (e.currentTarget.checked) {
                      post.tags = [...post.tags, tag.id];
                    }
                  }}
                />
                <span style="color: {tag.color}">{tag.name}</span>
              </label>
            {/if}
          {/each}
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .post-editor {
    min-height: 100vh;
    background: #f8f9fa;
  }

  .editor-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.5rem 2rem;
    background: white;
    border-bottom: 1px solid #e5e5e5;
    position: sticky;
    top: 0;
    z-index: 100;
  }

  .editor-header h1 {
    font-size: 1.5rem;
    font-weight: 600;
    color: #1a1a1a;
    margin: 0;
  }

  .header-actions {
    display: flex;
    gap: 0.75rem;
  }

  .btn-primary, .btn-secondary {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.625rem 1.25rem;
    border-radius: 6px;
    font-weight: 500;
    border: none;
    cursor: pointer;
    transition: all 0.2s;
  }

  .btn-primary {
    background: #3b82f6;
    color: white;
  }

  .btn-primary:hover:not(:disabled) {
    background: #2563eb;
  }

  .btn-primary:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  .btn-secondary {
    background: white;
    color: #666;
    border: 1px solid #e5e5e5;
  }

  .btn-secondary:hover {
    background: #f8f9fa;
  }

  .editor-layout {
    display: grid;
    grid-template-columns: 1fr 350px;
    gap: 2rem;
    padding: 2rem;
    max-width: 1600px;
    margin: 0 auto;
  }

  .editor-main {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  .form-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .form-group label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 500;
    color: #1a1a1a;
    font-size: 0.95rem;
  }

  .title-input {
    width: 100%;
    padding: 1rem;
    font-size: 2rem;
    font-weight: 700;
    border: none;
    border-radius: 8px;
    background: white;
    outline: none;
  }

  .title-input:focus {
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
  }

  .slug-input {
    display: flex;
    align-items: center;
    background: white;
    border-radius: 6px;
    overflow: hidden;
    border: 1px solid #e5e5e5;
  }

  .slug-prefix {
    padding: 0.75rem 1rem;
    background: #f8f9fa;
    color: #999;
    font-size: 0.9rem;
    white-space: nowrap;
  }

  .slug-input input {
    flex: 1;
    padding: 0.75rem 1rem;
    border: none;
    outline: none;
    font-size: 0.95rem;
  }

  textarea {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid #e5e5e5;
    border-radius: 6px;
    font-size: 0.95rem;
    font-family: inherit;
    resize: vertical;
    background: white;
  }

  textarea:focus {
    outline: none;
    border-color: #3b82f6;
  }

  .panel {
    background: white;
    border-radius: 8px;
    overflow: hidden;
  }

  .panel-header {
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 1.5rem;
    background: white;
    border: none;
    cursor: pointer;
    border-bottom: 1px solid #f0f0f0;
  }

  .panel-header h3 {
    font-size: 1rem;
    font-weight: 600;
    color: #1a1a1a;
    margin: 0;
  }

  .panel-content {
    padding: 1.5rem;
  }

  .editor-sidebar {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  .sidebar-panel {
    background: white;
    padding: 1.5rem;
    border-radius: 8px;
    border: 1px solid #e5e5e5;
  }

  .sidebar-panel h3 {
    font-size: 1rem;
    font-weight: 600;
    color: #1a1a1a;
    margin: 0 0 1rem;
    padding-bottom: 0.75rem;
    border-bottom: 1px solid #f0f0f0;
  }

  .sidebar-panel input[type="text"],
  .sidebar-panel input[type="datetime-local"] {
    width: 100%;
    padding: 0.625rem;
    border: 1px solid #e5e5e5;
    border-radius: 6px;
    font-size: 0.9rem;
  }

  .sidebar-panel input[type="checkbox"] {
    margin-right: 0.5rem;
  }

  .upload-box {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 3rem 1rem;
    border: 2px dashed #e5e5e5;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s;
    color: #999;
  }

  .upload-box:hover {
    border-color: #3b82f6;
    color: #3b82f6;
  }

  .upload-box span {
    margin-top: 0.5rem;
    font-size: 0.9rem;
  }

  .featured-image-preview {
    position: relative;
    margin-bottom: 1rem;
  }

  .featured-image-preview img {
    width: 100%;
    border-radius: 6px;
  }

  .remove-image {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.7);
    color: white;
    border: none;
    border-radius: 50%;
    cursor: pointer;
  }

  .checkbox-list {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    max-height: 200px;
    overflow-y: auto;
  }

  .checkbox-item {
    display: flex;
    align-items: center;
    padding: 0.5rem;
    border-radius: 4px;
    cursor: pointer;
  }

  .checkbox-item:hover {
    background: #f8f9fa;
  }

  .empty-text {
    color: #999;
    font-size: 0.9rem;
  }

  .empty-text a {
    color: #3b82f6;
    text-decoration: none;
  }

  .tags-selected {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-bottom: 1rem;
  }

  .tag-badge {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.375rem 0.75rem;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: 500;
  }

  .tag-badge button {
    background: none;
    border: none;
    padding: 0;
    cursor: pointer;
    display: flex;
    align-items: center;
  }

  .tag-input-group {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 1rem;
  }

  .tag-input-group input {
    flex: 1;
  }

  .btn-add-tag {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    background: #3b82f6;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
  }

  .btn-add-tag:hover {
    background: #2563eb;
  }

  @media (max-width: 1024px) {
    .editor-layout {
      grid-template-columns: 1fr;
    }
  }
</style>

# END OF frontend/src/routes/admin/blog/create/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/blog/categories/+page.svelte
# PATH: frontend/src/routes/admin/blog/categories/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import {
    IconPlus,
    IconEdit,
    IconTrash,
    IconTag,
    IconFolder
  } from '@tabler/icons-svelte';

  let categories: any[] = [];
  let tags: any[] = [];
  let showCategoryModal = false;
  let showTagModal = false;
  let editingCategory: any = null;
  let editingTag: any = null;

  let categoryForm = {
    name: '',
    slug: '',
    description: '',
    color: '#3b82f6'
  };

  let tagForm = {
    name: '',
    slug: '',
    color: '#10b981'
  };

  onMount(() => {
    loadCategories();
    loadTags();
  });

  async function loadCategories() {
    try {
      const response = await fetch('/api/admin/categories');
      const data = await response.json();
      categories = data.data || [];
    } catch (error) {
      console.error('Failed to load categories:', error);
    }
  }

  async function loadTags() {
    try {
      const response = await fetch('/api/admin/tags');
      const data = await response.json();
      tags = data.data || [];
    } catch (error) {
      console.error('Failed to load tags:', error);
    }
  }

  function openCategoryModal(category: any = null) {
    if (category) {
      editingCategory = category;
      categoryForm = { ...category };
    } else {
      editingCategory = null;
      categoryForm = { name: '', slug: '', description: '', color: '#3b82f6' };
    }
    showCategoryModal = true;
  }

  function openTagModal(tag: any = null) {
    if (tag) {
      editingTag = tag;
      tagForm = { ...tag };
    } else {
      editingTag = null;
      tagForm = { name: '', slug: '', color: '#10b981' };
    }
    showTagModal = true;
  }

  async function saveCategory() {
    try {
      const url = editingCategory
        ? `/api/admin/categories/${editingCategory.id}`
        : '/api/admin/categories';

      const method = editingCategory ? 'PUT' : 'POST';

      const response = await fetch(url, {
        method,
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(categoryForm)
      });

      if (response.ok) {
        loadCategories();
        showCategoryModal = false;
      }
    } catch (error) {
      console.error('Failed to save category:', error);
    }
  }

  async function saveTag() {
    try {
      const url = editingTag
        ? `/api/admin/tags/${editingTag.id}`
        : '/api/admin/tags';

      const method = editingTag ? 'PUT' : 'POST';

      const response = await fetch(url, {
        method,
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(tagForm)
      });

      if (response.ok) {
        loadTags();
        showTagModal = false;
      }
    } catch (error) {
      console.error('Failed to save tag:', error);
    }
  }

  async function deleteCategory(id: number) {
    if (!confirm('Delete this category? Posts will not be deleted.')) return;

    try {
      await fetch(`/api/admin/categories/${id}`, { method: 'DELETE' });
      loadCategories();
    } catch (error) {
      console.error('Failed to delete category:', error);
    }
  }

  async function deleteTag(id: number) {
    if (!confirm('Delete this tag? Posts will not be deleted.')) return;

    try {
      await fetch(`/api/admin/tags/${id}`, { method: 'DELETE' });
      loadTags();
    } catch (error) {
      console.error('Failed to delete tag:', error);
    }
  }
</script>

<svelte:head>
  <title>Categories & Tags | Blog</title>
</svelte:head>

<div class="categories-page">
  <header class="page-header">
    <h1>Categories & Tags</h1>
    <p>Organize your blog posts</p>
  </header>

  <div class="content-grid">
    <!-- Categories Section -->
    <div class="section">
      <div class="section-header">
        <h2><IconFolder size={24} /> Categories</h2>
        <button class="btn-primary" on:click={() => openCategoryModal()}>
          <IconPlus size={18} />
          Add Category
        </button>
      </div>

      <div class="items-list">
        {#each categories as category}
          <div class="item-card">
            <div class="item-color" style="background: {category.color}"></div>
            <div class="item-info">
              <h3>{category.name}</h3>
              {#if category.description}
                <p>{category.description}</p>
              {/if}
              <span class="item-count">{category.post_count || 0} posts</span>
            </div>
            <div class="item-actions">
              <button class="action-btn" on:click={() => openCategoryModal(category)}>
                <IconEdit size={18} />
              </button>
              <button class="action-btn danger" on:click={() => deleteCategory(category.id)}>
                <IconTrash size={18} />
              </button>
            </div>
          </div>
        {/each}

        {#if categories.length === 0}
          <div class="empty-state">
            <p>No categories yet. Create your first one!</p>
          </div>
        {/if}
      </div>
    </div>

    <!-- Tags Section -->
    <div class="section">
      <div class="section-header">
        <h2><IconTag size={24} /> Tags</h2>
        <button class="btn-primary" on:click={() => openTagModal()}>
          <IconPlus size={18} />
          Add Tag
        </button>
      </div>

      <div class="items-list">
        {#each tags as tag}
          <div class="item-card">
            <div class="item-color" style="background: {tag.color}"></div>
            <div class="item-info">
              <h3>{tag.name}</h3>
              <span class="item-count">{tag.post_count || 0} posts</span>
            </div>
            <div class="item-actions">
              <button class="action-btn" on:click={() => openTagModal(tag)}>
                <IconEdit size={18} />
              </button>
              <button class="action-btn danger" on:click={() => deleteTag(tag.id)}>
                <IconTrash size={18} />
              </button>
            </div>
          </div>
        {/each}

        {#if tags.length === 0}
          <div class="empty-state">
            <p>No tags yet. Create your first one!</p>
          </div>
        {/if}
      </div>
    </div>
  </div>
</div>

<!-- Category Modal -->
{#if showCategoryModal}
  <div
    class="modal-overlay"
    role="button"
    tabindex="0"
    on:click={() => showCategoryModal = false}
    on:keydown={(e) => e.key === 'Escape' && (showCategoryModal = false)}
  >
    <div class="modal" role="dialog" aria-modal="true" tabindex="-1" on:click|stopPropagation>
      <div class="modal-header">
        <h3>{editingCategory ? 'Edit' : 'Add'} Category</h3>
        <button class="close-btn" on:click={() => showCategoryModal = false}></button>
      </div>

      <div class="modal-body">
        <div class="form-group">
          <label for="cat-name">Name</label>
          <input
            id="cat-name"
            type="text"
            bind:value={categoryForm.name}
            placeholder="Category name"
          />
        </div>

        <div class="form-group">
          <label for="cat-slug">Slug</label>
          <input
            id="cat-slug"
            type="text"
            bind:value={categoryForm.slug}
            placeholder="category-slug"
          />
        </div>

        <div class="form-group">
          <label for="cat-desc">Description</label>
          <textarea
            id="cat-desc"
            bind:value={categoryForm.description}
            placeholder="Brief description"
            rows="3"
          ></textarea>
        </div>

        <div class="form-group">
          <label for="cat-color">Color</label>
          <input
            id="cat-color"
            type="color"
            bind:value={categoryForm.color}
          />
        </div>
      </div>

      <div class="modal-footer">
        <button class="btn-secondary" on:click={() => showCategoryModal = false}>Cancel</button>
        <button class="btn-primary" on:click={saveCategory}>Save</button>
      </div>
    </div>
  </div>
{/if}

<!-- Tag Modal -->
{#if showTagModal}
  <div
    class="modal-overlay"
    role="button"
    tabindex="0"
    on:click={() => showTagModal = false}
    on:keydown={(e) => e.key === 'Escape' && (showTagModal = false)}
  >
    <div class="modal" role="dialog" aria-modal="true" tabindex="-1" on:click|stopPropagation>
      <div class="modal-header">
        <h3>{editingTag ? 'Edit' : 'Add'} Tag</h3>
        <button class="close-btn" on:click={() => showTagModal = false}></button>
      </div>

      <div class="modal-body">
        <div class="form-group">
          <label for="tag-name">Name</label>
          <input
            id="tag-name"
            type="text"
            bind:value={tagForm.name}
            placeholder="Tag name"
          />
        </div>

        <div class="form-group">
          <label for="tag-slug">Slug</label>
          <input
            id="tag-slug"
            type="text"
            bind:value={tagForm.slug}
            placeholder="tag-slug"
          />
        </div>

        <div class="form-group">
          <label for="tag-color">Color</label>
          <input
            id="tag-color"
            type="color"
            bind:value={tagForm.color}
          />
        </div>
      </div>

      <div class="modal-footer">
        <button class="btn-secondary" on:click={() => showTagModal = false}>Cancel</button>
        <button class="btn-primary" on:click={saveTag}>Save</button>
      </div>
    </div>
  </div>
{/if}

<style>
  .categories-page {
    padding: 2rem;
    max-width: 1400px;
    margin: 0 auto;
  }

  .page-header {
    margin-bottom: 2rem;
  }

  .page-header h1 {
    font-size: 1.75rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 0.5rem;
  }

  .page-header p {
    color: #666;
    font-size: 0.95rem;
  }

  .content-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
    gap: 2rem;
  }

  .section {
    background: white;
    border-radius: 12px;
    border: 1px solid #e5e5e5;
    padding: 1.5rem;
  }

  .section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid #f0f0f0;
  }

  .section-header h2 {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 1.25rem;
    font-weight: 600;
    color: #1a1a1a;
    margin: 0;
  }

  .btn-primary {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.625rem 1rem;
    background: #3b82f6;
    color: white;
    border: none;
    border-radius: 6px;
    font-weight: 500;
    font-size: 0.9rem;
    cursor: pointer;
  }

  .btn-primary:hover {
    background: #2563eb;
  }

  .items-list {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  .item-card {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    border: 1px solid #e5e5e5;
    border-radius: 8px;
    transition: all 0.2s;
  }

  .item-card:hover {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }

  .item-color {
    width: 40px;
    height: 40px;
    border-radius: 8px;
    flex-shrink: 0;
  }

  .item-info {
    flex: 1;
  }

  .item-info h3 {
    font-size: 1rem;
    font-weight: 600;
    color: #1a1a1a;
    margin: 0 0 0.25rem;
  }

  .item-info p {
    font-size: 0.85rem;
    color: #666;
    margin: 0 0 0.25rem;
  }

  .item-count {
    font-size: 0.8rem;
    color: #999;
  }

  .item-actions {
    display: flex;
    gap: 0.5rem;
  }

  .action-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    background: white;
    border: 1px solid #e5e5e5;
    border-radius: 6px;
    color: #666;
    cursor: pointer;
    transition: all 0.2s;
  }

  .action-btn:hover {
    background: #f8f9fa;
  }

  .action-btn.danger {
    color: #ef4444;
    border-color: #fee2e2;
  }

  .action-btn.danger:hover {
    background: #fee2e2;
  }

  .empty-state {
    text-align: center;
    padding: 3rem 1rem;
    color: #999;
  }

  .modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
  }

  .modal {
    background: white;
    border-radius: 12px;
    width: 100%;
    max-width: 500px;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
  }

  .modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.5rem;
    border-bottom: 1px solid #e5e5e5;
  }

  .modal-header h3 {
    font-size: 1.25rem;
    font-weight: 600;
    margin: 0;
  }

  .close-btn {
    background: none;
    border: none;
    font-size: 2rem;
    color: #666;
    cursor: pointer;
    line-height: 1;
  }

  .modal-body {
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .form-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .form-group label {
    font-weight: 500;
    color: #1a1a1a;
    font-size: 0.95rem;
  }

  .form-group input,
  .form-group textarea {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid #e5e5e5;
    border-radius: 6px;
    font-size: 0.95rem;
    font-family: inherit;
  }

  .form-group input[type="color"] {
    height: 50px;
    cursor: pointer;
  }

  .form-group textarea {
    resize: vertical;
  }

  .modal-footer {
    display: flex;
    justify-content: flex-end;
    gap: 0.75rem;
    padding: 1.5rem;
    border-top: 1px solid #e5e5e5;
  }

  .btn-secondary {
    padding: 0.625rem 1.25rem;
    background: white;
    color: #666;
    border: 1px solid #e5e5e5;
    border-radius: 6px;
    font-weight: 500;
    cursor: pointer;
  }

  .btn-secondary:hover {
    background: #f8f9fa;
  }

  @media (max-width: 1024px) {
    .content-grid {
      grid-template-columns: 1fr;
    }
  }
</style>

# END OF frontend/src/routes/admin/blog/categories/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/forms/+page.svelte
# PATH: frontend/src/routes/admin/forms/+page.svelte
##################################################################

<script lang="ts">
  import { goto } from '$app/navigation';
  import FormList from '$lib/components/forms/FormList.svelte';
  import type { Form } from '$lib/api/forms';

  function handleEdit(form: Form) {
    goto(`/admin/forms/${form.id}/edit`);
  }

  function handleViewSubmissions(form: Form) {
    goto(`/admin/forms/${form.id}/submissions`);
  }

  function handleViewAnalytics(form: Form) {
    goto(`/admin/forms/${form.id}/analytics`);
  }

  function handleCreate() {
    goto('/admin/forms/create');
  }
</script>

<svelte:head>
  <title>Forms - Admin Dashboard</title>
</svelte:head>

<div class="forms-page">
  <div class="page-header">
    <div>
      <h1>Forms</h1>
      <p class="page-description">Create and manage your forms</p>
    </div>
    <button class="btn-create" on:click={handleCreate}>
      + Create New Form
    </button>
  </div>

  <FormList
    onEdit={handleEdit}
    onViewSubmissions={handleViewSubmissions}
    onViewAnalytics={handleViewAnalytics}
  />
</div>

<style>
  .forms-page {
    max-width: 1400px;
    margin: 0 auto;
  }

  .page-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid rgba(99, 102, 241, 0.1);
  }

  h1 {
    font-size: 2rem;
    font-weight: 700;
    color: #f1f5f9;
    margin: 0 0 0.5rem 0;
  }

  .page-description {
    color: #94a3b8;
    font-size: 0.9375rem;
    margin: 0;
  }

  .btn-create {
    padding: 0.875rem 1.5rem;
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    color: white;
    border: none;
    border-radius: 10px;
    font-weight: 600;
    font-size: 0.9375rem;
    cursor: pointer;
    transition: all 0.2s;
    box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
  }

  .btn-create:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(99, 102, 241, 0.4);
  }

  @media (max-width: 768px) {
    .page-header {
      flex-direction: column;
      gap: 1rem;
      align-items: stretch;
    }

    .btn-create {
      width: 100%;
    }
  }
</style>

# END OF frontend/src/routes/admin/forms/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/forms/create/+page.svelte
# PATH: frontend/src/routes/admin/forms/create/+page.svelte
##################################################################

<script lang="ts">
  import { goto } from '$app/navigation';
  import FormBuilder from '$lib/components/forms/FormBuilder.svelte';
  import FormTemplateSelector from '$lib/components/forms/FormTemplateSelector.svelte';
  import ThemeCustomizer from '$lib/components/forms/ThemeCustomizer.svelte';
  import type { Form } from '$lib/api/forms';
  import type { FormTemplate, FormTheme } from '$lib/data/formTemplates';

  let showTemplateSelector = true;
  let selectedTemplate: FormTemplate | null = null;
  let formData: Partial<Form> | undefined = undefined;
  let selectedTheme: FormTheme | null = null;
  let showThemeCustomizer = false;

  function handleTemplateSelect(event: CustomEvent<FormTemplate>) {
    selectedTemplate = event.detail;
    showTemplateSelector = false;
    selectedTheme = selectedTemplate.theme;

    // Create initial form data from template
    formData = {
      title: selectedTemplate.name,
      description: selectedTemplate.description,
      fields: selectedTemplate.fields.map((field, index) => ({
        ...field,
        id: index + 1,
        order: index,
        field_group_id: null,
        created_at: new Date().toISOString(),
        updated_at: new Date().toISOString()
      })) as any,
      settings: {
        ...selectedTemplate.settings,
        theme: selectedTheme
      },
      status: 'draft'
    };
  }

  function handleStartFromScratch() {
    selectedTemplate = null;
    showTemplateSelector = false;
    formData = undefined;
  }

  function handleThemeChange(event: CustomEvent<FormTheme>) {
    selectedTheme = event.detail;
    if (formData) {
      formData = {
        ...formData,
        settings: {
          ...formData.settings,
          theme: selectedTheme
        }
      };
    }
  }

  function handleSave() {
    goto('/admin/forms');
  }

  function handleCancel() {
    if (!showTemplateSelector && (selectedTemplate || formData)) {
      // Go back to template selector
      showTemplateSelector = true;
      selectedTemplate = null;
      formData = undefined;
    } else {
      // Go back to forms list
      goto('/admin/forms');
    }
  }

  function toggleThemeCustomizer() {
    showThemeCustomizer = !showThemeCustomizer;
  }
</script>

<svelte:head>
  <title>Create Form - Admin Dashboard</title>
</svelte:head>

<div class="create-form-page">
  {#if showTemplateSelector}
    <FormTemplateSelector on:select={handleTemplateSelect} on:cancel={handleStartFromScratch} />
  {:else}
    <div class="page-header">
      <div>
        <button class="btn-back" on:click={handleCancel}>
           Back {selectedTemplate ? 'to Templates' : ''}
        </button>
        <h1>Create New Form</h1>
        <p class="page-description">
          {#if selectedTemplate}
            Using template: {selectedTemplate.name}
          {:else}
            Build a custom form with conditional logic and validation
          {/if}
        </p>
      </div>
      {#if selectedTheme}
        <button class="btn-theme" on:click={toggleThemeCustomizer}>
           {showThemeCustomizer ? 'Hide' : 'Customize'} Theme
        </button>
      {/if}
    </div>

    {#if showThemeCustomizer && selectedTheme}
      <div class="theme-section">
        <ThemeCustomizer {selectedTheme} on:change={handleThemeChange} />
      </div>
    {/if}

    <FormBuilder form={formData} on:save={handleSave} on:cancel={handleCancel} />
  {/if}
</div>

<style>
  .create-form-page {
    max-width: 1200px;
    margin: 0 auto;
  }

  .page-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid rgba(99, 102, 241, 0.1);
  }

  .btn-back {
    background: none;
    border: none;
    color: #94a3b8;
    font-size: 0.875rem;
    cursor: pointer;
    padding: 0.5rem 0;
    margin-bottom: 0.75rem;
    transition: color 0.2s;
  }

  .btn-back:hover {
    color: #a5b4fc;
  }

  h1 {
    font-size: 2rem;
    font-weight: 700;
    color: #f1f5f9;
    margin: 0 0 0.5rem 0;
  }

  .page-description {
    color: #94a3b8;
    font-size: 0.9375rem;
    margin: 0;
  }

  .btn-theme {
    padding: 0.875rem 1.5rem;
    background: rgba(99, 102, 241, 0.1);
    color: #a5b4fc;
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 10px;
    font-weight: 600;
    font-size: 0.9375rem;
    cursor: pointer;
    transition: all 0.2s;
  }

  .btn-theme:hover {
    background: rgba(99, 102, 241, 0.2);
    border-color: rgba(99, 102, 241, 0.4);
  }

  .theme-section {
    margin-bottom: 2rem;
  }

  @media (max-width: 768px) {
    .page-header {
      flex-direction: column;
      gap: 1rem;
    }

    .btn-theme {
      width: 100%;
    }
  }
</style>

# END OF frontend/src/routes/admin/forms/create/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/forms/entries/+page.svelte
# PATH: frontend/src/routes/admin/forms/entries/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { Card, Button, Badge, Table, Select } from '$lib/components/ui';
  import { addToast } from '$lib/utils/toast';
  import { formsApi, type Form, type FormEntry } from '$lib/api/forms';
  import { IconDownload, IconEye } from '@tabler/icons-svelte';

  let forms: Form[] = [];
  let entries: FormEntry[] = [];
  let selectedFormId: number | null = null;
  let loading = true;

  onMount(async () => {
    await loadForms();
  });

  async function loadForms() {
    try {
      const response = await formsApi.list();
      forms = response.data || [];
      if (forms.length > 0) {
        selectedFormId = forms[0].id;
        await loadEntries(forms[0].id);
      }
    } catch (error) {
      addToast({ type: 'error', message: 'Failed to load forms' });
    } finally {
      loading = false;
    }
  }

  async function loadEntries(formId: number) {
    try {
      loading = true;
      const response = await formsApi.getEntries(formId);
      entries = response.data || [];
    } catch (error) {
      addToast({ type: 'error', message: 'Failed to load entries' });
    } finally {
      loading = false;
    }
  }

  async function handleFormChange() {
    if (selectedFormId) {
      await loadEntries(selectedFormId);
    }
  }

  async function handleExport() {
    if (!selectedFormId) return;

    try {
      await formsApi.exportEntries(selectedFormId);
      addToast({ type: 'success', message: 'Entries exported successfully' });
    } catch (error) {
      addToast({ type: 'error', message: 'Failed to export entries' });
    }
  }

  $: formOptions = forms.map(form => ({
    value: form.id,
    label: form.title
  }));
</script>

<svelte:head>
  <title>Form Entries | Revolution Admin</title>
</svelte:head>

<div>
  <!-- Header -->
  <div class="flex items-center justify-between mb-6">
    <div>
      <h1 class="text-3xl font-bold text-gray-900">Form Entries</h1>
      <p class="text-gray-600 mt-1">View and manage form submissions</p>
    </div>
    <Button on:click={handleExport} disabled={!selectedFormId || entries.length === 0}>
      <IconDownload size={20} />
      Export CSV
    </Button>
  </div>

  <!-- Form Selector -->
  <div class="mb-6 max-w-md">
    <Select
      label="Select Form"
      options={formOptions}
      bind:value={selectedFormId}
      on:change={handleFormChange}
      placeholder="Choose a form..."
    />
  </div>

  <!-- Entries List -->
  {#if loading}
    <Card>
      <div class="text-center py-12">
        <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"></div>
        <p class="mt-4 text-gray-600">Loading entries...</p>
      </div>
    </Card>
  {:else if !selectedFormId}
    <Card>
      <div class="text-center py-12">
        <p class="text-gray-500">Please select a form to view entries</p>
      </div>
    </Card>
  {:else if entries.length === 0}
    <Card>
      <div class="text-center py-12">
        <p class="text-gray-500">No entries found for this form</p>
      </div>
    </Card>
  {:else}
    <Card padding={false}>
      <Table headers={['ID', 'Status', 'Submitted', 'Preview', 'Actions']}>
        {#each entries as entry}
          <tr>
            <td class="font-mono">#{entry.id}</td>
            <td>
              <Badge variant={entry.status === 'complete' ? 'success' : 'warning'}>
                {entry.status}
              </Badge>
            </td>
            <td>{new Date(entry.created_at).toLocaleString()}</td>
            <td class="max-w-xs truncate text-gray-600">
              {JSON.stringify(entry.data).substring(0, 100)}...
            </td>
            <td>
              <button
                class="p-2 text-blue-600 hover:bg-blue-50 rounded transition-colors"
                title="View Entry"
              >
                <a href="/admin/forms/{selectedFormId}/entries/{entry.id}">
                  <IconEye size={18} />
                </a>
              </button>
            </td>
          </tr>
        {/each}
      </Table>
    </Card>
  {/if}
</div>

# END OF frontend/src/routes/admin/forms/entries/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/forms/[id]/edit/+page.svelte
# PATH: frontend/src/routes/admin/forms/[id]/edit/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { page } from '$app/stores';
  import { goto } from '$app/navigation';
  import FormBuilder from '$lib/components/forms/FormBuilder.svelte';
  import EmbedCodeGenerator from '$lib/components/forms/EmbedCodeGenerator.svelte';
  import ThemeCustomizer from '$lib/components/forms/ThemeCustomizer.svelte';
  import { getForm } from '$lib/api/forms';
  import type { Form } from '$lib/api/forms';
  import type { FormTheme } from '$lib/data/formTemplates';
  import { themes } from '$lib/data/formTemplates';

  let formId: number;
  let form: Form | null = null;
  let loading = true;
  let error = '';
  let showEmbedCode = false;
  let showThemeCustomizer = false;
  let selectedTheme: FormTheme | null = null;

  $: formId = parseInt($page.params.id);

  onMount(async () => {
    try {
      form = await getForm(formId);
      // Load theme from form settings if available
      if (form?.settings?.theme) {
        selectedTheme = form.settings.theme;
      } else {
        selectedTheme = themes[0]; // Default theme
      }
    } catch (err) {
      error = err instanceof Error ? err.message : 'Failed to load form';
    } finally {
      loading = false;
    }
  });

  function handleSave() {
    goto('/admin/forms');
  }

  function handleCancel() {
    goto('/admin/forms');
  }

  function toggleEmbedCode() {
    showEmbedCode = !showEmbedCode;
    showThemeCustomizer = false;
  }

  function toggleThemeCustomizer() {
    showThemeCustomizer = !showThemeCustomizer;
    showEmbedCode = false;
  }

  function handleThemeChange(event: CustomEvent<FormTheme>) {
    selectedTheme = event.detail;
    if (form) {
      form = {
        ...form,
        settings: {
          ...form.settings,
          theme: selectedTheme
        }
      };
    }
  }
</script>

<svelte:head>
  <title>Edit Form - Admin Dashboard</title>
</svelte:head>

<div class="edit-form-page">
  <div class="page-header">
    <div>
      <h1>Edit Form</h1>
      {#if form}
        <p class="page-description">Editing: {form.title}</p>
      {/if}
    </div>
    <div class="header-actions">
      <button class="btn-theme" on:click={toggleThemeCustomizer}>
        {showThemeCustomizer ? ' Edit Form' : ' Customize Theme'}
      </button>
      {#if form && form.status === 'published'}
        <button class="btn-embed" on:click={toggleEmbedCode}>
          {showEmbedCode ? ' Edit Form' : ' Get Embed Code'}
        </button>
      {/if}
    </div>
  </div>

  {#if loading}
    <div class="loading-state">
      <p>Loading form...</p>
    </div>
  {:else if error}
    <div class="error-state">
      <p>{error}</p>
      <button class="btn-back" on:click={() => goto('/admin/forms')}>
        Back to Forms
      </button>
    </div>
  {:else if form}
    {#if showEmbedCode && form.status === 'published'}
      <EmbedCodeGenerator {form} />
    {:else if showThemeCustomizer && selectedTheme}
      <div class="theme-section">
        <ThemeCustomizer {selectedTheme} on:change={handleThemeChange} />
      </div>
      <FormBuilder {form} isEditing={true} on:save={handleSave} on:cancel={handleCancel} />
    {:else}
      <FormBuilder {form} isEditing={true} on:save={handleSave} on:cancel={handleCancel} />
    {/if}
  {/if}
</div>

<style>
  .edit-form-page {
    max-width: 1200px;
    margin: 0 auto;
  }

  .page-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid rgba(99, 102, 241, 0.1);
  }

  h1 {
    font-size: 2rem;
    font-weight: 700;
    color: #f1f5f9;
    margin: 0 0 0.5rem 0;
  }

  .page-description {
    color: #94a3b8;
    font-size: 0.9375rem;
    margin: 0;
  }

  .header-actions {
    display: flex;
    gap: 1rem;
  }

  .btn-theme {
    padding: 0.875rem 1.5rem;
    background: rgba(99, 102, 241, 0.1);
    color: #a5b4fc;
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 10px;
    font-weight: 600;
    font-size: 0.9375rem;
    cursor: pointer;
    transition: all 0.2s;
  }

  .btn-theme:hover {
    background: rgba(99, 102, 241, 0.2);
    border-color: rgba(99, 102, 241, 0.4);
  }

  .btn-embed {
    padding: 0.875rem 1.5rem;
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    color: white;
    border: none;
    border-radius: 10px;
    font-weight: 600;
    font-size: 0.9375rem;
    cursor: pointer;
    transition: all 0.2s;
    box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
  }

  .btn-embed:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(99, 102, 241, 0.4);
  }

  .theme-section {
    margin-bottom: 2rem;
  }

  .loading-state,
  .error-state {
    text-align: center;
    padding: 4rem 2rem;
    color: #94a3b8;
  }

  .error-state {
    color: #f87171;
  }

  .btn-back {
    margin-top: 1rem;
    padding: 0.75rem 1.5rem;
    background: rgba(99, 102, 241, 0.1);
    color: #a5b4fc;
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
  }

  .btn-back:hover {
    background: rgba(99, 102, 241, 0.2);
  }

  @media (max-width: 768px) {
    .page-header {
      flex-direction: column;
      gap: 1rem;
    }

    .header-actions {
      width: 100%;
      flex-direction: column;
    }

    .btn-theme,
    .btn-embed {
      width: 100%;
    }
  }
</style>

# END OF frontend/src/routes/admin/forms/[id]/edit/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/forms/[id]/edit/+page.ts
# PATH: frontend/src/routes/admin/forms/[id]/edit/+page.ts
##################################################################

// Disable prerendering for dynamic route
export const prerender = false;

# END OF frontend/src/routes/admin/forms/[id]/edit/+page.ts


##################################################################
# FILE: frontend/src/routes/admin/forms/[id]/analytics/+page.svelte
# PATH: frontend/src/routes/admin/forms/[id]/analytics/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { page } from '$app/stores';
  import { goto } from '$app/navigation';
  import FormAnalytics from '$lib/components/forms/FormAnalytics.svelte';
  import { getForm } from '$lib/api/forms';
  import type { Form } from '$lib/api/forms';

  let formId: number;
  let form: Form | null = null;
  let loading = true;
  let error = '';

  $: formId = parseInt($page.params.id);

  onMount(async () => {
    try {
      form = await getForm(formId);
    } catch (err) {
      error = err instanceof Error ? err.message : 'Failed to load form';
    } finally {
      loading = false;
    }
  });
</script>

<svelte:head>
  <title>Form Analytics - Admin Dashboard</title>
</svelte:head>

<div class="analytics-page">
  <div class="page-header">
    <div>
      <button class="btn-back" on:click={() => goto('/admin/forms')}>
         Back to Forms
      </button>
      <h1>Form Analytics</h1>
      {#if form}
        <p class="page-description">{form.title}</p>
      {/if}
    </div>
    <div class="header-actions">
      {#if form}
        <button class="btn-action" on:click={() => goto(`/admin/forms/${formId}/edit`)}>
           Edit Form
        </button>
        <button class="btn-action" on:click={() => goto(`/admin/forms/${formId}/submissions`)}>
           View Submissions
        </button>
      {/if}
    </div>
  </div>

  {#if loading}
    <div class="loading-state">
      <p>Loading analytics...</p>
    </div>
  {:else if error}
    <div class="error-state">
      <p>{error}</p>
    </div>
  {:else if form}
    <FormAnalytics {form} />
  {/if}
</div>

<style>
  .analytics-page {
    max-width: 1400px;
    margin: 0 auto;
  }

  .page-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid rgba(99, 102, 241, 0.1);
  }

  .btn-back {
    background: none;
    border: none;
    color: #94a3b8;
    font-size: 0.875rem;
    cursor: pointer;
    padding: 0.5rem 0;
    margin-bottom: 0.75rem;
    transition: color 0.2s;
  }

  .btn-back:hover {
    color: #a5b4fc;
  }

  h1 {
    font-size: 2rem;
    font-weight: 700;
    color: #f1f5f9;
    margin: 0 0 0.5rem 0;
  }

  .page-description {
    color: #94a3b8;
    font-size: 0.9375rem;
    margin: 0;
  }

  .header-actions {
    display: flex;
    gap: 1rem;
  }

  .btn-action {
    padding: 0.875rem 1.5rem;
    background: rgba(99, 102, 241, 0.1);
    color: #a5b4fc;
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 10px;
    font-weight: 600;
    font-size: 0.875rem;
    cursor: pointer;
    transition: all 0.2s;
  }

  .btn-action:hover {
    background: rgba(99, 102, 241, 0.2);
    transform: translateY(-1px);
  }

  .loading-state,
  .error-state {
    text-align: center;
    padding: 4rem 2rem;
    color: #94a3b8;
  }

  .error-state {
    color: #f87171;
  }

  @media (max-width: 768px) {
    .page-header {
      flex-direction: column;
      gap: 1rem;
    }

    .header-actions {
      width: 100%;
      flex-direction: column;
    }

    .btn-action {
      width: 100%;
    }
  }
</style>

# END OF frontend/src/routes/admin/forms/[id]/analytics/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/forms/[id]/analytics/+page.ts
# PATH: frontend/src/routes/admin/forms/[id]/analytics/+page.ts
##################################################################

// Disable prerendering for dynamic route
export const prerender = false;

# END OF frontend/src/routes/admin/forms/[id]/analytics/+page.ts


##################################################################
# FILE: frontend/src/routes/admin/forms/[id]/submissions/+page.svelte
# PATH: frontend/src/routes/admin/forms/[id]/submissions/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { page } from '$app/stores';
  import { goto } from '$app/navigation';
  import SubmissionsList from '$lib/components/forms/SubmissionsList.svelte';
  import { getForm } from '$lib/api/forms';
  import type { Form } from '$lib/api/forms';

  let formId: number;
  let form: Form | null = null;
  let loading = true;
  let error = '';

  $: formId = parseInt($page.params.id);

  onMount(async () => {
    try {
      form = await getForm(formId);
    } catch (err) {
      error = err instanceof Error ? err.message : 'Failed to load form';
    } finally {
      loading = false;
    }
  });
</script>

<svelte:head>
  <title>Form Submissions - Admin Dashboard</title>
</svelte:head>

<div class="submissions-page">
  <div class="page-header">
    <div>
      <button class="btn-back" on:click={() => goto('/admin/forms')}>
         Back to Forms
      </button>
      <h1>Form Submissions</h1>
      {#if form}
        <p class="page-description">{form.title}</p>
      {/if}
    </div>
    {#if form}
      <button class="btn-edit" on:click={() => goto(`/admin/forms/${formId}/edit`)}>
        Edit Form
      </button>
    {/if}
  </div>

  {#if loading}
    <div class="loading-state">
      <p>Loading...</p>
    </div>
  {:else if error}
    <div class="error-state">
      <p>{error}</p>
    </div>
  {:else if form}
    <SubmissionsList {formId} />
  {/if}
</div>

<style>
  .submissions-page {
    max-width: 1400px;
    margin: 0 auto;
  }

  .page-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid rgba(99, 102, 241, 0.1);
  }

  .btn-back {
    background: none;
    border: none;
    color: #94a3b8;
    font-size: 0.875rem;
    cursor: pointer;
    padding: 0.5rem 0;
    margin-bottom: 0.75rem;
    transition: color 0.2s;
  }

  .btn-back:hover {
    color: #a5b4fc;
  }

  h1 {
    font-size: 2rem;
    font-weight: 700;
    color: #f1f5f9;
    margin: 0 0 0.5rem 0;
  }

  .page-description {
    color: #94a3b8;
    font-size: 0.9375rem;
    margin: 0;
  }

  .btn-edit {
    padding: 0.875rem 1.5rem;
    background: rgba(99, 102, 241, 0.1);
    color: #a5b4fc;
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 10px;
    font-weight: 600;
    font-size: 0.9375rem;
    cursor: pointer;
    transition: all 0.2s;
  }

  .btn-edit:hover {
    background: rgba(99, 102, 241, 0.2);
  }

  .loading-state,
  .error-state {
    text-align: center;
    padding: 4rem 2rem;
    color: #94a3b8;
  }

  .error-state {
    color: #f87171;
  }
</style>

# END OF frontend/src/routes/admin/forms/[id]/submissions/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/forms/[id]/submissions/+page.ts
# PATH: frontend/src/routes/admin/forms/[id]/submissions/+page.ts
##################################################################

// Disable prerendering for dynamic route
export const prerender = false;

# END OF frontend/src/routes/admin/forms/[id]/submissions/+page.ts


##################################################################
# FILE: frontend/src/routes/admin/popups/+page.svelte
# PATH: frontend/src/routes/admin/popups/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { gsap } from 'gsap';
  import {
    IconPlus,
    IconEdit,
    IconTrash,
    IconCopy,
    IconEye,
    IconEyeOff,
    IconChartBar,
    IconSettings
  } from '@tabler/icons-svelte';
  import { getAllPopups, deletePopup, togglePopupStatus, duplicatePopup } from '$lib/api/popups';
  import type { Popup } from '$lib/stores/popups';

  let popups: Popup[] = [];
  let loading = true;
  let selectedTab: 'active' | 'inactive' | 'all' = 'all';

  onMount(async () => {
    await loadPopups();
    animateCards();
  });

  async function loadPopups() {
    loading = true;
    try {
      // TODO: Replace with actual API call when backend is ready
      // popups = await getAllPopups();

      // Mock data for now
      popups = [];
    } catch (error) {
      console.error('Error loading popups:', error);
    } finally {
      loading = false;
    }
  }

  function animateCards() {
    gsap.from('.popup-card', {
      opacity: 0,
      y: 20,
      duration: 0.5,
      stagger: 0.1,
      ease: 'power3.out'
    });
  }

  async function handleToggleStatus(popup: Popup) {
    try {
      await togglePopupStatus(popup.id, !popup.isActive);
      await loadPopups();
    } catch (error) {
      console.error('Error toggling popup status:', error);
    }
  }

  async function handleDelete(popupId: string) {
    if (!confirm('Are you sure you want to delete this popup?')) return;

    try {
      await deletePopup(popupId);
      await loadPopups();
    } catch (error) {
      console.error('Error deleting popup:', error);
    }
  }

  async function handleDuplicate(popupId: string) {
    try {
      await duplicatePopup(popupId);
      await loadPopups();
    } catch (error) {
      console.error('Error duplicating popup:', error);
    }
  }

  function getConversionRate(popup: Popup): string {
    if (popup.impressions === 0) return '0%';
    return ((popup.conversions / popup.impressions) * 100).toFixed(1) + '%';
  }

  $: filteredPopups = popups.filter(popup => {
    if (selectedTab === 'active') return popup.isActive;
    if (selectedTab === 'inactive') return !popup.isActive;
    return true;
  });
</script>

<div class="popups-page">
  <!-- Header -->
  <div class="page-header">
    <div>
      <h1 class="page-title">Popup Manager</h1>
      <p class="page-subtitle">Create and manage custom popups for your site</p>
    </div>
    <a href="/admin/popups/create" class="btn-primary">
      <IconPlus size={20} />
      <span>Create Popup</span>
    </a>
  </div>

  <!-- Tabs -->
  <div class="tabs">
    <button
      class="tab"
      class:active={selectedTab === 'all'}
      on:click={() => selectedTab = 'all'}
    >
      All Popups ({popups.length})
    </button>
    <button
      class="tab"
      class:active={selectedTab === 'active'}
      on:click={() => selectedTab = 'active'}
    >
      Active ({popups.filter(p => p.isActive).length})
    </button>
    <button
      class="tab"
      class:active={selectedTab === 'inactive'}
      on:click={() => selectedTab = 'inactive'}
    >
      Inactive ({popups.filter(p => !p.isActive).length})
    </button>
  </div>

  <!-- Popups Grid -->
  {#if loading}
    <div class="loading-state">
      <div class="spinner"></div>
      <p>Loading popups...</p>
    </div>
  {:else if filteredPopups.length === 0}
    <div class="empty-state">
      <IconSettings size={64} class="empty-icon" />
      <h3>No popups found</h3>
      <p>Create your first popup to get started</p>
      <a href="/admin/popups/create" class="btn-primary">
        <IconPlus size={20} />
        <span>Create Popup</span>
      </a>
    </div>
  {:else}
    <div class="popups-grid">
      {#each filteredPopups as popup}
        <div class="popup-card">
          <!-- Status Badge -->
          <div class="card-header">
            <div class="status-badge" class:active={popup.isActive}>
              {popup.isActive ? 'Active' : 'Inactive'}
            </div>
            <button
              class="icon-btn"
              on:click={() => handleToggleStatus(popup)}
              title={popup.isActive ? 'Deactivate' : 'Activate'}
            >
              {#if popup.isActive}
                <IconEye size={18} />
              {:else}
                <IconEyeOff size={18} />
              {/if}
            </button>
          </div>

          <!-- Popup Info -->
          <div class="card-body">
            <h3 class="popup-name">{popup.name}</h3>
            {#if popup.title}
              <p class="popup-title">"{popup.title}"</p>
            {/if}

            <!-- Stats -->
            <div class="popup-stats">
              <div class="stat">
                <span class="stat-label">Impressions</span>
                <span class="stat-value">{popup.impressions.toLocaleString()}</span>
              </div>
              <div class="stat">
                <span class="stat-label">Conversions</span>
                <span class="stat-value">{popup.conversions.toLocaleString()}</span>
              </div>
              <div class="stat">
                <span class="stat-label">CVR</span>
                <span class="stat-value">{getConversionRate(popup)}</span>
              </div>
            </div>

            <!-- Display Rules Preview -->
            <div class="rules-preview">
              <div class="rule-tag">
                {popup.displayRules.frequency}
              </div>
              <div class="rule-tag">
                {popup.displayRules.delaySeconds}s delay
              </div>
              {#if popup.displayRules.showOnScroll}
                <div class="rule-tag">
                  Scroll {popup.displayRules.scrollPercentage}%
                </div>
              {/if}
            </div>
          </div>

          <!-- Actions -->
          <div class="card-actions">
            <a href="/admin/popups/{popup.id}/edit" class="action-btn">
              <IconEdit size={16} />
              <span>Edit</span>
            </a>
            <button class="action-btn" on:click={() => handleDuplicate(popup.id)}>
              <IconCopy size={16} />
              <span>Duplicate</span>
            </button>
            <a href="/admin/popups/{popup.id}/analytics" class="action-btn">
              <IconChartBar size={16} />
              <span>Analytics</span>
            </a>
            <button class="action-btn danger" on:click={() => handleDelete(popup.id)}>
              <IconTrash size={16} />
              <span>Delete</span>
            </button>
          </div>
        </div>
      {/each}
    </div>
  {/if}
</div>

<style>
  .popups-page {
    max-width: 1400px;
    margin: 0 auto;
  }

  .page-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
    gap: 2rem;
  }

  .page-title {
    font-size: 2rem;
    font-weight: 700;
    color: #f1f5f9;
    margin-bottom: 0.5rem;
  }

  .page-subtitle {
    font-size: 1.125rem;
    color: #64748b;
  }

  .btn-primary {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    color: white;
    font-weight: 600;
    border-radius: 12px;
    border: none;
    cursor: pointer;
    text-decoration: none;
    transition: all 0.3s;
  }

  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(99, 102, 241, 0.4);
  }

  /* Tabs */
  .tabs {
    display: flex;
    gap: 1rem;
    margin-bottom: 2rem;
    border-bottom: 2px solid #1e293b;
  }

  .tab {
    padding: 0.75rem 1.5rem;
    background: none;
    border: none;
    color: #94a3b8;
    font-weight: 600;
    cursor: pointer;
    border-bottom: 2px solid transparent;
    margin-bottom: -2px;
    transition: all 0.2s;
  }

  .tab:hover {
    color: #e2e8f0;
  }

  .tab.active {
    color: #6366f1;
    border-bottom-color: #6366f1;
  }

  /* Popups Grid */
  .popups-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 1.5rem;
  }

  .popup-card {
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    border: 1px solid rgba(99, 102, 241, 0.1);
    border-radius: 16px;
    overflow: hidden;
    transition: all 0.3s;
  }

  .popup-card:hover {
    border-color: rgba(99, 102, 241, 0.3);
    transform: translateY(-4px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  }

  .card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 1.5rem;
    border-bottom: 1px solid rgba(99, 102, 241, 0.1);
  }

  .status-badge {
    padding: 0.375rem 0.75rem;
    border-radius: 6px;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .status-badge.active {
    background: rgba(34, 197, 94, 0.2);
    color: #4ade80;
  }

  .status-badge:not(.active) {
    background: rgba(100, 116, 139, 0.2);
    color: #94a3b8;
  }

  .icon-btn {
    background: rgba(99, 102, 241, 0.1);
    border: none;
    border-radius: 8px;
    padding: 0.5rem;
    color: #a5b4fc;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
  }

  .icon-btn:hover {
    background: rgba(99, 102, 241, 0.2);
  }

  .card-body {
    padding: 1.5rem;
  }

  .popup-name {
    font-size: 1.25rem;
    font-weight: 700;
    color: #f1f5f9;
    margin-bottom: 0.5rem;
  }

  .popup-title {
    font-size: 0.875rem;
    color: #94a3b8;
    font-style: italic;
    margin-bottom: 1rem;
  }

  .popup-stats {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
    margin-bottom: 1rem;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 8px;
  }

  .stat {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
  }

  .stat-label {
    font-size: 0.75rem;
    color: #94a3b8;
    margin-bottom: 0.25rem;
  }

  .stat-value {
    font-size: 1.125rem;
    font-weight: 700;
    color: #f1f5f9;
  }

  .rules-preview {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  .rule-tag {
    padding: 0.25rem 0.75rem;
    background: rgba(99, 102, 241, 0.1);
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 6px;
    font-size: 0.75rem;
    color: #a5b4fc;
  }

  .card-actions {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1px;
    background: rgba(99, 102, 241, 0.1);
  }

  .action-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.75rem;
    background: #1e293b;
    border: none;
    color: #94a3b8;
    font-size: 0.875rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
    text-decoration: none;
  }

  .action-btn:hover {
    background: #334155;
    color: #e2e8f0;
  }

  .action-btn.danger:hover {
    background: rgba(239, 68, 68, 0.2);
    color: #f87171;
  }

  /* Loading State */
  .loading-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 4rem;
    color: #94a3b8;
  }

  .spinner {
    width: 48px;
    height: 48px;
    border: 4px solid rgba(99, 102, 241, 0.1);
    border-top-color: #6366f1;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin-bottom: 1rem;
  }

  @keyframes spin {
    to {
      transform: rotate(360deg);
    }
  }

  /* Empty State */
  .empty-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 4rem;
    text-align: center;
  }

  .empty-icon {
    color: #475569;
    margin-bottom: 1rem;
  }

  .empty-state h3 {
    font-size: 1.5rem;
    font-weight: 700;
    color: #f1f5f9;
    margin-bottom: 0.5rem;
  }

  .empty-state p {
    color: #94a3b8;
    margin-bottom: 2rem;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .page-header {
      flex-direction: column;
      align-items: flex-start;
    }

    .popups-grid {
      grid-template-columns: 1fr;
    }

    .tabs {
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }
  }
</style>

# END OF frontend/src/routes/admin/popups/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/popups/create/+page.svelte
# PATH: frontend/src/routes/admin/popups/create/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { goto } from '$app/navigation';
  import { IconDeviceFloppy, IconEye, IconArrowLeft } from '@tabler/icons-svelte';
  import { createPopup } from '$lib/api/popups';
  import { defaultPopupConfig, type Popup, type PopupButton, type PopupContent } from '$lib/stores/popups';

  let activeTab: 'content' | 'design' | 'display' | 'buttons' | 'form' = 'content';
  let showPreview = false;
  let saving = false;

  // Initialize with default config
  let popup: Partial<Popup> = {
    ...JSON.parse(JSON.stringify(defaultPopupConfig)),
    name: '',
    title: '',
    content: {
      type: 'html',
      data: '<p>Your popup content goes here...</p>'
    },
    buttons: [],
    formFields: []
  };

  async function handleSave() {
    if (!popup.name) {
      alert('Please enter a popup name');
      return;
    }

    saving = true;
    try {
      const created = await createPopup(popup as any);
      alert('Popup created successfully!');
      goto('/admin/popups');
    } catch (error) {
      console.error('Error saving popup:', error);
      alert('Failed to save popup');
    } finally {
      saving = false;
    }
  }

  function addButton() {
    if (!popup.buttons) popup.buttons = [];
    popup.buttons.push({
      text: 'Click Me',
      action: 'close',
      style: 'primary'
    });
    popup.buttons = [...popup.buttons];
  }

  function removeButton(index: number) {
    if (!popup.buttons) return;
    popup.buttons.splice(index, 1);
    popup.buttons = [...popup.buttons];
  }

  function addFormField() {
    if (!popup.formFields) popup.formFields = [];
    popup.formFields.push({
      name: 'field_' + Date.now(),
      type: 'text',
      placeholder: 'Enter value',
      required: false
    });
    popup.formFields = [...popup.formFields];
  }

  function removeFormField(index: number) {
    if (!popup.formFields) return;
    popup.formFields.splice(index, 1);
    popup.formFields = [...popup.formFields];
  }
</script>

<div class="creator-page">
  <!-- Header -->
  <div class="page-header">
    <div class="header-left">
      <a href="/admin/popups" class="back-btn">
        <IconArrowLeft size={20} />
        <span>Back</span>
      </a>
      <div>
        <h1 class="page-title">Create Popup</h1>
        <p class="page-subtitle">Design a custom popup for your site</p>
      </div>
    </div>
    <div class="header-actions">
      <button class="btn-secondary" on:click={() => showPreview = !showPreview}>
        <IconEye size={20} />
        <span>{showPreview ? 'Hide' : 'Show'} Preview</span>
      </button>
      <button class="btn-primary" on:click={handleSave} disabled={saving}>
        <IconDeviceFloppy size={20} />
        <span>{saving ? 'Saving...' : 'Save Popup'}</span>
      </button>
    </div>
  </div>

  <div class="creator-layout">
    <!-- Editor Panel -->
    <div class="editor-panel">
      <!-- Tabs -->
      <div class="tabs">
        <button
          class="tab"
          class:active={activeTab === 'content'}
          on:click={() => activeTab = 'content'}
        >
          Content
        </button>
        <button
          class="tab"
          class:active={activeTab === 'design'}
          on:click={() => activeTab = 'design'}
        >
          Design
        </button>
        <button
          class="tab"
          class:active={activeTab === 'display'}
          on:click={() => activeTab = 'display'}
        >
          Display Rules
        </button>
        <button
          class="tab"
          class:active={activeTab === 'buttons'}
          on:click={() => activeTab = 'buttons'}
        >
          Buttons
        </button>
        <button
          class="tab"
          class:active={activeTab === 'form'}
          on:click={() => activeTab = 'form'}
        >
          Form
        </button>
      </div>

      <!-- Tab Content -->
      <div class="tab-content">
        <!-- Content Tab -->
        {#if activeTab === 'content'}
          <div class="form-section">
            <h3 class="section-title">Basic Information</h3>

            <div class="form-group">
              <label for="name">Popup Name (Internal)</label>
              <input
                type="text"
                id="name"
                bind:value={popup.name}
                placeholder="e.g., Summer Sale 2024"
                class="form-input"
              />
            </div>

            <div class="form-group">
              <label for="title">Popup Title (Visible)</label>
              <input
                type="text"
                id="title"
                bind:value={popup.title}
                placeholder="e.g., Limited Time Offer!"
                class="form-input"
              />
            </div>

            <div class="form-group">
              <label for="content-type">Content Type</label>
              <select id="content-type" bind:value={popup.content.type} class="form-input">
                <option value="html">HTML</option>
                <option value="markdown">Markdown</option>
              </select>
            </div>

            <div class="form-group">
              <label for="content-data">Content</label>
              <textarea
                id="content-data"
                bind:value={popup.content.data}
                placeholder="Enter your popup content..."
                class="form-textarea"
                rows="10"
              ></textarea>
              <p class="form-help">Use HTML tags for formatting</p>
            </div>

            <div class="form-group">
              <label class="checkbox-label">
                <input type="checkbox" bind:checked={popup.isActive} />
                <span>Active (show on site)</span>
              </label>
            </div>

            <div class="form-group">
              <label class="checkbox-label">
                <input type="checkbox" bind:checked={popup.closeButton} />
                <span>Show close button</span>
              </label>
            </div>

            <div class="form-group">
              <label class="checkbox-label">
                <input type="checkbox" bind:checked={popup.closeOnOverlayClick} />
                <span>Close when clicking overlay</span>
              </label>
            </div>
          </div>
        {/if}

        <!-- Design Tab -->
        {#if activeTab === 'design'}
          <div class="form-section">
            <h3 class="section-title">Layout</h3>

            <div class="form-row">
              <div class="form-group">
                <label for="width">Width</label>
                <input type="text" id="width" bind:value={popup.design.width} class="form-input" />
              </div>
              <div class="form-group">
                <label for="max-width">Max Width</label>
                <input type="text" id="max-width" bind:value={popup.design.maxWidth} class="form-input" />
              </div>
            </div>

            <div class="form-group">
              <label for="padding">Padding</label>
              <input type="text" id="padding" bind:value={popup.design.padding} class="form-input" />
            </div>

            <h3 class="section-title">Colors</h3>

            <div class="form-group">
              <label for="bg-color">Background Color</label>
              <input type="color" id="bg-color" bind:value={popup.design.backgroundColor} class="form-color" />
            </div>

            <div class="form-group">
              <label for="text-color">Text Color</label>
              <input type="color" id="text-color" bind:value={popup.design.textColor} class="form-color" />
            </div>

            <div class="form-group">
              <label for="border-color">Border Color</label>
              <input type="color" id="border-color" bind:value={popup.design.borderColor} class="form-color" />
            </div>

            <h3 class="section-title">Styling</h3>

            <div class="form-group">
              <label for="border-radius">Border Radius</label>
              <input type="text" id="border-radius" bind:value={popup.design.borderRadius} class="form-input" />
            </div>

            <div class="form-group">
              <label for="box-shadow">Box Shadow</label>
              <input type="text" id="box-shadow" bind:value={popup.design.boxShadow} class="form-input" />
            </div>

            <div class="form-group">
              <label for="backdrop-blur">Backdrop Blur</label>
              <input type="text" id="backdrop-blur" bind:value={popup.design.backdropBlur} class="form-input" />
            </div>

            <h3 class="section-title">Animation</h3>

            <div class="form-row">
              <div class="form-group">
                <label for="entrance-anim">Entrance</label>
                <select id="entrance-anim" bind:value={popup.animation.entrance} class="form-input">
                  <option value="fade">Fade</option>
                  <option value="slide-up">Slide Up</option>
                  <option value="slide-down">Slide Down</option>
                  <option value="slide-left">Slide Left</option>
                  <option value="slide-right">Slide Right</option>
                  <option value="zoom">Zoom</option>
                  <option value="bounce">Bounce</option>
                  <option value="flip">Flip</option>
                </select>
              </div>
              <div class="form-group">
                <label for="exit-anim">Exit</label>
                <select id="exit-anim" bind:value={popup.animation.exit} class="form-input">
                  <option value="fade">Fade</option>
                  <option value="slide-up">Slide Up</option>
                  <option value="slide-down">Slide Down</option>
                  <option value="slide-left">Slide Left</option>
                  <option value="slide-right">Slide Right</option>
                  <option value="zoom">Zoom</option>
                  <option value="bounce">Bounce</option>
                  <option value="flip">Flip</option>
                </select>
              </div>
            </div>

            <div class="form-group">
              <label for="anim-duration">Duration (ms)</label>
              <input type="number" id="anim-duration" bind:value={popup.animation.duration} class="form-input" />
            </div>
          </div>
        {/if}

        <!-- Display Rules Tab -->
        {#if activeTab === 'display'}
          <div class="form-section">
            <h3 class="section-title">Timing</h3>

            <div class="form-group">
              <label for="delay">Delay (seconds)</label>
              <input type="number" id="delay" bind:value={popup.displayRules.delaySeconds} class="form-input" min="0" />
            </div>

            <div class="form-group">
              <label class="checkbox-label">
                <input type="checkbox" bind:checked={popup.displayRules.showOnScroll} />
                <span>Trigger on scroll</span>
              </label>
            </div>

            {#if popup.displayRules.showOnScroll}
              <div class="form-group indent">
                <label for="scroll-pct">Scroll Percentage</label>
                <input type="number" id="scroll-pct" bind:value={popup.displayRules.scrollPercentage} class="form-input" min="0" max="100" />
              </div>
            {/if}

            <div class="form-group">
              <label class="checkbox-label">
                <input type="checkbox" bind:value={popup.displayRules.showOnExit} />
                <span>Show on exit intent</span>
              </label>
            </div>

            <h3 class="section-title">Frequency</h3>

            <div class="form-group">
              <label for="frequency">Show Frequency</label>
              <select id="frequency" bind:value={popup.displayRules.frequency} class="form-input">
                <option value="always">Every time</option>
                <option value="once-per-session">Once per session</option>
                <option value="once-per-day">Once per day</option>
                <option value="once-per-week">Once per week</option>
                <option value="once-ever">Once ever</option>
              </select>
            </div>

            <h3 class="section-title">Targeting</h3>

            <div class="form-group">
              <label for="pages">Include Pages (one per line)</label>
              <textarea
                id="pages"
                bind:value={popup.displayRules.pages}
                class="form-textarea"
                rows="4"
                placeholder="/*&#10;/products/*&#10;/blog/*"
              ></textarea>
              <p class="form-help">Use * for wildcards. Example: /products/*</p>
            </div>

            <div class="form-group">
              <label for="exclude-pages">Exclude Pages (one per line)</label>
              <textarea
                id="exclude-pages"
                bind:value={popup.displayRules.excludePages}
                class="form-textarea"
                rows="4"
                placeholder="/checkout&#10;/cart"
              ></textarea>
            </div>

            <div class="form-group">
              <label for="device-target">Device Targeting</label>
              <select id="device-target" bind:value={popup.displayRules.deviceTargeting} class="form-input">
                <option value="all">All devices</option>
                <option value="desktop">Desktop only</option>
                <option value="mobile">Mobile only</option>
                <option value="tablet">Tablet only</option>
              </select>
            </div>
          </div>
        {/if}

        <!-- Buttons Tab -->
        {#if activeTab === 'buttons'}
          <div class="form-section">
            <div class="section-header">
              <h3 class="section-title">Popup Buttons</h3>
              <button class="btn-add" on:click={addButton}>+ Add Button</button>
            </div>

            {#if popup.buttons && popup.buttons.length > 0}
              {#each popup.buttons as button, index}
                <div class="button-config">
                  <div class="button-header">
                    <h4>Button {index + 1}</h4>
                    <button class="btn-remove" on:click={() => removeButton(index)}>Remove</button>
                  </div>

                  <div class="form-group">
                    <label>Button Text</label>
                    <input type="text" bind:value={button.text} class="form-input" />
                  </div>

                  <div class="form-group">
                    <label>Style</label>
                    <select bind:value={button.style} class="form-input">
                      <option value="primary">Primary</option>
                      <option value="secondary">Secondary</option>
                      <option value="outline">Outline</option>
                      <option value="ghost">Ghost</option>
                    </select>
                  </div>

                  <div class="form-group">
                    <label>Action</label>
                    <select bind:value={button.action} class="form-input">
                      <option value="close">Close popup</option>
                      <option value="submit">Submit form</option>
                      <option value="custom">Custom (link)</option>
                    </select>
                  </div>

                  {#if button.action === 'custom'}
                    <div class="form-group">
                      <label>Link URL</label>
                      <input type="text" bind:value={button.link} class="form-input" placeholder="https://..." />
                    </div>
                  {/if}
                </div>
              {/each}
            {:else}
              <p class="empty-message">No buttons added. Click "Add Button" to create one.</p>
            {/if}
          </div>
        {/if}

        <!-- Form Tab -->
        {#if activeTab === 'form'}
          <div class="form-section">
            <div class="section-header">
              <h3 class="section-title">Form Fields</h3>
              <button class="btn-add" on:click={addFormField}>+ Add Field</button>
            </div>

            <div class="form-group">
              <label for="form-action">Form Action URL</label>
              <input type="text" id="form-action" bind:value={popup.formAction} class="form-input" placeholder="/api/form-submit" />
              <p class="form-help">API endpoint to receive form submissions</p>
            </div>

            {#if popup.formFields && popup.formFields.length > 0}
              {#each popup.formFields as field, index}
                <div class="button-config">
                  <div class="button-header">
                    <h4>Field {index + 1}</h4>
                    <button class="btn-remove" on:click={() => removeFormField(index)}>Remove</button>
                  </div>

                  <div class="form-group">
                    <label>Field Name</label>
                    <input type="text" bind:value={field.name} class="form-input" />
                  </div>

                  <div class="form-group">
                    <label>Field Type</label>
                    <select bind:value={field.type} class="form-input">
                      <option value="text">Text</option>
                      <option value="email">Email</option>
                      <option value="tel">Phone</option>
                      <option value="textarea">Textarea</option>
                      <option value="select">Select Dropdown</option>
                    </select>
                  </div>

                  <div class="form-group">
                    <label>Placeholder</label>
                    <input type="text" bind:value={field.placeholder} class="form-input" />
                  </div>

                  <div class="form-group">
                    <label class="checkbox-label">
                      <input type="checkbox" bind:checked={field.required} />
                      <span>Required field</span>
                    </label>
                  </div>

                  {#if field.type === 'select'}
                    <div class="form-group">
                      <label>Options (one per line)</label>
                      <textarea
                        bind:value={field.options}
                        class="form-textarea"
                        rows="4"
                        placeholder="Option 1&#10;Option 2&#10;Option 3"
                      ></textarea>
                    </div>
                  {/if}
                </div>
              {/each}
            {:else}
              <p class="empty-message">No form fields added.</p>
            {/if}
          </div>
        {/if}
      </div>
    </div>

    <!-- Preview Panel -->
    {#if showPreview}
      <div class="preview-panel">
        <h3 class="preview-title">Live Preview</h3>
        <div class="preview-container">
          <div class="preview-popup" style="
            width: {popup.design?.width};
            max-width: {popup.design?.maxWidth};
            padding: {popup.design?.padding};
            background-color: {popup.design?.backgroundColor};
            color: {popup.design?.textColor};
            border-radius: {popup.design?.borderRadius};
            border: {popup.design?.borderWidth} {popup.design?.borderStyle} {popup.design?.borderColor};
            box-shadow: {popup.design?.boxShadow};
          ">
            {#if popup.title}
              <h2 class="preview-popup-title">{popup.title}</h2>
            {/if}
            <div class="preview-popup-content">
              {@html popup.content?.data || ''}
            </div>
          </div>
        </div>
      </div>
    {/if}
  </div>
</div>

<style>
  .creator-page {
    max-width: 100%;
    height: 100%;
  }

  .page-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
    gap: 2rem;
  }

  .header-left {
    display: flex;
    align-items: center;
    gap: 1.5rem;
  }

  .back-btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.625rem 1rem;
    background: rgba(99, 102, 241, 0.1);
    color: #a5b4fc;
    border-radius: 8px;
    text-decoration: none;
    transition: all 0.2s;
  }

  .back-btn:hover {
    background: rgba(99, 102, 241, 0.2);
  }

  .page-title {
    font-size: 2rem;
    font-weight: 700;
    color: #f1f5f9;
    margin-bottom: 0.25rem;
  }

  .page-subtitle {
    font-size: 1rem;
    color: #64748b;
  }

  .header-actions {
    display: flex;
    gap: 1rem;
  }

  .btn-primary, .btn-secondary {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    font-weight: 600;
    border-radius: 12px;
    border: none;
    cursor: pointer;
    transition: all 0.3s;
  }

  .btn-primary {
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    color: white;
  }

  .btn-primary:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(99, 102, 241, 0.4);
  }

  .btn-primary:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  .btn-secondary {
    background: rgba(99, 102, 241, 0.1);
    color: #a5b4fc;
  }

  .btn-secondary:hover {
    background: rgba(99, 102, 241, 0.2);
  }

  .creator-layout {
    display: grid;
    grid-template-columns: 1fr 400px;
    gap: 2rem;
    height: calc(100vh - 200px);
  }

  .editor-panel {
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    border: 1px solid rgba(99, 102, 241, 0.1);
    border-radius: 16px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }

  .tabs {
    display: flex;
    border-bottom: 1px solid rgba(99, 102, 241, 0.1);
    background: rgba(0, 0, 0, 0.2);
  }

  .tab {
    flex: 1;
    padding: 1rem;
    background: none;
    border: none;
    color: #94a3b8;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
    border-bottom: 2px solid transparent;
  }

  .tab:hover {
    color: #e2e8f0;
  }

  .tab.active {
    color: #6366f1;
    border-bottom-color: #6366f1;
    background: rgba(99, 102, 241, 0.05);
  }

  .tab-content {
    flex: 1;
    overflow-y: auto;
    padding: 2rem;
  }

  .form-section {
    max-width: 700px;
  }

  .section-title {
    font-size: 1.25rem;
    font-weight: 700;
    color: #f1f5f9;
    margin-bottom: 1.5rem;
    margin-top: 2rem;
  }

  .section-title:first-child {
    margin-top: 0;
  }

  .section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
  }

  .btn-add {
    padding: 0.5rem 1rem;
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    font-size: 0.875rem;
  }

  .form-group {
    margin-bottom: 1.5rem;
  }

  .form-group label {
    display: block;
    font-weight: 600;
    color: #e2e8f0;
    margin-bottom: 0.5rem;
  }

  .form-input, .form-textarea, .form-color {
    width: 100%;
    padding: 0.75rem 1rem;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 8px;
    color: #f1f5f9;
    font-size: 1rem;
  }

  .form-color {
    height: 50px;
    cursor: pointer;
  }

  .form-input:focus, .form-textarea:focus {
    outline: none;
    border-color: rgba(99, 102, 241, 0.5);
  }

  .form-textarea {
    resize: vertical;
    font-family: monospace;
  }

  .form-help {
    margin-top: 0.5rem;
    font-size: 0.875rem;
    color: #64748b;
  }

  .checkbox-label {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    cursor: pointer;
  }

  .checkbox-label input[type="checkbox"] {
    width: 20px;
    height: 20px;
    cursor: pointer;
  }

  .form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
  }

  .button-config {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 12px;
    padding: 1.5rem;
    margin-bottom: 1rem;
  }

  .button-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
  }

  .button-header h4 {
    font-size: 1.125rem;
    font-weight: 600;
    color: #f1f5f9;
  }

  .btn-remove {
    padding: 0.5rem 1rem;
    background: rgba(239, 68, 68, 0.1);
    color: #f87171;
    border: none;
    border-radius: 6px;
    font-weight: 600;
    cursor: pointer;
    font-size: 0.875rem;
  }

  .btn-remove:hover {
    background: rgba(239, 68, 68, 0.2);
  }

  .empty-message {
    color: #64748b;
    font-style: italic;
    text-align: center;
    padding: 2rem;
  }

  .indent {
    margin-left: 2rem;
  }

  /* Preview Panel */
  .preview-panel {
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    border: 1px solid rgba(99, 102, 241, 0.1);
    border-radius: 16px;
    padding: 2rem;
    position: sticky;
    top: 2rem;
    height: fit-content;
    max-height: calc(100vh - 200px);
    overflow-y: auto;
  }

  .preview-title {
    font-size: 1.25rem;
    font-weight: 700;
    color: #f1f5f9;
    margin-bottom: 1.5rem;
  }

  .preview-container {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 12px;
    padding: 2rem;
    min-height: 300px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .preview-popup {
    position: relative;
  }

  .preview-popup-title {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
  }

  .preview-popup-content {
    line-height: 1.6;
  }

  /* Responsive */
  @media (max-width: 1200px) {
    .creator-layout {
      grid-template-columns: 1fr;
    }

    .preview-panel {
      position: static;
    }
  }
</style>

# END OF frontend/src/routes/admin/popups/create/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/popups/new/+page.svelte
# PATH: frontend/src/routes/admin/popups/new/+page.svelte
##################################################################

<script lang="ts">
  import { goto } from '$app/navigation';
  import { Card, Button, Input, Select } from '$lib/components/ui';
  import { addToast } from '$lib/utils/toast';
  import { popupsApi, type Popup } from '$lib/api/popups';

  // Form state
  let formData: Partial<Popup> = {
    name: '',
    type: 'exit_intent',
    status: 'draft',
    title: '',
    content: '',
    cta_text: '',
    cta_url: '',
    cta_new_tab: false,
    priority: 10,
    position: 'center',
    size: 'md',
    animation: 'zoom',
    show_close_button: true,
    close_on_overlay_click: true,
    auto_close_after: null,
    has_form: false,
    form_id: null,
    trigger_rules: {},
    frequency_rules: { frequency: 'once_per_session' },
    display_rules: { devices: ['desktop', 'tablet', 'mobile'] },
    design: {
      backgroundColor: '#ffffff',
      titleColor: '#1f2937',
      textColor: '#4b5563',
      buttonColor: '#3b82f6',
      buttonTextColor: '#ffffff',
      buttonBorderRadius: 8,
      buttonShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',
      buttonPadding: '0.875rem 1.5rem'
    }
  };

  let loading = false;
  let errors: Record<string, string> = {};

  // Trigger rules based on type
  let timedDelay = 5000;
  let scrollDepth = 50;
  let clickSelector = '[data-popup-trigger]';

  // Frequency options
  const frequencyOptions = [
    { value: 'once', label: 'Once (never show again)' },
    { value: 'once_per_session', label: 'Once per session' },
    { value: 'daily', label: 'Once per day' },
    { value: 'weekly', label: 'Once per week' },
    { value: 'always', label: 'Every page view' }
  ];

  // Type options
  const typeOptions = [
    { value: 'newsletter', label: ' Newsletter Signup' },
    { value: 'exit_intent', label: ' Exit Intent' },
    { value: 'timed', label: ' Timed Popup' },
    { value: 'scroll', label: ' Scroll Triggered' },
    { value: 'click_trigger', label: ' Click Trigger' },
    { value: 'content_locker', label: ' Content Locker' }
  ];

  const statusOptions = [
    { value: 'draft', label: 'Draft' },
    { value: 'published', label: 'Published' },
    { value: 'paused', label: 'Paused' }
  ];

  const positionOptions = [
    { value: 'center', label: 'Center' },
    { value: 'top', label: 'Top' },
    { value: 'bottom', label: 'Bottom' },
    { value: 'corner', label: 'Bottom Right Corner' }
  ];

  const sizeOptions = [
    { value: 'sm', label: 'Small' },
    { value: 'md', label: 'Medium' },
    { value: 'lg', label: 'Large' },
    { value: 'xl', label: 'Extra Large' },
    { value: 'full', label: 'Full Width' }
  ];

  const animationOptions = [
    { value: 'fade', label: ' Fade In' },
    { value: 'slide', label: ' Slide Up' },
    { value: 'zoom', label: ' Zoom In' },
    { value: 'bounce', label: ' Bounce In' },
    { value: 'rotate', label: ' Rotate In' },
    { value: 'flip', label: ' Flip In' }
  ];

  function validateForm(): boolean {
    errors = {};

    if (!formData.name?.trim()) {
      errors.name = 'Name is required';
    }

    if (!formData.title?.trim()) {
      errors.title = 'Title is required';
    }

    if (!formData.content?.trim()) {
      errors.content = 'Content is required';
    }

    return Object.keys(errors).length === 0;
  }

  async function handleSubmit() {
    if (!validateForm()) {
      addToast({ type: 'error', message: 'Please fix the errors' });
      return;
    }

    // Build trigger rules based on type
    const triggerRules: Record<string, any> = {};

    switch (formData.type) {
      case 'timed':
        triggerRules.delay = timedDelay;
        break;
      case 'scroll':
        triggerRules.scroll_depth = scrollDepth;
        break;
      case 'click_trigger':
        triggerRules.selector = clickSelector;
        break;
    }

    formData.trigger_rules = triggerRules;

    try {
      loading = true;
      await popupsApi.create(formData);
      addToast({ type: 'success', message: 'Popup created successfully!' });
      goto('/admin/popups');
    } catch (error: any) {
      console.error('Failed to create popup:', error);
      addToast({
        type: 'error',
        message: error.response?.data?.message || 'Failed to create popup'
      });
    } finally {
      loading = false;
    }
  }

  function handleCancel() {
    goto('/admin/popups');
  }
</script>

<svelte:head>
  <title>Create Popup | Revolution Admin</title>
</svelte:head>

<div class="max-w-5xl mx-auto">
  <!-- Header -->
  <div class="mb-6">
    <h1 class="text-3xl font-bold text-gray-900">Create New Popup</h1>
    <p class="text-gray-600 mt-1">Design and configure your popup</p>
  </div>

  <form on:submit|preventDefault={handleSubmit}>
    <div class="space-y-6">
      <!-- Basic Information -->
      <Card>
        <h2 class="text-xl font-semibold mb-4">Basic Information</h2>

        <div class="space-y-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">
              Internal Name *
            </label>
            <Input
              bind:value={formData.name}
              placeholder="e.g., Exit Intent - Newsletter"
              error={errors.name}
            />
            <p class="text-xs text-gray-500 mt-1">For your reference only, not shown to users</p>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">
                Popup Type *
              </label>
              <Select
                options={typeOptions}
                bind:value={formData.type}
              />
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">
                Status *
              </label>
              <Select
                options={statusOptions}
                bind:value={formData.status}
              />
            </div>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">
              Priority (1-100)
            </label>
            <Input
              type="number"
              bind:value={formData.priority}
              min="1"
              max="100"
            />
            <p class="text-xs text-gray-500 mt-1">Higher priority popups are shown first</p>
          </div>
        </div>
      </Card>

      <!-- Content -->
      <Card>
        <h2 class="text-xl font-semibold mb-4">Content</h2>

        <div class="space-y-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">
              Title *
            </label>
            <Input
              bind:value={formData.title}
              placeholder="e.g., Wait! Don't Leave Yet"
              error={errors.title}
            />
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">
              Content *
            </label>
            <textarea
              bind:value={formData.content}
              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 {errors.content ? 'border-red-500' : ''}"
              rows="4"
              placeholder="Enter your message (HTML allowed)"
            ></textarea>
            {#if errors.content}
              <p class="text-xs text-red-600 mt-1">{errors.content}</p>
            {/if}
            <p class="text-xs text-gray-500 mt-1">HTML is supported for formatting</p>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">
                Call-to-Action Text
              </label>
              <Input
                bind:value={formData.cta_text}
                placeholder="e.g., Get Started"
              />
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">
                CTA URL
              </label>
              <Input
                bind:value={formData.cta_url}
                placeholder="/subscribe"
              />
            </div>
          </div>

          <div class="flex items-center gap-2">
            <input
              type="checkbox"
              id="cta_new_tab"
              bind:checked={formData.cta_new_tab}
              class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
            />
            <label for="cta_new_tab" class="text-sm text-gray-700">
              Open CTA link in new tab
            </label>
          </div>
        </div>
      </Card>

      <!-- Trigger Settings -->
      <Card>
        <h2 class="text-xl font-semibold mb-4">Trigger Settings</h2>

        <div class="space-y-4">
          {#if formData.type === 'timed'}
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">
                Delay (milliseconds)
              </label>
              <Input
                type="number"
                bind:value={timedDelay}
                min="0"
                step="1000"
              />
              <p class="text-xs text-gray-500 mt-1">
                Show popup after {(timedDelay / 1000).toFixed(0)} seconds
              </p>
            </div>
          {:else if formData.type === 'scroll'}
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">
                Scroll Depth (%)
              </label>
              <Input
                type="number"
                bind:value={scrollDepth}
                min="0"
                max="100"
              />
              <p class="text-xs text-gray-500 mt-1">
                Show popup when user scrolls {scrollDepth}% down the page
              </p>
            </div>
          {:else if formData.type === 'click_trigger'}
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">
                CSS Selector
              </label>
              <Input
                bind:value={clickSelector}
                placeholder="[data-popup-trigger]"
              />
              <p class="text-xs text-gray-500 mt-1">
                Show popup when elements matching this selector are clicked
              </p>
            </div>
          {:else if formData.type === 'exit_intent'}
            <div class="bg-blue-50 border border-blue-200 rounded-md p-4">
              <p class="text-sm text-blue-800">
                Exit intent popups trigger when the user's mouse moves toward the browser's top edge (leaving the page).
              </p>
            </div>
          {:else if formData.type === 'newsletter'}
            <div class="bg-blue-50 border border-blue-200 rounded-md p-4">
              <p class="text-sm text-blue-800">
                Newsletter popups display immediately or can be combined with timing/scroll settings.
              </p>
            </div>
          {/if}
        </div>
      </Card>

      <!-- Display Settings -->
      <Card>
        <h2 class="text-xl font-semibold mb-4">Display Settings</h2>

        <div class="space-y-4">
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">
                Position
              </label>
              <Select
                options={positionOptions}
                bind:value={formData.position}
              />
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">
                Size
              </label>
              <Select
                options={sizeOptions}
                bind:value={formData.size}
              />
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">
                Animation
              </label>
              <Select
                options={animationOptions}
                bind:value={formData.animation}
              />
            </div>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">
              Auto Close After (seconds)
            </label>
            <Input
              type="number"
              bind:value={formData.auto_close_after}
              min="0"
              placeholder="Leave empty for manual close only"
            />
          </div>

          <div class="space-y-2">
            <div class="flex items-center gap-2">
              <input
                type="checkbox"
                id="show_close_button"
                bind:checked={formData.show_close_button}
                class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
              />
              <label for="show_close_button" class="text-sm text-gray-700">
                Show close button (X)
              </label>
            </div>

            <div class="flex items-center gap-2">
              <input
                type="checkbox"
                id="close_on_overlay_click"
                bind:checked={formData.close_on_overlay_click}
                class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
              />
              <label for="close_on_overlay_click" class="text-sm text-gray-700">
                Close when clicking outside popup
              </label>
            </div>
          </div>
        </div>
      </Card>

      <!-- Frequency Rules -->
      <Card>
        <h2 class="text-xl font-semibold mb-4">Frequency & Targeting</h2>

        <div class="space-y-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">
              Show Frequency
            </label>
            <Select
              options={frequencyOptions}
              bind:value={formData.frequency_rules.frequency}
            />
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">
              Target Devices
            </label>
            <div class="flex gap-4">
              <label class="flex items-center gap-2">
                <input
                  type="checkbox"
                  value="desktop"
                  bind:group={formData.display_rules.devices}
                  class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                />
                <span class="text-sm text-gray-700">Desktop</span>
              </label>
              <label class="flex items-center gap-2">
                <input
                  type="checkbox"
                  value="tablet"
                  bind:group={formData.display_rules.devices}
                  class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                />
                <span class="text-sm text-gray-700">Tablet</span>
              </label>
              <label class="flex items-center gap-2">
                <input
                  type="checkbox"
                  value="mobile"
                  bind:group={formData.display_rules.devices}
                  class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                />
                <span class="text-sm text-gray-700">Mobile</span>
              </label>
            </div>
          </div>
        </div>
      </Card>

      <!-- Design Customization -->
      <Card>
        <h2 class="text-xl font-semibold mb-4"> Design Customization</h2>

        <div class="space-y-6">
          <!-- Popup Colors -->
          <div>
            <h3 class="text-sm font-semibold text-gray-800 mb-3">Popup Colors</h3>
            <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">
                  Background Color
                </label>
                <Input
                  type="color"
                  bind:value={formData.design.backgroundColor}
                />
              </div>

              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">
                  Title Color
                </label>
                <Input
                  type="color"
                  bind:value={formData.design.titleColor}
                />
              </div>

              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">
                  Text Color
                </label>
                <Input
                  type="color"
                  bind:value={formData.design.textColor}
                />
              </div>
            </div>
          </div>

          <!-- Button Styling -->
          <div>
            <h3 class="text-sm font-semibold text-gray-800 mb-3">Button Styling</h3>
            <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">
                  Button Color
                </label>
                <Input
                  type="color"
                  bind:value={formData.design.buttonColor}
                />
              </div>

              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">
                  Button Text Color
                </label>
                <Input
                  type="color"
                  bind:value={formData.design.buttonTextColor}
                />
              </div>

              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">
                  Button Border Radius (px)
                </label>
                <Input
                  type="number"
                  bind:value={formData.design.buttonBorderRadius}
                  min="0"
                  max="50"
                  placeholder="8"
                />
              </div>
            </div>
          </div>

          <!-- Advanced Button Effects -->
          <div>
            <h3 class="text-sm font-semibold text-gray-800 mb-3">Button Effects</h3>
            <div class="space-y-3">
              <div>
                <label for="button-shadow" class="block text-sm font-medium text-gray-700 mb-1">
                  Button Shadow
                </label>
                <select
                  id="button-shadow"
                  bind:value={formData.design.buttonShadow}
                  class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                >
                  <option value="">None</option>
                  <option value="0 1px 2px 0 rgba(0, 0, 0, 0.05)">Subtle</option>
                  <option value="0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)">Default</option>
                  <option value="0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)">Medium</option>
                  <option value="0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)">Large</option>
                  <option value="0 25px 50px -12px rgba(0, 0, 0, 0.25)">Extra Large</option>
                </select>
                <p class="text-xs text-gray-500 mt-1">Shadow adds depth to the button</p>
              </div>

              <div>
                <label for="button-padding" class="block text-sm font-medium text-gray-700 mb-1">
                  Button Padding
                </label>
                <select
                  id="button-padding"
                  bind:value={formData.design.buttonPadding}
                  class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                >
                  <option value="0.5rem 1rem">Small (0.5rem 1rem)</option>
                  <option value="0.875rem 1.5rem">Default (0.875rem 1.5rem)</option>
                  <option value="1rem 2rem">Medium (1rem 2rem)</option>
                  <option value="1.25rem 2.5rem">Large (1.25rem 2.5rem)</option>
                  <option value="1.5rem 3rem">Extra Large (1.5rem 3rem)</option>
                </select>
                <p class="text-xs text-gray-500 mt-1">Adjust button size and spacing</p>
              </div>
            </div>
          </div>
        </div>
      </Card>

      <!-- Actions -->
      <div class="flex justify-end gap-3">
        <Button
          type="button"
          variant="ghost"
          on:click={handleCancel}
          disabled={loading}
        >
          Cancel
        </Button>
        <Button
          type="submit"
          disabled={loading}
        >
          {loading ? 'Creating...' : 'Create Popup'}
        </Button>
      </div>
    </div>
  </form>
</div>

# END OF frontend/src/routes/admin/popups/new/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/popups/[id]/edit/+page.svelte
# PATH: frontend/src/routes/admin/popups/[id]/edit/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { goto } from '$app/navigation';
  import { page } from '$app/stores';
  import { Card, Button, Input, Select } from '$lib/components/ui';
  import { addToast } from '$lib/utils/toast';
  import { popupsApi, type Popup } from '$lib/api/popups';

  const popupId = parseInt($page.params.id);

  // Form state
  let formData: Partial<Popup> = {
    name: '',
    type: 'exit_intent',
    status: 'draft',
    title: '',
    content: '',
    cta_text: '',
    cta_url: '',
    cta_new_tab: false,
    priority: 10,
    position: 'center',
    size: 'md',
    animation: 'zoom',
    show_close_button: true,
    close_on_overlay_click: true,
    auto_close_after: null,
    has_form: false,
    form_id: null,
    trigger_rules: {},
    frequency_rules: { frequency: 'once_per_session' },
    display_rules: { devices: ['desktop', 'tablet', 'mobile'] },
    design: {
      backgroundColor: '#ffffff',
      titleColor: '#1f2937',
      textColor: '#4b5563',
      buttonColor: '#3b82f6',
      buttonTextColor: '#ffffff'
    }
  };

  let loading = false;
  let initialLoading = true;
  let errors: Record<string, string> = {};

  // Trigger rules based on type
  let timedDelay = 5000;
  let scrollDepth = 50;
  let clickSelector = '[data-popup-trigger]';

  // Options (same as create page)
  const frequencyOptions = [
    { value: 'once', label: 'Once (never show again)' },
    { value: 'once_per_session', label: 'Once per session' },
    { value: 'daily', label: 'Once per day' },
    { value: 'weekly', label: 'Once per week' },
    { value: 'always', label: 'Every page view' }
  ];

  const typeOptions = [
    { value: 'newsletter', label: ' Newsletter Signup' },
    { value: 'exit_intent', label: ' Exit Intent' },
    { value: 'timed', label: ' Timed Popup' },
    { value: 'scroll', label: ' Scroll Triggered' },
    { value: 'click_trigger', label: ' Click Trigger' },
    { value: 'content_locker', label: ' Content Locker' }
  ];

  const statusOptions = [
    { value: 'draft', label: 'Draft' },
    { value: 'published', label: 'Published' },
    { value: 'paused', label: 'Paused' },
    { value: 'archived', label: 'Archived' }
  ];

  const positionOptions = [
    { value: 'center', label: 'Center' },
    { value: 'top', label: 'Top' },
    { value: 'bottom', label: 'Bottom' },
    { value: 'corner', label: 'Bottom Right Corner' }
  ];

  const sizeOptions = [
    { value: 'sm', label: 'Small' },
    { value: 'md', label: 'Medium' },
    { value: 'lg', label: 'Large' },
    { value: 'xl', label: 'Extra Large' },
    { value: 'full', label: 'Full Width' }
  ];

  const animationOptions = [
    { value: 'fade', label: ' Fade In' },
    { value: 'slide', label: ' Slide Up' },
    { value: 'zoom', label: ' Zoom In' },
    { value: 'bounce', label: ' Bounce In' },
    { value: 'rotate', label: ' Rotate In' },
    { value: 'flip', label: ' Flip In' }
  ];

  onMount(async () => {
    await loadPopup();
  });

  async function loadPopup() {
    try {
      initialLoading = true;
      const response = await popupsApi.get(popupId);
      formData = response.popup;

      // Extract trigger rules
      if (formData.trigger_rules) {
        if (formData.trigger_rules.delay !== undefined) {
          timedDelay = formData.trigger_rules.delay;
        }
        if (formData.trigger_rules.scroll_depth !== undefined) {
          scrollDepth = formData.trigger_rules.scroll_depth;
        }
        if (formData.trigger_rules.selector !== undefined) {
          clickSelector = formData.trigger_rules.selector;
        }
      }

      // Ensure display_rules has devices array
      if (!formData.display_rules) {
        formData.display_rules = { devices: ['desktop', 'tablet', 'mobile'] };
      }
      if (!formData.display_rules.devices) {
        formData.display_rules.devices = ['desktop', 'tablet', 'mobile'];
      }

      // Ensure frequency_rules exists
      if (!formData.frequency_rules) {
        formData.frequency_rules = { frequency: 'once_per_session' };
      }

      // Ensure design exists with all properties
      if (!formData.design) {
        formData.design = {
          backgroundColor: '#ffffff',
          titleColor: '#1f2937',
          textColor: '#4b5563',
          buttonColor: '#3b82f6',
          buttonTextColor: '#ffffff',
          buttonBorderRadius: 8,
          buttonShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',
          buttonPadding: '0.875rem 1.5rem'
        };
      } else {
        // Ensure new properties exist on existing design objects
        if (formData.design.buttonBorderRadius === undefined) formData.design.buttonBorderRadius = 8;
        if (!formData.design.buttonShadow) formData.design.buttonShadow = '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)';
        if (!formData.design.buttonPadding) formData.design.buttonPadding = '0.875rem 1.5rem';
      }
    } catch (error) {
      console.error('Failed to load popup:', error);
      addToast({ type: 'error', message: 'Failed to load popup' });
      goto('/admin/popups');
    } finally {
      initialLoading = false;
    }
  }

  function validateForm(): boolean {
    errors = {};

    if (!formData.name?.trim()) {
      errors.name = 'Name is required';
    }

    if (!formData.title?.trim()) {
      errors.title = 'Title is required';
    }

    if (!formData.content?.trim()) {
      errors.content = 'Content is required';
    }

    return Object.keys(errors).length === 0;
  }

  async function handleSubmit() {
    if (!validateForm()) {
      addToast({ type: 'error', message: 'Please fix the errors' });
      return;
    }

    // Build trigger rules based on type
    const triggerRules: Record<string, any> = {};

    switch (formData.type) {
      case 'timed':
        triggerRules.delay = timedDelay;
        break;
      case 'scroll':
        triggerRules.scroll_depth = scrollDepth;
        break;
      case 'click_trigger':
        triggerRules.selector = clickSelector;
        break;
    }

    formData.trigger_rules = triggerRules;

    try {
      loading = true;
      await popupsApi.update(popupId, formData);
      addToast({ type: 'success', message: 'Popup updated successfully!' });
      goto('/admin/popups');
    } catch (error: any) {
      console.error('Failed to update popup:', error);
      addToast({
        type: 'error',
        message: error.response?.data?.message || 'Failed to update popup'
      });
    } finally {
      loading = false;
    }
  }

  function handleCancel() {
    goto('/admin/popups');
  }
</script>

<svelte:head>
  <title>Edit Popup | Revolution Admin</title>
</svelte:head>

{#if initialLoading}
  <div class="flex items-center justify-center h-96">
    <div class="text-center">
      <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"></div>
      <p class="mt-4 text-gray-600">Loading popup...</p>
    </div>
  </div>
{:else}
  <div class="max-w-5xl mx-auto">
    <!-- Header -->
    <div class="mb-6">
      <h1 class="text-3xl font-bold text-gray-900">Edit Popup</h1>
      <p class="text-gray-600 mt-1">Update your popup configuration</p>
    </div>

    <form on:submit|preventDefault={handleSubmit}>
      <div class="space-y-6">
        <!-- Basic Information -->
        <Card>
          <h2 class="text-xl font-semibold mb-4">Basic Information</h2>

          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">
                Internal Name *
              </label>
              <Input
                bind:value={formData.name}
                placeholder="e.g., Exit Intent - Newsletter"
                error={errors.name}
              />
              <p class="text-xs text-gray-500 mt-1">For your reference only, not shown to users</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">
                  Popup Type *
                </label>
                <Select
                  options={typeOptions}
                  bind:value={formData.type}
                />
              </div>

              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">
                  Status *
                </label>
                <Select
                  options={statusOptions}
                  bind:value={formData.status}
                />
              </div>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">
                Priority (1-100)
              </label>
              <Input
                type="number"
                bind:value={formData.priority}
                min="1"
                max="100"
              />
              <p class="text-xs text-gray-500 mt-1">Higher priority popups are shown first</p>
            </div>
          </div>
        </Card>

        <!-- Content -->
        <Card>
          <h2 class="text-xl font-semibold mb-4">Content</h2>

          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">
                Title *
              </label>
              <Input
                bind:value={formData.title}
                placeholder="e.g., Wait! Don't Leave Yet"
                error={errors.title}
              />
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">
                Content *
              </label>
              <textarea
                bind:value={formData.content}
                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 {errors.content ? 'border-red-500' : ''}"
                rows="4"
                placeholder="Enter your message (HTML allowed)"
              ></textarea>
              {#if errors.content}
                <p class="text-xs text-red-600 mt-1">{errors.content}</p>
              {/if}
              <p class="text-xs text-gray-500 mt-1">HTML is supported for formatting</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">
                  Call-to-Action Text
                </label>
                <Input
                  bind:value={formData.cta_text}
                  placeholder="e.g., Get Started"
                />
              </div>

              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">
                  CTA URL
                </label>
                <Input
                  bind:value={formData.cta_url}
                  placeholder="/subscribe"
                />
              </div>
            </div>

            <div class="flex items-center gap-2">
              <input
                type="checkbox"
                id="cta_new_tab"
                bind:checked={formData.cta_new_tab}
                class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
              />
              <label for="cta_new_tab" class="text-sm text-gray-700">
                Open CTA link in new tab
              </label>
            </div>
          </div>
        </Card>

        <!-- Trigger Settings -->
        <Card>
          <h2 class="text-xl font-semibold mb-4">Trigger Settings</h2>

          <div class="space-y-4">
            {#if formData.type === 'timed'}
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">
                  Delay (milliseconds)
                </label>
                <Input
                  type="number"
                  bind:value={timedDelay}
                  min="0"
                  step="1000"
                />
                <p class="text-xs text-gray-500 mt-1">
                  Show popup after {(timedDelay / 1000).toFixed(0)} seconds
                </p>
              </div>
            {:else if formData.type === 'scroll'}
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">
                  Scroll Depth (%)
                </label>
                <Input
                  type="number"
                  bind:value={scrollDepth}
                  min="0"
                  max="100"
                />
                <p class="text-xs text-gray-500 mt-1">
                  Show popup when user scrolls {scrollDepth}% down the page
                </p>
              </div>
            {:else if formData.type === 'click_trigger'}
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">
                  CSS Selector
                </label>
                <Input
                  bind:value={clickSelector}
                  placeholder="[data-popup-trigger]"
                />
                <p class="text-xs text-gray-500 mt-1">
                  Show popup when elements matching this selector are clicked
                </p>
              </div>
            {:else if formData.type === 'exit_intent'}
              <div class="bg-blue-50 border border-blue-200 rounded-md p-4">
                <p class="text-sm text-blue-800">
                  Exit intent popups trigger when the user's mouse moves toward the browser's top edge (leaving the page).
                </p>
              </div>
            {:else if formData.type === 'newsletter'}
              <div class="bg-blue-50 border border-blue-200 rounded-md p-4">
                <p class="text-sm text-blue-800">
                  Newsletter popups display immediately or can be combined with timing/scroll settings.
                </p>
              </div>
            {/if}
          </div>
        </Card>

        <!-- Display Settings -->
        <Card>
          <h2 class="text-xl font-semibold mb-4">Display Settings</h2>

          <div class="space-y-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">
                  Position
                </label>
                <Select
                  options={positionOptions}
                  bind:value={formData.position}
                />
              </div>

              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">
                  Size
                </label>
                <Select
                  options={sizeOptions}
                  bind:value={formData.size}
                />
              </div>

              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">
                  Animation
                </label>
                <Select
                  options={animationOptions}
                  bind:value={formData.animation}
                />
              </div>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">
                Auto Close After (seconds)
              </label>
              <Input
                type="number"
                bind:value={formData.auto_close_after}
                min="0"
                placeholder="Leave empty for manual close only"
              />
            </div>

            <div class="space-y-2">
              <div class="flex items-center gap-2">
                <input
                  type="checkbox"
                  id="show_close_button"
                  bind:checked={formData.show_close_button}
                  class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                />
                <label for="show_close_button" class="text-sm text-gray-700">
                  Show close button (X)
                </label>
              </div>

              <div class="flex items-center gap-2">
                <input
                  type="checkbox"
                  id="close_on_overlay_click"
                  bind:checked={formData.close_on_overlay_click}
                  class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                />
                <label for="close_on_overlay_click" class="text-sm text-gray-700">
                  Close when clicking outside popup
                </label>
              </div>
            </div>
          </div>
        </Card>

        <!-- Frequency Rules -->
        <Card>
          <h2 class="text-xl font-semibold mb-4">Frequency & Targeting</h2>

          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">
                Show Frequency
              </label>
              <Select
                options={frequencyOptions}
                bind:value={formData.frequency_rules.frequency}
              />
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">
                Target Devices
              </label>
              <div class="flex gap-4">
                <label class="flex items-center gap-2">
                  <input
                    type="checkbox"
                    value="desktop"
                    bind:group={formData.display_rules.devices}
                    class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                  />
                  <span class="text-sm text-gray-700">Desktop</span>
                </label>
                <label class="flex items-center gap-2">
                  <input
                    type="checkbox"
                    value="tablet"
                    bind:group={formData.display_rules.devices}
                    class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                  />
                  <span class="text-sm text-gray-700">Tablet</span>
                </label>
                <label class="flex items-center gap-2">
                  <input
                    type="checkbox"
                    value="mobile"
                    bind:group={formData.display_rules.devices}
                    class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                  />
                  <span class="text-sm text-gray-700">Mobile</span>
                </label>
              </div>
            </div>
          </div>
        </Card>

        <!-- Design Customization -->
        <Card>
          <h2 class="text-xl font-semibold mb-4"> Design Customization</h2>

          <div class="space-y-6">
            <!-- Popup Colors -->
            <div>
              <h3 class="text-sm font-semibold text-gray-800 mb-3">Popup Colors</h3>
              <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">
                    Background Color
                  </label>
                  <Input
                    type="color"
                    bind:value={formData.design.backgroundColor}
                  />
                </div>

                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">
                    Title Color
                  </label>
                  <Input
                    type="color"
                    bind:value={formData.design.titleColor}
                  />
                </div>

                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">
                    Text Color
                  </label>
                  <Input
                    type="color"
                    bind:value={formData.design.textColor}
                  />
                </div>
              </div>
            </div>

            <!-- Button Styling -->
            <div>
              <h3 class="text-sm font-semibold text-gray-800 mb-3">Button Styling</h3>
              <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">
                    Button Color
                  </label>
                  <Input
                    type="color"
                    bind:value={formData.design.buttonColor}
                  />
                </div>

                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">
                    Button Text Color
                  </label>
                  <Input
                    type="color"
                    bind:value={formData.design.buttonTextColor}
                  />
                </div>

                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">
                    Button Border Radius (px)
                  </label>
                  <Input
                    type="number"
                    bind:value={formData.design.buttonBorderRadius}
                    min="0"
                    max="50"
                    placeholder="8"
                  />
                </div>
              </div>
            </div>

            <!-- Advanced Button Effects -->
            <div>
              <h3 class="text-sm font-semibold text-gray-800 mb-3">Button Effects</h3>
              <div class="space-y-3">
                <div>
                  <label for="button-shadow-edit" class="block text-sm font-medium text-gray-700 mb-1">
                    Button Shadow
                  </label>
                  <select
                    id="button-shadow-edit"
                    bind:value={formData.design.buttonShadow}
                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                  >
                    <option value="">None</option>
                    <option value="0 1px 2px 0 rgba(0, 0, 0, 0.05)">Subtle</option>
                    <option value="0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)">Default</option>
                    <option value="0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)">Medium</option>
                    <option value="0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)">Large</option>
                    <option value="0 25px 50px -12px rgba(0, 0, 0, 0.25)">Extra Large</option>
                  </select>
                  <p class="text-xs text-gray-500 mt-1">Shadow adds depth to the button</p>
                </div>

                <div>
                  <label for="button-padding-edit" class="block text-sm font-medium text-gray-700 mb-1">
                    Button Padding
                  </label>
                  <select
                    id="button-padding-edit"
                    bind:value={formData.design.buttonPadding}
                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                  >
                    <option value="0.5rem 1rem">Small (0.5rem 1rem)</option>
                    <option value="0.875rem 1.5rem">Default (0.875rem 1.5rem)</option>
                    <option value="1rem 2rem">Medium (1rem 2rem)</option>
                    <option value="1.25rem 2.5rem">Large (1.25rem 2.5rem)</option>
                    <option value="1.5rem 3rem">Extra Large (1.5rem 3rem)</option>
                  </select>
                  <p class="text-xs text-gray-500 mt-1">Adjust button size and spacing</p>
                </div>
              </div>
            </div>
          </div>
        </Card>

        <!-- Stats Summary (Read-only) -->
        {#if formData.total_views !== undefined}
          <Card>
            <h2 class="text-xl font-semibold mb-4">Performance</h2>

            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
              <div>
                <p class="text-sm text-gray-600">Views</p>
                <p class="text-2xl font-bold">{formData.total_views?.toLocaleString() || 0}</p>
              </div>
              <div>
                <p class="text-sm text-gray-600">Conversions</p>
                <p class="text-2xl font-bold text-green-600">{formData.total_conversions?.toLocaleString() || 0}</p>
              </div>
              <div>
                <p class="text-sm text-gray-600">Conversion Rate</p>
                <p class="text-2xl font-bold text-blue-600">{formData.conversion_rate || 0}%</p>
              </div>
              <div>
                <p class="text-sm text-gray-600">Status</p>
                <p class="text-sm font-semibold text-gray-700 uppercase mt-2">{formData.performance_status || 'N/A'}</p>
              </div>
            </div>

            <div class="mt-4">
              <Button variant="outline" on:click={() => goto(`/admin/popups/${popupId}/analytics`)}>
                View Full Analytics
              </Button>
            </div>
          </Card>
        {/if}

        <!-- Actions -->
        <div class="flex justify-end gap-3">
          <Button
            type="button"
            variant="ghost"
            on:click={handleCancel}
            disabled={loading}
          >
            Cancel
          </Button>
          <Button
            type="submit"
            disabled={loading}
          >
            {loading ? 'Saving...' : 'Save Changes'}
          </Button>
        </div>
      </div>
    </form>
  </div>
{/if}

# END OF frontend/src/routes/admin/popups/[id]/edit/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/popups/[id]/analytics/+page.svelte
# PATH: frontend/src/routes/admin/popups/[id]/analytics/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { goto } from '$app/navigation';
  import { page } from '$app/stores';
  import { Card, Button, Badge } from '$lib/components/ui';
  import { addToast } from '$lib/utils/toast';
  import { popupsApi, type Popup } from '$lib/api/popups';
  import { IconArrowLeft, IconTrendingUp, IconEye, IconClick, IconDevices, IconCalendar } from '@tabler/icons-svelte';

  const popupId = parseInt($page.params.id);

  let popup: Popup | null = null;
  let analytics: any = null;
  let loading = true;

  interface AnalyticsData {
    views: {
      total: number;
      today: number;
      this_week: number;
      this_month: number;
      trend: 'up' | 'down' | 'stable';
      trend_percentage: number;
    };
    conversions: {
      total: number;
      today: number;
      this_week: number;
      this_month: number;
      trend: 'up' | 'down' | 'stable';
      trend_percentage: number;
    };
    conversion_rate: {
      overall: number;
      today: number;
      this_week: number;
      this_month: number;
    };
    device_breakdown: {
      desktop: number;
      tablet: number;
      mobile: number;
    };
    top_pages: Array<{
      url: string;
      views: number;
      conversions: number;
      conversion_rate: number;
    }>;
    timeline: {
      views: Array<{ date: string; count: number }>;
      conversions: Array<{ date: string; count: number }>;
    };
  }

  onMount(async () => {
    await loadAnalytics();
  });

  async function loadAnalytics() {
    try {
      loading = true;

      // Load popup details
      const popupResponse = await popupsApi.get(popupId);
      popup = popupResponse.popup;

      // Load analytics data
      const analyticsResponse = await popupsApi.getAnalytics(popupId);
      analytics = analyticsResponse.analytics;
    } catch (error) {
      console.error('Failed to load analytics:', error);
      addToast({ type: 'error', message: 'Failed to load analytics' });
    } finally {
      loading = false;
    }
  }

  function getStatusColor(status: string): 'success' | 'warning' | 'info' | 'default' {
    switch (status) {
      case 'published':
        return 'success';
      case 'draft':
        return 'warning';
      case 'paused':
        return 'info';
      default:
        return 'default';
    }
  }

  function getTrendIcon(trend: 'up' | 'down' | 'stable') {
    if (trend === 'up') return '';
    if (trend === 'down') return '';
    return '';
  }

  function formatNumber(num: number): string {
    return num.toLocaleString();
  }

  function formatPercent(num: number): string {
    return num.toFixed(2) + '%';
  }

  function truncateUrl(url: string, maxLength: number = 50): string {
    if (url.length <= maxLength) return url;
    return url.substring(0, maxLength) + '...';
  }
</script>

<svelte:head>
  <title>Analytics - {popup?.name || 'Popup'} | Revolution Admin</title>
</svelte:head>

{#if loading}
  <div class="flex items-center justify-center h-96">
    <div class="text-center">
      <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"></div>
      <p class="mt-4 text-gray-600">Loading analytics...</p>
    </div>
  </div>
{:else if popup && analytics}
  <div class="max-w-7xl mx-auto">
    <!-- Header -->
    <div class="mb-6">
      <Button variant="ghost" on:click={() => goto('/admin/popups')} class="mb-4">
        <IconArrowLeft size={20} class="mr-2" />
        Back to Popups
      </Button>

      <div class="flex items-center justify-between">
        <div>
          <h1 class="text-3xl font-bold text-gray-900">{popup.name}</h1>
          <div class="flex items-center gap-3 mt-2">
            <Badge variant={getStatusColor(popup.status)}>
              {popup.status}
            </Badge>
            <span class="text-sm text-gray-600">
              {popup.type.replace('_', ' ').replace(/\b\w/g, l => l.toUpperCase())}
            </span>
          </div>
        </div>

        <div class="flex gap-2">
          <Button variant="outline" on:click={() => goto(`/admin/popups/${popupId}/edit`)}>
            Edit Popup
          </Button>
        </div>
      </div>
    </div>

    <!-- Key Metrics -->
    <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
      <!-- Total Views -->
      <Card>
        <div class="flex items-start justify-between">
          <div>
            <p class="text-sm font-medium text-gray-600 mb-1">Total Views</p>
            <p class="text-3xl font-bold text-gray-900">{formatNumber(analytics.views.total)}</p>
            <div class="flex items-center mt-2">
              <span class="text-sm mr-1">{getTrendIcon(analytics.views.trend)}</span>
              <span class="text-sm font-medium {analytics.views.trend === 'up' ? 'text-green-600' : analytics.views.trend === 'down' ? 'text-red-600' : 'text-gray-600'}">
                {formatPercent(analytics.views.trend_percentage)}
              </span>
              <span class="text-sm text-gray-500 ml-1">vs last period</span>
            </div>
          </div>
          <div class="p-3 bg-blue-50 rounded-lg">
            <IconEye size={24} class="text-blue-600" />
          </div>
        </div>
      </Card>

      <!-- Total Conversions -->
      <Card>
        <div class="flex items-start justify-between">
          <div>
            <p class="text-sm font-medium text-gray-600 mb-1">Conversions</p>
            <p class="text-3xl font-bold text-gray-900">{formatNumber(analytics.conversions.total)}</p>
            <div class="flex items-center mt-2">
              <span class="text-sm mr-1">{getTrendIcon(analytics.conversions.trend)}</span>
              <span class="text-sm font-medium {analytics.conversions.trend === 'up' ? 'text-green-600' : analytics.conversions.trend === 'down' ? 'text-red-600' : 'text-gray-600'}">
                {formatPercent(analytics.conversions.trend_percentage)}
              </span>
              <span class="text-sm text-gray-500 ml-1">vs last period</span>
            </div>
          </div>
          <div class="p-3 bg-green-50 rounded-lg">
            <IconClick size={24} class="text-green-600" />
          </div>
        </div>
      </Card>

      <!-- Conversion Rate -->
      <Card>
        <div class="flex items-start justify-between">
          <div>
            <p class="text-sm font-medium text-gray-600 mb-1">Conversion Rate</p>
            <p class="text-3xl font-bold text-gray-900">{formatPercent(analytics.conversion_rate.overall)}</p>
            <div class="mt-2">
              <span class="text-sm text-gray-500">
                Industry avg: 2-5%
              </span>
            </div>
          </div>
          <div class="p-3 bg-purple-50 rounded-lg">
            <IconTrendingUp size={24} class="text-purple-600" />
          </div>
        </div>
      </Card>

      <!-- Performance Status -->
      <Card>
        <div class="flex items-start justify-between">
          <div>
            <p class="text-sm font-medium text-gray-600 mb-1">Performance</p>
            <p class="text-2xl font-bold capitalize {
              popup.performance_status === 'excellent' ? 'text-green-600' :
              popup.performance_status === 'good' ? 'text-blue-600' :
              popup.performance_status === 'average' ? 'text-yellow-600' :
              'text-red-600'
            }">
              {popup.performance_status || 'N/A'}
            </p>
            <div class="mt-2">
              <span class="text-sm text-gray-500">
                Based on conversion rate
              </span>
            </div>
          </div>
          <div class="p-3 bg-yellow-50 rounded-lg">
            <IconCalendar size={24} class="text-yellow-600" />
          </div>
        </div>
      </Card>
    </div>

    <!-- Period Breakdown -->
    <Card class="mb-8">
      <h2 class="text-xl font-semibold mb-4">Performance Over Time</h2>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <!-- Today -->
        <div class="border-l-4 border-blue-500 pl-4">
          <h3 class="text-sm font-medium text-gray-600 mb-2">Today</h3>
          <div class="space-y-1">
            <p class="text-sm">
              <span class="font-semibold">{formatNumber(analytics.views.today)}</span> views
            </p>
            <p class="text-sm">
              <span class="font-semibold text-green-600">{formatNumber(analytics.conversions.today)}</span> conversions
            </p>
            <p class="text-sm">
              <span class="font-semibold text-purple-600">{formatPercent(analytics.conversion_rate.today)}</span> rate
            </p>
          </div>
        </div>

        <!-- This Week -->
        <div class="border-l-4 border-green-500 pl-4">
          <h3 class="text-sm font-medium text-gray-600 mb-2">This Week</h3>
          <div class="space-y-1">
            <p class="text-sm">
              <span class="font-semibold">{formatNumber(analytics.views.this_week)}</span> views
            </p>
            <p class="text-sm">
              <span class="font-semibold text-green-600">{formatNumber(analytics.conversions.this_week)}</span> conversions
            </p>
            <p class="text-sm">
              <span class="font-semibold text-purple-600">{formatPercent(analytics.conversion_rate.this_week)}</span> rate
            </p>
          </div>
        </div>

        <!-- This Month -->
        <div class="border-l-4 border-purple-500 pl-4">
          <h3 class="text-sm font-medium text-gray-600 mb-2">This Month</h3>
          <div class="space-y-1">
            <p class="text-sm">
              <span class="font-semibold">{formatNumber(analytics.views.this_month)}</span> views
            </p>
            <p class="text-sm">
              <span class="font-semibold text-green-600">{formatNumber(analytics.conversions.this_month)}</span> conversions
            </p>
            <p class="text-sm">
              <span class="font-semibold text-purple-600">{formatPercent(analytics.conversion_rate.this_month)}</span> rate
            </p>
          </div>
        </div>
      </div>
    </Card>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
      <!-- Device Breakdown -->
      <Card>
        <h2 class="text-xl font-semibold mb-4 flex items-center gap-2">
          <IconDevices size={24} />
          Device Breakdown
        </h2>

        <div class="space-y-4">
          <!-- Desktop -->
          <div>
            <div class="flex justify-between items-center mb-1">
              <span class="text-sm font-medium text-gray-700"> Desktop</span>
              <span class="text-sm font-semibold text-gray-900">{formatNumber(analytics.device_breakdown.desktop)}</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-2">
              <div
                class="bg-blue-600 h-2 rounded-full"
                style="width: {(analytics.device_breakdown.desktop / analytics.views.total * 100).toFixed(1)}%"
              ></div>
            </div>
            <p class="text-xs text-gray-500 mt-1">
              {(analytics.device_breakdown.desktop / analytics.views.total * 100).toFixed(1)}% of total views
            </p>
          </div>

          <!-- Tablet -->
          <div>
            <div class="flex justify-between items-center mb-1">
              <span class="text-sm font-medium text-gray-700"> Tablet</span>
              <span class="text-sm font-semibold text-gray-900">{formatNumber(analytics.device_breakdown.tablet)}</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-2">
              <div
                class="bg-green-600 h-2 rounded-full"
                style="width: {(analytics.device_breakdown.tablet / analytics.views.total * 100).toFixed(1)}%"
              ></div>
            </div>
            <p class="text-xs text-gray-500 mt-1">
              {(analytics.device_breakdown.tablet / analytics.views.total * 100).toFixed(1)}% of total views
            </p>
          </div>

          <!-- Mobile -->
          <div>
            <div class="flex justify-between items-center mb-1">
              <span class="text-sm font-medium text-gray-700"> Mobile</span>
              <span class="text-sm font-semibold text-gray-900">{formatNumber(analytics.device_breakdown.mobile)}</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-2">
              <div
                class="bg-purple-600 h-2 rounded-full"
                style="width: {(analytics.device_breakdown.mobile / analytics.views.total * 100).toFixed(1)}%"
              ></div>
            </div>
            <p class="text-xs text-gray-500 mt-1">
              {(analytics.device_breakdown.mobile / analytics.views.total * 100).toFixed(1)}% of total views
            </p>
          </div>
        </div>
      </Card>

      <!-- Top Performing Pages -->
      <Card>
        <h2 class="text-xl font-semibold mb-4">Top Performing Pages</h2>

        {#if analytics.top_pages && analytics.top_pages.length > 0}
          <div class="space-y-3">
            {#each analytics.top_pages as pageData, index}
              <div class="border-l-4 {
                index === 0 ? 'border-yellow-500' :
                index === 1 ? 'border-gray-400' :
                index === 2 ? 'border-orange-600' :
                'border-gray-300'
              } pl-3">
                <div class="flex items-start justify-between mb-1">
                  <p class="text-sm font-medium text-gray-900 flex-1">
                    {#if index < 3}
                      <span class="mr-1">{index === 0 ? '' : index === 1 ? '' : ''}</span>
                    {/if}
                    {truncateUrl(pageData.url)}
                  </p>
                  <Badge variant="success" size="sm">
                    {formatPercent(pageData.conversion_rate)}
                  </Badge>
                </div>
                <div class="flex gap-4 text-xs text-gray-600">
                  <span>{formatNumber(pageData.views)} views</span>
                  <span class="text-green-600">{formatNumber(pageData.conversions)} conversions</span>
                </div>
              </div>
            {/each}
          </div>
        {:else}
          <p class="text-sm text-gray-500">No page data available yet</p>
        {/if}
      </Card>
    </div>

    <!-- Timeline Charts -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
      <!-- Views Timeline -->
      <Card>
        <h2 class="text-xl font-semibold mb-4">Views Timeline (Last 30 Days)</h2>

        {#if analytics.timeline.views && analytics.timeline.views.length > 0}
          <div class="space-y-2">
            {#each analytics.timeline.views.slice(-15) as day}
              <div class="flex items-center gap-2">
                <span class="text-xs text-gray-600 w-20">{day.date}</span>
                <div class="flex-1 bg-gray-200 rounded-full h-4">
                  <div
                    class="bg-blue-600 h-4 rounded-full flex items-center justify-end pr-2"
                    style="width: {Math.max((day.count / Math.max(...analytics.timeline.views.map((d: any) => d.count)) * 100), 5)}%"
                  >
                    <span class="text-xs text-white font-semibold">{day.count}</span>
                  </div>
                </div>
              </div>
            {/each}
          </div>
        {:else}
          <p class="text-sm text-gray-500">No timeline data available yet</p>
        {/if}
      </Card>

      <!-- Conversions Timeline -->
      <Card>
        <h2 class="text-xl font-semibold mb-4">Conversions Timeline (Last 30 Days)</h2>

        {#if analytics.timeline.conversions && analytics.timeline.conversions.length > 0}
          <div class="space-y-2">
            {#each analytics.timeline.conversions.slice(-15) as day}
              <div class="flex items-center gap-2">
                <span class="text-xs text-gray-600 w-20">{day.date}</span>
                <div class="flex-1 bg-gray-200 rounded-full h-4">
                  <div
                    class="bg-green-600 h-4 rounded-full flex items-center justify-end pr-2"
                    style="width: {Math.max((day.count / Math.max(...analytics.timeline.conversions.map((d: any) => d.count), 1) * 100), 5)}%"
                  >
                    {#if day.count > 0}
                      <span class="text-xs text-white font-semibold">{day.count}</span>
                    {/if}
                  </div>
                </div>
              </div>
            {/each}
          </div>
        {:else}
          <p class="text-sm text-gray-500">No conversion data available yet</p>
        {/if}
      </Card>
    </div>

    <!-- Insights & Recommendations -->
    <Card class="mt-8">
      <h2 class="text-xl font-semibold mb-4"> Insights & Recommendations</h2>

      <div class="space-y-3">
        {#if analytics.conversion_rate.overall < 1}
          <div class="bg-red-50 border border-red-200 rounded-md p-3">
            <p class="text-sm text-red-800">
              <strong>Low Conversion Rate:</strong> Your conversion rate is below 1%. Consider:
            </p>
            <ul class="text-sm text-red-700 ml-5 mt-1 list-disc">
              <li>Testing a more compelling headline</li>
              <li>Simplifying your call-to-action</li>
              <li>Adjusting trigger timing</li>
            </ul>
          </div>
        {:else if analytics.conversion_rate.overall > 5}
          <div class="bg-green-50 border border-green-200 rounded-md p-3">
            <p class="text-sm text-green-800">
              <strong>Excellent Performance!</strong> Your conversion rate of {formatPercent(analytics.conversion_rate.overall)} is above industry average.
            </p>
          </div>
        {/if}

        {#if analytics.device_breakdown.mobile > analytics.views.total * 0.5}
          <div class="bg-blue-50 border border-blue-200 rounded-md p-3">
            <p class="text-sm text-blue-800">
              <strong>Mobile-First Audience:</strong> Over 50% of your views come from mobile devices. Ensure your popup is mobile-optimized.
            </p>
          </div>
        {/if}

        {#if analytics.views.total < 100}
          <div class="bg-yellow-50 border border-yellow-200 rounded-md p-3">
            <p class="text-sm text-yellow-800">
              <strong>Limited Data:</strong> With fewer than 100 views, continue monitoring before making major changes.
            </p>
          </div>
        {/if}
      </div>
    </Card>
  </div>
{:else}
  <div class="text-center py-12">
    <p class="text-gray-600">Failed to load analytics data</p>
    <Button class="mt-4" on:click={() => goto('/admin/popups')}>
      Back to Popups
    </Button>
  </div>
{/if}

# END OF frontend/src/routes/admin/popups/[id]/analytics/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/seo/+page.svelte
# PATH: frontend/src/routes/admin/seo/+page.svelte
##################################################################

<script lang="ts">
  import {
    IconFileText,
    IconArrowForward,
    IconExternalLink,
    IconError404,
    IconCode,
    IconKey,
    IconChartBar,
    IconSettings,
    IconSitemap,
    IconBrandGoogle
  } from '@tabler/icons-svelte';

  const sections = [
    {
      title: 'SEO Meta',
      description: 'Manage meta tags, Open Graph, and Twitter Cards for all content',
      icon: IconFileText,
      href: '/admin/seo/meta',
      color: 'blue'
    },
    {
      title: 'Redirects',
      description: 'Create and manage 301/302 redirects with regex support',
      icon: IconArrowForward,
      href: '/admin/seo/redirects',
      color: 'green'
    },
    {
      title: '404 Monitor',
      description: 'Track 404 errors and convert them to redirects',
      icon: IconError404,
      href: '/admin/seo/404-monitor',
      color: 'red'
    },
    {
      title: 'Schema Markup',
      description: 'Generate JSON-LD structured data for better search visibility',
      icon: IconCode,
      href: '/admin/seo/schema',
      color: 'purple'
    },
    {
      title: 'Keywords',
      description: 'Track keyword rankings and monitor performance',
      icon: IconKey,
      href: '/admin/seo/keywords',
      color: 'orange'
    },
    {
      title: 'Analytics',
      description: 'View search performance metrics and trends',
      icon: IconChartBar,
      href: '/admin/seo/analytics',
      color: 'teal'
    },
    {
      title: 'Sitemap',
      description: 'Generate and submit XML sitemaps to search engines',
      icon: IconSitemap,
      href: '/admin/seo/sitemap',
      color: 'indigo'
    },
    {
      title: 'Search Console',
      description: 'Connect with Google Search Console for data integration',
      icon: IconBrandGoogle,
      href: '/admin/seo/search-console',
      color: 'pink'
    },
    {
      title: 'Settings',
      description: 'Configure SEO plugin settings and preferences',
      icon: IconSettings,
      href: '/admin/seo/settings',
      color: 'gray'
    }
  ];
</script>

<svelte:head>
  <title>SEO Dashboard | Admin</title>
</svelte:head>

<div class="seo-dashboard">
  <header class="dashboard-header">
    <div>
      <h1>SEO Dashboard</h1>
      <p>Comprehensive SEO tools to optimize your site's search visibility</p>
    </div>
  </header>

  <div class="sections-grid">
    {#each sections as section}
      <a href={section.href} class="section-card {section.color}">
        <div class="card-icon">
          <svelte:component this={section.icon} size={32} />
        </div>
        <h3>{section.title}</h3>
        <p>{section.description}</p>
        <div class="card-arrow">
          <IconExternalLink size={20} />
        </div>
      </a>
    {/each}
  </div>
</div>

<style>
  .seo-dashboard {
    padding: 2rem;
    max-width: 1400px;
    margin: 0 auto;
  }

  .dashboard-header {
    margin-bottom: 3rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .dashboard-header h1 {
    font-size: 2rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 0.5rem;
  }

  .dashboard-header p {
    color: #666;
    font-size: 1.1rem;
  }

  .sections-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 1.5rem;
  }

  .section-card {
    position: relative;
    display: block;
    padding: 2rem;
    background: white;
    border-radius: 12px;
    border: 2px solid #e5e5e5;
    text-decoration: none;
    transition: all 0.3s ease;
    overflow: hidden;
  }

  .section-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: currentColor;
    transform: scaleX(0);
    transform-origin: left;
    transition: transform 0.3s ease;
  }

  .section-card:hover::before {
    transform: scaleX(1);
  }

  .section-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1);
    border-color: currentColor;
  }

  .card-icon {
    margin-bottom: 1rem;
    opacity: 0.8;
  }

  .section-card h3 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #1a1a1a;
    margin-bottom: 0.5rem;
  }

  .section-card p {
    color: #666;
    font-size: 0.95rem;
    line-height: 1.6;
    margin-bottom: 0;
  }

  .card-arrow {
    position: absolute;
    top: 2rem;
    right: 2rem;
    opacity: 0;
    transform: translateX(-10px);
    transition: all 0.3s ease;
  }

  .section-card:hover .card-arrow {
    opacity: 0.6;
    transform: translateX(0);
  }

  /* Color variants */
  .section-card.blue { color: #3b82f6; }
  .section-card.green { color: #10b981; }
  .section-card.red { color: #ef4444; }
  .section-card.purple { color: #8b5cf6; }
  .section-card.orange { color: #f59e0b; }
  .section-card.teal { color: #14b8a6; }
  .section-card.indigo { color: #6366f1; }
  .section-card.pink { color: #ec4899; }
  .section-card.gray { color: #6b7280; }

  @media (max-width: 768px) {
    .seo-dashboard {
      padding: 1rem;
    }

    .dashboard-header h1 {
      font-size: 1.5rem;
    }

    .sections-grid {
      grid-template-columns: 1fr;
      gap: 1rem;
    }

    .section-card {
      padding: 1.5rem;
    }
  }
</style>

# END OF frontend/src/routes/admin/seo/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/seo/404-monitor/+page.svelte
# PATH: frontend/src/routes/admin/seo/404-monitor/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import {
    IconSearch,
    IconArrowForward,
    IconTrash,
    IconEyeOff,
    IconAlertTriangle
  } from '@tabler/icons-svelte';
  import CreateRedirectModal from '$lib/components/seo/CreateRedirectModal.svelte';

  let logs: any[] = [];
  let stats: any = null;
  let loading = false;
  let searchQuery = '';
  let selectedIds: number[] = [];
  let showCreateRedirect = false;
  let selected404: any = null;

  const sortOptions = [
    { value: 'hits', label: 'Most Hits' },
    { value: 'latest', label: 'Latest' },
    { value: 'oldest', label: 'Oldest' }
  ];
  let sortBy = 'hits';

  onMount(() => {
    loadLogs();
    loadStats();
  });

  async function loadLogs() {
    loading = true;
    try {
      const response = await fetch(`/api/seo/404-logs?sort=${sortBy}`);
      const data = await response.json();
      logs = data.data || [];
    } catch (error) {
      console.error('Failed to load 404 logs:', error);
    } finally {
      loading = false;
    }
  }

  async function loadStats() {
    try {
      const response = await fetch('/api/seo/404-logs/stats');
      stats = await response.json();
    } catch (error) {
      console.error('Failed to load stats:', error);
    }
  }

  function createRedirect(log: any) {
    selected404 = log;
    showCreateRedirect = true;
  }

  async function ignore(id: number) {
    try {
      await fetch(`/api/seo/404-logs/${id}/ignore`, { method: 'POST' });
      loadLogs();
      loadStats();
    } catch (error) {
      console.error('Failed to ignore log:', error);
    }
  }

  async function deleteLogs(ids: number[]) {
    if (!confirm(`Delete ${ids.length} log(s)?`)) return;

    try {
      await fetch('/api/seo/404-logs/bulk-delete', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ ids })
      });
      selectedIds = [];
      loadLogs();
      loadStats();
    } catch (error) {
      console.error('Failed to delete logs:', error);
    }
  }

  function toggleSelection(id: number) {
    if (selectedIds.includes(id)) {
      selectedIds = selectedIds.filter(i => i !== id);
    } else {
      selectedIds = [...selectedIds, id];
    }
  }

  function handleRedirectCreated() {
    showCreateRedirect = false;
    selected404 = null;
    loadLogs();
    loadStats();
  }

  $: {
    if (sortBy) {
      loadLogs();
    }
  }

  $: filteredLogs = logs.filter(log =>
    log.url.toLowerCase().includes(searchQuery.toLowerCase()) ||
    log.referer?.toLowerCase().includes(searchQuery.toLowerCase())
  );
</script>

<svelte:head>
  <title>404 Monitor | SEO</title>
</svelte:head>

<div class="monitor-page">
  <header class="page-header">
    <div>
      <h1>404 Error Monitor</h1>
      <p>Track 404 errors and convert them to redirects</p>
    </div>
  </header>

  {#if stats}
    <div class="stats-grid">
      <div class="stat-card warning">
        <IconAlertTriangle size={32} />
        <div class="stat-value">{stats.total}</div>
        <div class="stat-label">Total 404s</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">{stats.unresolved}</div>
        <div class="stat-label">Unresolved</div>
      </div>
      <div class="stat-card success">
        <div class="stat-value">{stats.resolved}</div>
        <div class="stat-label">Resolved</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">{stats.total_hits?.toLocaleString() || 0}</div>
        <div class="stat-label">Total Hits</div>
      </div>
    </div>
  {/if}

  <div class="controls-bar">
    <div class="search-box">
      <IconSearch size={20} />
      <input
        type="text"
        bind:value={searchQuery}
        placeholder="Search URLs..."
      />
    </div>

    <select class="sort-select" bind:value={sortBy}>
      {#each sortOptions as option}
        <option value={option.value}>{option.label}</option>
      {/each}
    </select>

    {#if selectedIds.length > 0}
      <button class="btn-danger" on:click={() => deleteLogs(selectedIds)}>
        <IconTrash size={18} />
        Delete ({selectedIds.length})
      </button>
    {/if}
  </div>

  <div class="logs-table">
    {#if loading}
      <div class="loading">Loading 404 logs...</div>
    {:else if filteredLogs.length === 0}
      <div class="empty-state">
        <h3>No 404 errors found</h3>
        <p>{searchQuery ? 'Try a different search' : 'Great! No 404 errors detected'}</p>
      </div>
    {:else}
      <table>
        <thead>
          <tr>
            <th style="width: 40px"><input type="checkbox" /></th>
            <th>URL</th>
            <th>Hits</th>
            <th>Last Hit</th>
            <th>Referer</th>
            <th>Status</th>
            <th style="width: 160px">Actions</th>
          </tr>
        </thead>
        <tbody>
          {#each filteredLogs as log}
            <tr>
              <td>
                <input
                  type="checkbox"
                  checked={selectedIds.includes(log.id)}
                  on:change={() => toggleSelection(log.id)}
                />
              </td>
              <td>
                <div class="url-cell">
                  {log.url}
                </div>
              </td>
              <td>
                <span class="hits-badge" class:high={log.hits > 10}>
                  {log.hits}
                </span>
              </td>
              <td class="date-cell">
                {new Date(log.last_hit_at).toLocaleDateString()}
              </td>
              <td class="referer-cell">
                {log.referer || ''}
              </td>
              <td>
                {#if log.is_resolved}
                  <span class="status-badge resolved">Resolved</span>
                {:else if log.is_ignored}
                  <span class="status-badge ignored">Ignored</span>
                {:else}
                  <span class="status-badge pending">Pending</span>
                {/if}
              </td>
              <td>
                <div class="actions">
                  {#if !log.is_resolved && !log.is_ignored}
                    <button
                      class="action-btn primary"
                      on:click={() => createRedirect(log)}
                      title="Create Redirect"
                    >
                      <IconArrowForward size={18} />
                    </button>
                    <button
                      class="action-btn"
                      on:click={() => ignore(log.id)}
                      title="Ignore"
                    >
                      <IconEyeOff size={18} />
                    </button>
                  {/if}
                  <button
                    class="action-btn danger"
                    on:click={() => deleteLogs([log.id])}
                    title="Delete"
                  >
                    <IconTrash size={18} />
                  </button>
                </div>
              </td>
            </tr>
          {/each}
        </tbody>
      </table>
    {/if}
  </div>
</div>

{#if showCreateRedirect && selected404}
  <CreateRedirectModal
    url404={selected404.url}
    on:created={handleRedirectCreated}
    on:cancel={() => {
      showCreateRedirect = false;
      selected404 = null;
    }}
  />
{/if}

<style>
  .monitor-page {
    padding: 2rem;
    max-width: 1400px;
    margin: 0 auto;
  }

  .page-header {
    margin-bottom: 2rem;
  }

  .page-header h1 {
    font-size: 1.75rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 0.5rem;
  }

  .page-header p {
    color: #666;
    font-size: 0.95rem;
  }

  .stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 2rem;
  }

  .stat-card {
    background: white;
    padding: 1.5rem;
    border-radius: 8px;
    border: 1px solid #e5e5e5;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
  }

  .stat-card.warning {
    background: #fef3c7;
    border-color: #fde047;
  }

  .stat-card.success {
    background: #dcfce7;
    border-color: #86efac;
  }

  .stat-value {
    font-size: 2rem;
    font-weight: 700;
    color: #1a1a1a;
    margin: 0.5rem 0;
  }

  .stat-label {
    color: #666;
    font-size: 0.9rem;
  }

  .controls-bar {
    display: flex;
    gap: 1rem;
    margin-bottom: 1.5rem;
    align-items: center;
  }

  .search-box {
    flex: 1;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    background: white;
    border: 1px solid #e5e5e5;
    border-radius: 6px;
  }

  .search-box input {
    flex: 1;
    border: none;
    outline: none;
    font-size: 0.95rem;
  }

  .sort-select {
    padding: 0.75rem 1rem;
    background: white;
    border: 1px solid #e5e5e5;
    border-radius: 6px;
    font-size: 0.95rem;
    cursor: pointer;
  }

  .btn-danger {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    font-weight: 500;
    border: none;
    cursor: pointer;
    background: #ef4444;
    color: white;
  }

  .btn-danger:hover {
    background: #dc2626;
  }

  .logs-table {
    background: white;
    border-radius: 8px;
    border: 1px solid #e5e5e5;
    overflow: hidden;
  }

  table {
    width: 100%;
    border-collapse: collapse;
  }

  th {
    text-align: left;
    padding: 1rem;
    background: #f8f9fa;
    border-bottom: 1px solid #e5e5e5;
    font-weight: 600;
    color: #1a1a1a;
    font-size: 0.9rem;
  }

  td {
    padding: 1rem;
    border-bottom: 1px solid #f0f0f0;
    font-size: 0.95rem;
  }

  tbody tr:hover {
    background: #f8f9fa;
  }

  .url-cell {
    color: #dc2626;
    font-family: monospace;
    font-size: 0.9rem;
  }

  .hits-badge {
    display: inline-block;
    padding: 0.25rem 0.625rem;
    background: #f0f0f0;
    color: #666;
    border-radius: 12px;
    font-size: 0.85rem;
    font-weight: 600;
  }

  .hits-badge.high {
    background: #fee2e2;
    color: #dc2626;
  }

  .date-cell {
    color: #666;
    font-size: 0.9rem;
  }

  .referer-cell {
    color: #999;
    font-size: 0.85rem;
    max-width: 200px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  .status-badge {
    display: inline-block;
    padding: 0.375rem 0.75rem;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: 600;
  }

  .status-badge.pending {
    background: #fef3c7;
    color: #d97706;
  }

  .status-badge.resolved {
    background: #dcfce7;
    color: #16a34a;
  }

  .status-badge.ignored {
    background: #f0f0f0;
    color: #999;
  }

  .actions {
    display: flex;
    gap: 0.5rem;
  }

  .action-btn {
    padding: 0.5rem;
    background: none;
    border: 1px solid #e5e5e5;
    border-radius: 4px;
    color: #666;
    cursor: pointer;
    transition: all 0.2s;
  }

  .action-btn:hover {
    background: #f8f9fa;
  }

  .action-btn.primary {
    color: #3b82f6;
    border-color: #dbeafe;
  }

  .action-btn.primary:hover {
    background: #dbeafe;
  }

  .action-btn.danger {
    color: #ef4444;
    border-color: #fee2e2;
  }

  .action-btn.danger:hover {
    background: #fee2e2;
  }

  .empty-state {
    text-align: center;
    padding: 4rem 2rem;
  }

  .empty-state h3 {
    color: #1a1a1a;
    margin-bottom: 0.5rem;
  }

  .empty-state p {
    color: #666;
  }

  .loading {
    text-align: center;
    padding: 3rem;
    color: #999;
  }
</style>

# END OF frontend/src/routes/admin/seo/404-monitor/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/seo/404s/+page.svelte
# PATH: frontend/src/routes/admin/seo/404s/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { Card, Button, Badge, Table } from '$lib/components/ui';
  import { addToast } from '$lib/utils/toast';
  import { seoApi, type Error404 } from '$lib/api/seo';
  import { IconAlertCircle, IconTrash } from '@tabler/icons-svelte';

  let errors: Error404[] = [];
  let loading = true;
  let stats = {
    total: 0,
    resolved: 0,
    unresolved: 0,
    total_hits: 0
  };

  onMount(async () => {
    await loadErrors();
    await loadStats();
  });

  async function loadErrors() {
    try {
      loading = true;
      const response = await seoApi.list404s();
      errors = response.data || [];
    } catch (error) {
      addToast({ type: 'error', message: 'Failed to load 404 errors' });
    } finally {
      loading = false;
    }
  }

  async function loadStats() {
    try {
      const response = await seoApi.get404Stats();
      stats = response as any;
    } catch (error) {
      console.error('Failed to load stats:', error);
    }
  }

  async function handleBulkDelete(resolvedOnly: boolean = true) {
    const message = resolvedOnly
      ? 'Delete all resolved 404 errors?'
      : 'Delete all 404 errors? This action cannot be undone.';

    if (!confirm(message)) return;

    try {
      await seoApi.bulkDelete404s(resolvedOnly);
      addToast({ type: 'success', message: '404 errors deleted successfully' });
      await loadErrors();
      await loadStats();
    } catch (error) {
      addToast({ type: 'error', message: 'Failed to delete 404 errors' });
    }
  }
</script>

<svelte:head>
  <title>404 Errors | Revolution Admin</title>
</svelte:head>

<div>
  <!-- Header -->
  <div class="flex items-center justify-between mb-6">
    <div>
      <h1 class="text-3xl font-bold text-gray-900">404 Error Monitor</h1>
      <p class="text-gray-600 mt-1">Track and fix broken links on your site</p>
    </div>
    <Button variant="danger" on:click={() => handleBulkDelete(true)}>
      <IconTrash size={20} />
      Delete Resolved
    </Button>
  </div>

  <!-- Stats -->
  <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
    <Card>
      <p class="text-sm text-gray-600">Total 404s</p>
      <p class="text-2xl font-bold mt-1">{stats.total}</p>
    </Card>
    <Card>
      <p class="text-sm text-gray-600">Unresolved</p>
      <p class="text-2xl font-bold mt-1 text-red-600">{stats.unresolved}</p>
    </Card>
    <Card>
      <p class="text-sm text-gray-600">Resolved</p>
      <p class="text-2xl font-bold mt-1 text-green-600">{stats.resolved}</p>
    </Card>
    <Card>
      <p class="text-sm text-gray-600">Total Hits</p>
      <p class="text-2xl font-bold mt-1">{stats.total_hits}</p>
    </Card>
  </div>

  <!-- Errors List -->
  {#if loading}
    <Card>
      <div class="text-center py-12">
        <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"></div>
        <p class="mt-4 text-gray-600">Loading 404 errors...</p>
      </div>
    </Card>
  {:else if errors.length === 0}
    <Card>
      <div class="text-center py-12">
        <IconAlertCircle size={48} class="mx-auto text-green-500 mb-4" />
        <p class="text-gray-500">No 404 errors found. Great job!</p>
      </div>
    </Card>
  {:else}
    <Card padding={false}>
      <Table headers={['URL', 'Hit Count', 'Status', 'First Seen', 'Last Seen']}>
        {#each errors as error}
          <tr>
            <td class="font-mono text-sm max-w-md truncate">{error.url}</td>
            <td>
              <Badge variant={error.hit_count > 10 ? 'danger' : 'warning'}>
                {error.hit_count} hits
              </Badge>
            </td>
            <td>
              <Badge variant={error.is_resolved ? 'success' : 'danger'}>
                {error.is_resolved ? 'Resolved' : 'Active'}
              </Badge>
            </td>
            <td class="text-gray-600 text-sm">
              {new Date(error.first_seen_at).toLocaleDateString()}
            </td>
            <td class="text-gray-600 text-sm">
              {new Date(error.last_seen_at).toLocaleDateString()}
            </td>
          </tr>
        {/each}
      </Table>
    </Card>

    <!-- Suggested Actions -->
    <Card class="mt-6">
      <h3 class="text-lg font-bold text-gray-900 mb-4">Recommended Actions</h3>
      <ul class="space-y-2 text-gray-700">
        <li class="flex items-start gap-2">
          <span class="text-blue-600 mt-1"></span>
          <span>Review high-traffic 404s and create redirects to relevant content</span>
        </li>
        <li class="flex items-start gap-2">
          <span class="text-blue-600 mt-1"></span>
          <span>Check internal links that may be pointing to these broken URLs</span>
        </li>
        <li class="flex items-start gap-2">
          <span class="text-blue-600 mt-1"></span>
          <span>Consider creating content for frequently accessed missing pages</span>
        </li>
      </ul>
    </Card>
  {/if}
</div>

# END OF frontend/src/routes/admin/seo/404s/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/seo/analysis/+page.svelte
# PATH: frontend/src/routes/admin/seo/analysis/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { Card, Button, Badge, Input, Select } from '$lib/components/ui';
  import { addToast } from '$lib/utils/toast';
  import { seoApi, type SeoAnalysis } from '$lib/api/seo';
  import { formsApi, type Form } from '$lib/api/forms';
  import { IconSearch, IconRefresh, IconChartBar } from '@tabler/icons-svelte';

  let contentType = 'posts';
  let contentId = '';
  let focusKeyword = '';
  let analysis: SeoAnalysis | null = null;
  let loading = false;
  let analyzing = false;

  // For content selector
  let forms: Form[] = [];
  let selectedContent: any = null;

  const contentTypes = [
    { value: 'posts', label: 'Blog Posts' },
    { value: 'products', label: 'Products' },
    { value: 'forms', label: 'Forms' }
  ];

  onMount(async () => {
    await loadForms();
  });

  async function loadForms() {
    try {
      const response = await formsApi.list();
      forms = response.data || [];
    } catch (error) {
      console.error('Failed to load forms:', error);
    }
  }

  async function handleAnalyze() {
    if (!contentId) {
      addToast({ type: 'error', message: 'Please select content to analyze' });
      return;
    }

    try {
      analyzing = true;
      const response = await seoApi.analyze(
        contentType,
        parseInt(contentId),
        focusKeyword || undefined
      );
      analysis = response.analysis;
      addToast({ type: 'success', message: 'SEO analysis completed!' });
    } catch (error) {
      addToast({ type: 'error', message: 'Failed to analyze content' });
    } finally {
      analyzing = false;
    }
  }

  async function loadAnalysis() {
    if (!contentId) return;

    try {
      loading = true;
      const response = await seoApi.getAnalysis(contentType, parseInt(contentId));
      analysis = response.analysis;
    } catch (error) {
      analysis = null;
    } finally {
      loading = false;
    }
  }

  function getScoreColor(score: number): string {
    if (score >= 80) return 'text-green-600';
    if (score >= 60) return 'text-yellow-600';
    return 'text-red-600';
  }

  function getScoreLabel(score: number): string {
    if (score >= 80) return 'Good';
    if (score >= 60) return 'Needs Improvement';
    return 'Poor';
  }

  $: if (contentId) {
    loadAnalysis();
  }
</script>

<svelte:head>
  <title>SEO Analysis | Revolution Admin</title>
</svelte:head>

<div>
  <!-- Header -->
  <div class="mb-6">
    <h1 class="text-3xl font-bold text-gray-900">SEO Analysis</h1>
    <p class="text-gray-600 mt-1">Analyze and optimize your content for search engines</p>
  </div>

  <!-- Analysis Form -->
  <Card class="mb-6">
    <h2 class="text-xl font-bold text-gray-900 mb-4">Analyze Content</h2>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <Select
        label="Content Type"
        options={contentTypes}
        bind:value={contentType}
      />

      <Input
        label="Content ID"
        type="number"
        bind:value={contentId}
        placeholder="Enter content ID"
      />

      <Input
        label="Focus Keyword (optional)"
        bind:value={focusKeyword}
        placeholder="e.g., trading indicators"
      />
    </div>

    <div class="mt-4">
      <Button on:click={handleAnalyze} loading={analyzing} disabled={!contentId}>
        <IconSearch size={20} />
        Analyze SEO
      </Button>
    </div>
  </Card>

  <!-- Analysis Results -->
  {#if loading}
    <Card>
      <div class="text-center py-12">
        <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"></div>
        <p class="mt-4 text-gray-600">Loading analysis...</p>
      </div>
    </Card>
  {:else if analysis}
    <div class="space-y-6">
      <!-- Score Card -->
      <Card>
        <div class="text-center">
          <p class="text-sm text-gray-600 mb-2">SEO Score</p>
          <div class="relative inline-flex items-center justify-center w-32 h-32">
            <svg class="transform -rotate-90 w-32 h-32">
              <circle
                cx="64"
                cy="64"
                r="56"
                stroke="currentColor"
                stroke-width="8"
                fill="none"
                class="text-gray-200"
              />
              <circle
                cx="64"
                cy="64"
                r="56"
                stroke="currentColor"
                stroke-width="8"
                fill="none"
                class={getScoreColor(analysis.seo_score)}
                stroke-dasharray={`${(analysis.seo_score / 100) * 351.86} 351.86`}
                stroke-linecap="round"
              />
            </svg>
            <div class="absolute">
              <p class="text-3xl font-bold {getScoreColor(analysis.seo_score)}">
                {analysis.seo_score}
              </p>
              <p class="text-xs text-gray-600">/ 100</p>
            </div>
          </div>
          <p class="mt-4 text-lg font-semibold {getScoreColor(analysis.seo_score)}">
            {getScoreLabel(analysis.seo_score)}
          </p>
        </div>
      </Card>

      <!-- Metrics Grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
        <Card>
          <p class="text-sm text-gray-600">Keyword Density</p>
          <p class="text-2xl font-bold mt-1">{analysis.keyword_density.toFixed(2)}%</p>
          <p class="text-xs text-gray-500 mt-1">Optimal: 0.5-2.5%</p>
        </Card>

        <Card>
          <p class="text-sm text-gray-600">Readability Score</p>
          <p class="text-2xl font-bold mt-1">{analysis.readability_score}</p>
          <p class="text-xs text-gray-500 mt-1">Higher is better</p>
        </Card>

        <Card>
          <p class="text-sm text-gray-600">Meta Tags</p>
          <div class="flex gap-2 mt-2">
            <Badge variant={analysis.has_meta_title ? 'success' : 'danger'}>
              Title {analysis.has_meta_title ? '' : ''}
            </Badge>
            <Badge variant={analysis.has_meta_description ? 'success' : 'danger'}>
              Description {analysis.has_meta_description ? '' : ''}
            </Badge>
          </div>
        </Card>
      </div>

      <!-- Suggestions -->
      {#if analysis.suggestions.length > 0}
        <Card>
          <h3 class="text-lg font-bold text-gray-900 mb-4">Improvement Suggestions</h3>
          <ul class="space-y-3">
            {#each analysis.suggestions as suggestion}
              <li class="flex items-start gap-3">
                <span class="text-yellow-500 mt-1"></span>
                <span class="text-gray-700">{suggestion}</span>
              </li>
            {/each}
          </ul>
        </Card>
      {/if}

      <!-- Analysis Results -->
      {#if analysis.analysis_results.length > 0}
        <Card>
          <h3 class="text-lg font-bold text-gray-900 mb-4">Analysis Details</h3>
          <ul class="space-y-2">
            {#each analysis.analysis_results as result}
              <li class="flex items-start gap-3">
                <span class="text-green-500 mt-1"></span>
                <span class="text-gray-700">{result}</span>
              </li>
            {/each}
          </ul>
        </Card>
      {/if}
    </div>
  {:else}
    <Card>
      <div class="text-center py-12">
        <IconChartBar size={48} class="mx-auto text-gray-400 mb-4" />
        <p class="text-gray-500">No analysis available. Select content and click "Analyze SEO" to get started.</p>
      </div>
    </Card>
  {/if}
</div>

# END OF frontend/src/routes/admin/seo/analysis/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/seo/analytics/+page.svelte
# PATH: frontend/src/routes/admin/seo/analytics/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import {
    IconTrendingUp,
    IconTrendingDown,
    IconMinus,
    IconRefresh,
    IconCalendar
  } from '@tabler/icons-svelte';

  let stats: any = null;
  let topPages: any[] = [];
  let comparison: any = null;
  let loading = false;

  let dateRange = {
    start: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
    end: new Date().toISOString().split('T')[0]
  };

  onMount(() => {
    loadData();
  });

  async function loadData() {
    loading = true;
    try {
      await Promise.all([
        loadStats(),
        loadTopPages(),
        loadComparison()
      ]);
    } finally {
      loading = false;
    }
  }

  async function loadStats() {
    const params = new URLSearchParams({
      start_date: dateRange.start,
      end_date: dateRange.end
    });

    try {
      const response = await fetch(`/api/seo/analytics/stats?${params}`);
      const data = await response.json();
      stats = data.stats;
    } catch (error) {
      console.error('Failed to load stats:', error);
    }
  }

  async function loadTopPages() {
    const params = new URLSearchParams({
      start_date: dateRange.start,
      end_date: dateRange.end,
      metric: 'clicks',
      limit: '10'
    });

    try {
      const response = await fetch(`/api/seo/analytics/top-pages?${params}`);
      const data = await response.json();
      topPages = data.data || [];
    } catch (error) {
      console.error('Failed to load top pages:', error);
    }
  }

  async function loadComparison() {
    try {
      const response = await fetch('/api/seo/analytics/comparison');
      comparison = await response.json();
    } catch (error) {
      console.error('Failed to load comparison:', error);
    }
  }

  function formatNumber(num: number) {
    return new Intl.NumberFormat().format(num);
  }

  function getTrendIcon(direction: string) {
    if (direction === 'up') return IconTrendingUp;
    if (direction === 'down') return IconTrendingDown;
    return IconMinus;
  }

  function getTrendClass(direction: string) {
    if (direction === 'up') return 'positive';
    if (direction === 'down') return 'negative';
    return 'neutral';
  }
</script>

<svelte:head>
  <title>SEO Analytics | Admin</title>
</svelte:head>

<div class="analytics-page">
  <header class="page-header">
    <div>
      <h1>SEO Analytics</h1>
      <p>Track search performance and insights</p>
    </div>
    <button class="btn-secondary" on:click={loadData} disabled={loading}>
      <IconRefresh size={18} class={loading ? 'spinning' : ''} />
      Refresh
    </button>
  </header>

  <div class="date-range-picker">
    <IconCalendar size={20} />
    <input type="date" bind:value={dateRange.start} on:change={loadData} />
    <span>to</span>
    <input type="date" bind:value={dateRange.end} on:change={loadData} />
  </div>

  {#if stats}
    <div class="metrics-grid">
      <div class="metric-card">
        <div class="metric-label">Total Impressions</div>
        <div class="metric-value">{formatNumber(stats.total_impressions || 0)}</div>
        {#if comparison?.change?.impressions}
          <div class="metric-change {getTrendClass(comparison.change.impressions.direction)}">
            <svelte:component this={getTrendIcon(comparison.change.impressions.direction)} size={16} />
            {Math.abs(comparison.change.impressions.percentage)}%
          </div>
        {/if}
      </div>

      <div class="metric-card">
        <div class="metric-label">Total Clicks</div>
        <div class="metric-value">{formatNumber(stats.total_clicks || 0)}</div>
        {#if comparison?.change?.clicks}
          <div class="metric-change {getTrendClass(comparison.change.clicks.direction)}">
            <svelte:component this={getTrendIcon(comparison.change.clicks.direction)} size={16} />
            {Math.abs(comparison.change.clicks.percentage)}%
          </div>
        {/if}
      </div>

      <div class="metric-card">
        <div class="metric-label">Average CTR</div>
        <div class="metric-value">{(stats.avg_ctr * 100).toFixed(2)}%</div>
        {#if comparison?.change?.ctr}
          <div class="metric-change {getTrendClass(comparison.change.ctr.direction)}">
            <svelte:component this={getTrendIcon(comparison.change.ctr.direction)} size={16} />
            {Math.abs(comparison.change.ctr.percentage)}%
          </div>
        {/if}
      </div>

      <div class="metric-card">
        <div class="metric-label">Average Position</div>
        <div class="metric-value">{stats.avg_position ? stats.avg_position.toFixed(1) : ''}</div>
        {#if comparison?.change?.position}
          <div class="metric-change {getTrendClass(comparison.change.position.direction)}">
            <svelte:component this={getTrendIcon(comparison.change.position.direction)} size={16} />
            {Math.abs(comparison.change.position.percentage)}%
          </div>
        {/if}
      </div>
    </div>
  {/if}

  {#if topPages.length > 0}
    <div class="top-pages-section">
      <h2>Top Performing Pages</h2>
      <div class="pages-table">
        <table>
          <thead>
            <tr>
              <th>URL</th>
              <th>Impressions</th>
              <th>Clicks</th>
              <th>CTR</th>
              <th>Avg. Position</th>
            </tr>
          </thead>
          <tbody>
            {#each topPages as page}
              <tr>
                <td>
                  <div class="url-cell">{page.url}</div>
                </td>
                <td class="number">{formatNumber(page.total_impressions || 0)}</td>
                <td class="number">{formatNumber(page.total_clicks || 0)}</td>
                <td class="number">{(page.avg_ctr * 100).toFixed(2)}%</td>
                <td class="number">{page.avg_position ? page.avg_position.toFixed(1) : ''}</td>
              </tr>
            {/each}
          </tbody>
        </table>
      </div>
    </div>
  {:else if !loading}
    <div class="empty-state">
      <h3>No analytics data available</h3>
      <p>Connect Google Search Console or wait for data to accumulate</p>
      <a href="/admin/seo/search-console" class="btn-primary">
        Connect Search Console
      </a>
    </div>
  {/if}
</div>

<style>
  .analytics-page {
    padding: 2rem;
    max-width: 1400px;
    margin: 0 auto;
  }

  .page-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
  }

  .page-header h1 {
    font-size: 1.75rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 0.5rem;
  }

  .page-header p {
    color: #666;
    font-size: 0.95rem;
  }

  .btn-secondary, .btn-primary {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    font-weight: 500;
    border: none;
    cursor: pointer;
    transition: all 0.2s;
    text-decoration: none;
  }

  .btn-secondary {
    background: white;
    color: #666;
    border: 1px solid #e5e5e5;
  }

  .btn-secondary:hover:not(:disabled) {
    background: #f8f9fa;
  }

  .btn-secondary:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  .btn-primary {
    background: #3b82f6;
    color: white;
  }

  .btn-primary:hover {
    background: #2563eb;
  }

  :global(.spinning) {
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  .date-range-picker {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background: white;
    border: 1px solid #e5e5e5;
    border-radius: 8px;
    margin-bottom: 2rem;
    width: fit-content;
  }

  .date-range-picker input {
    padding: 0.5rem 0.75rem;
    border: 1px solid #e5e5e5;
    border-radius: 4px;
    font-size: 0.95rem;
  }

  .metrics-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin-bottom: 3rem;
  }

  .metric-card {
    background: white;
    padding: 1.5rem;
    border-radius: 8px;
    border: 1px solid #e5e5e5;
  }

  .metric-label {
    font-size: 0.9rem;
    color: #666;
    margin-bottom: 0.75rem;
  }

  .metric-value {
    font-size: 2rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 0.5rem;
  }

  .metric-change {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    font-size: 0.9rem;
    font-weight: 600;
  }

  .metric-change.positive {
    color: #16a34a;
  }

  .metric-change.negative {
    color: #dc2626;
  }

  .metric-change.neutral {
    color: #999;
  }

  .top-pages-section {
    margin-bottom: 3rem;
  }

  .top-pages-section h2 {
    font-size: 1.5rem;
    font-weight: 600;
    color: #1a1a1a;
    margin-bottom: 1.5rem;
  }

  .pages-table {
    background: white;
    border-radius: 8px;
    border: 1px solid #e5e5e5;
    overflow: hidden;
  }

  table {
    width: 100%;
    border-collapse: collapse;
  }

  th {
    text-align: left;
    padding: 1rem;
    background: #f8f9fa;
    border-bottom: 1px solid #e5e5e5;
    font-weight: 600;
    color: #1a1a1a;
    font-size: 0.9rem;
  }

  th:not(:first-child) {
    text-align: right;
  }

  td {
    padding: 1rem;
    border-bottom: 1px solid #f0f0f0;
    font-size: 0.95rem;
  }

  td.number {
    text-align: right;
    font-variant-numeric: tabular-nums;
  }

  tbody tr:hover {
    background: #f8f9fa;
  }

  .url-cell {
    color: #3b82f6;
    max-width: 400px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    font-size: 0.9rem;
  }

  .empty-state {
    text-align: center;
    padding: 4rem 2rem;
  }

  .empty-state h3 {
    color: #1a1a1a;
    margin-bottom: 0.5rem;
  }

  .empty-state p {
    color: #666;
    margin-bottom: 1.5rem;
  }
</style>

# END OF frontend/src/routes/admin/seo/analytics/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/seo/keywords/+page.svelte
# PATH: frontend/src/routes/admin/seo/keywords/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import {
    IconPlus,
    IconSearch,
    IconTrendingUp,
    IconTrendingDown,
    IconMinus,
    IconTrash,
    IconRefresh
  } from '@tabler/icons-svelte';

  let keywords: any[] = [];
  let stats: any = null;
  let loading = false;
  let searchQuery = '';

  onMount(() => {
    loadKeywords();
    loadStats();
  });

  async function loadKeywords() {
    loading = true;
    try {
      const response = await fetch('/api/seo/keywords');
      const data = await response.json();
      keywords = data.data || [];
    } catch (error) {
      console.error('Failed to load keywords:', error);
    } finally {
      loading = false;
    }
  }

  async function loadStats() {
    try {
      const response = await fetch('/api/seo/keywords/stats');
      stats = await response.json();
    } catch (error) {
      console.error('Failed to load stats:', error);
    }
  }

  async function deleteKeyword(id: number) {
    if (!confirm('Delete this keyword?')) return;

    try {
      await fetch(`/api/seo/keywords/${id}`, { method: 'DELETE' });
      loadKeywords();
      loadStats();
    } catch (error) {
      console.error('Failed to delete keyword:', error);
    }
  }

  function getRankClass(rank: number) {
    if (rank <= 3) return 'top-3';
    if (rank <= 10) return 'top-10';
    if (rank <= 20) return 'top-20';
    return 'other';
  }

  function getTrendIcon(change: number) {
    if (change > 0) return IconTrendingUp;
    if (change < 0) return IconTrendingDown;
    return IconMinus;
  }

  function getTrendClass(change: number) {
    if (change > 0) return 'positive';
    if (change < 0) return 'negative';
    return 'neutral';
  }

  $: filteredKeywords = keywords.filter(kw =>
    kw.keyword.toLowerCase().includes(searchQuery.toLowerCase())
  );
</script>

<svelte:head>
  <title>Keyword Tracking | SEO</title>
</svelte:head>

<div class="keywords-page">
  <header class="page-header">
    <div>
      <h1>Keyword Tracking</h1>
      <p>Monitor keyword rankings and performance</p>
    </div>
    <button class="btn-primary">
      <IconPlus size={18} />
      Add Keyword
    </button>
  </header>

  {#if stats}
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-value">{stats.total}</div>
        <div class="stat-label">Total Keywords</div>
      </div>
      <div class="stat-card success">
        <div class="stat-value">{stats.top_3}</div>
        <div class="stat-label">Top 3 Rankings</div>
      </div>
      <div class="stat-card primary">
        <div class="stat-value">{stats.top_10}</div>
        <div class="stat-label">Top 10 Rankings</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">{stats.avg_position ? Math.round(stats.avg_position) : ''}</div>
        <div class="stat-label">Avg. Position</div>
      </div>
    </div>
  {/if}

  <div class="controls-bar">
    <div class="search-box">
      <IconSearch size={20} />
      <input
        type="text"
        bind:value={searchQuery}
        placeholder="Search keywords..."
      />
    </div>

    <button class="btn-secondary" on:click={loadKeywords}>
      <IconRefresh size={18} />
      Refresh
    </button>
  </div>

  <div class="keywords-table">
    {#if loading}
      <div class="loading">Loading keywords...</div>
    {:else if filteredKeywords.length === 0}
      <div class="empty-state">
        <h3>No keywords tracked yet</h3>
        <p>Add keywords to start tracking their rankings</p>
        <button class="btn-primary">
          <IconPlus size={18} />
          Add Your First Keyword
        </button>
      </div>
    {:else}
      <table>
        <thead>
          <tr>
            <th>Keyword</th>
            <th>Current Rank</th>
            <th>Change</th>
            <th>Search Volume</th>
            <th>Competition</th>
            <th>Target URL</th>
            <th style="width: 100px">Actions</th>
          </tr>
        </thead>
        <tbody>
          {#each filteredKeywords as keyword}
            <tr>
              <td>
                <div class="keyword-cell">{keyword.keyword}</div>
              </td>
              <td>
                {#if keyword.current_rank}
                  <span class="rank-badge {getRankClass(keyword.current_rank)}">
                    #{keyword.current_rank}
                  </span>
                {:else}
                  <span class="rank-badge unranked">Not ranked</span>
                {/if}
              </td>
              <td>
                {#if keyword.rank_change !== null && keyword.rank_change !== 0}
                  <div class="trend {getTrendClass(keyword.rank_change)}">
                    <svelte:component this={getTrendIcon(keyword.rank_change)} size={16} />
                    {Math.abs(keyword.rank_change)}
                  </div>
                {:else}
                  <span class="neutral"></span>
                {/if}
              </td>
              <td>{keyword.search_volume?.toLocaleString() || ''}</td>
              <td>
                {#if keyword.competition !== null}
                  <div class="competition-bar">
                    <div class="competition-fill" style="width: {keyword.competition * 100}%"></div>
                    <span class="competition-value">{Math.round(keyword.competition * 100)}%</span>
                  </div>
                {:else}
                  
                {/if}
              </td>
              <td class="url-cell">{keyword.target_url || ''}</td>
              <td>
                <div class="actions">
                  <button
                    class="action-btn danger"
                    on:click={() => deleteKeyword(keyword.id)}
                    title="Delete"
                  >
                    <IconTrash size={18} />
                  </button>
                </div>
              </td>
            </tr>
          {/each}
        </tbody>
      </table>
    {/if}
  </div>

  {#if stats?.top_keywords && stats.top_keywords.length > 0}
    <div class="top-keywords-section">
      <h2>Top Performing Keywords</h2>
      <div class="top-keywords-grid">
        {#each stats.top_keywords as keyword}
          <div class="top-keyword-card">
            <div class="keyword-rank">#{keyword.current_rank}</div>
            <div class="keyword-name">{keyword.keyword}</div>
            <div class="keyword-volume">{keyword.search_volume?.toLocaleString()} searches/mo</div>
          </div>
        {/each}
      </div>
    </div>
  {/if}

  {#if stats?.opportunity_keywords && stats.opportunity_keywords.length > 0}
    <div class="opportunities-section">
      <h2>Quick Win Opportunities</h2>
      <p class="section-desc">Keywords ranking 11-30 with high potential</p>
      <div class="opportunities-grid">
        {#each stats.opportunity_keywords as keyword}
          <div class="opportunity-card">
            <div class="opp-header">
              <span class="rank-badge top-20">#{keyword.current_rank}</span>
              <span class="competition-badge">{Math.round(keyword.competition * 100)}% comp.</span>
            </div>
            <div class="opp-keyword">{keyword.keyword}</div>
            <div class="opp-volume">{keyword.search_volume?.toLocaleString()} searches/mo</div>
          </div>
        {/each}
      </div>
    </div>
  {/if}
</div>

<style>
  .keywords-page {
    padding: 2rem;
    max-width: 1400px;
    margin: 0 auto;
  }

  .page-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
  }

  .page-header h1 {
    font-size: 1.75rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 0.5rem;
  }

  .page-header p {
    color: #666;
    font-size: 0.95rem;
  }

  .btn-primary, .btn-secondary {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    font-weight: 500;
    border: none;
    cursor: pointer;
    transition: all 0.2s;
  }

  .btn-primary {
    background: #3b82f6;
    color: white;
  }

  .btn-primary:hover {
    background: #2563eb;
  }

  .btn-secondary {
    background: white;
    color: #666;
    border: 1px solid #e5e5e5;
  }

  .btn-secondary:hover {
    background: #f8f9fa;
  }

  .stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 2rem;
  }

  .stat-card {
    background: white;
    padding: 1.5rem;
    border-radius: 8px;
    border: 1px solid #e5e5e5;
    text-align: center;
  }

  .stat-card.success {
    background: #dcfce7;
    border-color: #86efac;
  }

  .stat-card.primary {
    background: #dbeafe;
    border-color: #93c5fd;
  }

  .stat-value {
    font-size: 2rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 0.5rem;
  }

  .stat-label {
    color: #666;
    font-size: 0.9rem;
  }

  .controls-bar {
    display: flex;
    gap: 1rem;
    margin-bottom: 1.5rem;
  }

  .search-box {
    flex: 1;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    background: white;
    border: 1px solid #e5e5e5;
    border-radius: 6px;
  }

  .search-box input {
    flex: 1;
    border: none;
    outline: none;
    font-size: 0.95rem;
  }

  .keywords-table {
    background: white;
    border-radius: 8px;
    border: 1px solid #e5e5e5;
    overflow: hidden;
    margin-bottom: 3rem;
  }

  table {
    width: 100%;
    border-collapse: collapse;
  }

  th {
    text-align: left;
    padding: 1rem;
    background: #f8f9fa;
    border-bottom: 1px solid #e5e5e5;
    font-weight: 600;
    color: #1a1a1a;
    font-size: 0.9rem;
  }

  td {
    padding: 1rem;
    border-bottom: 1px solid #f0f0f0;
    font-size: 0.95rem;
  }

  tbody tr:hover {
    background: #f8f9fa;
  }

  .keyword-cell {
    font-weight: 500;
    color: #1a1a1a;
  }

  .rank-badge {
    display: inline-block;
    padding: 0.375rem 0.75rem;
    border-radius: 12px;
    font-size: 0.85rem;
    font-weight: 600;
  }

  .rank-badge.top-3 {
    background: #dcfce7;
    color: #16a34a;
  }

  .rank-badge.top-10 {
    background: #dbeafe;
    color: #3b82f6;
  }

  .rank-badge.top-20 {
    background: #fef3c7;
    color: #d97706;
  }

  .rank-badge.other {
    background: #f0f0f0;
    color: #666;
  }

  .rank-badge.unranked {
    background: #fee2e2;
    color: #dc2626;
  }

  .trend {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    font-weight: 600;
    font-size: 0.9rem;
  }

  .trend.positive {
    color: #16a34a;
  }

  .trend.negative {
    color: #dc2626;
  }

  .trend.neutral {
    color: #999;
  }

  .competition-bar {
    position: relative;
    width: 100px;
    height: 24px;
    background: #f0f0f0;
    border-radius: 12px;
    overflow: hidden;
  }

  .competition-fill {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    background: linear-gradient(90deg, #22c55e, #eab308, #ef4444);
    transition: width 0.3s;
  }

  .competition-value {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
    font-size: 0.75rem;
    font-weight: 600;
    color: #1a1a1a;
  }

  .url-cell {
    color: #666;
    font-size: 0.85rem;
    max-width: 200px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  .actions {
    display: flex;
    gap: 0.5rem;
  }

  .action-btn {
    padding: 0.5rem;
    background: none;
    border: 1px solid #e5e5e5;
    border-radius: 4px;
    color: #666;
    cursor: pointer;
    transition: all 0.2s;
  }

  .action-btn.danger {
    color: #ef4444;
    border-color: #fee2e2;
  }

  .action-btn.danger:hover {
    background: #fee2e2;
  }

  .empty-state {
    text-align: center;
    padding: 4rem 2rem;
  }

  .empty-state h3 {
    color: #1a1a1a;
    margin-bottom: 0.5rem;
  }

  .empty-state p {
    color: #666;
    margin-bottom: 1.5rem;
  }

  .loading {
    text-align: center;
    padding: 3rem;
    color: #999;
  }

  .top-keywords-section,
  .opportunities-section {
    margin-bottom: 3rem;
  }

  .top-keywords-section h2,
  .opportunities-section h2 {
    font-size: 1.5rem;
    font-weight: 600;
    color: #1a1a1a;
    margin-bottom: 0.5rem;
  }

  .section-desc {
    color: #666;
    margin-bottom: 1.5rem;
  }

  .top-keywords-grid,
  .opportunities-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 1rem;
  }

  .top-keyword-card {
    padding: 1.5rem;
    background: white;
    border: 1px solid #e5e5e5;
    border-radius: 8px;
    text-align: center;
  }

  .keyword-rank {
    font-size: 2rem;
    font-weight: 700;
    color: #16a34a;
    margin-bottom: 0.5rem;
  }

  .keyword-name {
    font-weight: 500;
    color: #1a1a1a;
    margin-bottom: 0.5rem;
  }

  .keyword-volume {
    font-size: 0.85rem;
    color: #666;
  }

  .opportunity-card {
    padding: 1.25rem;
    background: white;
    border: 1px solid #e5e5e5;
    border-radius: 8px;
  }

  .opp-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.75rem;
  }

  .competition-badge {
    font-size: 0.75rem;
    color: #666;
  }

  .opp-keyword {
    font-weight: 500;
    color: #1a1a1a;
    margin-bottom: 0.5rem;
  }

  .opp-volume {
    font-size: 0.85rem;
    color: #666;
  }
</style>

# END OF frontend/src/routes/admin/seo/keywords/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/seo/meta/+page.svelte
# PATH: frontend/src/routes/admin/seo/meta/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import {
    IconSearch,
    IconFileText,
    IconEye,
    IconDeviceFloppy,
    IconRefresh
  } from '@tabler/icons-svelte';
  import SeoMetaEditor from '$lib/components/seo/SeoMetaEditor.svelte';
  import SeoAnalyzer from '$lib/components/seo/SeoAnalyzer.svelte';

  let entities: any[] = [];
  let selectedEntity: any = null;
  let loading = false;
  let searchQuery = '';

  onMount(() => {
    loadEntities();
  });

  async function loadEntities() {
    // This would load entities (pages, posts, products, etc.)
    // For now, we'll just create a placeholder
    entities = [];
  }

  $: filteredEntities = entities.filter(entity =>
    entity.title.toLowerCase().includes(searchQuery.toLowerCase())
  );
</script>

<svelte:head>
  <title>SEO Meta Manager | Admin</title>
</svelte:head>

<div class="seo-meta-page">
  <header class="page-header">
    <div>
      <h1>SEO Meta Manager</h1>
      <p>Manage meta tags, Open Graph, and Twitter Cards for your content</p>
    </div>
  </header>

  <div class="page-content">
    <div class="entities-sidebar">
      <div class="search-box">
        <IconSearch size={20} />
        <input
          type="text"
          bind:value={searchQuery}
          placeholder="Search entities..."
        />
      </div>

      <div class="entities-list">
        {#if loading}
          <div class="loading">Loading...</div>
        {:else if filteredEntities.length === 0}
          <div class="empty-state">
            <IconFileText size={48} />
            <p>No content found</p>
            <p class="hint">Create pages, posts, or products to optimize their SEO</p>
          </div>
        {:else}
          {#each filteredEntities as entity}
            <button
              class="entity-item"
              class:active={selectedEntity?.id === entity.id}
              on:click={() => selectedEntity = entity}
            >
              <div class="entity-info">
                <h4>{entity.title}</h4>
                <span class="entity-type">{entity.type}</span>
              </div>
              {#if entity.seo_score}
                <div class="score-badge" class:good={entity.seo_score >= 70} class:warning={entity.seo_score >= 40 && entity.seo_score < 70} class:poor={entity.seo_score < 40}>
                  {entity.seo_score}
                </div>
              {/if}
            </button>
          {/each}
        {/if}
      </div>
    </div>

    <div class="editor-area">
      {#if selectedEntity}
        <SeoMetaEditor entity={selectedEntity} />
      {:else}
        <div class="no-selection">
          <IconEye size={64} />
          <h3>Select Content to Optimize</h3>
          <p>Choose a page, post, or product from the left sidebar to manage its SEO settings</p>
        </div>
      {/if}
    </div>
  </div>
</div>

<style>
  .seo-meta-page {
    height: calc(100vh - 120px);
    display: flex;
    flex-direction: column;
    background: #f8f9fa;
  }

  .page-header {
    padding: 2rem;
    background: white;
    border-bottom: 1px solid #e5e5e5;
  }

  .page-header h1 {
    font-size: 1.75rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 0.5rem;
  }

  .page-header p {
    color: #666;
    font-size: 0.95rem;
  }

  .page-content {
    display: grid;
    grid-template-columns: 320px 1fr;
    flex: 1;
    overflow: hidden;
  }

  .entities-sidebar {
    background: white;
    border-right: 1px solid #e5e5e5;
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  .search-box {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem;
    border-bottom: 1px solid #e5e5e5;
  }

  .search-box input {
    flex: 1;
    border: none;
    outline: none;
    font-size: 0.95rem;
    color: #1a1a1a;
  }

  .search-box input::placeholder {
    color: #999;
  }

  .entities-list {
    flex: 1;
    overflow-y: auto;
  }

  .entity-item {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1rem;
    border: none;
    border-bottom: 1px solid #f0f0f0;
    background: white;
    cursor: pointer;
    transition: background 0.2s;
    text-align: left;
  }

  .entity-item:hover {
    background: #f8f9fa;
  }

  .entity-item.active {
    background: #eff6ff;
    border-left: 3px solid #3b82f6;
  }

  .entity-info h4 {
    font-size: 0.95rem;
    font-weight: 500;
    color: #1a1a1a;
    margin-bottom: 0.25rem;
  }

  .entity-type {
    font-size: 0.8rem;
    color: #999;
    text-transform: capitalize;
  }

  .score-badge {
    width: 42px;
    height: 42px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    font-size: 0.9rem;
  }

  .score-badge.good {
    background: #dcfce7;
    color: #16a34a;
  }

  .score-badge.warning {
    background: #fef3c7;
    color: #d97706;
  }

  .score-badge.poor {
    background: #fee2e2;
    color: #dc2626;
  }

  .empty-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 3rem 1.5rem;
    text-align: center;
    color: #999;
  }

  .empty-state p {
    margin: 0.5rem 0 0;
    font-size: 0.95rem;
  }

  .empty-state .hint {
    font-size: 0.85rem;
    color: #bbb;
  }

  .editor-area {
    overflow-y: auto;
    background: #f8f9fa;
  }

  .no-selection {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    color: #999;
    text-align: center;
  }

  .no-selection h3 {
    margin: 1rem 0 0.5rem;
    color: #666;
    font-weight: 500;
  }

  .no-selection p {
    max-width: 400px;
    font-size: 0.95rem;
  }

  .loading {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 3rem;
    color: #999;
  }

  @media (max-width: 1024px) {
    .page-content {
      grid-template-columns: 280px 1fr;
    }
  }

  @media (max-width: 768px) {
    .page-content {
      grid-template-columns: 1fr;
    }

    .entities-sidebar {
      display: none;
    }
  }
</style>

# END OF frontend/src/routes/admin/seo/meta/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/seo/redirects/+page.svelte
# PATH: frontend/src/routes/admin/seo/redirects/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import {
    IconPlus,
    IconSearch,
    IconTrash,
    IconEdit,
    IconToggleLeft,
    IconToggleRight,
    IconDownload,
    IconUpload,
    IconChartLine
  } from '@tabler/icons-svelte';
  import RedirectEditor from '$lib/components/seo/RedirectEditor.svelte';

  let redirects: any[] = [];
  let stats: any = null;
  let loading = false;
  let searchQuery = '';
  let showEditor = false;
  let editingRedirect: any = null;
  let selectedIds: number[] = [];

  const filterTypes = ['all', '301', '302', '307', '308', '410'];
  let activeFilter = 'all';

  onMount(() => {
    loadRedirects();
    loadStats();
  });

  async function loadRedirects() {
    loading = true;
    try {
      const response = await fetch('/api/seo/redirects');
      const data = await response.json();
      redirects = data.data || [];
    } catch (error) {
      console.error('Failed to load redirects:', error);
    } finally {
      loading = false;
    }
  }

  async function loadStats() {
    try {
      const response = await fetch('/api/seo/redirects/stats');
      stats = await response.json();
    } catch (error) {
      console.error('Failed to load stats:', error);
    }
  }

  function createRedirect() {
    editingRedirect = null;
    showEditor = true;
  }

  function editRedirect(redirect: any) {
    editingRedirect = redirect;
    showEditor = true;
  }

  async function deleteRedirect(id: number) {
    if (!confirm('Are you sure you want to delete this redirect?')) return;

    try {
      await fetch(`/api/seo/redirects/${id}`, { method: 'DELETE' });
      loadRedirects();
      loadStats();
    } catch (error) {
      console.error('Failed to delete redirect:', error);
    }
  }

  async function toggleRedirect(redirect: any) {
    try {
      await fetch(`/api/seo/redirects/${redirect.id}/toggle`, { method: 'POST' });
      redirect.is_active = !redirect.is_active;
      redirects = [...redirects];
    } catch (error) {
      console.error('Failed to toggle redirect:', error);
    }
  }

  function toggleSelection(id: number) {
    if (selectedIds.includes(id)) {
      selectedIds = selectedIds.filter(i => i !== id);
    } else {
      selectedIds = [...selectedIds, id];
    }
  }

  async function bulkDelete() {
    if (!confirm(`Delete ${selectedIds.length} redirects?`)) return;

    try {
      await fetch('/api/seo/redirects/bulk-delete', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ ids: selectedIds })
      });
      selectedIds = [];
      loadRedirects();
      loadStats();
    } catch (error) {
      console.error('Failed to delete redirects:', error);
    }
  }

  function handleSaved() {
    showEditor = false;
    loadRedirects();
    loadStats();
  }

  $: filteredRedirects = redirects.filter(redirect => {
    const matchesSearch =
      redirect.source_url.toLowerCase().includes(searchQuery.toLowerCase()) ||
      redirect.destination_url.toLowerCase().includes(searchQuery.toLowerCase());

    const matchesFilter = activeFilter === 'all' || redirect.redirect_type === activeFilter;

    return matchesSearch && matchesFilter;
  });
</script>

<svelte:head>
  <title>Redirect Manager | SEO</title>
</svelte:head>

<div class="redirects-page">
  <header class="page-header">
    <div>
      <h1>Redirect Manager</h1>
      <p>Manage 301/302 redirects with regex support</p>
    </div>
    <button class="btn-primary" on:click={createRedirect}>
      <IconPlus size={18} />
      Add Redirect
    </button>
  </header>

  {#if stats}
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-value">{stats.total}</div>
        <div class="stat-label">Total Redirects</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">{stats.active}</div>
        <div class="stat-label">Active</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">{stats.inactive}</div>
        <div class="stat-label">Inactive</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">{stats.total_hits?.toLocaleString() || 0}</div>
        <div class="stat-label">Total Hits</div>
      </div>
    </div>
  {/if}

  <div class="controls-bar">
    <div class="search-box">
      <IconSearch size={20} />
      <input
        type="text"
        bind:value={searchQuery}
        placeholder="Search redirects..."
      />
    </div>

    <div class="filter-tabs">
      {#each filterTypes as type}
        <button
          class="filter-tab"
          class:active={activeFilter === type}
          on:click={() => activeFilter = type}
        >
          {type === 'all' ? 'All' : type}
        </button>
      {/each}
    </div>

    {#if selectedIds.length > 0}
      <button class="btn-danger" on:click={bulkDelete}>
        <IconTrash size={18} />
        Delete ({selectedIds.length})
      </button>
    {/if}
  </div>

  <div class="redirects-table">
    {#if loading}
      <div class="loading">Loading redirects...</div>
    {:else if filteredRedirects.length === 0}
      <div class="empty-state">
        <h3>No redirects found</h3>
        <p>Create your first redirect to get started</p>
        <button class="btn-primary" on:click={createRedirect}>
          <IconPlus size={18} />
          Add Redirect
        </button>
      </div>
    {:else}
      <table>
        <thead>
          <tr>
            <th style="width: 40px"><input type="checkbox" /></th>
            <th>Source URL</th>
            <th>Destination URL</th>
            <th>Type</th>
            <th>Hits</th>
            <th>Status</th>
            <th style="width: 120px">Actions</th>
          </tr>
        </thead>
        <tbody>
          {#each filteredRedirects as redirect}
            <tr>
              <td>
                <input
                  type="checkbox"
                  checked={selectedIds.includes(redirect.id)}
                  on:change={() => toggleSelection(redirect.id)}
                />
              </td>
              <td>
                <div class="url-cell">
                  {redirect.source_url}
                  {#if redirect.is_regex}
                    <span class="regex-badge">REGEX</span>
                  {/if}
                </div>
              </td>
              <td class="destination-url">{redirect.destination_url}</td>
              <td>
                <span class="type-badge type-{redirect.redirect_type}">
                  {redirect.redirect_type}
                </span>
              </td>
              <td>{redirect.hits?.toLocaleString() || 0}</td>
              <td>
                <button
                  class="status-toggle"
                  class:active={redirect.is_active}
                  on:click={() => toggleRedirect(redirect)}
                >
                  {#if redirect.is_active}
                    <IconToggleRight size={24} />
                    Active
                  {:else}
                    <IconToggleLeft size={24} />
                    Inactive
                  {/if}
                </button>
              </td>
              <td>
                <div class="actions">
                  <button
                    class="action-btn"
                    on:click={() => editRedirect(redirect)}
                    title="Edit"
                  >
                    <IconEdit size={18} />
                  </button>
                  <button
                    class="action-btn danger"
                    on:click={() => deleteRedirect(redirect.id)}
                    title="Delete"
                  >
                    <IconTrash size={18} />
                  </button>
                </div>
              </td>
            </tr>
          {/each}
        </tbody>
      </table>
    {/if}
  </div>
</div>

{#if showEditor}
  <RedirectEditor
    redirect={editingRedirect}
    on:saved={handleSaved}
    on:cancel={() => showEditor = false}
  />
{/if}

<style>
  .redirects-page {
    padding: 2rem;
    max-width: 1400px;
    margin: 0 auto;
  }

  .page-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
  }

  .page-header h1 {
    font-size: 1.75rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 0.5rem;
  }

  .page-header p {
    color: #666;
    font-size: 0.95rem;
  }

  .btn-primary, .btn-danger {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    font-weight: 500;
    border: none;
    cursor: pointer;
    transition: all 0.2s;
  }

  .btn-primary {
    background: #3b82f6;
    color: white;
  }

  .btn-primary:hover {
    background: #2563eb;
  }

  .btn-danger {
    background: #ef4444;
    color: white;
  }

  .btn-danger:hover {
    background: #dc2626;
  }

  .stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 2rem;
  }

  .stat-card {
    background: white;
    padding: 1.5rem;
    border-radius: 8px;
    border: 1px solid #e5e5e5;
  }

  .stat-value {
    font-size: 2rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 0.5rem;
  }

  .stat-label {
    color: #666;
    font-size: 0.9rem;
  }

  .controls-bar {
    display: flex;
    gap: 1rem;
    margin-bottom: 1.5rem;
    align-items: center;
  }

  .search-box {
    flex: 1;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    background: white;
    border: 1px solid #e5e5e5;
    border-radius: 6px;
  }

  .search-box input {
    flex: 1;
    border: none;
    outline: none;
    font-size: 0.95rem;
  }

  .filter-tabs {
    display: flex;
    gap: 0.5rem;
  }

  .filter-tab {
    padding: 0.625rem 1rem;
    background: white;
    border: 1px solid #e5e5e5;
    border-radius: 6px;
    color: #666;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
  }

  .filter-tab:hover {
    background: #f8f9fa;
  }

  .filter-tab.active {
    background: #3b82f6;
    color: white;
    border-color: #3b82f6;
  }

  .redirects-table {
    background: white;
    border-radius: 8px;
    border: 1px solid #e5e5e5;
    overflow: hidden;
  }

  table {
    width: 100%;
    border-collapse: collapse;
  }

  th {
    text-align: left;
    padding: 1rem;
    background: #f8f9fa;
    border-bottom: 1px solid #e5e5e5;
    font-weight: 600;
    color: #1a1a1a;
    font-size: 0.9rem;
  }

  td {
    padding: 1rem;
    border-bottom: 1px solid #f0f0f0;
    font-size: 0.95rem;
  }

  tbody tr:hover {
    background: #f8f9fa;
  }

  .url-cell {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .regex-badge {
    display: inline-block;
    padding: 0.125rem 0.5rem;
    background: #eff6ff;
    color: #3b82f6;
    border-radius: 4px;
    font-size: 0.75rem;
    font-weight: 600;
  }

  .destination-url {
    color: #666;
    max-width: 300px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  .type-badge {
    display: inline-block;
    padding: 0.375rem 0.75rem;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: 600;
  }

  .type-badge.type-301 {
    background: #dcfce7;
    color: #16a34a;
  }

  .type-badge.type-302 {
    background: #fef3c7;
    color: #d97706;
  }

  .type-badge.type-307 {
    background: #dbeafe;
    color: #3b82f6;
  }

  .type-badge.type-308 {
    background: #e0e7ff;
    color: #6366f1;
  }

  .type-badge.type-410 {
    background: #fee2e2;
    color: #dc2626;
  }

  .status-toggle {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    background: none;
    border: none;
    color: #999;
    cursor: pointer;
    font-size: 0.9rem;
  }

  .status-toggle.active {
    color: #16a34a;
  }

  .actions {
    display: flex;
    gap: 0.5rem;
  }

  .action-btn {
    padding: 0.5rem;
    background: none;
    border: 1px solid #e5e5e5;
    border-radius: 4px;
    color: #666;
    cursor: pointer;
    transition: all 0.2s;
  }

  .action-btn:hover {
    background: #f8f9fa;
  }

  .action-btn.danger {
    color: #ef4444;
    border-color: #fee2e2;
  }

  .action-btn.danger:hover {
    background: #fee2e2;
  }

  .empty-state {
    text-align: center;
    padding: 4rem 2rem;
  }

  .empty-state h3 {
    color: #1a1a1a;
    margin-bottom: 0.5rem;
  }

  .empty-state p {
    color: #666;
    margin-bottom: 1.5rem;
  }

  .loading {
    text-align: center;
    padding: 3rem;
    color: #999;
  }
</style>

# END OF frontend/src/routes/admin/seo/redirects/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/seo/schema/+page.svelte
# PATH: frontend/src/routes/admin/seo/schema/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import {
    IconPlus,
    IconCode,
    IconEye,
    IconTrash,
    IconCopy
  } from '@tabler/icons-svelte';

  let schemas: any[] = [];
  let templates: any = {};
  let loading = false;
  let showPreview: any = null;

  const schemaTypes = [
    'Article', 'Product', 'Organization', 'Person', 'LocalBusiness',
    'Event', 'Recipe', 'VideoObject', 'FAQPage', 'Course',
    'JobPosting', 'Review', 'BreadcrumbList', 'Website', 'WebPage'
  ];

  onMount(() => {
    loadSchemas();
    loadTemplates();
  });

  async function loadSchemas() {
    loading = true;
    try {
      const response = await fetch('/api/seo/schema');
      const data = await response.json();
      schemas = data.data || [];
    } catch (error) {
      console.error('Failed to load schemas:', error);
    } finally {
      loading = false;
    }
  }

  async function loadTemplates() {
    try {
      const response = await fetch('/api/seo/schema/templates');
      templates = await response.json();
    } catch (error) {
      console.error('Failed to load templates:', error);
    }
  }

  async function deleteSchema(id: number) {
    if (!confirm('Delete this schema?')) return;

    try {
      await fetch(`/api/seo/schema/${id}`, { method: 'DELETE' });
      loadSchemas();
    } catch (error) {
      console.error('Failed to delete schema:', error);
    }
  }

  async function viewJsonLd(id: number) {
    try {
      const response = await fetch(`/api/seo/schema/${id}/json-ld`);
      const data = await response.json();
      showPreview = data.json_ld;
    } catch (error) {
      console.error('Failed to generate JSON-LD:', error);
    }
  }

  function copyJsonLd() {
    navigator.clipboard.writeText(JSON.stringify(showPreview, null, 2));
    alert('JSON-LD copied to clipboard!');
  }
</script>

<svelte:head>
  <title>Schema Markup | SEO</title>
</svelte:head>

<div class="schema-page">
  <header class="page-header">
    <div>
      <h1>Schema Markup Builder</h1>
      <p>Generate JSON-LD structured data for better search visibility</p>
    </div>
    <a href="/admin/seo/schema/create" class="btn-primary">
      <IconPlus size={18} />
      Add Schema
    </a>
  </header>

  <div class="schema-grid">
    {#if loading}
      <div class="loading">Loading schemas...</div>
    {:else if schemas.length === 0}
      <div class="empty-state">
        <IconCode size={64} />
        <h3>No schema markup created yet</h3>
        <p>Create structured data to help search engines understand your content</p>
        <a href="/admin/seo/schema/create" class="btn-primary">
          <IconPlus size={18} />
          Create Your First Schema
        </a>
      </div>
    {:else}
      {#each schemas as schema}
        <div class="schema-card">
          <div class="card-header">
            <div class="schema-type">{schema.schema_type}</div>
            <div class="actions">
              <button
                class="action-btn"
                on:click={() => viewJsonLd(schema.id)}
                title="View JSON-LD"
              >
                <IconEye size={18} />
              </button>
              <button
                class="action-btn danger"
                on:click={() => deleteSchema(schema.id)}
                title="Delete"
              >
                <IconTrash size={18} />
              </button>
            </div>
          </div>

          <div class="card-body">
            <h4>{schema.name || 'Untitled Schema'}</h4>
            {#if schema.entity_type}
              <div class="meta">
                Applied to: <strong>{schema.entity_type}</strong>
                {#if schema.entity_id}
                  (ID: {schema.entity_id})
                {/if}
              </div>
            {/if}
          </div>

          <div class="card-footer">
            <a href="/admin/seo/schema/{schema.id}/edit" class="edit-link">
              Edit Schema 
            </a>
          </div>
        </div>
      {/each}
    {/if}
  </div>

  <div class="templates-section">
    <h2>Available Schema Types</h2>
    <div class="type-grid">
      {#each schemaTypes as type}
        <div class="type-card">
          <div class="type-name">{type}</div>
          <a href="/admin/seo/schema/create?type={type}" class="use-template">
            Use Template
          </a>
        </div>
      {/each}
    </div>
  </div>
</div>

{#if showPreview}
  <div class="modal-overlay" role="button" tabindex="0" on:click={() => showPreview = null} on:keydown={(e) => e.key === 'Escape' && (showPreview = null)}>
    <div class="modal" on:click|stopPropagation>
      <div class="modal-header">
        <h3><IconCode size={20} /> JSON-LD Preview</h3>
        <div class="modal-actions">
          <button class="btn-copy" on:click={copyJsonLd}>
            <IconCopy size={18} />
            Copy
          </button>
          <button class="close-btn" on:click={() => showPreview = null}></button>
        </div>
      </div>
      <div class="modal-body">
        <pre><code>{JSON.stringify(showPreview, null, 2)}</code></pre>
      </div>
    </div>
  </div>
{/if}

<style>
  .schema-page {
    padding: 2rem;
    max-width: 1400px;
    margin: 0 auto;
  }

  .page-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
  }

  .page-header h1 {
    font-size: 1.75rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 0.5rem;
  }

  .page-header p {
    color: #666;
    font-size: 0.95rem;
  }

  .btn-primary {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    background: #3b82f6;
    color: white;
    border-radius: 6px;
    font-weight: 500;
    text-decoration: none;
    transition: background 0.2s;
  }

  .btn-primary:hover {
    background: #2563eb;
  }

  .schema-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-bottom: 3rem;
  }

  .schema-card {
    background: white;
    border: 1px solid #e5e5e5;
    border-radius: 8px;
    overflow: hidden;
    transition: box-shadow 0.2s;
  }

  .schema-card:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }

  .card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem;
    background: #f8f9fa;
    border-bottom: 1px solid #e5e5e5;
  }

  .schema-type {
    font-size: 0.85rem;
    font-weight: 600;
    color: #8b5cf6;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .actions {
    display: flex;
    gap: 0.5rem;
  }

  .action-btn {
    padding: 0.5rem;
    background: white;
    border: 1px solid #e5e5e5;
    border-radius: 4px;
    color: #666;
    cursor: pointer;
    transition: all 0.2s;
  }

  .action-btn:hover {
    background: #f0f0f0;
  }

  .action-btn.danger {
    color: #ef4444;
    border-color: #fee2e2;
  }

  .action-btn.danger:hover {
    background: #fee2e2;
  }

  .card-body {
    padding: 1.5rem;
  }

  .card-body h4 {
    font-size: 1.1rem;
    font-weight: 600;
    color: #1a1a1a;
    margin-bottom: 0.5rem;
  }

  .meta {
    font-size: 0.85rem;
    color: #666;
  }

  .meta strong {
    color: #1a1a1a;
  }

  .card-footer {
    padding: 1rem 1.5rem;
    border-top: 1px solid #f0f0f0;
  }

  .edit-link {
    color: #3b82f6;
    text-decoration: none;
    font-weight: 500;
    font-size: 0.9rem;
  }

  .edit-link:hover {
    text-decoration: underline;
  }

  .empty-state {
    grid-column: 1 / -1;
    text-align: center;
    padding: 4rem 2rem;
    color: #999;
  }

  .empty-state h3 {
    color: #1a1a1a;
    margin: 1rem 0 0.5rem;
  }

  .empty-state p {
    color: #666;
    margin-bottom: 1.5rem;
  }

  .templates-section {
    margin-top: 3rem;
  }

  .templates-section h2 {
    font-size: 1.5rem;
    font-weight: 600;
    color: #1a1a1a;
    margin-bottom: 1.5rem;
  }

  .type-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 1rem;
  }

  .type-card {
    padding: 1.25rem;
    background: white;
    border: 1px solid #e5e5e5;
    border-radius: 6px;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    transition: all 0.2s;
  }

  .type-card:hover {
    border-color: #8b5cf6;
    box-shadow: 0 2px 8px rgba(139, 92, 246, 0.1);
  }

  .type-name {
    font-weight: 600;
    color: #1a1a1a;
    margin-bottom: 0.75rem;
  }

  .use-template {
    font-size: 0.85rem;
    color: #8b5cf6;
    text-decoration: none;
  }

  .use-template:hover {
    text-decoration: underline;
  }

  .loading {
    grid-column: 1 / -1;
    text-align: center;
    padding: 3rem;
    color: #999;
  }

  .modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    padding: 1rem;
  }

  .modal {
    background: white;
    border-radius: 12px;
    width: 100%;
    max-width: 700px;
    max-height: 90vh;
    display: flex;
    flex-direction: column;
  }

  .modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.5rem;
    border-bottom: 1px solid #e5e5e5;
  }

  .modal-header h3 {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 1.25rem;
    font-weight: 600;
    color: #1a1a1a;
    margin: 0;
  }

  .modal-actions {
    display: flex;
    gap: 0.75rem;
  }

  .btn-copy {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: #3b82f6;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 500;
  }

  .btn-copy:hover {
    background: #2563eb;
  }

  .close-btn {
    background: none;
    border: none;
    font-size: 2rem;
    color: #666;
    cursor: pointer;
    line-height: 1;
  }

  .modal-body {
    padding: 1.5rem;
    overflow: auto;
    max-height: calc(90vh - 100px);
  }

  .modal-body pre {
    background: #1e293b;
    color: #e2e8f0;
    padding: 1.5rem;
    border-radius: 6px;
    overflow: auto;
    font-size: 0.9rem;
    line-height: 1.6;
  }

  .modal-body code {
    font-family: 'Courier New', monospace;
  }
</style>

# END OF frontend/src/routes/admin/seo/schema/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/seo/search-console/+page.svelte
# PATH: frontend/src/routes/admin/seo/search-console/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import {
    IconBrandGoogle,
    IconRefresh,
    IconDownload,
    IconPlugConnected,
    IconPlugConnectedX
  } from '@tabler/icons-svelte';

  let status: any = null;
  let sites: any[] = [];
  let loading = false;
  let importing = false;

  onMount(() => {
    checkStatus();
  });

  async function checkStatus() {
    loading = true;
    try {
      const response = await fetch('/api/seo/gsc/status');
      status = await response.json();

      if (status.connected) {
        loadSites();
      }
    } catch (error) {
      console.error('Failed to check status:', error);
    } finally {
      loading = false;
    }
  }

  async function loadSites() {
    try {
      const response = await fetch('/api/seo/gsc/sites');
      const data = await response.json();
      sites = data.sites || [];
    } catch (error) {
      console.error('Failed to load sites:', error);
    }
  }

  async function connect() {
    try {
      const response = await fetch('/api/seo/gsc/auth-url');
      const data = await response.json();

      if (data.auth_url) {
        window.location.href = data.auth_url;
      }
    } catch (error) {
      console.error('Failed to get auth URL:', error);
      alert('Failed to initiate connection');
    }
  }

  async function importAnalytics() {
    const startDate = new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0];
    const endDate = new Date().toISOString().split('T')[0];

    importing = true;
    try {
      const response = await fetch('/api/seo/gsc/import-analytics', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ start_date: startDate, end_date: endDate })
      });

      const data = await response.json();
      alert(`Successfully imported ${data.count} analytics records`);
    } catch (error) {
      console.error('Failed to import analytics:', error);
      alert('Failed to import analytics data');
    } finally {
      importing = false;
    }
  }

  async function updateKeywords() {
    try {
      const response = await fetch('/api/seo/gsc/update-keywords', { method: 'POST' });
      const data = await response.json();
      alert(`Updated ${data.count} keywords`);
    } catch (error) {
      console.error('Failed to update keywords:', error);
      alert('Failed to update keywords');
    }
  }
</script>

<svelte:head>
  <title>Google Search Console | SEO</title>
</svelte:head>

<div class="gsc-page">
  <header class="page-header">
    <div>
      <h1><IconBrandGoogle size={32} /> Google Search Console</h1>
      <p>Connect and sync data from Google Search Console</p>
    </div>
  </header>

  <div class="connection-status">
    {#if status}
      {#if status.connected}
        <div class="status-card connected">
          <IconPlugConnected size={48} />
          <h3>Connected</h3>
          <p>Your site is connected to Google Search Console</p>
          {#if status.site_info}
            <div class="site-info">
              <strong>Site:</strong> {status.site_info.site_url}<br />
              <strong>Permission:</strong> {status.site_info.permission_level}
            </div>
          {/if}
        </div>
      {:else}
        <div class="status-card disconnected">
          <IconPlugConnectedX size={48} />
          <h3>Not Connected</h3>
          <p>Connect to Google Search Console to import analytics data</p>
          <button class="btn-primary" on:click={connect}>
            <IconBrandGoogle size={20} />
            Connect with Google
          </button>
        </div>
      {/if}
    {/if}
  </div>

  {#if status?.connected}
    <div class="actions-section">
      <h2>Actions</h2>
      <div class="action-buttons">
        <button class="action-btn" on:click={importAnalytics} disabled={importing}>
          <IconDownload size={20} />
          {importing ? 'Importing...' : 'Import Analytics Data'}
        </button>

        <button class="action-btn" on:click={updateKeywords}>
          <IconRefresh size={20} />
          Update Keyword Rankings
        </button>
      </div>
    </div>

    {#if sites.length > 0}
      <div class="sites-section">
        <h2>Available Sites</h2>
        <div class="sites-list">
          {#each sites as site}
            <div class="site-card">
              <div class="site-url">{site.site_url}</div>
              <div class="site-permission">{site.permission_level}</div>
            </div>
          {/each}
        </div>
      </div>
    {/if}
  {/if}
</div>

<style>
  .gsc-page {
    padding: 2rem;
    max-width: 1200px;
    margin: 0 auto;
  }

  .page-header {
    margin-bottom: 2rem;
  }

  .page-header h1 {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 1.75rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 0.5rem;
  }

  .page-header p {
    color: #666;
    font-size: 0.95rem;
  }

  .connection-status {
    margin-bottom: 3rem;
  }

  .status-card {
    padding: 3rem;
    background: white;
    border-radius: 12px;
    border: 2px solid;
    text-align: center;
  }

  .status-card.connected {
    border-color: #16a34a;
    background: #f0fdf4;
  }

  .status-card.disconnected {
    border-color: #e5e5e5;
  }

  .status-card h3 {
    font-size: 1.5rem;
    font-weight: 600;
    color: #1a1a1a;
    margin: 1rem 0 0.5rem;
  }

  .status-card p {
    color: #666;
    margin-bottom: 1.5rem;
  }

  .site-info {
    margin-top: 1.5rem;
    padding: 1rem;
    background: white;
    border-radius: 6px;
    text-align: left;
    font-size: 0.9rem;
    color: #666;
  }

  .site-info strong {
    color: #1a1a1a;
  }

  .btn-primary {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    background: #3b82f6;
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 500;
    cursor: pointer;
    transition: background 0.2s;
  }

  .btn-primary:hover {
    background: #2563eb;
  }

  .actions-section {
    margin-bottom: 3rem;
  }

  .actions-section h2 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #1a1a1a;
    margin-bottom: 1rem;
  }

  .action-buttons {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
  }

  .action-btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 1rem 1.5rem;
    background: white;
    border: 1px solid #e5e5e5;
    border-radius: 8px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
  }

  .action-btn:hover:not(:disabled) {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }

  .action-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  .sites-section h2 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #1a1a1a;
    margin-bottom: 1rem;
  }

  .sites-list {
    display: grid;
    gap: 1rem;
  }

  .site-card {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.25rem;
    background: white;
    border: 1px solid #e5e5e5;
    border-radius: 8px;
  }

  .site-url {
    font-weight: 500;
    color: #1a1a1a;
  }

  .site-permission {
    font-size: 0.85rem;
    color: #666;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }
</style>

# END OF frontend/src/routes/admin/seo/search-console/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/seo/settings/+page.svelte
# PATH: frontend/src/routes/admin/seo/settings/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { IconDeviceFloppy, IconRefresh } from '@tabler/icons-svelte';

  let settings: any = {};
  let loading = false;
  let saving = false;

  const settingGroups = [
    {
      name: 'General',
      key: 'general',
      fields: [
        { key: 'site_name', label: 'Site Name', type: 'text' },
        { key: 'site_description', label: 'Site Description', type: 'textarea' },
        { key: 'default_og_image', label: 'Default OG Image URL', type: 'url' }
      ]
    },
    {
      name: 'Robots',
      key: 'robots',
      fields: [
        { key: 'noindex_default', label: 'NoIndex by Default', type: 'checkbox' },
        { key: 'nofollow_default', label: 'NoFollow by Default', type: 'checkbox' }
      ]
    },
    {
      name: 'Sitemap',
      key: 'sitemap',
      fields: [
        { key: 'sitemap_submit_google', label: 'Submit to Google', type: 'checkbox' },
        { key: 'sitemap_submit_bing', label: 'Submit to Bing', type: 'checkbox' }
      ]
    }
  ];

  onMount(() => {
    loadSettings();
  });

  async function loadSettings() {
    loading = true;
    try {
      const response = await fetch('/api/seo/settings/grouped');
      const data = await response.json();
      settings = data.data || {};
    } catch (error) {
      console.error('Failed to load settings:', error);
    } finally {
      loading = false;
    }
  }

  async function saveSettings() {
    saving = true;
    try {
      const settingsArray = Object.entries(settings).flatMap(([group, groupSettings]: [string, any]) =>
        Object.entries(groupSettings).map(([key, value]) => ({
          key,
          value,
          group
        }))
      );

      await fetch('/api/seo/settings/bulk-update', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ settings: settingsArray })
      });

      alert('Settings saved successfully!');
    } catch (error) {
      console.error('Failed to save settings:', error);
      alert('Failed to save settings');
    } finally {
      saving = false;
    }
  }

  function getSetting(group: string, key: string, defaultValue: any = '') {
    return settings[group]?.[key] ?? defaultValue;
  }

  function setSetting(group: string, key: string, value: any) {
    if (!settings[group]) {
      settings[group] = {};
    }
    settings[group][key] = value;
  }
</script>

<svelte:head>
  <title>SEO Settings | Admin</title>
</svelte:head>

<div class="settings-page">
  <header class="page-header">
    <div>
      <h1>SEO Settings</h1>
      <p>Configure SEO plugin settings and preferences</p>
    </div>
    <div class="header-actions">
      <button class="btn-secondary" on:click={loadSettings} disabled={loading}>
        <IconRefresh size={18} />
        Reset
      </button>
      <button class="btn-primary" on:click={saveSettings} disabled={saving}>
        <IconDeviceFloppy size={18} />
        {saving ? 'Saving...' : 'Save Changes'}
      </button>
    </div>
  </header>

  <div class="settings-content">
    {#each settingGroups as group}
      <div class="setting-group">
        <h2>{group.name}</h2>
        <div class="fields">
          {#each group.fields as field}
            <div class="field">
              <label for={field.key}>
                {field.label}
              </label>

              {#if field.type === 'text' || field.type === 'url'}
                <input
                  id={field.key}
                  type={field.type}
                  value={getSetting(group.key, field.key)}
                  on:input={(e) => setSetting(group.key, field.key, e.currentTarget.value)}
                />
              {:else if field.type === 'textarea'}
                <textarea
                  id={field.key}
                  value={getSetting(group.key, field.key)}
                  on:input={(e) => setSetting(group.key, field.key, e.currentTarget.value)}
                  rows="3"
                ></textarea>
              {:else if field.type === 'checkbox'}
                <input
                  id={field.key}
                  type="checkbox"
                  checked={getSetting(group.key, field.key, false)}
                  on:change={(e) => setSetting(group.key, field.key, e.currentTarget.checked)}
                />
              {/if}
            </div>
          {/each}
        </div>
      </div>
    {/each}
  </div>
</div>

<style>
  .settings-page {
    padding: 2rem;
    max-width: 1000px;
    margin: 0 auto;
  }

  .page-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
  }

  .page-header h1 {
    font-size: 1.75rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 0.5rem;
  }

  .page-header p {
    color: #666;
    font-size: 0.95rem;
  }

  .header-actions {
    display: flex;
    gap: 0.75rem;
  }

  .btn-primary, .btn-secondary {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    font-weight: 500;
    border: none;
    cursor: pointer;
    transition: all 0.2s;
  }

  .btn-primary {
    background: #3b82f6;
    color: white;
  }

  .btn-primary:hover:not(:disabled) {
    background: #2563eb;
  }

  .btn-primary:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  .btn-secondary {
    background: white;
    color: #666;
    border: 1px solid #e5e5e5;
  }

  .btn-secondary:hover:not(:disabled) {
    background: #f8f9fa;
  }

  .settings-content {
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }

  .setting-group {
    background: white;
    border: 1px solid #e5e5e5;
    border-radius: 8px;
    padding: 2rem;
  }

  .setting-group h2 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #1a1a1a;
    margin-bottom: 1.5rem;
    padding-bottom: 0.75rem;
    border-bottom: 1px solid #f0f0f0;
  }

  .fields {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  .field label {
    display: block;
    font-weight: 500;
    color: #1a1a1a;
    margin-bottom: 0.5rem;
    font-size: 0.95rem;
  }

  .field input[type="text"],
  .field input[type="url"],
  .field textarea {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid #e5e5e5;
    border-radius: 6px;
    font-size: 0.95rem;
    font-family: inherit;
    transition: border-color 0.2s;
  }

  .field input[type="text"]:focus,
  .field input[type="url"]:focus,
  .field textarea:focus {
    outline: none;
    border-color: #3b82f6;
  }

  .field textarea {
    resize: vertical;
  }

  .field input[type="checkbox"] {
    width: 20px;
    height: 20px;
    cursor: pointer;
  }
</style>

# END OF frontend/src/routes/admin/seo/settings/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/seo/sitemap/+page.svelte
# PATH: frontend/src/routes/admin/seo/sitemap/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import {
    IconRefresh,
    IconDownload,
    IconUpload,
    IconFileText,
    IconCheck,
    IconX
  } from '@tabler/icons-svelte';

  let stats: any = null;
  let generating = false;
  let submitting = false;
  let showSitemapXml = false;
  let sitemapContent = '';

  onMount(() => {
    loadStats();
  });

  async function loadStats() {
    try {
      const response = await fetch('/api/seo/sitemap/stats');
      stats = await response.json();
    } catch (error) {
      console.error('Failed to load stats:', error);
    }
  }

  async function generateSitemap() {
    generating = true;
    try {
      const response = await fetch('/api/seo/sitemap/generate', { method: 'POST' });
      sitemapContent = await response.text();
      showSitemapXml = true;
      loadStats();
    } catch (error) {
      console.error('Failed to generate sitemap:', error);
      alert('Failed to generate sitemap');
    } finally {
      generating = false;
    }
  }

  async function submitToSearchEngines() {
    submitting = true;
    try {
      const sitemapUrl = `${window.location.origin}/sitemap.xml`;
      const response = await fetch('/api/seo/sitemap/submit', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ sitemap_url: sitemapUrl })
      });

      if (response.ok) {
        alert('Sitemap submitted to search engines successfully!');
      }
    } catch (error) {
      console.error('Failed to submit sitemap:', error);
      alert('Failed to submit sitemap to search engines');
    } finally {
      submitting = false;
    }
  }

  function downloadSitemap() {
    const blob = new Blob([sitemapContent], { type: 'application/xml' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'sitemap.xml';
    a.click();
    URL.revokeObjectURL(url);
  }
</script>

<svelte:head>
  <title>Sitemap Manager | SEO</title>
</svelte:head>

<div class="sitemap-page">
  <header class="page-header">
    <div>
      <h1>XML Sitemap</h1>
      <p>Generate and submit sitemaps to search engines</p>
    </div>
  </header>

  {#if stats}
    <div class="stats-grid">
      <div class="stat-card">
        <IconFileText size={32} />
        <div class="stat-value">{stats.total_urls || 0}</div>
        <div class="stat-label">Total URLs</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">
          {stats.last_generated
            ? new Date(stats.last_generated * 1000).toLocaleDateString()
            : 'Never'}
        </div>
        <div class="stat-label">Last Generated</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">
          {stats.file_size ? (stats.file_size / 1024).toFixed(1) + ' KB' : '0 KB'}
        </div>
        <div class="stat-label">File Size</div>
      </div>
    </div>
  {/if}

  <div class="actions-section">
    <h2>Actions</h2>
    <div class="action-buttons">
      <button class="action-btn primary" on:click={generateSitemap} disabled={generating}>
        <IconRefresh size={20} class={generating ? 'spinning' : ''} />
        {generating ? 'Generating...' : 'Generate Sitemap'}
      </button>

      <button class="action-btn" on:click={submitToSearchEngines} disabled={submitting || !stats?.total_urls}>
        <IconUpload size={20} />
        {submitting ? 'Submitting...' : 'Submit to Search Engines'}
      </button>

      {#if sitemapContent}
        <button class="action-btn" on:click={downloadSitemap}>
          <IconDownload size={20} />
          Download XML
        </button>
      {/if}
    </div>
  </div>

  <div class="info-section">
    <h2>About XML Sitemaps</h2>
    <div class="info-grid">
      <div class="info-card">
        <h4>What is a Sitemap?</h4>
        <p>An XML sitemap helps search engines discover and index your website's pages more efficiently.</p>
      </div>
      <div class="info-card">
        <h4>When to Generate?</h4>
        <p>Generate a new sitemap whenever you add, update, or remove significant content from your site.</p>
      </div>
      <div class="info-card">
        <h4>Automatic Submission</h4>
        <p>Your sitemap is automatically submitted to Google and Bing when you click "Submit to Search Engines".</p>
      </div>
    </div>
  </div>
</div>

{#if showSitemapXml && sitemapContent}
  <div class="modal-overlay" role="button" tabindex="0" on:click={() => showSitemapXml = false} on:keydown={(e) => e.key === 'Escape' && (showSitemapXml = false)}>
  <div class="modal" role="dialog" tabindex="0" on:click|stopPropagation on:keydown={(e) => e.key === 'Escape' && (showSitemapXml = false)}>
      <div class="modal-header">
        <h3>Generated Sitemap</h3>
        <button class="close-btn" on:click={() => showSitemapXml = false}></button>
      </div>
      <div class="modal-body">
        <pre><code>{sitemapContent}</code></pre>
      </div>
    </div>
  </div>
{/if}

<style>
  .sitemap-page {
    padding: 2rem;
    max-width: 1200px;
    margin: 0 auto;
  }

  .page-header {
    margin-bottom: 2rem;
  }

  .page-header h1 {
    font-size: 1.75rem;
    font-weight: 700;
    color: #1a1a1a;
    margin-bottom: 0.5rem;
  }

  .page-header p {
    color: #666;
    font-size: 0.95rem;
  }

  .stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
    margin-bottom: 3rem;
  }

  .stat-card {
    background: white;
    padding: 1.5rem;
    border-radius: 8px;
    border: 1px solid #e5e5e5;
    text-align: center;
  }

  .stat-value {
    font-size: 1.75rem;
    font-weight: 700;
    color: #1a1a1a;
    margin: 0.75rem 0 0.5rem;
  }

  .stat-label {
    color: #666;
    font-size: 0.9rem;
  }

  .actions-section {
    margin-bottom: 3rem;
  }

  .actions-section h2 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #1a1a1a;
    margin-bottom: 1rem;
  }

  .action-buttons {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
  }

  .action-btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 1rem 1.5rem;
    background: white;
    border: 1px solid #e5e5e5;
    border-radius: 8px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
  }

  .action-btn.primary {
    background: #3b82f6;
    color: white;
    border-color: #3b82f6;
  }

  .action-btn:hover:not(:disabled) {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }

  .action-btn.primary:hover:not(:disabled) {
    background: #2563eb;
  }

  .action-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  :global(.spinning) {
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  .info-section h2 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #1a1a1a;
    margin-bottom: 1rem;
  }

  .info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
  }

  .info-card {
    padding: 1.5rem;
    background: white;
    border: 1px solid #e5e5e5;
    border-radius: 8px;
  }

  .info-card h4 {
    font-size: 1rem;
    font-weight: 600;
    color: #1a1a1a;
    margin-bottom: 0.75rem;
  }

  .info-card p {
    color: #666;
    line-height: 1.6;
    font-size: 0.95rem;
  }

  .modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    padding: 1rem;
  }

  .modal {
    background: white;
    border-radius: 12px;
    width: 100%;
    max-width: 800px;
    max-height: 90vh;
    display: flex;
    flex-direction: column;
  }

  .modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.5rem;
    border-bottom: 1px solid #e5e5e5;
  }

  .modal-header h3 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #1a1a1a;
    margin: 0;
  }

  .close-btn {
    background: none;
    border: none;
    font-size: 2rem;
    color: #666;
    cursor: pointer;
    line-height: 1;
  }

  .modal-body {
    padding: 1.5rem;
    overflow: auto;
    max-height: calc(90vh - 100px);
  }

  .modal-body pre {
    background: #1e293b;
    color: #e2e8f0;
    padding: 1.5rem;
    border-radius: 6px;
    overflow: auto;
    font-size: 0.85rem;
    line-height: 1.6;
  }

  .modal-body code {
    font-family: 'Courier New', monospace;
  }
</style>

# END OF frontend/src/routes/admin/seo/sitemap/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/courses/create/+page.svelte
# PATH: frontend/src/routes/admin/courses/create/+page.svelte
##################################################################

<script lang="ts">
  import { goto } from '$app/navigation';
  import { IconPhoto, IconX, IconBook, IconCheck } from '@tabler/icons-svelte';

  let course = {
    name: '',
    slug: '',
    description: '',
    price: '',
    thumbnail: '',
    type: 'course',
    is_active: true
  };

  let uploading = false;
  let saving = false;

  function generateSlug() {
    if (!course.slug && course.name) {
      course.slug = course.name
        .toLowerCase()
        .replace(/[^a-z0-9]+/g, '-')
        .replace(/^-+|-+$/g, '');
    }
  }

  async function handleImageUpload(e: Event) {
    const target = e.target as HTMLInputElement;
    const file = target.files?.[0];

    if (!file) return;

    uploading = true;
    try {
      const formData = new FormData();
      formData.append('file', file);

      const response = await fetch('/api/uploads/file', {
        method: 'POST',
        body: formData
      });

      if (response.ok) {
        const data = await response.json();
        course.thumbnail = data.url;
      }
    } catch (error) {
      console.error('Failed to upload image:', error);
    } finally {
      uploading = false;
    }
  }

  async function saveCourse() {
    if (!course.name || !course.price) {
      alert('Please fill in name and price');
      return;
    }

    saving = true;
    try {
      const response = await fetch('/api/admin/products', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(course)
      });

      if (response.ok) {
        goto('/admin/courses');
      } else {
        const error = await response.json();
        alert(error.message || 'Failed to create course');
      }
    } catch (error) {
      console.error('Failed to save course:', error);
      alert('Failed to save course');
    } finally {
      saving = false;
    }
  }
</script>

<svelte:head>
  <title>Add New Course | Admin</title>
</svelte:head>

<div class="create-page">
  <div class="page-header">
    <div>
      <h1><IconBook size={32} /> Add New Course</h1>
      <p>Create an educational trading course for your platform</p>
    </div>
  </div>

  <div class="content-container">
    <!-- Preview Card -->
    <div class="preview-section">
      <h3>Preview</h3>
      <div class="product-card course-card">
        <div class="card-badge">Course</div>
        <div class="card-image">
          {#if course.thumbnail}
            <img src={course.thumbnail} alt={course.name || 'Course'} />
            <div class="overlay"></div>
          {:else}
            <div class="placeholder-image">
              <IconBook size={48} />
              <span>No image</span>
            </div>
          {/if}
        </div>
        <div class="card-content">
          <h4>{course.name || 'Course Name'}</h4>
          <p>{course.description || 'Add a description...'}</p>
          <div class="card-footer">
            <div class="price">${course.price || '0.00'}</div>
            <button class="enroll-btn" disabled>
              <IconCheck size={16} />
              Enroll Now
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Form Section -->
    <div class="form-section">
      <div class="form-card">
        <h3>Course Details</h3>

        <div class="form-group">
          <label for="name">Course Name *</label>
          <input
            id="name"
            type="text"
            bind:value={course.name}
            on:blur={generateSlug}
            placeholder="e.g., Advanced Trading Strategies"
          />
        </div>

        <div class="form-group">
          <label for="slug">URL Slug</label>
          <input
            id="slug"
            type="text"
            bind:value={course.slug}
            placeholder="advanced-trading-strategies"
          />
        </div>

        <div class="form-group">
          <label for="description">Description</label>
          <textarea
            id="description"
            bind:value={course.description}
            placeholder="Describe what students will learn in this course..."
            rows="4"
          ></textarea>
        </div>

        <div class="form-group">
          <label for="price">Price (USD) *</label>
          <div class="price-input">
            <span class="currency">$</span>
            <input
              id="price"
              type="number"
              bind:value={course.price}
              placeholder="199.00"
              step="0.01"
              min="0"
            />
          </div>
        </div>

        <div class="form-group">
          <label>Course Thumbnail</label>
          {#if course.thumbnail}
            <div class="image-preview">
              <img src={course.thumbnail} alt="Thumbnail" />
              <button type="button" class="remove-btn" on:click={() => course.thumbnail = ''}>
                <IconX size={16} />
              </button>
            </div>
          {/if}
          <label class="upload-btn" class:uploading>
            <IconPhoto size={20} />
            {uploading ? 'Uploading...' : 'Upload Image'}
            <input
              type="file"
              accept="image/*"
              on:change={handleImageUpload}
              disabled={uploading}
            />
          </label>
        </div>

        <div class="form-group">
          <label class="checkbox-label">
            <input type="checkbox" bind:checked={course.is_active} />
            <span>Active (visible to students)</span>
          </label>
        </div>

        <div class="form-actions">
          <button class="btn-secondary" on:click={() => goto('/admin/courses')}>
            Cancel
          </button>
          <button class="btn-primary" on:click={saveCourse} disabled={saving}>
            {saving ? 'Creating...' : 'Create Course'}
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .create-page {
    padding: 2rem;
    max-width: 1400px;
    margin: 0 auto;
  }

  .page-header {
    margin-bottom: 2rem;
  }

  .page-header h1 {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 2rem;
    font-weight: 700;
    color: #f1f5f9;
    margin-bottom: 0.5rem;
  }

  .page-header p {
    color: #94a3b8;
    font-size: 1rem;
  }

  .content-container {
    display: grid;
    grid-template-columns: 400px 1fr;
    gap: 2rem;
    align-items: start;
  }

  .preview-section h3,
  .form-section h3 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #f1f5f9;
    margin-bottom: 1rem;
  }

  /* Course Card Preview */
  .product-card {
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    border-radius: 20px;
    overflow: hidden;
    border: 2px solid transparent;
    background-clip: padding-box;
    position: relative;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    position: sticky;
    top: 2rem;
  }

  .product-card::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 20px;
    padding: 2px;
    background: linear-gradient(135deg, #10b981, #059669, #047857);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: 0.5;
    transition: opacity 0.4s;
  }

  .course-card:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow:
      0 25px 50px -12px rgba(16, 185, 129, 0.4),
      0 0 0 1px rgba(16, 185, 129, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.1);
  }

  .course-card:hover::before {
    opacity: 1;
  }

  .card-badge {
    position: absolute;
    top: 1rem;
    right: 1rem;
    padding: 0.5rem 1rem;
    background: linear-gradient(135deg, #10b981, #059669);
    color: white;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    z-index: 10;
    box-shadow:
      0 4px 12px rgba(16, 185, 129, 0.4),
      0 0 20px rgba(16, 185, 129, 0.3);
    animation: pulse-glow 2s ease-in-out infinite;
  }

  @keyframes pulse-glow {
    0%, 100% {
      box-shadow:
        0 4px 12px rgba(16, 185, 129, 0.4),
        0 0 20px rgba(16, 185, 129, 0.3);
    }
    50% {
      box-shadow:
        0 6px 16px rgba(16, 185, 129, 0.6),
        0 0 30px rgba(16, 185, 129, 0.5);
    }
  }

  .card-image {
    width: 100%;
    height: 250px;
    background: linear-gradient(135deg, #065f46 0%, #047857 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
  }

  .card-image::after {
    content: '';
    position: absolute;
    inset: 0;
    background:
      radial-gradient(circle at 20% 50%, rgba(16, 185, 129, 0.3) 0%, transparent 50%),
      radial-gradient(circle at 80% 80%, rgba(5, 150, 105, 0.3) 0%, transparent 50%);
    animation: shimmer 3s ease-in-out infinite;
  }

  @keyframes shimmer {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 1; }
  }

  .card-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    position: relative;
    z-index: 1;
  }

  .overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(to bottom, transparent 50%, rgba(0,0,0,0.7));
    z-index: 1;
  }

  .placeholder-image {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    color: #64748b;
  }

  .card-content {
    padding: 1.5rem;
  }

  .card-content h4 {
    font-size: 1.25rem;
    font-weight: 700;
    color: #f1f5f9;
    margin-bottom: 0.75rem;
  }

  .card-content p {
    color: #94a3b8;
    font-size: 0.9375rem;
    line-height: 1.6;
    margin-bottom: 1.5rem;
    min-height: 3rem;
  }

  .card-footer {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .price {
    font-size: 2rem;
    font-weight: 700;
    background: linear-gradient(135deg, #10b981, #059669, #047857);
    background-size: 200% 200%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: gradient-shift 3s ease infinite;
    position: relative;
  }

  @keyframes gradient-shift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  .enroll-btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    background: linear-gradient(135deg, #10b981, #059669);
    color: white;
    border: none;
    border-radius: 10px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
  }

  .enroll-btn::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, #059669, #047857);
    opacity: 0;
    transition: opacity 0.3s;
  }

  .enroll-btn:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow:
      0 12px 24px rgba(16, 185, 129, 0.4),
      0 0 20px rgba(5, 150, 105, 0.3);
  }

  .enroll-btn:hover:not(:disabled)::before {
    opacity: 1;
  }

  .enroll-btn :global(svg),
  .enroll-btn span {
    position: relative;
    z-index: 1;
  }

  .enroll-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  /* Form Section */
  .form-card {
    background: linear-gradient(135deg, #1e293b 0%, #1a2332 100%);
    border-radius: 20px;
    padding: 2rem;
    border: 1px solid rgba(16, 185, 129, 0.15);
    box-shadow:
      0 4px 6px rgba(0, 0, 0, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.05);
  }

  .form-group {
    margin-bottom: 1.5rem;
  }

  .form-group label {
    display: block;
    font-weight: 500;
    color: #f1f5f9;
    margin-bottom: 0.5rem;
    font-size: 0.9375rem;
  }

  .form-group input[type="text"],
  .form-group input[type="number"],
  .form-group textarea {
    width: 100%;
    padding: 0.75rem 1rem;
    background: rgba(15, 23, 42, 0.6);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(16, 185, 129, 0.2);
    border-radius: 10px;
    color: #f1f5f9;
    font-size: 0.9375rem;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .form-group input:focus,
  .form-group textarea:focus {
    outline: none;
    border-color: #10b981;
    background: rgba(15, 23, 42, 0.8);
    box-shadow:
      0 0 0 3px rgba(16, 185, 129, 0.15),
      0 4px 12px rgba(16, 185, 129, 0.1);
    transform: translateY(-1px);
  }

  .form-group textarea {
    resize: vertical;
    font-family: inherit;
  }

  .price-input {
    position: relative;
    display: flex;
    align-items: center;
  }

  .price-input .currency {
    position: absolute;
    left: 1rem;
    color: #10b981;
    font-weight: 600;
    font-size: 1.125rem;
  }

  .price-input input {
    padding-left: 2.5rem;
  }

  .image-preview {
    position: relative;
    width: 100%;
    height: 200px;
    border-radius: 8px;
    overflow: hidden;
    margin-bottom: 1rem;
  }

  .image-preview img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .remove-btn {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    background: rgba(239, 68, 68, 0.9);
    color: white;
    border: none;
    border-radius: 6px;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s;
  }

  .remove-btn:hover {
    background: rgba(239, 68, 68, 1);
    transform: scale(1.1);
  }

  .upload-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    background: rgba(16, 185, 129, 0.1);
    border: 1px solid rgba(16, 185, 129, 0.3);
    border-radius: 8px;
    color: #6ee7b7;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
  }

  .upload-btn:hover {
    background: rgba(16, 185, 129, 0.2);
    border-color: rgba(16, 185, 129, 0.5);
  }

  .upload-btn.uploading {
    opacity: 0.6;
    cursor: wait;
  }

  .upload-btn input {
    display: none;
  }

  .checkbox-label {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    cursor: pointer;
    color: #f1f5f9;
  }

  .checkbox-label input[type="checkbox"] {
    width: 20px;
    height: 20px;
    cursor: pointer;
  }

  .form-actions {
    display: flex;
    gap: 1rem;
    justify-content: flex-end;
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 1px solid rgba(16, 185, 129, 0.1);
  }

  .btn-secondary,
  .btn-primary {
    padding: 0.75rem 1.5rem;
    border-radius: 10px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    border: none;
    position: relative;
    overflow: hidden;
  }

  .btn-secondary {
    background: rgba(16, 185, 129, 0.1);
    color: #6ee7b7;
    border: 1px solid rgba(16, 185, 129, 0.3);
  }

  .btn-secondary::before {
    content: '';
    position: absolute;
    inset: 0;
    background: rgba(16, 185, 129, 0.2);
    opacity: 0;
    transition: opacity 0.3s;
  }

  .btn-secondary:hover::before {
    opacity: 1;
  }

  .btn-secondary:hover {
    border-color: rgba(16, 185, 129, 0.5);
    transform: translateY(-1px);
  }

  .btn-primary {
    background: linear-gradient(135deg, #10b981, #059669);
    color: white;
  }

  .btn-primary::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, #059669, #047857);
    opacity: 0;
    transition: opacity 0.3s;
  }

  .btn-primary:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow:
      0 12px 24px rgba(16, 185, 129, 0.4),
      0 0 20px rgba(5, 150, 105, 0.3);
  }

  .btn-primary:hover:not(:disabled)::before {
    opacity: 1;
  }

  .btn-primary:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  @media (max-width: 1024px) {
    .content-container {
      grid-template-columns: 1fr;
    }

    .product-card {
      position: static;
    }
  }
</style>

# END OF frontend/src/routes/admin/courses/create/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/indicators/create/+page.svelte
# PATH: frontend/src/routes/admin/indicators/create/+page.svelte
##################################################################

<script lang="ts">
  import { goto } from '$app/navigation';
  import { IconPhoto, IconX, IconSparkles, IconCheck } from '@tabler/icons-svelte';

  let indicator = {
    name: '',
    slug: '',
    description: '',
    price: '',
    thumbnail: '',
    type: 'indicator',
    is_active: true
  };

  let uploading = false;
  let saving = false;

  function generateSlug() {
    if (!indicator.slug && indicator.name) {
      indicator.slug = indicator.name
        .toLowerCase()
        .replace(/[^a-z0-9]+/g, '-')
        .replace(/^-+|-+$/g, '');
    }
  }

  async function handleImageUpload(e: Event) {
    const target = e.target as HTMLInputElement;
    const file = target.files?.[0];

    if (!file) return;

    uploading = true;
    try {
      const formData = new FormData();
      formData.append('file', file);

      const response = await fetch('/api/uploads/file', {
        method: 'POST',
        body: formData
      });

      if (response.ok) {
        const data = await response.json();
        indicator.thumbnail = data.url;
      }
    } catch (error) {
      console.error('Failed to upload image:', error);
    } finally {
      uploading = false;
    }
  }

  async function saveIndicator() {
    if (!indicator.name || !indicator.price) {
      alert('Please fill in name and price');
      return;
    }

    saving = true;
    try {
      const response = await fetch('/api/admin/products', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(indicator)
      });

      if (response.ok) {
        goto('/admin/indicators');
      } else {
        const error = await response.json();
        alert(error.message || 'Failed to create indicator');
      }
    } catch (error) {
      console.error('Failed to save indicator:', error);
      alert('Failed to save indicator');
    } finally {
      saving = false;
    }
  }
</script>

<svelte:head>
  <title>Add New Indicator | Admin</title>
</svelte:head>

<div class="create-page">
  <div class="page-header">
    <div>
      <h1><IconSparkles size={32} /> Add New Indicator</h1>
      <p>Create a new trading indicator for your platform</p>
    </div>
  </div>

  <div class="content-container">
    <!-- Preview Card -->
    <div class="preview-section">
      <h3>Preview</h3>
      <div class="product-card">
        <div class="card-image">
          {#if indicator.thumbnail}
            <img src={indicator.thumbnail} alt={indicator.name || 'Indicator'} />
          {:else}
            <div class="placeholder-image">
              <IconPhoto size={48} />
              <span>No image</span>
            </div>
          {/if}
        </div>
        <div class="card-content">
          <h4>{indicator.name || 'Indicator Name'}</h4>
          <p>{indicator.description || 'Add a description...'}</p>
          <div class="card-footer">
            <div class="price">${indicator.price || '0.00'}</div>
            <button class="buy-btn" disabled>
              <IconCheck size={16} />
              Purchase
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Form Section -->
    <div class="form-section">
      <div class="form-card">
        <h3>Indicator Details</h3>

        <div class="form-group">
          <label for="name">Indicator Name *</label>
          <input
            id="name"
            type="text"
            bind:value={indicator.name}
            on:blur={generateSlug}
            placeholder="e.g., Advanced RSI Indicator"
          />
        </div>

        <div class="form-group">
          <label for="slug">URL Slug</label>
          <input
            id="slug"
            type="text"
            bind:value={indicator.slug}
            placeholder="advanced-rsi-indicator"
          />
        </div>

        <div class="form-group">
          <label for="description">Description</label>
          <textarea
            id="description"
            bind:value={indicator.description}
            placeholder="Describe what makes this indicator special..."
            rows="4"
          ></textarea>
        </div>

        <div class="form-group">
          <label for="price">Price (USD) *</label>
          <div class="price-input">
            <span class="currency">$</span>
            <input
              id="price"
              type="number"
              bind:value={indicator.price}
              placeholder="99.00"
              step="0.01"
              min="0"
            />
          </div>
        </div>

        <div class="form-group">
          <label>Thumbnail Image</label>
          {#if indicator.thumbnail}
            <div class="image-preview">
              <img src={indicator.thumbnail} alt="Thumbnail" />
              <button type="button" class="remove-btn" on:click={() => indicator.thumbnail = ''}>
                <IconX size={16} />
              </button>
            </div>
          {/if}
          <label class="upload-btn" class:uploading>
            <IconPhoto size={20} />
            {uploading ? 'Uploading...' : 'Upload Image'}
            <input
              type="file"
              accept="image/*"
              on:change={handleImageUpload}
              disabled={uploading}
            />
          </label>
        </div>

        <div class="form-group">
          <label class="checkbox-label">
            <input type="checkbox" bind:checked={indicator.is_active} />
            <span>Active (visible to customers)</span>
          </label>
        </div>

        <div class="form-actions">
          <button class="btn-secondary" on:click={() => goto('/admin/indicators')}>
            Cancel
          </button>
          <button class="btn-primary" on:click={saveIndicator} disabled={saving}>
            {saving ? 'Creating...' : 'Create Indicator'}
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .create-page {
    padding: 2rem;
    max-width: 1400px;
    margin: 0 auto;
  }

  .page-header {
    margin-bottom: 2rem;
  }

  .page-header h1 {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 2rem;
    font-weight: 700;
    color: #f1f5f9;
    margin-bottom: 0.5rem;
  }

  .page-header p {
    color: #94a3b8;
    font-size: 1rem;
  }

  .content-container {
    display: grid;
    grid-template-columns: 400px 1fr;
    gap: 2rem;
    align-items: start;
  }

  .preview-section h3,
  .form-section h3 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #f1f5f9;
    margin-bottom: 1rem;
  }

  /* Product Card Preview */
  .product-card {
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    border-radius: 20px;
    overflow: hidden;
    border: 2px solid transparent;
    background-clip: padding-box;
    position: relative;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    position: sticky;
    top: 2rem;
  }

  .product-card::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 20px;
    padding: 2px;
    background: linear-gradient(135deg, #6366f1, #8b5cf6, #a855f7);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: 0.5;
    transition: opacity 0.4s;
  }

  .product-card:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow:
      0 25px 50px -12px rgba(99, 102, 241, 0.4),
      0 0 0 1px rgba(99, 102, 241, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.1);
  }

  .product-card:hover::before {
    opacity: 1;
  }

  .card-image {
    width: 100%;
    height: 250px;
    background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
  }

  .card-image::after {
    content: '';
    position: absolute;
    inset: 0;
    background:
      radial-gradient(circle at 20% 50%, rgba(99, 102, 241, 0.3) 0%, transparent 50%),
      radial-gradient(circle at 80% 80%, rgba(139, 92, 246, 0.3) 0%, transparent 50%);
    animation: shimmer 3s ease-in-out infinite;
  }

  @keyframes shimmer {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 1; }
  }

  .card-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    position: relative;
    z-index: 1;
  }

  .placeholder-image {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    color: #64748b;
  }

  .card-content {
    padding: 1.5rem;
  }

  .card-content h4 {
    font-size: 1.25rem;
    font-weight: 700;
    color: #f1f5f9;
    margin-bottom: 0.75rem;
  }

  .card-content p {
    color: #94a3b8;
    font-size: 0.9375rem;
    line-height: 1.6;
    margin-bottom: 1.5rem;
    min-height: 3rem;
  }

  .card-footer {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .price {
    font-size: 2rem;
    font-weight: 700;
    background: linear-gradient(135deg, #6366f1, #8b5cf6, #a855f7);
    background-size: 200% 200%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: gradient-shift 3s ease infinite;
    position: relative;
  }

  .price::before {
    content: attr(data-price);
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    filter: blur(8px);
    opacity: 0.5;
  }

  @keyframes gradient-shift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  .buy-btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    color: white;
    border: none;
    border-radius: 10px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
  }

  .buy-btn::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, #8b5cf6, #a855f7);
    opacity: 0;
    transition: opacity 0.3s;
  }

  .buy-btn:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow:
      0 12px 24px rgba(99, 102, 241, 0.4),
      0 0 20px rgba(139, 92, 246, 0.3);
  }

  .buy-btn:hover:not(:disabled)::before {
    opacity: 1;
  }

  .buy-btn :global(svg) {
    position: relative;
    z-index: 1;
  }

  .buy-btn span {
    position: relative;
    z-index: 1;
  }

  .buy-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  /* Form Section */
  .form-card {
    background: linear-gradient(135deg, #1e293b 0%, #1a2332 100%);
    border-radius: 20px;
    padding: 2rem;
    border: 1px solid rgba(99, 102, 241, 0.15);
    box-shadow:
      0 4px 6px rgba(0, 0, 0, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.05);
  }

  .form-group {
    margin-bottom: 1.5rem;
  }

  .form-group label {
    display: block;
    font-weight: 500;
    color: #f1f5f9;
    margin-bottom: 0.5rem;
    font-size: 0.9375rem;
  }

  .form-group input[type="text"],
  .form-group input[type="number"],
  .form-group textarea {
    width: 100%;
    padding: 0.75rem 1rem;
    background: rgba(15, 23, 42, 0.6);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(99, 102, 241, 0.2);
    border-radius: 10px;
    color: #f1f5f9;
    font-size: 0.9375rem;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .form-group input:focus,
  .form-group textarea:focus {
    outline: none;
    border-color: #6366f1;
    background: rgba(15, 23, 42, 0.8);
    box-shadow:
      0 0 0 3px rgba(99, 102, 241, 0.15),
      0 4px 12px rgba(99, 102, 241, 0.1);
    transform: translateY(-1px);
  }

  .form-group textarea {
    resize: vertical;
    font-family: inherit;
  }

  .price-input {
    position: relative;
    display: flex;
    align-items: center;
  }

  .price-input .currency {
    position: absolute;
    left: 1rem;
    color: #6366f1;
    font-weight: 600;
    font-size: 1.125rem;
  }

  .price-input input {
    padding-left: 2.5rem;
  }

  .image-preview {
    position: relative;
    width: 100%;
    height: 200px;
    border-radius: 8px;
    overflow: hidden;
    margin-bottom: 1rem;
  }

  .image-preview img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .remove-btn {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    background: rgba(239, 68, 68, 0.9);
    color: white;
    border: none;
    border-radius: 6px;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s;
  }

  .remove-btn:hover {
    background: rgba(239, 68, 68, 1);
    transform: scale(1.1);
  }

  .upload-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    background: rgba(99, 102, 241, 0.1);
    border: 1px solid rgba(99, 102, 241, 0.3);
    border-radius: 8px;
    color: #a5b4fc;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
  }

  .upload-btn:hover {
    background: rgba(99, 102, 241, 0.2);
    border-color: rgba(99, 102, 241, 0.5);
  }

  .upload-btn.uploading {
    opacity: 0.6;
    cursor: wait;
  }

  .upload-btn input {
    display: none;
  }

  .checkbox-label {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    cursor: pointer;
    color: #f1f5f9;
  }

  .checkbox-label input[type="checkbox"] {
    width: 20px;
    height: 20px;
    cursor: pointer;
  }

  .form-actions {
    display: flex;
    gap: 1rem;
    justify-content: flex-end;
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 1px solid rgba(99, 102, 241, 0.1);
  }

  .btn-secondary,
  .btn-primary {
    padding: 0.75rem 1.5rem;
    border-radius: 10px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    border: none;
    position: relative;
    overflow: hidden;
  }

  .btn-secondary {
    background: rgba(99, 102, 241, 0.1);
    color: #a5b4fc;
    border: 1px solid rgba(99, 102, 241, 0.3);
  }

  .btn-secondary::before {
    content: '';
    position: absolute;
    inset: 0;
    background: rgba(99, 102, 241, 0.2);
    opacity: 0;
    transition: opacity 0.3s;
  }

  .btn-secondary:hover::before {
    opacity: 1;
  }

  .btn-secondary:hover {
    border-color: rgba(99, 102, 241, 0.5);
    transform: translateY(-1px);
  }

  .btn-primary {
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    color: white;
  }

  .btn-primary::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, #8b5cf6, #a855f7);
    opacity: 0;
    transition: opacity 0.3s;
  }

  .btn-primary:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow:
      0 12px 24px rgba(99, 102, 241, 0.4),
      0 0 20px rgba(139, 92, 246, 0.3);
  }

  .btn-primary:hover:not(:disabled)::before {
    opacity: 1;
  }

  .btn-primary:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  @media (max-width: 1024px) {
    .content-container {
      grid-template-columns: 1fr;
    }

    .product-card {
      position: static;
    }
  }
</style>

# END OF frontend/src/routes/admin/indicators/create/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/memberships/create/+page.svelte
# PATH: frontend/src/routes/admin/memberships/create/+page.svelte
##################################################################

<script lang="ts">
  import { goto } from '$app/navigation';
  import { IconCrown, IconPlus, IconX, IconCheck } from '@tabler/icons-svelte';

  let membership = {
    name: '',
    slug: '',
    description: '',
    price: '',
    billing_cycle: 'monthly',
    is_active: true,
    features: [
      { feature_code: 'feature_1', feature_name: '', description: '' }
    ]
  };

  let saving = false;

  function generateSlug() {
    if (!membership.slug && membership.name) {
      membership.slug = membership.name
        .toLowerCase()
        .replace(/[^a-z0-9]+/g, '-')
        .replace(/^-+|-+$/g, '');
    }
  }

  function addFeature() {
    membership.features = [
      ...membership.features,
      { feature_code: `feature_${membership.features.length + 1}`, feature_name: '', description: '' }
    ];
  }

  function removeFeature(index: number) {
    membership.features = membership.features.filter((_, i) => i !== index);
  }

  async function saveMembership() {
    if (!membership.name || !membership.price) {
      alert('Please fill in name and price');
      return;
    }

    // Filter out empty features
    const validFeatures = membership.features.filter(f => f.feature_name.trim());

    saving = true;
    try {
      const response = await fetch('/api/admin/membership-plans', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          ...membership,
          features: validFeatures
        })
      });

      if (response.ok) {
        goto('/admin/memberships');
      } else {
        const error = await response.json();
        alert(error.message || 'Failed to create membership plan');
      }
    } catch (error) {
      console.error('Failed to save membership:', error);
      alert('Failed to save membership plan');
    } finally {
      saving = false;
    }
  }

  function getBillingLabel(cycle: string) {
    return {
      monthly: '/month',
      quarterly: '/quarter',
      annual: '/year'
    }[cycle] || '/month';
  }
</script>

<svelte:head>
  <title>Add New Membership | Admin</title>
</svelte:head>

<div class="create-page">
  <div class="page-header">
    <div>
      <h1><IconCrown size={32} /> Add New Membership Plan</h1>
      <p>Create a premium membership plan for your subscribers</p>
    </div>
  </div>

  <div class="content-container">
    <!-- Preview Card -->
    <div class="preview-section">
      <h3>Preview</h3>
      <div class="membership-card">
        <div class="card-crown">
          <IconCrown size={32} />
        </div>
        <div class="card-header">
          <h4>{membership.name || 'Plan Name'}</h4>
          <div class="pricing">
            <span class="amount">${membership.price || '0'}</span>
            <span class="period">{getBillingLabel(membership.billing_cycle)}</span>
          </div>
        </div>
        <div class="card-description">
          <p>{membership.description || 'Add a description...'}</p>
        </div>
        <div class="features-list">
          {#each membership.features.filter(f => f.feature_name) as feature}
            <div class="feature-item">
              <IconCheck size={18} />
              <span>{feature.feature_name}</span>
            </div>
          {/each}
          {#if membership.features.filter(f => f.feature_name).length === 0}
            <div class="empty-features">Add features below</div>
          {/if}
        </div>
        <button class="subscribe-btn" disabled>
          Subscribe Now
        </button>
      </div>
    </div>

    <!-- Form Section -->
    <div class="form-section">
      <div class="form-card">
        <h3>Membership Details</h3>

        <div class="form-group">
          <label for="name">Plan Name *</label>
          <input
            id="name"
            type="text"
            bind:value={membership.name}
            on:blur={generateSlug}
            placeholder="e.g., Pro Membership"
          />
        </div>

        <div class="form-group">
          <label for="slug">URL Slug</label>
          <input
            id="slug"
            type="text"
            bind:value={membership.slug}
            placeholder="pro-membership"
          />
        </div>

        <div class="form-group">
          <label for="description">Description</label>
          <textarea
            id="description"
            bind:value={membership.description}
            placeholder="Describe the benefits of this membership plan..."
            rows="3"
          ></textarea>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="price">Price (USD) *</label>
            <div class="price-input">
              <span class="currency">$</span>
              <input
                id="price"
                type="number"
                bind:value={membership.price}
                placeholder="29.99"
                step="0.01"
                min="0"
              />
            </div>
          </div>

          <div class="form-group">
            <label for="billing_cycle">Billing Cycle</label>
            <select id="billing_cycle" bind:value={membership.billing_cycle}>
              <option value="monthly">Monthly</option>
              <option value="quarterly">Quarterly</option>
              <option value="annual">Annual</option>
            </select>
          </div>
        </div>

        <div class="features-section">
          <div class="section-header">
            <h4>Features</h4>
            <button type="button" class="add-feature-btn" on:click={addFeature}>
              <IconPlus size={16} />
              Add Feature
            </button>
          </div>

          {#each membership.features as feature, index}
            <div class="feature-form">
              <div class="feature-inputs">
                <input
                  type="text"
                  bind:value={feature.feature_name}
                  placeholder="Feature name"
                  class="feature-name-input"
                />
                <input
                  type="text"
                  bind:value={feature.description}
                  placeholder="Description (optional)"
                  class="feature-desc-input"
                />
              </div>
              {#if membership.features.length > 1}
                <button
                  type="button"
                  class="remove-feature-btn"
                  on:click={() => removeFeature(index)}
                >
                  <IconX size={16} />
                </button>
              {/if}
            </div>
          {/each}
        </div>

        <div class="form-group">
          <label class="checkbox-label">
            <input type="checkbox" bind:checked={membership.is_active} />
            <span>Active (visible to customers)</span>
          </label>
        </div>

        <div class="form-actions">
          <button class="btn-secondary" on:click={() => goto('/admin/memberships')}>
            Cancel
          </button>
          <button class="btn-primary" on:click={saveMembership} disabled={saving}>
            {saving ? 'Creating...' : 'Create Membership Plan'}
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .create-page {
    padding: 2rem;
    max-width: 1400px;
    margin: 0 auto;
  }

  .page-header {
    margin-bottom: 2rem;
  }

  .page-header h1 {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 2rem;
    font-weight: 700;
    color: #f1f5f9;
    margin-bottom: 0.5rem;
  }

  .page-header p {
    color: #94a3b8;
    font-size: 1rem;
  }

  .content-container {
    display: grid;
    grid-template-columns: 400px 1fr;
    gap: 2rem;
    align-items: start;
  }

  .preview-section h3,
  .form-section h3 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #f1f5f9;
    margin-bottom: 1rem;
  }

  /* Membership Card Preview */
  .membership-card {
    background: linear-gradient(135deg, #1e1b4b 0%, #0f0a2e 100%);
    border-radius: 24px;
    padding: 2rem;
    border: 2px solid transparent;
    background-clip: padding-box;
    position: relative;
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    position: sticky;
    top: 2rem;
  }

  .membership-card::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 24px;
    padding: 2px;
    background: linear-gradient(135deg, #fbbf24, #f59e0b, #d97706, #fbbf24);
    background-size: 300% 300%;
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    animation: border-glow 4s ease infinite;
  }

  @keyframes border-glow {
    0%, 100% {
      background-position: 0% 50%;
      opacity: 0.6;
    }
    50% {
      background-position: 100% 50%;
      opacity: 1;
    }
  }

  .membership-card:hover {
    transform: translateY(-12px) scale(1.03);
    box-shadow:
      0 30px 60px -15px rgba(251, 191, 36, 0.5),
      0 0 0 1px rgba(251, 191, 36, 0.2),
      inset 0 1px 0 rgba(255, 255, 255, 0.15),
      0 0 60px rgba(251, 191, 36, 0.3);
  }

  .card-crown {
    display: flex;
    justify-content: center;
    margin-bottom: 1.5rem;
    color: #fbbf24;
    filter: drop-shadow(0 0 20px rgba(251, 191, 36, 0.8));
    animation: crown-float 3s ease-in-out infinite;
  }

  @keyframes crown-float {
    0%, 100% {
      transform: translateY(0) rotate(0deg);
      filter: drop-shadow(0 0 20px rgba(251, 191, 36, 0.8));
    }
    50% {
      transform: translateY(-8px) rotate(2deg);
      filter: drop-shadow(0 0 30px rgba(251, 191, 36, 1));
    }
  }

  .card-header {
    text-align: center;
    margin-bottom: 1.5rem;
  }

  .card-header h4 {
    font-size: 1.75rem;
    font-weight: 700;
    color: #f1f5f9;
    margin-bottom: 1rem;
  }

  .pricing {
    display: flex;
    align-items: baseline;
    justify-content: center;
    gap: 0.5rem;
  }

  .amount {
    font-size: 3rem;
    font-weight: 700;
    background: linear-gradient(135deg, #fbbf24, #f59e0b, #fbbf24);
    background-size: 200% 200%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: gold-shimmer 3s ease infinite;
    position: relative;
  }

  .amount::before {
    content: attr(data-price);
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, #fbbf24, #f59e0b);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    filter: blur(12px);
    opacity: 0.6;
  }

  @keyframes gold-shimmer {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  .period {
    color: #94a3b8;
    font-size: 1.125rem;
  }

  .card-description {
    text-align: center;
    padding: 0 0.5rem;
    margin-bottom: 2rem;
  }

  .card-description p {
    color: #cbd5e1;
    font-size: 0.9375rem;
    line-height: 1.6;
    min-height: 2.5rem;
  }

  .features-list {
    margin-bottom: 2rem;
  }

  .feature-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem;
    color: #f1f5f9;
    font-size: 0.9375rem;
  }

  .feature-item :global(svg) {
    color: #fbbf24;
    flex-shrink: 0;
  }

  .empty-features {
    text-align: center;
    color: #64748b;
    padding: 2rem;
    font-style: italic;
  }

  .subscribe-btn {
    width: 100%;
    padding: 1rem;
    background: linear-gradient(135deg, #fbbf24, #f59e0b);
    color: #1e1b4b;
    border: none;
    border-radius: 14px;
    font-weight: 700;
    font-size: 1.125rem;
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
    box-shadow: 0 4px 14px rgba(251, 191, 36, 0.3);
  }

  .subscribe-btn::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, #f59e0b, #d97706);
    opacity: 0;
    transition: opacity 0.4s;
  }

  .subscribe-btn::after {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at center, rgba(255, 255, 255, 0.8) 0%, transparent 70%);
    opacity: 0;
    transform: scale(0);
    transition: all 0.6s;
  }

  .subscribe-btn:hover:not(:disabled) {
    transform: translateY(-3px);
    box-shadow:
      0 16px 32px rgba(251, 191, 36, 0.5),
      0 0 40px rgba(251, 191, 36, 0.4);
  }

  .subscribe-btn:hover:not(:disabled)::before {
    opacity: 1;
  }

  .subscribe-btn:hover:not(:disabled)::after {
    opacity: 0.3;
    transform: scale(1);
  }

  .subscribe-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  /* Form Section */
  .form-card {
    background: linear-gradient(135deg, #1e293b 0%, #1a2332 100%);
    border-radius: 20px;
    padding: 2rem;
    border: 1px solid rgba(251, 191, 36, 0.2);
    box-shadow:
      0 4px 6px rgba(0, 0, 0, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.05);
  }

  .form-group {
    margin-bottom: 1.5rem;
  }

  .form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
  }

  .form-group label {
    display: block;
    font-weight: 500;
    color: #f1f5f9;
    margin-bottom: 0.5rem;
    font-size: 0.9375rem;
  }

  .form-group input[type="text"],
  .form-group input[type="number"],
  .form-group textarea,
  .form-group select {
    width: 100%;
    padding: 0.75rem 1rem;
    background: rgba(15, 23, 42, 0.6);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(251, 191, 36, 0.25);
    border-radius: 10px;
    color: #f1f5f9;
    font-size: 0.9375rem;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .form-group input:focus,
  .form-group textarea:focus,
  .form-group select:focus {
    outline: none;
    border-color: #fbbf24;
    background: rgba(15, 23, 42, 0.8);
    box-shadow:
      0 0 0 3px rgba(251, 191, 36, 0.2),
      0 4px 12px rgba(251, 191, 36, 0.15);
    transform: translateY(-1px);
  }

  .form-group textarea {
    resize: vertical;
    font-family: inherit;
  }

  .form-group select {
    cursor: pointer;
  }

  .price-input {
    position: relative;
    display: flex;
    align-items: center;
  }

  .price-input .currency {
    position: absolute;
    left: 1rem;
    color: #fbbf24;
    font-weight: 600;
    font-size: 1.125rem;
  }

  .price-input input {
    padding-left: 2.5rem;
  }

  .features-section {
    margin: 2rem 0;
    padding: 1.5rem;
    background: rgba(251, 191, 36, 0.05);
    border-radius: 12px;
    border: 1px solid rgba(251, 191, 36, 0.1);
  }

  .section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
  }

  .section-header h4 {
    font-size: 1.125rem;
    font-weight: 600;
    color: #f1f5f9;
    margin: 0;
  }

  .add-feature-btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: rgba(251, 191, 36, 0.1);
    border: 1px solid rgba(251, 191, 36, 0.3);
    border-radius: 6px;
    color: #fde68a;
    font-weight: 500;
    font-size: 0.875rem;
    cursor: pointer;
    transition: all 0.2s;
  }

  .add-feature-btn:hover {
    background: rgba(251, 191, 36, 0.2);
  }

  .feature-form {
    display: flex;
    gap: 0.75rem;
    margin-bottom: 0.75rem;
  }

  .feature-inputs {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .feature-name-input,
  .feature-desc-input {
    padding: 0.625rem 0.875rem;
    background: #0f172a;
    border: 1px solid rgba(251, 191, 36, 0.2);
    border-radius: 6px;
    color: #f1f5f9;
    font-size: 0.875rem;
  }

  .feature-name-input {
    font-weight: 500;
  }

  .feature-desc-input {
    font-size: 0.8125rem;
  }

  .remove-feature-btn {
    background: rgba(239, 68, 68, 0.1);
    border: 1px solid rgba(239, 68, 68, 0.3);
    color: #fca5a5;
    width: 36px;
    height: 36px;
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s;
    flex-shrink: 0;
  }

  .remove-feature-btn:hover {
    background: rgba(239, 68, 68, 0.2);
  }

  .checkbox-label {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    cursor: pointer;
    color: #f1f5f9;
  }

  .checkbox-label input[type="checkbox"] {
    width: 20px;
    height: 20px;
    cursor: pointer;
  }

  .form-actions {
    display: flex;
    gap: 1rem;
    justify-content: flex-end;
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 1px solid rgba(251, 191, 36, 0.1);
  }

  .btn-secondary,
  .btn-primary {
    padding: 0.75rem 1.5rem;
    border-radius: 10px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    border: none;
    position: relative;
    overflow: hidden;
  }

  .btn-secondary {
    background: rgba(251, 191, 36, 0.1);
    color: #fde68a;
    border: 1px solid rgba(251, 191, 36, 0.3);
  }

  .btn-secondary::before {
    content: '';
    position: absolute;
    inset: 0;
    background: rgba(251, 191, 36, 0.2);
    opacity: 0;
    transition: opacity 0.3s;
  }

  .btn-secondary:hover::before {
    opacity: 1;
  }

  .btn-secondary:hover {
    border-color: rgba(251, 191, 36, 0.5);
    transform: translateY(-1px);
  }

  .btn-primary {
    background: linear-gradient(135deg, #fbbf24, #f59e0b);
    color: #1e1b4b;
    box-shadow: 0 4px 14px rgba(251, 191, 36, 0.25);
  }

  .btn-primary::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, #f59e0b, #d97706);
    opacity: 0;
    transition: opacity 0.3s;
  }

  .btn-primary:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow:
      0 12px 24px rgba(251, 191, 36, 0.4),
      0 0 20px rgba(245, 158, 11, 0.3);
  }

  .btn-primary:hover:not(:disabled)::before {
    opacity: 1;
  }

  .btn-primary:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  @media (max-width: 1024px) {
    .content-container {
      grid-template-columns: 1fr;
    }

    .membership-card {
      position: static;
    }

    .form-row {
      grid-template-columns: 1fr;
    }
  }
</style>

# END OF frontend/src/routes/admin/memberships/create/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/contacts/+page.svelte
# PATH: frontend/src/routes/admin/contacts/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { Card, Button, Badge, Table, Input, Select } from '$lib/components/ui';
  import { addToast } from '$lib/utils/toast';
  import { contactsApi, type Contact } from '$lib/api/forms';
  import { IconPlus, IconSearch, IconMail, IconPhone } from '@tabler/icons-svelte';

  let contacts: Contact[] = [];
  let loading = true;
  let searchQuery = '';
  let statusFilter = '';

  const statusOptions = [
    { value: '', label: 'All Statuses' },
    { value: 'lead', label: 'Lead' },
    { value: 'subscriber', label: 'Subscriber' },
    { value: 'customer', label: 'Customer' },
    { value: 'inactive', label: 'Inactive' }
  ];

  onMount(async () => {
    await loadContacts();
  });

  async function loadContacts() {
    try {
      loading = true;
      const response = await contactsApi.list();
      contacts = response.contacts || [];
    } catch (error) {
      addToast({ type: 'error', message: 'Failed to load contacts' });
    } finally {
      loading = false;
    }
  }

  function getStatusColor(status: string): 'success' | 'info' | 'warning' | 'default' {
    switch (status) {
      case 'customer':
        return 'success';
      case 'subscriber':
        return 'info';
      case 'lead':
        return 'warning';
      default:
        return 'default';
    }
  }

  $: filteredContacts = contacts.filter(contact => {
    const matchesSearch =
      contact.email.toLowerCase().includes(searchQuery.toLowerCase()) ||
      contact.full_name?.toLowerCase().includes(searchQuery.toLowerCase()) ||
      contact.company?.toLowerCase().includes(searchQuery.toLowerCase());

    const matchesStatus = !statusFilter || contact.status === statusFilter;

    return matchesSearch && matchesStatus;
  });
</script>

<svelte:head>
  <title>Contacts | Revolution Admin</title>
</svelte:head>

<div>
  <!-- Header -->
  <div class="flex items-center justify-between mb-6">
    <div>
      <h1 class="text-3xl font-bold text-gray-900">Contacts</h1>
      <p class="text-gray-600 mt-1">Manage your contact list and leads</p>
    </div>
    <Button>
      <a href="/admin/contacts/new" class="flex items-center gap-2">
        <IconPlus size={20} />
        Add Contact
      </a>
    </Button>
  </div>

  <!-- Filters -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
    <Input
      placeholder="Search contacts..."
      bind:value={searchQuery}
    />
    <Select
      options={statusOptions}
      bind:value={statusFilter}
      placeholder="Filter by status"
    />
  </div>

  <!-- Contact Stats -->
  <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
    <Card>
      <p class="text-sm text-gray-600">Total Contacts</p>
      <p class="text-2xl font-bold mt-1">{contacts.length}</p>
    </Card>
    <Card>
      <p class="text-sm text-gray-600">Customers</p>
      <p class="text-2xl font-bold mt-1 text-green-600">
        {contacts.filter(c => c.status === 'customer').length}
      </p>
    </Card>
    <Card>
      <p class="text-sm text-gray-600">Subscribers</p>
      <p class="text-2xl font-bold mt-1 text-blue-600">
        {contacts.filter(c => c.status === 'subscriber').length}
      </p>
    </Card>
    <Card>
      <p class="text-sm text-gray-600">Leads</p>
      <p class="text-2xl font-bold mt-1 text-yellow-600">
        {contacts.filter(c => c.status === 'lead').length}
      </p>
    </Card>
  </div>

  <!-- Contacts List -->
  {#if loading}
    <Card>
      <div class="text-center py-12">
        <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"></div>
        <p class="mt-4 text-gray-600">Loading contacts...</p>
      </div>
    </Card>
  {:else if filteredContacts.length === 0}
    <Card>
      <div class="text-center py-12">
        <p class="text-gray-500">No contacts found.</p>
      </div>
    </Card>
  {:else}
    <Card padding={false}>
      <Table headers={['Name', 'Email', 'Phone', 'Company', 'Status', 'Last Activity']}>
        {#each filteredContacts as contact}
          <tr>
            <td>
              <a href="/admin/contacts/{contact.id}" class="font-semibold text-blue-600 hover:text-blue-700">
                {contact.full_name || 'N/A'}
              </a>
            </td>
            <td>
              <a href="mailto:{contact.email}" class="flex items-center gap-2 text-gray-600 hover:text-blue-600">
                <IconMail size={16} />
                {contact.email}
              </a>
            </td>
            <td>
              {#if contact.phone}
                <a href="tel:{contact.phone}" class="flex items-center gap-2 text-gray-600 hover:text-blue-600">
                  <IconPhone size={16} />
                  {contact.phone}
                </a>
              {:else}
                <span class="text-gray-400">N/A</span>
              {/if}
            </td>
            <td>{contact.company || 'N/A'}</td>
            <td>
              <Badge variant={getStatusColor(contact.status)}>
                {contact.status}
              </Badge>
            </td>
            <td class="text-gray-600">
              {contact.last_activity_at
                ? new Date(contact.last_activity_at).toLocaleDateString()
                : 'N/A'
              }
            </td>
          </tr>
        {/each}
      </Table>
    </Card>
  {/if}
</div>

# END OF frontend/src/routes/admin/contacts/+page.svelte


##################################################################
# FILE: frontend/src/routes/admin/subscriptions/+page.svelte
# PATH: frontend/src/routes/admin/subscriptions/+page.svelte
##################################################################

<script lang="ts">
  import { onMount } from 'svelte';
  import { subscriptionStore } from '$lib/stores/subscriptions';
  import {
    getSubscriptions,
    getSubscriptionStats,
    pauseSubscription,
    resumeSubscription,
    cancelSubscription,
    reactivateSubscription,
    retryPayment,
    getUpcomingRenewals,
    getFailedPayments
  } from '$lib/api/subscriptions';
  import type { Subscription, SubscriptionStatus, SubscriptionStats } from '$lib/stores/subscriptions';

  // State
  let subscriptions: Subscription[] = [];
  let stats: SubscriptionStats | null = null;
  let upcomingRenewals: Subscription[] = [];
  let failedPayments: any[] = [];
  let loading = true;
  let error = '';

  // Filters
  let statusFilter: SubscriptionStatus | 'all' = 'all';
  let searchQuery = '';
  let intervalFilter: 'all' | 'monthly' | 'quarterly' | 'yearly' = 'all';
  let sortBy: 'date' | 'price' | 'status' = 'date';

  // Modal state
  let selectedSubscription: Subscription | null = null;
  let showCancelModal = false;
  let showPauseModal = false;
  let cancelReason = '';
  let pauseReason = '';
  let cancelImmediate = false;

  // Pagination
  let currentPage = 1;
  let perPage = 20;

  onMount(async () => {
    await loadData();
  });

  async function loadData() {
    loading = true;
    error = '';

    try {
      const [subsResponse, statsData, renewals, failed] = await Promise.all([
        getSubscriptions({
          status: statusFilter === 'all' ? undefined : [statusFilter],
          interval: intervalFilter === 'all' ? undefined : [intervalFilter],
          searchQuery: searchQuery || undefined
        }),
        getSubscriptionStats(),
        getUpcomingRenewals(7),
        getFailedPayments()
      ]);

      subscriptions = subsResponse.subscriptions;
      stats = statsData;
      upcomingRenewals = renewals;
      failedPayments = failed;
    } catch (err) {
      error = 'Failed to load subscription data';
      console.error(err);
    } finally {
      loading = false;
    }
  }

  // Filter and sort subscriptions
  $: filteredSubscriptions = subscriptions
    .filter(sub => {
      if (statusFilter !== 'all' && sub.status !== statusFilter) return false;
      if (intervalFilter !== 'all' && sub.interval !== intervalFilter) return false;
      if (searchQuery) {
        const query = searchQuery.toLowerCase();
        return (
          sub.productName.toLowerCase().includes(query) ||
          sub.userId.toLowerCase().includes(query) ||
          sub.id.toLowerCase().includes(query)
        );
      }
      return true;
    })
    .sort((a, b) => {
      if (sortBy === 'date') {
        return new Date(b.startDate).getTime() - new Date(a.startDate).getTime();
      } else if (sortBy === 'price') {
        return b.price - a.price;
      } else {
        return a.status.localeCompare(b.status);
      }
    });

  // Actions
  async function handlePause(subscription: Subscription) {
    selectedSubscription = subscription;
    showPauseModal = true;
  }

  async function confirmPause() {
    if (!selectedSubscription || !pauseReason.trim()) return;

    try {
      await pauseSubscription(selectedSubscription.id, pauseReason);
      showPauseModal = false;
      pauseReason = '';
      selectedSubscription = null;
      await loadData();
    } catch (err) {
      console.error('Failed to pause subscription:', err);
    }
  }

  async function handleResume(subscription: Subscription) {
    try {
      await resumeSubscription(subscription.id);
      await loadData();
    } catch (err) {
      console.error('Failed to resume subscription:', err);
    }
  }

  async function handleCancel(subscription: Subscription) {
    selectedSubscription = subscription;
    showCancelModal = true;
  }

  async function confirmCancel() {
    if (!selectedSubscription || !cancelReason.trim()) return;

    try {
      await cancelSubscription(selectedSubscription.id, cancelReason, cancelImmediate);
      showCancelModal = false;
      cancelReason = '';
      cancelImmediate = false;
      selectedSubscription = null;
      await loadData();
    } catch (err) {
      console.error('Failed to cancel subscription:', err);
    }
  }

  async function handleReactivate(subscription: Subscription) {
    try {
      await reactivateSubscription(subscription.id);
      await loadData();
    } catch (err) {
      console.error('Failed to reactivate subscription:', err);
    }
  }

  async function handleRetryPayment(subscriptionId: string, paymentId: string) {
    try {
      await retryPayment(subscriptionId, paymentId);
      await loadData();
    } catch (err) {
      console.error('Failed to retry payment:', err);
    }
  }

  function getStatusColor(status: SubscriptionStatus): string {
    switch (status) {
      case 'active': return 'bg-emerald-500/10 text-emerald-400 border-emerald-500/20';
      case 'pending': return 'bg-yellow-500/10 text-yellow-400 border-yellow-500/20';
      case 'on-hold': return 'bg-orange-500/10 text-orange-400 border-orange-500/20';
      case 'cancelled': return 'bg-red-500/10 text-red-400 border-red-500/20';
      case 'expired': return 'bg-slate-500/10 text-slate-400 border-slate-500/20';
      case 'pending-cancel': return 'bg-pink-500/10 text-pink-400 border-pink-500/20';
      default: return 'bg-slate-500/10 text-slate-400 border-slate-500/20';
    }
  }

  function formatCurrency(amount: number): string {
    return new Intl.NumberFormat('en-US', {
      style: 'currency',
      currency: 'USD'
    }).format(amount);
  }

  function formatDate(dateString: string): string {
    return new Date(dateString).toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'short',
      day: 'numeric'
    });
  }

  function getIntervalLabel(interval: string): string {
    return interval.charAt(0).toUpperCase() + interval.slice(1);
  }
</script>

<svelte:head>
  <title>Subscription Management - Admin</title>
</svelte:head>

<div class="min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 py-12 px-4">
  <div class="max-w-7xl mx-auto">
    <!-- Header -->
    <div class="mb-8">
      <h1 class="text-4xl font-bold text-white mb-2">Subscription Management</h1>
      <p class="text-slate-400">Monitor and manage all customer subscriptions</p>
    </div>

    {#if error}
      <div class="bg-red-500/10 border border-red-500/20 rounded-xl p-4 mb-6">
        <p class="text-red-400">{error}</p>
      </div>
    {/if}

    <!-- Stats Overview -->
    {#if stats}
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
        <div class="bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-xl p-6">
          <div class="flex items-center justify-between mb-2">
            <h3 class="text-slate-400 text-sm font-medium">Active Subscriptions</h3>
            <div class="w-10 h-10 bg-emerald-500/10 rounded-lg flex items-center justify-center">
              <svg class="w-5 h-5 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            </div>
          </div>
          <p class="text-3xl font-bold text-white">{stats.totalActive}</p>
          <p class="text-sm text-emerald-400 mt-2">
            {stats.newThisMonth > 0 ? '+' : ''}{stats.newThisMonth} this month
          </p>
        </div>

        <div class="bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-xl p-6">
          <div class="flex items-center justify-between mb-2">
            <h3 class="text-slate-400 text-sm font-medium">Monthly Revenue</h3>
            <div class="w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center">
              <svg class="w-5 h-5 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            </div>
          </div>
          <p class="text-3xl font-bold text-white">{formatCurrency(stats.monthlyRecurringRevenue)}</p>
          <p class="text-sm text-slate-400 mt-2">MRR</p>
        </div>

        <div class="bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-xl p-6">
          <div class="flex items-center justify-between mb-2">
            <h3 class="text-slate-400 text-sm font-medium">Churn Rate</h3>
            <div class="w-10 h-10 bg-orange-500/10 rounded-lg flex items-center justify-center">
              <svg class="w-5 h-5 text-orange-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 17h8m0 0V9m0 8l-8-8-4 4-6-6" />
              </svg>
            </div>
          </div>
          <p class="text-3xl font-bold text-white">{stats.churnRate.toFixed(1)}%</p>
          <p class="text-sm text-slate-400 mt-2">Last 30 days</p>
        </div>

        <div class="bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-xl p-6">
          <div class="flex items-center justify-between mb-2">
            <h3 class="text-slate-400 text-sm font-medium">Avg Lifetime Value</h3>
            <div class="w-10 h-10 bg-purple-500/10 rounded-lg flex items-center justify-center">
              <svg class="w-5 h-5 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z" />
              </svg>
            </div>
          </div>
          <p class="text-3xl font-bold text-white">{formatCurrency(stats.averageLifetimeValue)}</p>
          <p class="text-sm text-slate-400 mt-2">Per customer</p>
        </div>
      </div>
    {/if}

    <!-- Alerts -->
    {#if failedPayments.length > 0}
      <div class="bg-red-500/10 border border-red-500/20 rounded-xl p-6 mb-6">
        <h3 class="text-red-400 font-semibold mb-3 flex items-center gap-2">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />
          </svg>
          {failedPayments.length} Failed Payment{failedPayments.length > 1 ? 's' : ''}
        </h3>
        <div class="space-y-2">
          {#each failedPayments.slice(0, 3) as payment}
            <div class="flex items-center justify-between text-sm">
              <span class="text-slate-300">{payment.subscriptionId}</span>
              <button
                on:click={() => handleRetryPayment(payment.subscriptionId, payment.id)}
                class="text-emerald-400 hover:text-emerald-300 font-medium"
              >
                Retry Payment
              </button>
            </div>
          {/each}
        </div>
      </div>
    {/if}

    {#if upcomingRenewals.length > 0}
      <div class="bg-blue-500/10 border border-blue-500/20 rounded-xl p-6 mb-6">
        <h3 class="text-blue-400 font-semibold mb-3 flex items-center gap-2">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd" />
          </svg>
          {upcomingRenewals.length} Renewal{upcomingRenewals.length > 1 ? 's' : ''} in Next 7 Days
        </h3>
        <div class="space-y-2">
          {#each upcomingRenewals.slice(0, 3) as renewal}
            <div class="flex items-center justify-between text-sm">
              <span class="text-slate-300">{renewal.productName}</span>
              <span class="text-blue-400">{formatDate(renewal.nextPaymentDate)}</span>
            </div>
          {/each}
        </div>
      </div>
    {/if}

    <!-- Filters -->
    <div class="bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-xl p-6 mb-6">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
        <div>
          <label for="search" class="block text-sm font-medium text-slate-400 mb-2">Search</label>
          <input
            type="text"
            id="search"
            bind:value={searchQuery}
            on:input={loadData}
            placeholder="Search subscriptions..."
            class="w-full px-4 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-emerald-500"
          />
        </div>

        <div>
          <label for="status" class="block text-sm font-medium text-slate-400 mb-2">Status</label>
          <select
            id="status"
            bind:value={statusFilter}
            on:change={loadData}
            class="w-full px-4 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-emerald-500"
          >
            <option value="all">All Statuses</option>
            <option value="active">Active</option>
            <option value="pending">Pending</option>
            <option value="on-hold">On Hold</option>
            <option value="cancelled">Cancelled</option>
            <option value="expired">Expired</option>
            <option value="pending-cancel">Pending Cancel</option>
          </select>
        </div>

        <div>
          <label for="interval" class="block text-sm font-medium text-slate-400 mb-2">Interval</label>
          <select
            id="interval"
            bind:value={intervalFilter}
            on:change={loadData}
            class="w-full px-4 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-emerald-500"
          >
            <option value="all">All Intervals</option>
            <option value="monthly">Monthly</option>
            <option value="quarterly">Quarterly</option>
            <option value="yearly">Yearly</option>
          </select>
        </div>

        <div>
          <label for="sort" class="block text-sm font-medium text-slate-400 mb-2">Sort By</label>
          <select
            id="sort"
            bind:value={sortBy}
            class="w-full px-4 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-emerald-500"
          >
            <option value="date">Date</option>
            <option value="price">Price</option>
            <option value="status">Status</option>
          </select>
        </div>
      </div>
    </div>

    <!-- Subscriptions Table -->
    <div class="bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-xl overflow-hidden">
      <div class="overflow-x-auto">
        <table class="w-full">
          <thead class="bg-slate-900/50">
            <tr>
              <th class="px-6 py-4 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">Product</th>
              <th class="px-6 py-4 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">Customer</th>
              <th class="px-6 py-4 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">Status</th>
              <th class="px-6 py-4 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">Interval</th>
              <th class="px-6 py-4 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">Price</th>
              <th class="px-6 py-4 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">Next Payment</th>
              <th class="px-6 py-4 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">Actions</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-slate-700">
            {#if loading}
              <tr>
                <td colspan="7" class="px-6 py-12 text-center text-slate-400">
                  <div class="flex items-center justify-center gap-3">
                    <div class="w-5 h-5 border-2 border-emerald-500 border-t-transparent rounded-full animate-spin"></div>
                    Loading subscriptions...
                  </div>
                </td>
              </tr>
            {:else if filteredSubscriptions.length === 0}
              <tr>
                <td colspan="7" class="px-6 py-12 text-center text-slate-400">
                  No subscriptions found
                </td>
              </tr>
            {:else}
              {#each filteredSubscriptions as subscription}
                <tr class="hover:bg-slate-700/30 transition-colors">
                  <td class="px-6 py-4">
                    <div class="text-white font-medium">{subscription.productName}</div>
                    <div class="text-sm text-slate-400">{subscription.id.slice(0, 8)}...</div>
                  </td>
                  <td class="px-6 py-4">
                    <div class="text-slate-300">{subscription.userId.slice(0, 8)}...</div>
                  </td>
                  <td class="px-6 py-4">
                    <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border {getStatusColor(subscription.status)}">
                      {subscription.status}
                    </span>
                  </td>
                  <td class="px-6 py-4 text-slate-300">
                    {getIntervalLabel(subscription.interval)}
                  </td>
                  <td class="px-6 py-4 text-white font-medium">
                    {formatCurrency(subscription.price)}
                  </td>
                  <td class="px-6 py-4 text-slate-300">
                    {formatDate(subscription.nextPaymentDate)}
                  </td>
                  <td class="px-6 py-4">
                    <div class="flex items-center gap-2">
                      {#if subscription.status === 'active'}
                        <button
                          on:click={() => handlePause(subscription)}
                          class="text-orange-400 hover:text-orange-300 text-sm font-medium"
                          title="Pause"
                        >
                          Pause
                        </button>
                        <button
                          on:click={() => handleCancel(subscription)}
                          class="text-red-400 hover:text-red-300 text-sm font-medium"
                          title="Cancel"
                        >
                          Cancel
                        </button>
                      {:else if subscription.status === 'on-hold'}
                        <button
                          on:click={() => handleResume(subscription)}
                          class="text-emerald-400 hover:text-emerald-300 text-sm font-medium"
                          title="Resume"
                        >
                          Resume
                        </button>
                        <button
                          on:click={() => handleCancel(subscription)}
                          class="text-red-400 hover:text-red-300 text-sm font-medium"
                          title="Cancel"
                        >
                          Cancel
                        </button>
                      {:else if subscription.status === 'cancelled'}
                        <button
                          on:click={() => handleReactivate(subscription)}
                          class="text-emerald-400 hover:text-emerald-300 text-sm font-medium"
                          title="Reactivate"
                        >
                          Reactivate
                        </button>
                      {/if}
                    </div>
                  </td>
                </tr>
              {/each}
            {/if}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<!-- Pause Modal -->
{#if showPauseModal && selectedSubscription}
  <div class="fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4">
    <div class="bg-slate-800 border border-slate-700 rounded-2xl p-8 max-w-md w-full">
      <h3 class="text-2xl font-bold text-white mb-4">Pause Subscription</h3>
      <p class="text-slate-400 mb-6">
        Are you sure you want to pause {selectedSubscription.productName}?
      </p>

      <div class="mb-6">
        <label for="pauseReason" class="block text-sm font-medium text-slate-400 mb-2">
          Reason for pausing <span class="text-red-400">*</span>
        </label>
        <textarea
          id="pauseReason"
          bind:value={pauseReason}
          rows="3"
          placeholder="Enter reason..."
          class="w-full px-4 py-3 bg-slate-900 border border-slate-600 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-orange-500"
        ></textarea>
      </div>

      <div class="flex gap-3">
        <button
          on:click={() => {
            showPauseModal = false;
            pauseReason = '';
            selectedSubscription = null;
          }}
          class="flex-1 px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white font-semibold rounded-xl transition-colors"
        >
          Cancel
        </button>
        <button
          on:click={confirmPause}
          disabled={!pauseReason.trim()}
          class="flex-1 px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white font-semibold rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
        >
          Pause Subscription
        </button>
      </div>
    </div>
  </div>
{/if}

<!-- Cancel Modal -->
{#if showCancelModal && selectedSubscription}
  <div class="fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4">
    <div class="bg-slate-800 border border-slate-700 rounded-2xl p-8 max-w-md w-full">
      <h3 class="text-2xl font-bold text-white mb-4">Cancel Subscription</h3>
      <p class="text-slate-400 mb-6">
        Are you sure you want to cancel {selectedSubscription.productName}?
      </p>

      <div class="mb-6">
        <label for="cancelReason" class="block text-sm font-medium text-slate-400 mb-2">
          Cancellation reason <span class="text-red-400">*</span>
        </label>
        <textarea
          id="cancelReason"
          bind:value={cancelReason}
          rows="3"
          placeholder="Enter reason..."
          class="w-full px-4 py-3 bg-slate-900 border border-slate-600 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:border-red-500"
        ></textarea>
      </div>

      <div class="mb-6">
        <label class="flex items-center gap-3 cursor-pointer">
          <input
            type="checkbox"
            bind:checked={cancelImmediate}
            class="w-4 h-4 bg-slate-900 border-slate-600 rounded text-red-500 focus:ring-red-500"
          />
          <span class="text-slate-300 text-sm">Cancel immediately (don't wait until period end)</span>
        </label>
      </div>

      <div class="flex gap-3">
        <button
          on:click={() => {
            showCancelModal = false;
            cancelReason = '';
            cancelImmediate = false;
            selectedSubscription = null;
          }}
          class="flex-1 px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white font-semibold rounded-xl transition-colors"
        >
          Go Back
        </button>
        <button
          on:click={confirmCancel}
          disabled={!cancelReason.trim()}
          class="flex-1 px-6 py-3 bg-red-500 hover:bg-red-600 text-white font-semibold rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
        >
          Cancel Subscription
        </button>
      </div>
    </div>
  </div>
{/if}

<style>
  /* Custom scrollbar for table */
  .overflow-x-auto::-webkit-scrollbar {
    height: 8px;
  }

  .overflow-x-auto::-webkit-scrollbar-track {
    background: rgb(15 23 42);
    border-radius: 4px;
  }

  .overflow-x-auto::-webkit-scrollbar-thumb {
    background: rgb(71 85 105);
    border-radius: 4px;
  }

  .overflow-x-auto::-webkit-scrollbar-thumb:hover {
    background: rgb(100 116 139);
  }
</style>

# END OF frontend/src/routes/admin/subscriptions/+page.svelte


# ============= FRONTEND CONFIGURATION =============

##################################################################
# FILE: frontend/package.json
# PATH: frontend/package.json
##################################################################

{
  "name": "revolution-svelte",
  "version": "2.0.0",
  "description": "A SvelteKit project for Revolution.",
  "private": true,
  "type": "module",
  "scripts": {
    "dev": "vite dev",
    "build": "vite build",
    "preview": "vite preview",
    "check": "svelte-check"
  },
  "dependencies": {
    "@formkit/auto-animate": "^0.9.0",
    "@lottiefiles/lottie-player": "^2.0.12",
    "@react-three/drei": "^10.7.6",
    "@react-three/fiber": "^9.4.0",
    "@tabler/icons-svelte": "^3.35.0",
    "@threlte/core": "^8.2.1",
    "@threlte/extras": "^9.6.1",
    "animejs": "^4.2.2",
    "canvas-confetti": "^1.9.4",
    "chart.js": "^4.5.1",
    "d3": "^7.9.0",
    "d3-shape": "^3.2.0",
    "embla-carousel-svelte": "^8.6.0",
    "framer-motion": "^12.23.24",
    "gsap": "^3.12.2",
    "lightweight-charts": "^5.0.9",
    "lottie-web": "^5.13.0",
    "particles.js": "^2.0.0",
    "roughjs": "^4.6.6",
    "svelte-animations": "^1.0.3",
    "svelte-lottie": "^0.0.0",
    "svelte-motion": "^0.12.2",
    "svg.js": "^2.7.1",
    "three": "^0.181.1",
    "typed.js": "^2.1.0",
    "vivus": "^0.4.6"
  },
  "devDependencies": {
    "@opentelemetry/api": "^1.9.0",
    "@sveltejs/adapter-static": "3.0.10",
    "@sveltejs/kit": "2.48.4",
    "@sveltejs/vite-plugin-svelte": "^6.2.1",
    "@tailwindcss/postcss": "^4.1.17",
    "@types/node": "^24.10.0",
    "autoprefixer": "^10.4.22",
    "postcss": "^8.5.6",
    "svelte": "^5.0.0",
    "svelte-check": "^4.3.4",
    "tailwindcss": "^4.1.17",
    "typescript": "^5.9.3",
    "vite": "7.2.2"
  }
}

# END OF frontend/package.json


##################################################################
# FILE: frontend/svelte.config.js
# PATH: frontend/svelte.config.js
##################################################################

import adapter from '@sveltejs/adapter-static';
import { vitePreprocess } from '@sveltejs/vite-plugin-svelte';

/** @type {import('@sveltejs/kit').Config} */
const config = {
  preprocess: vitePreprocess(),
  kit: {
    adapter: adapter({
      pages: 'build',
      assets: 'build',
      fallback: 'index.html',
      strict: false
    }),
    prerender: {
      handleHttpError: ({ status, path }) => {
        // Ignore 404 errors for unimplemented routes
        if (status === 404) {
          return;
        }
        // Let other errors through
        throw new Error(`${status} ${path}`);
      },
      handleUnseenRoutes: 'ignore'
    }
  }
};

export default config;

# END OF frontend/svelte.config.js


##################################################################
# FILE: frontend/vite.config.ts
# PATH: frontend/vite.config.ts
##################################################################

# FILE NOT FOUND

# END OF frontend/vite.config.ts


##################################################################
# FILE: frontend/tsconfig.json
# PATH: frontend/tsconfig.json
##################################################################

{
  "extends": "./.svelte-kit/tsconfig.json",
  "compilerOptions": {
    "types": ["svelte"],
    "moduleResolution": "bundler"
  }
}

# END OF frontend/tsconfig.json


##################################################################
# FILE: frontend/tailwind.config.js
# PATH: frontend/tailwind.config.js
##################################################################

/** @type {import('tailwindcss').Config} */
export default {
  content: ['./src/**/*.{html,js,svelte,ts}'],
  theme: {
    extend: {
      colors: {
        // Chart colors from trading view
        'chart-up': '#34d399', // Green for up candles
        'chart-down': '#ef4444', // Red for down candles
        
        // Updated RTP semantic tokens to match Microsoft product branding
        'rtp-bg': '#F3F3F3', // Light gray background
        'rtp-surface': '#FFFFFF', // White surface
        'rtp-border': '#D1D5DB', // Neutral border
        'rtp-text': '#1F2937', // Dark gray text
        'rtp-muted': '#6B7280', // Muted gray
        'rtp-primary': '#0078D4', // Microsoft blue
        'rtp-primarySoft': '#E5F1FB', // Soft blue

        // Optional accent colors (if you want them)
        'rtp-emerald': '#107C10', // Microsoft green
        'rtp-indigo': '#5C2D91', // Microsoft purple
        'rtp-blue': '#2B88D8' // Microsoft lighter blue
      },
      boxShadow: {
        soft: '0 18px 60px rgba(0,0,0,0.85)'
      },
      borderRadius: {
        '2xl': '1rem',
        '3xl': '1.5rem'
      },
      maxWidth: {
        content: '72rem'
      },
      fontFamily: {
        heading: [
          'Montserrat',
          'system-ui',
          '-apple-system',
          'BlinkMacSystemFont',
          'Segoe UI',
          'sans-serif'
        ],
        body: [
          '"Open Sans"',
          'system-ui',
          '-apple-system',
          'BlinkMacSystemFont',
          'Segoe UI',
          'sans-serif'
        ]
      }
    }
  },
  plugins: []
};

# END OF frontend/tailwind.config.js


##################################################################
# FILE: frontend/.gitignore
# PATH: frontend/.gitignore
##################################################################

.DS_Store
node_modules
/build
/.svelte-kit
/package
.env
.env.*
!.env.example
vite.config.js.timestamp-*
vite.config.ts.timestamp-*
*.log
.vercel
.output

# END OF frontend/.gitignore


##################################################################
# FILE: frontend/src/app.css
# PATH: frontend/src/app.css
##################################################################

@import "tailwindcss";

@layer base {
  :root {
    color-scheme: dark;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    background-color: rgb(243 243 243);
    color: rgb(31 41 55);
    font-family: 'Open Sans', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  }

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
}

# END OF frontend/src/app.css


##################################################################
# FILE: frontend/src/app.d.ts
# PATH: frontend/src/app.d.ts
##################################################################


# END OF frontend/src/app.d.ts


##################################################################
# FILE: frontend/src/app.html
# PATH: frontend/src/app.html
##################################################################

<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="%sveltekit.assets%/favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link
			href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700;800&family=Open+Sans:wght@400;500;600&display=swap"
			rel="stylesheet"
		/>
		%sveltekit.head%
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">%sveltekit.body%</div>
	</body>
</html>
# END OF frontend/src/app.html


###############################################################################
# ULTIMATE ARCHIVE COMPLETE
# Frontend: 378 files | Backend: ~50 files | Total: ~430 files
# Generated: Fri Nov 21 03:49:04 UTC 2025
###############################################################################
