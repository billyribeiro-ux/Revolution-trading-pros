/**
 * Admin Responsive Design System
 * Apple ICT 7 Principal Engineer Grade - January 2026
 *
 * Mobile-first responsive utilities for all admin pages
 * Svelte 5 + SvelteKit 2.x compatible
 */

/* ═══════════════════════════════════════════════════════════════════════════
   VERY SMALL PHONE OPTIMIZATIONS (320-480px)
   2026 Responsive Standards for xs breakpoint
   ═══════════════════════════════════════════════════════════════════════════ */

@media (max-width: 480px) {
	/* Sidebar - Full width on very small screens */
	.admin-sidebar {
		width: 100%;
		min-width: 100%;
		position: fixed;
		left: 0;
		right: 0;
	}

	/* Tables - Compact padding and smaller text */
	.admin-table th,
	.admin-table td {
		padding: 0.5rem;
		font-size: 0.75rem;
		line-height: 1.25;
	}

	/* Modals - Edge-to-edge with minimal margin */
	.admin-modal,
	.modal-content {
		margin: 0.5rem;
		max-height: calc(100vh - 1rem);
		width: calc(100vw - 1rem);
		max-width: calc(100vw - 1rem);
	}

	/* Form grids - Single column on very small screens */
	.admin-form-grid,
	.form-grid {
		grid-template-columns: 1fr;
		gap: 0.75rem;
	}

	/* Text overflow prevention */
	.admin-page-container,
	.glass-panel,
	.analytics-panel,
	.metric-card,
	.stat-card,
	.info-card {
		word-break: break-word;
		overflow-wrap: anywhere;
		hyphens: auto;
	}

	/* Reduced padding on very small screens */
	.admin-page-container {
		padding: var(--space-2, 0.5rem);
		max-width: 100%;
	}

	.glass-panel,
	.analytics-panel {
		padding: var(--space-2, 0.5rem);
		border-radius: var(--radius-md, 0.375rem);
	}

	.metric-card,
	.stat-card,
	.info-card {
		padding: var(--space-2, 0.5rem);
	}

	/* Compact buttons */
	.btn,
	.header-btn {
		padding: 0.375rem 0.75rem;
		font-size: 0.75rem;
	}

	/* Full-width buttons on very small screens */
	.btn-group {
		flex-direction: column;
		width: 100%;
	}

	.btn-group .btn {
		width: 100%;
	}

	/* Search input - full width */
	.search-input {
		width: 100%;
		max-width: 100%;
		padding: var(--space-2, 0.5rem) var(--space-3, 0.75rem);
		font-size: 0.875rem;
	}

	/* Smaller gap for grids */
	.metrics-grid,
	.stats-grid,
	.business-grid {
		gap: var(--space-2, 0.5rem);
	}

	/* Typography adjustments for very small screens */
	.page-title {
		font-size: 1.25rem;
		line-height: 1.3;
	}

	.page-subtitle {
		font-size: 0.8125rem;
	}

	.section-title {
		font-size: 1rem;
	}

	/* Compact section spacing */
	.section-spacing {
		margin-bottom: var(--space-4, 1rem);
	}

	/* Stack flex items vertically */
	.flex-stack,
	.search-filter-bar {
		flex-direction: column;
		gap: var(--space-2, 0.5rem);
	}

	/* Header actions - stack vertically */
	.header-actions {
		flex-direction: column;
		gap: 0.5rem;
		width: 100%;
	}

	.header-actions > * {
		width: 100%;
	}

	/* Dual panel - ensure single column */
	.dual-panel-row {
		gap: var(--space-2, 0.5rem);
	}
}

/* Extra small devices (320px and below) - Emergency compact mode */
@media (max-width: 360px) {
	.admin-page-container {
		padding: 0.25rem;
	}

	.glass-panel,
	.analytics-panel,
	.metric-card,
	.stat-card,
	.info-card {
		padding: 0.375rem;
		border-radius: 0.25rem;
	}

	.admin-table th,
	.admin-table td {
		padding: 0.375rem 0.25rem;
		font-size: 0.6875rem;
	}

	.page-title {
		font-size: 1.125rem;
	}

	.section-title {
		font-size: 0.9375rem;
	}

	/* Truncate long text with ellipsis */
	.truncate-xs {
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
		max-width: 100%;
	}
}

/* ═══════════════════════════════════════════════════════════════════════════
   RESPONSIVE CONTAINER UTILITIES
   ═══════════════════════════════════════════════════════════════════════════ */

.admin-page-container {
	position: relative;
	z-index: 10;
	width: 100%;
	max-width: min(1400px, calc(100vw - var(--space-8)));
	margin: 0 auto;
	padding: var(--space-4);
}

@media (min-width: 640px) {
	.admin-page-container {
		padding: var(--space-6);
	}
}

@media (min-width: 1024px) {
	.admin-page-container {
		padding: var(--space-8);
	}
}

/* ═══════════════════════════════════════════════════════════════════════════
   RESPONSIVE GRID UTILITIES
   ═══════════════════════════════════════════════════════════════════════════ */

.metrics-grid,
.stats-grid,
.business-grid {
	display: grid;
	gap: var(--space-4);
	grid-template-columns: 1fr;
}

@media (min-width: 640px) {
	.metrics-grid,
	.stats-grid {
		grid-template-columns: repeat(2, 1fr);
	}
}

@media (min-width: 1024px) {
	.metrics-grid {
		grid-template-columns: repeat(3, 1fr);
	}

	.stats-grid {
		grid-template-columns: repeat(4, 1fr);
	}

	.business-grid {
		grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
	}
}

/* ═══════════════════════════════════════════════════════════════════════════
   RESPONSIVE PANEL UTILITIES
   ═══════════════════════════════════════════════════════════════════════════ */

.glass-panel,
.analytics-panel {
	background: var(--bg-surface);
	border: 1px solid var(--border-default);
	border-radius: var(--radius-lg);
	padding: var(--space-4);
	backdrop-filter: blur(10px);
}

@media (min-width: 640px) {
	.glass-panel,
	.analytics-panel {
		padding: var(--space-6);
	}
}

@media (min-width: 1024px) {
	.glass-panel,
	.analytics-panel {
		padding: var(--space-8);
	}
}

/* ═══════════════════════════════════════════════════════════════════════════
   RESPONSIVE DUAL PANEL ROW
   ═══════════════════════════════════════════════════════════════════════════ */

.dual-panel-row {
	display: grid;
	gap: var(--space-4);
	grid-template-columns: 1fr;
}

@media (min-width: 1024px) {
	.dual-panel-row {
		grid-template-columns: repeat(2, 1fr);
		gap: var(--space-6);
	}
}

/* ═══════════════════════════════════════════════════════════════════════════
   RESPONSIVE TABLE UTILITIES
   ═══════════════════════════════════════════════════════════════════════════ */

.admin-table-container {
	width: 100%;
	overflow-x: auto;
	-webkit-overflow-scrolling: touch;
	border-radius: var(--radius-lg);
	border: 1px solid var(--border-default);
}

.admin-table {
	width: 100%;
	min-width: 600px;
	border-collapse: collapse;
}

@media (min-width: 1024px) {
	.admin-table {
		min-width: 100%;
	}
}

/* ═══════════════════════════════════════════════════════════════════════════
   RESPONSIVE SEARCH & FILTERS
   ═══════════════════════════════════════════════════════════════════════════ */

.search-filter-bar {
	display: flex;
	flex-direction: column;
	gap: var(--space-3);
	margin-bottom: var(--space-4);
}

@media (min-width: 768px) {
	.search-filter-bar {
		flex-direction: row;
		align-items: center;
		justify-content: space-between;
	}
}

.search-input {
	width: 100%;
	max-width: none;
	padding: var(--space-3) var(--space-4);
	background: var(--bg-surface);
	border: 1px solid var(--border-default);
	border-radius: var(--radius-md);
	color: var(--text-primary);
	font-size: var(--text-sm);
}

@media (min-width: 640px) {
	.search-input {
		max-width: 320px;
	}
}

@media (min-width: 1024px) {
	.search-input {
		max-width: 400px;
	}
}

/* ═══════════════════════════════════════════════════════════════════════════
   RESPONSIVE MODAL UTILITIES
   ═══════════════════════════════════════════════════════════════════════════ */

.modal-content {
	width: calc(100vw - var(--space-8));
	max-width: 500px;
	max-height: calc(100vh - var(--space-8));
	overflow-y: auto;
}

@media (min-width: 640px) {
	.modal-content {
		width: 90vw;
		max-width: 600px;
	}
}

@media (min-width: 1024px) {
	.modal-content {
		width: auto;
		max-width: 800px;
	}
}

/* ═══════════════════════════════════════════════════════════════════════════
   TOUCH TARGET UTILITIES (44x44px minimum)
   ═══════════════════════════════════════════════════════════════════════════ */

@media (hover: none) and (pointer: coarse) {
	.btn,
	.header-btn,
	.icon-btn,
	button:not(.no-touch-target) {
		min-height: 44px;
		min-width: 44px;
		padding: var(--space-3);
	}

	.admin-table td,
	.admin-table th {
		padding: var(--space-3) var(--space-4);
	}
}

/* ═══════════════════════════════════════════════════════════════════════════
   RESPONSIVE TYPOGRAPHY
   ═══════════════════════════════════════════════════════════════════════════ */

.page-title {
	font-size: clamp(1.5rem, 4vw, 2rem);
	font-weight: var(--font-bold);
	color: var(--text-primary);
	margin: 0 0 var(--space-2) 0;
}

.page-subtitle {
	font-size: clamp(0.875rem, 2vw, 1rem);
	color: var(--text-secondary);
	margin: 0 0 var(--space-4) 0;
}

.section-title {
	font-size: clamp(1.25rem, 3vw, 1.5rem);
	font-weight: var(--font-semibold);
	color: var(--text-primary);
	margin: 0 0 var(--space-3) 0;
}

/* ═══════════════════════════════════════════════════════════════════════════
   RESPONSIVE CARD UTILITIES
   ═══════════════════════════════════════════════════════════════════════════ */

.metric-card,
.stat-card,
.info-card {
	background: var(--bg-surface);
	border: 1px solid var(--border-default);
	border-radius: var(--radius-lg);
	padding: var(--space-4);
	transition: var(--transition-all);
}

@media (min-width: 640px) {
	.metric-card,
	.stat-card,
	.info-card {
		padding: var(--space-5);
	}
}

@media (min-width: 1024px) {
	.metric-card,
	.stat-card,
	.info-card {
		padding: var(--space-6);
	}
}

/* ═══════════════════════════════════════════════════════════════════════════
   RESPONSIVE SPACING UTILITIES
   ═══════════════════════════════════════════════════════════════════════════ */

.section-spacing {
	margin-bottom: var(--space-6);
}

@media (min-width: 768px) {
	.section-spacing {
		margin-bottom: var(--space-8);
	}
}

@media (min-width: 1024px) {
	.section-spacing {
		margin-bottom: var(--space-10);
	}
}

/* ═══════════════════════════════════════════════════════════════════════════
   RESPONSIVE VISIBILITY UTILITIES
   ═══════════════════════════════════════════════════════════════════════════ */

.mobile-only {
	display: block;
}

.tablet-up {
	display: none;
}

.desktop-only {
	display: none;
}

@media (min-width: 768px) {
	.mobile-only {
		display: none;
	}

	.tablet-up {
		display: block;
	}
}

@media (min-width: 1024px) {
	.desktop-only {
		display: block;
	}
}

/* ═══════════════════════════════════════════════════════════════════════════
   RESPONSIVE FLEX UTILITIES
   ═══════════════════════════════════════════════════════════════════════════ */

.flex-stack {
	display: flex;
	flex-direction: column;
	gap: var(--space-3);
}

@media (min-width: 768px) {
	.flex-stack-md {
		flex-direction: row;
		align-items: center;
		justify-content: space-between;
	}
}

/* ═══════════════════════════════════════════════════════════════════════════
   ACCESSIBILITY - REDUCED MOTION
   ═══════════════════════════════════════════════════════════════════════════ */

@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
	}
}

/* ═══════════════════════════════════════════════════════════════════════════
   ACCESSIBILITY - HIGH CONTRAST
   ═══════════════════════════════════════════════════════════════════════════ */

@media (prefers-contrast: high) {
	.glass-panel,
	.analytics-panel,
	.metric-card,
	.stat-card {
		border-width: 2px;
	}

	.btn,
	button {
		border-width: 2px;
		font-weight: var(--font-bold);
	}
}

/* ═══════════════════════════════════════════════════════════════════════════
   PRINT STYLES
   ═══════════════════════════════════════════════════════════════════════════ */

@media print {
	.admin-page-container {
		max-width: 100%;
		padding: 0;
	}

	.glass-panel,
	.analytics-panel {
		border: 1px solid #000;
		background: #fff;
		page-break-inside: avoid;
	}

	.btn,
	button,
	.header-actions {
		display: none !important;
	}
}
