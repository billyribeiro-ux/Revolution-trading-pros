import{a3 as cs,k as is,d as p,a as n,f as d,K as B,X as hs,ac as os,e,a1 as us,aM as G,ab as E,a4 as vs,c as g,aQ as ps,aR as ns,aS as ds,a0 as gs,$ as fs,F as js,aT as _,aU as Q,aV as bs,b as z,ag as P,E as S,v as C,au as X,aW as ms,aX as ys,aY as _s,aP as zs,M as ws,aZ as q,ah as ks,_ as Ss}from"../../../../chunks/vendor-svelte.js";function Ds(J,xs){J.component(s=>{const M=[{id:"market-analysis",name:"Market Analysis",color:"#3b82f6"},{id:"trading-strategies",name:"Trading Strategies",color:"#10b981"},{id:"risk-management",name:"Risk Management",color:"#ef4444"},{id:"options-trading",name:"Options Trading",color:"#f59e0b"},{id:"technical-analysis",name:"Technical Analysis",color:"#6366f1"},{id:"fundamental-analysis",name:"Fundamental Analysis",color:"#ec4899"},{id:"psychology",name:"Psychology",color:"#8b5cf6"},{id:"education",name:"Education",color:"#14b8a6"},{id:"news",name:"News & Updates",color:"#06b6d4"},{id:"earnings",name:"Earnings",color:"#f97316"},{id:"stocks",name:"Stocks",color:"#84cc16"},{id:"futures",name:"Futures",color:"#22c55e"},{id:"forex",name:"Forex",color:"#0ea5e9"},{id:"crypto",name:"Crypto",color:"#a855f7"},{id:"small-accounts",name:"Small Accounts",color:"#eab308"},{id:"day-trading",name:"Day Trading",color:"#d946ef"},{id:"swing-trading",name:"Swing Trading",color:"#64748b"},{id:"beginners",name:"Beginners Guide",color:"#fb7185"}];function L(t){return M.find(l=>l.id===t)}let v=[],u=null,x=!1,F="",N="all",R="all",i=new Set,f=!1,m="grid",T="created_at",K="desc",w={start:"",end:""},W=null,y=[];const Y=[{value:"all",label:"All Status"},{value:"published",label:"Published"},{value:"draft",label:"Draft"},{value:"scheduled",label:"Scheduled"},{value:"archived",label:"Archived"}],Z=[{value:"created_at",label:"Date Created"},{value:"published_at",label:"Date Published"},{value:"view_count",label:"Most Viewed"},{value:"engagement_rate",label:"Engagement"},{value:"seo_score",label:"SEO Score"},{value:"title",label:"Alphabetical"}];cs(()=>{document.removeEventListener("keydown",as)});async function O(){x=!0;try{const t=new URLSearchParams;T&&t.append("sort",T),K&&t.append("order",K),w.start,w.end,v=((await(await fetch(`/api/admin/posts?${t}`)).json()).data||[]).map(a=>({...a,seo_score:ss(a),engagement_rate:ts(a),selected:i.has(a.id)}))}catch{k("error","Failed to load posts")}finally{x=!1}}async function V(){try{u=await(await fetch("/api/admin/posts/stats")).json()}catch{}}function r(){f=!f,f?i=new Set(v.map(t=>t.id)):i.clear(),v=v.map(t=>({...t,selected:f}))}async function $(){if(i.size===0){k("warning","No posts selected");return}if(confirm(`Delete ${i.size} posts? This cannot be undone.`))try{(await fetch("/api/admin/posts/bulk-delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:[...i]})})).ok&&(O(),V(),i.clear(),f=!1,k("success",`Deleted ${i.size} posts`))}catch{k("error","Failed to delete posts")}}function ss(t){let l=0;return t.title?.length>=30&&t.title?.length<=70?l+=20:t.title?.length>0&&(l+=10),t.meta_description?.length>=120&&t.meta_description?.length<=160?l+=20:t.meta_description?.length>0&&(l+=10),t.featured_image&&(l+=15),t.categories?.length>0&&(l+=10),t.tags?.length>0&&(l+=10),t.slug&&t.slug.length<60&&(l+=10),t.word_count>=1500?l+=15:t.word_count>=500?l+=10:t.word_count>=300&&(l+=5),Math.min(l,100)}function ts(t){if(!t.view_count||t.view_count===0)return 0;const l=(t.likes||0)+(t.comments||0)+(t.shares||0);return Math.round(l/t.view_count*100)}function as(t){(t.ctrlKey||t.metaKey)&&t.key==="n"&&(t.preventDefault(),Ss()),(t.ctrlKey||t.metaKey)&&t.key==="f"&&(t.preventDefault(),document.querySelector(".search-box input")?.focus()),(t.ctrlKey||t.metaKey)&&t.key==="a"&&!(t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement)&&(t.preventDefault(),r()),t.key==="Delete"&&i.size>0&&!(t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement)&&(t.preventDefault(),$()),t.key==="v"&&!(t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement)&&(t.preventDefault(),m=m==="grid"?"list":"grid"),t.key==="r"&&!(t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement)&&(t.preventDefault(),O(),V())}function H(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function ls(t){return new Date(t).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function D(t){return t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t.toString()}function I(t){return t>=80?"#10b981":t>=60?"#f59e0b":"#ef4444"}function k(t,l){const c=Date.now();y=[...y,{id:c,type:t,message:l}],setTimeout(()=>{y=y.filter(a=>a.id!==c)},5e3)}const es=i.size>0;is("1h57cj5",s,t=>{t.title(l=>{l.push("<title>Blog Posts | Enterprise Admin</title>")})}),s.push('<div class="blog-page svelte-1h57cj5"><div class="notifications svelte-1h57cj5"><!--[-->');const U=p(y);for(let t=0,l=U.length;t<l;t++){let c=U[t];s.push(`<div${n(`notification ${d(c.type)}`,"svelte-1h57cj5")}>`),c.type==="success"?(s.push("<!--[-->"),B(s,{size:20})):(s.push("<!--[!-->"),c.type==="error"?(s.push("<!--[-->"),hs(s,{size:20})):(s.push("<!--[!-->"),os(s,{size:20})),s.push("<!--]-->")),s.push(`<!--]--> ${e(c.message)}</div>`)}if(s.push(`<!--]--></div> <header class="page-header svelte-1h57cj5"><div class="svelte-1h57cj5"><h1 class="svelte-1h57cj5">Blog Posts</h1> <p class="svelte-1h57cj5">Create and manage blog posts • ${e(v.length)} posts • Last updated: ${e(new Date().toLocaleTimeString())}</p></div> <div class="header-actions svelte-1h57cj5"><button class="btn-icon svelte-1h57cj5" title="Refresh (R)">`),us(s,{size:18}),s.push('<!----></button> <button class="btn-primary svelte-1h57cj5" title="New Post (Ctrl+N)">'),G(s,{size:18}),s.push("<!----> New Post</button></div></header> "),u?(s.push("<!--[-->"),s.push('<div class="stats-grid svelte-1h57cj5"><div class="stat-card svelte-1h57cj5"><div class="stat-icon svelte-1h57cj5">'),C(s,{size:24}),s.push(`<!----></div> <div class="stat-content svelte-1h57cj5"><div class="stat-value svelte-1h57cj5">${e(u.total)}</div> <div class="stat-label svelte-1h57cj5">Total Posts</div> <div class="stat-change svelte-1h57cj5">+${e(u.new_this_month||0)} this month</div></div></div> <div class="stat-card published svelte-1h57cj5"><div class="stat-icon svelte-1h57cj5">`),B(s,{size:24}),s.push(`<!----></div> <div class="stat-content svelte-1h57cj5"><div class="stat-value svelte-1h57cj5">${e(u.published)}</div> <div class="stat-label svelte-1h57cj5">Published</div> <div class="stat-change svelte-1h57cj5">${e(Math.round(u.published/u.total*100))}%</div></div></div> <div class="stat-card draft svelte-1h57cj5"><div class="stat-icon svelte-1h57cj5">`),_(s,{size:24}),s.push(`<!----></div> <div class="stat-content svelte-1h57cj5"><div class="stat-value svelte-1h57cj5">${e(u.draft)}</div> <div class="stat-label svelte-1h57cj5">Drafts</div> <div class="stat-change svelte-1h57cj5">${e(u.scheduled||0)} scheduled</div></div></div> <div class="stat-card views svelte-1h57cj5"><div class="stat-icon svelte-1h57cj5">`),S(s,{size:24}),s.push(`<!----></div> <div class="stat-content svelte-1h57cj5"><div class="stat-value svelte-1h57cj5">${e(D(u.total_views||0))}</div> <div class="stat-label svelte-1h57cj5">Total Views</div> <div class="stat-change svelte-1h57cj5">`),X(s,{size:16}),s.push(`<!----> ${e(u.views_growth||0)}%</div></div></div></div>`)):s.push("<!--[!-->"),s.push('<!--]--> <div class="controls-bar svelte-1h57cj5"><div class="controls-left svelte-1h57cj5">'),es?(s.push("<!--[-->"),s.push(`<div class="bulk-actions svelte-1h57cj5"><span class="bulk-count svelte-1h57cj5">${e(i.size)} selected</span> <button class="btn-secondary svelte-1h57cj5">Publish</button> <button class="btn-secondary svelte-1h57cj5">Draft</button> <button class="btn-secondary danger svelte-1h57cj5">`),E(s,{size:18}),s.push('<!----> Delete</button> <button class="btn-ghost svelte-1h57cj5">Cancel</button></div>')):(s.push("<!--[!-->"),s.push('<div class="search-box svelte-1h57cj5">'),vs(s,{size:20}),s.push(`<!----> <input type="text"${g("value",F)} placeholder="Search posts... (Ctrl+F)" class="svelte-1h57cj5"/></div>`)),s.push(`<!--]--></div> <div class="controls-right svelte-1h57cj5"><div class="date-range svelte-1h57cj5"><input type="date"${g("value",w.start)} class="date-input svelte-1h57cj5"/> <span class="svelte-1h57cj5">to</span> <input type="date"${g("value",w.end)} class="date-input svelte-1h57cj5"/></div> `),s.select({class:"filter-select",value:N},t=>{t.push("<!--[-->");const l=p(Y);for(let c=0,a=l.length;c<a;c++){let h=l[c];t.option({value:h.value,class:""},o=>{o.push(`${e(h.label)}`)},"svelte-1h57cj5")}t.push("<!--]-->")},"svelte-1h57cj5"),s.push(" "),s.select({class:"filter-select",value:R},t=>{t.option({value:"all",class:""},c=>{c.push("All Categories")},"svelte-1h57cj5"),t.push("<!--[-->");const l=p(M);for(let c=0,a=l.length;c<a;c++){let h=l[c];t.option({value:h.id,class:""},o=>{o.push(`${e(h.name)}`)},"svelte-1h57cj5")}t.push("<!--]-->")},"svelte-1h57cj5"),s.push(' <div class="sort-controls svelte-1h57cj5">'),s.select({class:"filter-select",value:T},t=>{t.push("<!--[-->");const l=p(Z);for(let c=0,a=l.length;c<a;c++){let h=l[c];t.option({value:h.value,class:""},o=>{o.push(`${e(h.label)}`)},"svelte-1h57cj5")}t.push("<!--]-->")},"svelte-1h57cj5"),s.push(' <button class="btn-icon svelte-1h57cj5">'),s.push("<!--[!-->"),ps(s,{size:18}),s.push(`<!--]--></button></div> <div class="view-toggle svelte-1h57cj5"><button title="Grid View"${n("svelte-1h57cj5",void 0,{active:m==="grid"})}>`),ns(s,{size:18}),s.push(`<!----></button> <button title="List View"${n("svelte-1h57cj5",void 0,{active:m==="list"})}>`),ds(s,{size:18}),s.push('<!----></button></div> <div class="action-buttons svelte-1h57cj5"><button class="btn-secondary svelte-1h57cj5">'),gs(s,{size:18}),s.push('<!----> Export</button> <label class="btn-secondary svelte-1h57cj5">'),fs(s,{size:18}),s.push('<!----> Import <input type="file" accept=".csv,.json" hidden="" class="svelte-1h57cj5"/></label> <a href="/admin/blog/categories" class="btn-secondary svelte-1h57cj5">'),js(s,{size:18}),s.push("<!----> Categories</a></div></div></div> "),m==="grid"){if(s.push("<!--[-->"),s.push('<div class="posts-grid svelte-1h57cj5">'),x){s.push("<!--[-->"),s.push("<!--[-->");const t=p(Array(6));for(let l=0,c=t.length;l<c;l++)t[l],s.push('<div class="post-card skeleton svelte-1h57cj5"><div class="skeleton-image svelte-1h57cj5"></div> <div class="skeleton-content svelte-1h57cj5"><div class="skeleton-line svelte-1h57cj5"></div> <div class="skeleton-line short svelte-1h57cj5"></div></div></div>');s.push("<!--]-->")}else{if(s.push("<!--[!-->"),v.length===0)s.push("<!--[-->"),s.push('<div class="empty-state svelte-1h57cj5">'),_(s,{size:48}),s.push(`<!----> <h3 class="svelte-1h57cj5">No posts found</h3> <p class="svelte-1h57cj5">${e("Create your first blog post")}</p> <button class="btn-primary svelte-1h57cj5">`),G(s,{size:18}),s.push("<!----> Create Post</button></div>");else{s.push("<!--[!-->"),s.push(`<div class="select-all-card svelte-1h57cj5"><label class="checkbox-label svelte-1h57cj5"><input type="checkbox"${g("checked",f,!0)} class="svelte-1h57cj5"/> <span class="svelte-1h57cj5">Select All (${e(v.length)})</span></label></div> <!--[-->`);const t=p(v);for(let l=0,c=t.length;l<c;l++){let a=t[l];if(s.push(`<div${n("post-card svelte-1h57cj5",void 0,{selected:i.has(a.id)})}><div class="post-select svelte-1h57cj5"><input type="checkbox"${g("checked",i.has(a.id),!0)} class="svelte-1h57cj5"/></div> <button${n("featured-toggle svelte-1h57cj5",void 0,{active:a.featured})}>`),a.featured?(s.push("<!--[-->"),Q(s,{size:20})):(s.push("<!--[!-->"),bs(s,{size:20})),s.push("<!--]--></button> "),a.featured_image?(s.push("<!--[-->"),s.push(`<div class="post-image svelte-1h57cj5"${z(`background-image: url(${d(a.featured_image)})`)}>`),a.status==="scheduled"?(s.push("<!--[-->"),s.push('<div class="scheduled-overlay svelte-1h57cj5">'),P(s,{size:20}),s.push(`<!----> ${e(ls(a.publish_at))}</div>`)):s.push("<!--[!-->"),s.push("<!--]--></div>")):(s.push("<!--[!-->"),s.push('<div class="post-image placeholder svelte-1h57cj5">'),_(s,{size:32}),s.push("<!----></div>")),s.push(`<!--]--> <div class="post-content svelte-1h57cj5"><div class="post-header svelte-1h57cj5"><h3 class="svelte-1h57cj5">${e(a.title)}</h3> <div class="post-badges svelte-1h57cj5"><span${n(`status-badge status-${d(a.status)}`,"svelte-1h57cj5")}>${e(a.status)}</span> `),a.seo_score?(s.push("<!--[-->"),s.push(`<span class="seo-badge svelte-1h57cj5"${z(`background: ${d(I(a.seo_score))}20; color: ${d(I(a.seo_score))}`)}>SEO: ${e(a.seo_score)}</span>`)):s.push("<!--[!-->"),s.push("<!--]--></div></div> "),a.excerpt?(s.push("<!--[-->"),s.push(`<p class="post-excerpt svelte-1h57cj5">${e(a.excerpt)}</p>`)):s.push("<!--[!-->"),s.push('<!--]--> <div class="post-metrics svelte-1h57cj5"><div class="metric svelte-1h57cj5">'),S(s,{size:16}),s.push(`<!----> ${e(D(a.view_count||0))}</div> <div class="metric svelte-1h57cj5">`),C(s,{size:16}),s.push(`<!----> ${e(a.engagement_rate||0)}%</div> `),a.bounce_rate?(s.push("<!--[-->"),s.push('<div class="metric svelte-1h57cj5">'),X(s,{size:16}),s.push(`<!----> ${e(a.bounce_rate)}% bounce</div>`)):s.push("<!--[!-->"),s.push("<!--]--> "),a.avg_read_time?(s.push("<!--[-->"),s.push('<div class="metric svelte-1h57cj5">'),P(s,{size:16}),s.push(`<!----> ${e(a.avg_read_time)}s read</div>`)):s.push("<!--[!-->"),s.push('<!--]--></div> <div class="post-meta svelte-1h57cj5">'),a.author?(s.push("<!--[-->"),s.push('<div class="meta-item svelte-1h57cj5">'),ms(s,{size:16}),s.push(`<!----> ${e(a.author.name)}</div>`)):s.push("<!--[!-->"),s.push("<!--]--> "),a.published_at?(s.push("<!--[-->"),s.push('<div class="meta-item svelte-1h57cj5">'),ys(s,{size:16}),s.push(`<!----> ${e(H(a.published_at))}</div>`)):s.push("<!--[!-->"),s.push("<!--]--></div> "),a.categories&&a.categories.length>0){s.push("<!--[-->"),s.push('<div class="post-categories svelte-1h57cj5"><!--[-->');const h=p(a.categories.slice(0,3));for(let o=0,A=h.length;o<A;o++){let j=h[o];const b=typeof j=="string"?L(j):j;b?(s.push("<!--[-->"),s.push(`<span class="category-badge svelte-1h57cj5"${z("",{"--tag-color":b.color||"#6366f1"})}>${e(b.name)}</span>`)):s.push("<!--[!-->"),s.push("<!--]-->")}s.push("<!--]--> "),a.categories.length>3?(s.push("<!--[-->"),s.push(`<span class="category-more svelte-1h57cj5">+${e(a.categories.length-3)}</span>`)):s.push("<!--[!-->"),s.push("<!--]--></div>")}else s.push("<!--[!-->");s.push('<!--]--> <div class="post-actions svelte-1h57cj5"><button class="action-btn primary svelte-1h57cj5" title="Edit">'),_(s,{size:18}),s.push('<!----> Edit</button> <button class="action-btn svelte-1h57cj5" title="Preview">'),S(s,{size:18}),s.push('<!----></button> <button class="action-btn svelte-1h57cj5" title="Toggle Status">'),a.status==="published"?(s.push("<!--[-->"),_s(s,{size:18})):(s.push("<!--[!-->"),zs(s,{size:18})),s.push('<!--]--></button> <div class="action-dropdown svelte-1h57cj5"><button class="action-btn svelte-1h57cj5">'),ws(s,{size:18}),s.push("<!----></button> "),W===a.id?(s.push("<!--[-->"),s.push('<div class="action-menu svelte-1h57cj5"><button class="svelte-1h57cj5">'),q(s,{size:16}),s.push('<!----> Duplicate</button> <button class="svelte-1h57cj5">'),P(s,{size:16}),s.push('<!----> Schedule</button> <button class="svelte-1h57cj5">'),C(s,{size:16}),s.push('<!----> Analytics</button> <button class="svelte-1h57cj5">'),ks(s,{size:16}),s.push('<!----> View Live</button> <hr class="svelte-1h57cj5"/> <button class="danger svelte-1h57cj5">'),E(s,{size:16}),s.push("<!----> Delete</button></div>")):s.push("<!--[!-->"),s.push("<!--]--></div></div></div></div>")}s.push("<!--]-->")}s.push("<!--]-->")}s.push("<!--]--></div>")}else{s.push("<!--[!-->"),s.push(`<div class="posts-table-container svelte-1h57cj5"><table class="posts-table svelte-1h57cj5"><thead class="svelte-1h57cj5"><tr class="svelte-1h57cj5"><th class="svelte-1h57cj5"><input type="checkbox"${g("checked",f,!0)} class="svelte-1h57cj5"/></th><th class="svelte-1h57cj5">Title</th><th class="svelte-1h57cj5">Author</th><th class="svelte-1h57cj5">Status</th><th class="svelte-1h57cj5">Categories</th><th class="svelte-1h57cj5">Views</th><th class="svelte-1h57cj5">SEO</th><th class="svelte-1h57cj5">Published</th><th class="svelte-1h57cj5">Actions</th></tr></thead><tbody class="svelte-1h57cj5"><!--[-->`);const t=p(v);for(let l=0,c=t.length;l<c;l++){let a=t[l];if(s.push(`<tr${n("svelte-1h57cj5",void 0,{selected:i.has(a.id)})}><td class="svelte-1h57cj5"><input type="checkbox"${g("checked",i.has(a.id),!0)} class="svelte-1h57cj5"/></td><td class="svelte-1h57cj5"><div class="table-title svelte-1h57cj5">`),a.featured?(s.push("<!--[-->"),Q(s,{size:16,class:"featured-icon"})):s.push("<!--[!-->"),s.push(`<!--]--> <a${g("href",`/admin/blog/edit/${d(a.id)}`)} class="svelte-1h57cj5">${e(a.title)}</a></div></td><td class="svelte-1h57cj5">${e(a.author?.name||"-")}</td><td class="svelte-1h57cj5"><span${n(`status-badge status-${d(a.status)}`,"svelte-1h57cj5")}>${e(a.status)}</span></td><td class="svelte-1h57cj5">`),a.categories?.length>0){s.push("<!--[-->"),s.push('<div class="table-category-tags svelte-1h57cj5"><!--[-->');const h=p(a.categories.slice(0,2));for(let o=0,A=h.length;o<A;o++){let j=h[o];const b=typeof j=="string"?L(j):j;b?(s.push("<!--[-->"),s.push(`<span class="category-tag-table svelte-1h57cj5"${z("",{"--tag-color":b.color||"#6366f1"})}>${e(b.name)}</span>`)):s.push("<!--[!-->"),s.push("<!--]-->")}s.push("<!--]--> "),a.categories.length>2?(s.push("<!--[-->"),s.push(`<span class="more-tag svelte-1h57cj5">+${e(a.categories.length-2)}</span>`)):s.push("<!--[!-->"),s.push("<!--]--></div>")}else s.push("<!--[!-->"),s.push("-");s.push(`<!--]--></td><td class="svelte-1h57cj5">${e(D(a.view_count||0))}</td><td class="svelte-1h57cj5"><div class="seo-score-bar svelte-1h57cj5"${z(`--score: ${d(a.seo_score)}%`)}>${e(a.seo_score)}</div></td><td class="svelte-1h57cj5">${e(a.published_at?H(a.published_at):"-")}</td><td class="svelte-1h57cj5"><div class="table-actions svelte-1h57cj5"><button class="action-icon svelte-1h57cj5" title="Edit">`),_(s,{size:16}),s.push('<!----></button> <button class="action-icon svelte-1h57cj5" title="Preview">'),S(s,{size:16}),s.push('<!----></button> <button class="action-icon svelte-1h57cj5" title="Duplicate">'),q(s,{size:16}),s.push('<!----></button> <button class="action-icon danger svelte-1h57cj5" title="Delete">'),E(s,{size:16}),s.push("<!----></button></div></td></tr>")}s.push("<!--]--></tbody></table></div>")}s.push("<!--]--> "),s.push("<!--[!-->"),s.push("<!--]--> "),s.push("<!--[!-->"),s.push("<!--]--> "),s.push("<!--[!-->"),s.push('<!--]--></div> <div class="keyboard-shortcuts svelte-1h57cj5"><span class="svelte-1h57cj5">⌘N New</span> <span class="svelte-1h57cj5">⌘F Search</span> <span class="svelte-1h57cj5">⌘A Select All</span> <span class="svelte-1h57cj5">V Toggle View</span> <span class="svelte-1h57cj5">R Refresh</span></div>')})}export{Ds as default};
