import{A as p,an as c,z as g}from"./vendor-svelte.js";const m={altTextEnabled:!0,altTextFormat:"%filename%",altTextCase:"titlecase",altTextPrefix:"",altTextSuffix:"",altTextStripNumbers:!0,altTextStripSpecialChars:!0,titleEnabled:!0,titleFormat:"%filename% %sep% %site%",titleCase:"titlecase",titlePrefix:"",titleSuffix:"",captionEnabled:!1,captionFormat:"%filename%",captionCase:"sentencecase",separator:"-",siteName:"Revolution Trading Pros",overwriteExisting:!1,avatarAltFormat:"Avatar of %name%",placeholderText:"Image"};function w(){let e=m;const{subscribe:a,set:o,update:r}=p(e);return{subscribe:a,set:t=>{o(t)},update:t=>{r(n=>t(n))},reset:()=>{o(m)},get:()=>c({subscribe:a})}}w();function b(e,a){const o=`${e.hour.toString().padStart(2,"0")}:${e.minute.toString().padStart(2,"0")}`,r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];switch(a){case"daily":return`Daily at ${o}`;case"weekly":return`Every ${r[e.dayOfWeek||0]} at ${o}`;case"monthly":return`Monthly on day ${e.dayOfMonth||1} at ${o}`;case"quarterly":return`Quarterly on day ${e.dayOfMonth||1} at ${o}`;default:return o}}function h(){let e=[];const{subscribe:a,set:o,update:r}=p(e);return{subscribe:a,add:t=>{const n={...t,id:crypto.randomUUID(),createdAt:new Date().toISOString()};return r(s=>[...s,n]),n},update:(t,n)=>{r(s=>s.map(d=>d.id===t?{...d,...n,updatedAt:new Date().toISOString()}:d))},remove:t=>{r(n=>n.filter(i=>i.id!==t))},toggle:t=>{r(n=>n.map(i=>i.id===t?{...i,isActive:!i.isActive,updatedAt:new Date().toISOString()}:i))},get:t=>c({subscribe:a}).find(s=>s.id===t)}}h();const l={defaultCenter:{latitude:40.7128,longitude:-74.006},defaultZoom:12,clusterEnabled:!0,clusterRadius:50,maxLocationsPerPage:20,searchRadius:50,radiusUnit:"mi",showDirections:!0},y=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];function $(e,a,o="mi"){const r=o==="km"?6371:3959,t=u(a.latitude-e.latitude),n=u(a.longitude-e.longitude),s=Math.sin(t/2)*Math.sin(t/2)+Math.cos(u(e.latitude))*Math.cos(u(a.latitude))*Math.sin(n/2)*Math.sin(n/2),i=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return r*i}function u(e){return e*(Math.PI/180)}function D(e,a,o,r="mi"){return e.filter(t=>t.address.coordinates&&t.isActive).map(t=>({...t,distance:$(a,t.address.coordinates,r)})).filter(t=>t.distance<=o).sort((t,n)=>t.distance-n.distance)}function O(e){const a=new Date,o=y[a.getDay()===0?6:a.getDay()-1],r=a.getHours().toString().padStart(2,"0")+":"+a.getMinutes().toString().padStart(2,"0"),t=a.toISOString().split("T")[0],n=e.specialHours?.find(i=>i.date===t);if(n){if(n.isClosed)return!1;if(n.opens&&n.closes)return r>=n.opens&&r<=n.closes}const s=e.hours.find(i=>i.dayOfWeek===o);return!s||s.isClosed?!1:r>=s.opens&&r<=s.closes}function f(e){const[a,o]=e.split(":").map(Number),r=a>=12?"PM":"AM";return`${a%12||12}:${o.toString().padStart(2,"0")} ${r}`}function I(e){if(O(e))return"Open now";const a=new Date,o=a.getDay()===0?6:a.getDay()-1;for(let r=0;r<7;r++){const t=(o+r)%7,n=y[t],s=e.hours.find(i=>i.dayOfWeek===n);if(s&&!s.isClosed)if(r===0){if(a.getHours().toString().padStart(2,"0")+":"+a.getMinutes().toString().padStart(2,"0")<s.opens)return`Opens at ${f(s.opens)}`}else return r===1?`Opens tomorrow at ${f(s.opens)}`:`Opens ${n} at ${f(s.opens)}`}return null}function T(e,a=!1){const o=a?`
`:", ";return[e.streetAddress,`${e.addressLocality}, ${e.addressRegion} ${e.postalCode}`,e.addressCountry].filter(Boolean).join(o)}function v(e,a){let r=`https://www.google.com/maps/dir/?api=1&destination=${e.address.coordinates?`${e.address.coordinates.latitude},${e.address.coordinates.longitude}`:encodeURIComponent(T(e.address))}`;return a&&(r+=`&origin=${a.latitude},${a.longitude}`),r}function A(){let e=[];const{subscribe:a,set:o,update:r}=p(e);return{subscribe:a,add:t=>{const n={...t,id:crypto.randomUUID(),createdAt:new Date().toISOString()};return r(s=>[...s,n]),n},update:(t,n)=>{r(s=>s.map(d=>d.id===t?{...d,...n,updatedAt:new Date().toISOString()}:d))},remove:t=>{r(n=>n.filter(i=>i.id!==t))},setPrimary:t=>{r(n=>n.map(i=>({...i,isPrimary:i.id===t,updatedAt:new Date().toISOString()})))},toggle:t=>{r(n=>n.map(i=>i.id===t?{...i,isActive:!i.isActive,updatedAt:new Date().toISOString()}:i))},get:t=>c({subscribe:a}).find(s=>s.id===t),findNearest:(t,n)=>{const s=c({subscribe:a});return D(s,t,n||l.searchRadius,l.radiusUnit)}}}function M(){let e=l;const{subscribe:a,set:o,update:r}=p(e);return{subscribe:a,set:t=>{o(t)},update:t=>{r(n=>t(n))},reset:()=>{o(l)}}}const S=A();M();g(S,e=>e.filter(a=>a.isActive));g(S,e=>e.find(a=>a.isPrimary));export{T as a,v as b,b as f,I as g,O as i};
