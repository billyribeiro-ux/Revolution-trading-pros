import{s as k,k as w,at as D,v as U,e,r as q,w as g,bZ as F,b_ as A,J as T,bQ as E,a4 as N,c as p,F as I,d as L,a as _,f as P,ah as R,c0 as Q,aa as j,u as B,l as J}from"../../../../../../chunks/vendor-svelte.js";import"@sveltejs/kit/internal";import"@sveltejs/kit/internal/server";import{s as u}from"../../../../../../chunks/members.js";function O(f,V){f.component(t=>{var v;let r=Number(k(v??={},"$page",J).params.id),d=k(v??={},"$serviceMembersStore",u).service,c=k(v??={},"$serviceMembersStore",u).stats,h=k(v??={},"$serviceMembersStore",u).members,l=k(v??={},"$serviceMembersStore",u).pagination,S=k(v??={},"$serviceMembersStore",u).loading,b="",n="",o=new Set;async function y(s){n=s,await u.loadServiceMembers(r,{search:b,status:s})}function z(s){switch(s){case"active":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"trial":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"churned":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}}function m(s){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(s)}function x(s){return new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function M(s){return s.first_name&&s.last_name?`${s.first_name[0]}${s.last_name[0]}`.toUpperCase():s.name?.slice(0,2).toUpperCase()||"U"}if(w("13kktq8",t,s=>{s.title(a=>{a.push(`<title>${e(d?.name||"Service")} Members | Revolution Trading Pros</title>`)})}),t.push('<div class="service-members-page svelte-13kktq8"><div class="page-header"><button class="back-btn svelte-13kktq8">'),D(t,{size:20}),t.push('<!----> Back to Members</button> <div class="header-content svelte-13kktq8"><div class="header-title svelte-13kktq8"><div class="title-icon svelte-13kktq8">'),U(t,{size:28}),t.push(`<!----></div> <div><h1 class="svelte-13kktq8">${e(d?.name||"Loading...")}</h1> <p class="service-type svelte-13kktq8">${e(d?.type||"")}</p></div></div> `),o.size>0?(t.push("<!--[-->"),t.push('<button class="btn-email svelte-13kktq8">'),q(t,{size:18}),t.push(`<!----> Email (${e(o.size)})</button>`)):t.push("<!--[!-->"),t.push("<!--]--></div></div> "),c?(t.push("<!--[-->"),t.push('<div class="stats-grid svelte-13kktq8"><div class="stat-card svelte-13kktq8"><div class="stat-icon purple svelte-13kktq8">'),g(t,{size:24}),t.push(`<!----></div> <div class="stat-value svelte-13kktq8">${e(c.total_members)}</div> <div class="stat-label svelte-13kktq8">Total Members</div></div> <div class="stat-card svelte-13kktq8"><div class="stat-icon emerald svelte-13kktq8">`),F(t,{size:24}),t.push(`<!----></div> <div class="stat-value svelte-13kktq8">${e(c.active_members)}</div> <div class="stat-label svelte-13kktq8">Active</div></div> <div class="stat-card svelte-13kktq8"><div class="stat-icon blue svelte-13kktq8">`),A(t,{size:24}),t.push(`<!----></div> <div class="stat-value svelte-13kktq8">${e(c.trial_members)}</div> <div class="stat-label svelte-13kktq8">Trial</div></div> <div class="stat-card svelte-13kktq8"><div class="stat-icon red svelte-13kktq8">`),T(t,{size:24}),t.push(`<!----></div> <div class="stat-value svelte-13kktq8">${e(c.churned_members)}</div> <div class="stat-label svelte-13kktq8">Churned</div></div> <div class="stat-card svelte-13kktq8"><div class="stat-icon gold svelte-13kktq8">`),E(t,{size:24}),t.push(`<!----></div> <div class="stat-value svelte-13kktq8">${e(m(c.total_revenue))}</div> <div class="stat-label svelte-13kktq8">Total Revenue</div></div></div>`)):t.push("<!--[!-->"),t.push('<!--]--> <div class="toolbar svelte-13kktq8"><div class="search-box svelte-13kktq8">'),N(t,{size:18}),t.push(`<!----> <input type="text" placeholder="Search members..."${p("value",b)} class="svelte-13kktq8"/></div> <div class="filter-group svelte-13kktq8">`),I(t,{size:16}),t.push("<!----> "),t.select({value:n,onchange:()=>y(n),class:""},s=>{s.option({value:""},a=>{a.push("All Status")}),s.option({value:"active"},a=>{a.push("Active")}),s.option({value:"trial"},a=>{a.push("Trial")}),s.option({value:"cancelled"},a=>{a.push("Cancelled")}),s.option({value:"expired"},a=>{a.push("Expired")})},"svelte-13kktq8"),t.push('</div></div> <div class="members-table-container svelte-13kktq8">'),S)t.push("<!--[-->"),t.push('<div class="loading-state svelte-13kktq8"><div class="loader svelte-13kktq8"></div> <p>Loading members...</p></div>');else{if(t.push("<!--[!-->"),h.length===0)t.push("<!--[-->"),t.push('<div class="empty-state svelte-13kktq8">'),g(t,{size:64,stroke:1}),t.push('<!----> <h3 class="svelte-13kktq8">No members found</h3> <p>No members have subscribed to this service yet</p></div>');else{t.push("<!--[!-->"),t.push(`<table class="members-table svelte-13kktq8"><thead class="svelte-13kktq8"><tr><th class="checkbox-col svelte-13kktq8"><input type="checkbox"${p("checked",o.size===h.length&&h.length>0,!0)} class="svelte-13kktq8"/></th><th class="svelte-13kktq8">Member</th><th class="svelte-13kktq8">Status</th><th class="svelte-13kktq8">Plan</th><th class="svelte-13kktq8">Revenue</th><th class="svelte-13kktq8">Start Date</th><th class="svelte-13kktq8">Actions</th></tr></thead><tbody class="svelte-13kktq8"><!--[-->`);const s=L(h);for(let a=0,C=s.length;a<C;a++){let i=s[a];t.push(`<tr${_("svelte-13kktq8",void 0,{selected:o.has(i.id)})}><td class="checkbox-col svelte-13kktq8"><input type="checkbox"${p("checked",o.has(i.id),!0)} class="svelte-13kktq8"/></td><td class="svelte-13kktq8"><div class="member-info svelte-13kktq8"><div class="member-avatar svelte-13kktq8">${e(M(i))}</div> <div class="member-details"><div class="member-name svelte-13kktq8">${e(i.name)}</div> <div class="member-email svelte-13kktq8">${e(i.email)}</div></div></div></td><td class="svelte-13kktq8"><span${_(`status-badge ${P(z(i.status))}`,"svelte-13kktq8")}>${e(i.status_label)}</span></td><td class="svelte-13kktq8"><span class="plan-name svelte-13kktq8">${e(i.current_plan||"-")}</span></td><td class="svelte-13kktq8"><span class="revenue svelte-13kktq8">${e(m(i.total_spent))}</span></td><td class="svelte-13kktq8"><span class="date svelte-13kktq8">${e(x(i.joined_at))}</span></td><td class="svelte-13kktq8"><div class="actions svelte-13kktq8"><button class="action-btn svelte-13kktq8" title="View Details">`),R(t,{size:16}),t.push('<!----></button> <button class="action-btn svelte-13kktq8" title="Send Email">'),q(t,{size:16}),t.push("<!----></button></div></td></tr>")}t.push("<!--]--></tbody></table> "),l?(t.push("<!--[-->"),t.push(`<div class="pagination svelte-13kktq8"><div class="pagination-info svelte-13kktq8">Showing ${e((l.current_page-1)*l.per_page+1)} to ${e(Math.min(l.current_page*l.per_page,l.total))} of ${e(l.total)}</div> <div class="pagination-controls svelte-13kktq8"><button class="page-btn svelte-13kktq8"${p("disabled",l.current_page===1,!0)}>`),Q(t,{size:18}),t.push(`<!----></button> <span class="page-indicator svelte-13kktq8">Page ${e(l.current_page)} of ${e(l.last_page)}</span> <button class="page-btn svelte-13kktq8"${p("disabled",l.current_page===l.last_page,!0)}>`),j(t,{size:18}),t.push("<!----></button></div></div>")):t.push("<!--[!-->"),t.push("<!--]-->")}t.push("<!--]-->")}t.push("<!--]--></div></div> "),t.push("<!--[!-->"),t.push("<!--]-->"),v&&B(v)})}export{O as default};
