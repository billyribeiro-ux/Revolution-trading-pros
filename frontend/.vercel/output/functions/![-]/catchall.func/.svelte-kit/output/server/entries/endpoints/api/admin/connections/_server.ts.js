import{json as i,error as l}from"@sveltejs/kit";const c=new Map,a=[{key:"stripe",name:"Stripe",category:"Payment",description:"Accept payments, manage subscriptions, and handle payouts",icon:"credit-card",color:"#635BFF",docs_url:"https://stripe.com/docs",is_oauth:!1,environments:["production","sandbox"],fields:[{key:"api_key",label:"API Key",type:"password",required:!0,placeholder:"sk_live_..."},{key:"webhook_secret",label:"Webhook Secret",type:"password",required:!0,placeholder:"whsec_..."}]},{key:"paypal",name:"PayPal",category:"Payment",description:"PayPal payments, subscriptions, and checkout",icon:"credit-card",color:"#003087",docs_url:"https://developer.paypal.com/docs",is_oauth:!0,environments:["production","sandbox"],fields:[{key:"client_id",label:"Client ID",type:"text",required:!0},{key:"client_secret",label:"Client Secret",type:"password",required:!0}]},{key:"square",name:"Square",category:"Payment",description:"Square payments and point of sale integration",icon:"credit-card",color:"#006AFF",docs_url:"https://developer.squareup.com/docs",is_oauth:!1,environments:["production","sandbox"],fields:[{key:"access_token",label:"Access Token",type:"password",required:!0},{key:"location_id",label:"Location ID",type:"text",required:!0}]},{key:"mailchimp",name:"Mailchimp",category:"Email",description:"Email marketing automation and subscriber management",icon:"mail",color:"#FFE01B",docs_url:"https://mailchimp.com/developer",is_oauth:!1,fields:[{key:"api_key",label:"API Key",type:"password",required:!0},{key:"server_prefix",label:"Server Prefix",type:"text",required:!0,placeholder:"us1"}]},{key:"sendgrid",name:"SendGrid",category:"Email",description:"Transactional email delivery and analytics",icon:"mail",color:"#1A82E2",docs_url:"https://docs.sendgrid.com",is_oauth:!1,fields:[{key:"api_key",label:"API Key",type:"password",required:!0}]},{key:"convertkit",name:"ConvertKit",category:"Email",description:"Creator-focused email marketing platform",icon:"mail",color:"#FB6970",docs_url:"https://developers.convertkit.com",is_oauth:!1,fields:[{key:"api_key",label:"API Key",type:"password",required:!0},{key:"api_secret",label:"API Secret",type:"password",required:!0}]},{key:"activecampaign",name:"ActiveCampaign",category:"Email",description:"Email marketing, automation, and CRM",icon:"mail",color:"#356AE6",docs_url:"https://developers.activecampaign.com",is_oauth:!1,fields:[{key:"api_url",label:"API URL",type:"url",required:!0,placeholder:"https://account.api-us1.com"},{key:"api_key",label:"API Key",type:"password",required:!0}]},{key:"google_analytics",name:"Google Analytics 4",category:"Analytics",description:"Website analytics and conversion tracking",icon:"chart-bar",color:"#F9AB00",docs_url:"https://developers.google.com/analytics",is_oauth:!0,fields:[{key:"measurement_id",label:"Measurement ID",type:"text",required:!0,placeholder:"G-XXXXXXXX"},{key:"api_secret",label:"API Secret",type:"password",required:!1}]},{key:"mixpanel",name:"Mixpanel",category:"Analytics",description:"Product analytics and user behavior tracking",icon:"chart-bar",color:"#7856FF",docs_url:"https://developer.mixpanel.com",is_oauth:!1,fields:[{key:"project_token",label:"Project Token",type:"password",required:!0},{key:"api_secret",label:"API Secret",type:"password",required:!1}]},{key:"amplitude",name:"Amplitude",category:"Analytics",description:"Product analytics and behavioral insights",icon:"chart-bar",color:"#1D3D90",docs_url:"https://www.docs.developers.amplitude.com",is_oauth:!1,fields:[{key:"api_key",label:"API Key",type:"password",required:!0}]},{key:"segment",name:"Segment",category:"Analytics",description:"Customer data platform and event routing",icon:"chart-bar",color:"#52BD94",docs_url:"https://segment.com/docs",is_oauth:!1,fields:[{key:"write_key",label:"Write Key",type:"password",required:!0}]},{key:"aws_s3",name:"Amazon S3",category:"Storage",description:"Cloud object storage for media and files",icon:"cloud",color:"#FF9900",docs_url:"https://docs.aws.amazon.com/s3",is_oauth:!1,fields:[{key:"access_key_id",label:"Access Key ID",type:"text",required:!0},{key:"secret_access_key",label:"Secret Access Key",type:"password",required:!0},{key:"bucket_name",label:"Bucket Name",type:"text",required:!0},{key:"region",label:"Region",type:"text",required:!0,placeholder:"us-east-1"}]},{key:"cloudflare_r2",name:"Cloudflare R2",category:"Storage",description:"Zero egress fee cloud storage",icon:"cloud",color:"#F6821F",docs_url:"https://developers.cloudflare.com/r2",is_oauth:!1,fields:[{key:"account_id",label:"Account ID",type:"text",required:!0},{key:"access_key_id",label:"Access Key ID",type:"text",required:!0},{key:"secret_access_key",label:"Secret Access Key",type:"password",required:!0},{key:"bucket_name",label:"Bucket Name",type:"text",required:!0}]},{key:"hubspot",name:"HubSpot",category:"CRM",description:"CRM, marketing, and sales automation",icon:"users",color:"#FF7A59",docs_url:"https://developers.hubspot.com",is_oauth:!0,fields:[{key:"api_key",label:"Private App Token",type:"password",required:!0}]},{key:"salesforce",name:"Salesforce",category:"CRM",description:"Enterprise CRM and customer management",icon:"users",color:"#00A1E0",docs_url:"https://developer.salesforce.com",is_oauth:!0,fields:[{key:"client_id",label:"Consumer Key",type:"text",required:!0},{key:"client_secret",label:"Consumer Secret",type:"password",required:!0},{key:"username",label:"Username",type:"email",required:!0},{key:"password",label:"Password + Security Token",type:"password",required:!0}]},{key:"twitter",name:"Twitter/X",category:"Social",description:"Twitter/X API for social sharing and engagement",icon:"share-2",color:"#1DA1F2",docs_url:"https://developer.twitter.com/en/docs",is_oauth:!0,fields:[{key:"api_key",label:"API Key",type:"password",required:!0},{key:"api_secret",label:"API Secret",type:"password",required:!0},{key:"access_token",label:"Access Token",type:"password",required:!0},{key:"access_token_secret",label:"Access Token Secret",type:"password",required:!0}]},{key:"facebook",name:"Facebook",category:"Social",description:"Facebook Graph API for social integration",icon:"share-2",color:"#1877F2",docs_url:"https://developers.facebook.com",is_oauth:!0,fields:[{key:"app_id",label:"App ID",type:"text",required:!0},{key:"app_secret",label:"App Secret",type:"password",required:!0}]},{key:"twilio",name:"Twilio",category:"Communication",description:"SMS, voice, and communication APIs",icon:"message-circle",color:"#F22F46",docs_url:"https://www.twilio.com/docs",is_oauth:!1,fields:[{key:"account_sid",label:"Account SID",type:"text",required:!0},{key:"auth_token",label:"Auth Token",type:"password",required:!0},{key:"phone_number",label:"Phone Number",type:"text",required:!0,placeholder:"+1234567890"}]},{key:"slack",name:"Slack",category:"Communication",description:"Slack notifications and team collaboration",icon:"message-circle",color:"#4A154B",docs_url:"https://api.slack.com",is_oauth:!0,fields:[{key:"webhook_url",label:"Webhook URL",type:"url",required:!0},{key:"bot_token",label:"Bot Token",type:"password",required:!1}]},{key:"discord",name:"Discord",category:"Communication",description:"Discord bot and webhook integration",icon:"message-circle",color:"#5865F2",docs_url:"https://discord.com/developers/docs",is_oauth:!0,fields:[{key:"webhook_url",label:"Webhook URL",type:"url",required:!0},{key:"bot_token",label:"Bot Token",type:"password",required:!1}]},{key:"openai",name:"OpenAI",category:"AI",description:"GPT-4, DALL-E, and other AI models",icon:"cpu",color:"#412991",docs_url:"https://platform.openai.com/docs",is_oauth:!1,fields:[{key:"api_key",label:"API Key",type:"password",required:!0,placeholder:"sk-..."}]},{key:"anthropic",name:"Anthropic",category:"AI",description:"Claude AI models for intelligent assistance",icon:"cpu",color:"#C4773B",docs_url:"https://docs.anthropic.com",is_oauth:!1,fields:[{key:"api_key",label:"API Key",type:"password",required:!0}]},{key:"algolia",name:"Algolia",category:"Search",description:"Fast, reliable site search and discovery",icon:"search",color:"#003DFF",docs_url:"https://www.algolia.com/doc",is_oauth:!1,fields:[{key:"app_id",label:"Application ID",type:"text",required:!0},{key:"api_key",label:"Admin API Key",type:"password",required:!0},{key:"search_key",label:"Search API Key",type:"password",required:!0}]},{key:"elasticsearch",name:"Elasticsearch",category:"Search",description:"Distributed search and analytics engine",icon:"search",color:"#FEC514",docs_url:"https://www.elastic.co/guide",is_oauth:!1,fields:[{key:"cloud_id",label:"Cloud ID",type:"text",required:!0},{key:"api_key",label:"API Key",type:"password",required:!0}]},{key:"tradier",name:"Tradier",category:"Trading",description:"Stock and options trading API",icon:"trending-up",color:"#3B82F6",docs_url:"https://documentation.tradier.com",is_oauth:!0,environments:["production","sandbox"],fields:[{key:"access_token",label:"Access Token",type:"password",required:!0},{key:"account_id",label:"Account ID",type:"text",required:!0}]},{key:"alpaca",name:"Alpaca",category:"Trading",description:"Commission-free stock and crypto trading",icon:"trending-up",color:"#F7D300",docs_url:"https://alpaca.markets/docs",is_oauth:!1,environments:["production","paper"],fields:[{key:"api_key",label:"API Key",type:"password",required:!0},{key:"api_secret",label:"API Secret",type:"password",required:!0}]},{key:"polygon",name:"Polygon.io",category:"Trading",description:"Real-time and historical market data",icon:"trending-up",color:"#7C3AED",docs_url:"https://polygon.io/docs",is_oauth:!1,fields:[{key:"api_key",label:"API Key",type:"password",required:!0}]},{key:"mux",name:"Mux",category:"Media",description:"Video streaming and analytics platform",icon:"box",color:"#FA50B5",docs_url:"https://docs.mux.com",is_oauth:!1,fields:[{key:"token_id",label:"Token ID",type:"text",required:!0},{key:"token_secret",label:"Token Secret",type:"password",required:!0}]},{key:"cloudinary",name:"Cloudinary",category:"Media",description:"Image and video management platform",icon:"box",color:"#3448C5",docs_url:"https://cloudinary.com/documentation",is_oauth:!1,fields:[{key:"cloud_name",label:"Cloud Name",type:"text",required:!0},{key:"api_key",label:"API Key",type:"text",required:!0},{key:"api_secret",label:"API Secret",type:"password",required:!0}]},{key:"vimeo",name:"Vimeo",category:"Media",description:"Video hosting and streaming",icon:"box",color:"#1AB7EA",docs_url:"https://developer.vimeo.com",is_oauth:!0,fields:[{key:"access_token",label:"Access Token",type:"password",required:!0}]}];function n(t){return a.find(e=>e.key===t)}function d(){const t={};for(const e of a){t[e.category]||(t[e.category]={name:e.category,icon:e.icon,services:[]});const r=c.get(e.key);t[e.category].services.push({...e,is_connected:!!r,status:r?.status||"disconnected",connection:r||null})}return t}function u(){let t=0,e=0,r=0;for(const[,o]of c)o.status==="connected"&&t++,o.status==="error"&&e++,(o.status==="error"||o.status==="expired")&&r++;return{total_available:a.length,total_connected:t,total_disconnected:a.length-t,total_errors:e,needs_attention:r}}const y=async()=>{const t=d(),e=u(),r=a.map(o=>{const s=c.get(o.key);return{...o,is_connected:!!s,status:s?.status||"disconnected",health_score:s?.health_score||0,connection:s||null}});return i({success:!0,connections:r,categories:t,summary:e})},m=async({request:t})=>{try{const e=await t.json(),{service_key:r}=e,o=n(r);if(!o)throw l(404,`Service '${r}' not found`);return o.is_oauth?i({success:!0,data:{oauth_url:`https://oauth.example.com/authorize?service=${r}`,state:crypto.randomUUID()}}):i({success:!1,error:"Use the connect endpoint for non-OAuth services"})}catch(e){throw e instanceof Error&&"status"in e?e:l(500,"Failed to initiate connection")}};export{y as GET,m as POST};
