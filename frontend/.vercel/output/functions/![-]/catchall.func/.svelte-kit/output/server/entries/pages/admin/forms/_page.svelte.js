import{e,d as P,a as V,f as D,c as f,k as S,_ as b}from"../../../../chunks/vendor-svelte.js";import{g as C}from"../../../../chunks/forms.js";function E(y,d){y.component(s=>{let{onEdit:p,onViewSubmissions:v,onViewAnalytics:m}=d,l=[],h=!0,u="",o=1,c=1,n="";async function w(){h=!0,u="";try{const i=await C(o,20,n?{status:n}:void 0);l=i?.forms||[],c=Math.ceil((i?.total||l.length)/(i?.perPage||20))}catch(t){u=t instanceof Error?t.message:"Failed to load forms",l=[]}finally{h=!1}}function F(t){n=t.target.value,o=1,w()}function A(t){switch(t){case"published":return"badge-success";case"draft":return"badge-warning";case"archived":return"badge-secondary";default:return"badge-default"}}function g(t){return t?new Date(t).toLocaleDateString():"N/A"}if(s.push('<div class="form-list-container svelte-7ihymy"><div class="list-header svelte-7ihymy"><h2 class="svelte-7ihymy">Forms</h2> <div class="header-actions svelte-7ihymy">'),s.select({class:"filter-select",onchange:F,value:n},t=>{t.option({value:""},i=>{i.push("All Forms")}),t.option({value:"published"},i=>{i.push("Published")}),t.option({value:"draft"},i=>{i.push("Drafts")}),t.option({value:"archived"},i=>{i.push("Archived")})},"svelte-7ihymy"),s.push("</div></div> "),h)s.push("<!--[-->"),s.push('<div class="loading svelte-7ihymy">Loading forms...</div>');else{if(s.push("<!--[!-->"),u)s.push("<!--[-->"),s.push(`<div class="error-message svelte-7ihymy">${e(u)}</div>`);else{if(s.push("<!--[!-->"),l.length===0)s.push("<!--[-->"),s.push('<div class="empty-state svelte-7ihymy"><p>No forms found.</p> <p class="empty-hint svelte-7ihymy">Create your first form to get started!</p></div>');else{s.push("<!--[!-->"),s.push('<div class="forms-table-container svelte-7ihymy"><table class="forms-table svelte-7ihymy"><thead class="svelte-7ihymy"><tr><th class="svelte-7ihymy">Title</th><th class="svelte-7ihymy">Status</th><th class="svelte-7ihymy">Submissions</th><th class="svelte-7ihymy">Created</th><th class="svelte-7ihymy">Published</th><th class="svelte-7ihymy">Actions</th></tr></thead><tbody class="svelte-7ihymy"><!--[-->');const t=P(l);for(let i=0,_=t.length;i<_;i++){let a=t[i];s.push(`<tr class="svelte-7ihymy"><td class="form-title svelte-7ihymy"><div class="title-cell svelte-7ihymy"><strong class="svelte-7ihymy">${e(a.title)}</strong> `),a.description?(s.push("<!--[-->"),s.push(`<p class="form-description-preview svelte-7ihymy">${e(a.description)}</p>`)):s.push("<!--[!-->"),s.push(`<!--]--></div></td><td class="svelte-7ihymy"><span${V(`badge ${D(A(a.status))}`,"svelte-7ihymy")}>${e(a.status)}</span></td><td class="text-center svelte-7ihymy">${e(a.submission_count||0)}</td><td class="svelte-7ihymy">${e(g(a.created_at))}</td><td class="svelte-7ihymy">${e(g(a.published_at))}</td><td class="svelte-7ihymy"><div class="action-buttons svelte-7ihymy">`),p?(s.push("<!--[-->"),s.push('<button class="btn-icon svelte-7ihymy" title="Edit">âœï¸</button>')):s.push("<!--[!-->"),s.push("<!--]--> "),v?(s.push("<!--[-->"),s.push('<button class="btn-icon svelte-7ihymy" title="View Submissions">ğŸ“Š</button>')):s.push("<!--[!-->"),s.push("<!--]--> "),m?(s.push("<!--[-->"),s.push('<button class="btn-icon svelte-7ihymy" title="View Analytics">ğŸ“ˆ</button>')):s.push("<!--[!-->"),s.push(`<!--]--> <button class="btn-icon svelte-7ihymy"${f("title",a.status==="published"?"Unpublish":"Publish")}>${e(a.status==="published"?"ğŸ‘ï¸":"ğŸš€")}</button> <button class="btn-icon svelte-7ihymy" title="Duplicate">ğŸ“‹</button> `),a.status!=="archived"?(s.push("<!--[-->"),s.push('<button class="btn-icon svelte-7ihymy" title="Archive">ğŸ“¦</button>')):s.push("<!--[!-->"),s.push('<!--]--> <button class="btn-icon btn-danger svelte-7ihymy" title="Delete">ğŸ—‘ï¸</button></div></td></tr>')}s.push("<!--]--></tbody></table></div> "),c>1?(s.push("<!--[-->"),s.push(`<div class="pagination svelte-7ihymy"><button class="btn-page svelte-7ihymy"${f("disabled",o===1,!0)}>Previous</button> <span class="page-info svelte-7ihymy">Page ${e(o)} of ${e(c)}</span> <button class="btn-page svelte-7ihymy"${f("disabled",o===c,!0)}>Next</button></div>`)):s.push("<!--[!-->"),s.push("<!--]-->")}s.push("<!--]-->")}s.push("<!--]-->")}s.push("<!--]--></div>")})}function L(y,d){y.component(s=>{function p(l){b(`/admin/forms/${l.id}/edit`)}function v(l){b(`/admin/forms/${l.id}/submissions`)}function m(l){b(`/admin/forms/${l.id}/analytics`)}S("5v9f28",s,l=>{l.title(h=>{h.push("<title>Forms - Admin Dashboard</title>")})}),s.push('<div class="forms-page svelte-5v9f28"><div class="page-header svelte-5v9f28"><div><h1 class="svelte-5v9f28">Forms</h1> <p class="page-description svelte-5v9f28">Create and manage your forms</p></div> <button class="btn-create svelte-5v9f28">+ Create New Form</button></div> '),E(s,{onEdit:p,onViewSubmissions:v,onViewAnalytics:m}),s.push("<!----></div>")})}export{L as default};
