import{k as D,a as P,e as d,c as u,f as L,_ as I}from"../../../../../chunks/vendor-svelte.js";import{C as p,B as r}from"../../../../../chunks/Card.js";import{I as i}from"../../../../../chunks/Input.js";import"../../../../../chunks/BatchOperations.svelte_svelte_type_style_lang.js";import{S as c}from"../../../../../chunks/Select.js";import"../../../../../chunks/toast.js";import"../../../../../chunks/AnimatedNumber.svelte_svelte_type_style_lang.js";import"../../../../../chunks/OfflineIndicator.svelte_svelte_type_style_lang.js";import"isomorphic-dompurify";import"../../../../../chunks/connections.js";import"../../../../../chunks/popups.js";function W(f,O){f.component(m=>{let l={name:"",type:"exit_intent",status:"draft",title:"",content:"",cta_text:"",cta_url:"",cta_new_tab:!1,priority:10,position:"center",size:"md",animation:"zoom",show_close_button:!0,close_on_overlay_click:!0,auto_close_after:null,frequency_rules:{frequency:"once_per_session"},display_rules:{devices:["desktop","tablet","mobile"]},design:{backgroundColor:"#ffffff",titleColor:"#1f2937",textColor:"#4b5563",buttonColor:"#3b82f6",buttonTextColor:"#ffffff",buttonBorderRadius:8,buttonShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",buttonPadding:"0.875rem 1.5rem"}},h=!1,n={},b=5e3,v=50,x="[data-popup-trigger]";const y=[{value:"once",label:"Once (never show again)"},{value:"once_per_session",label:"Once per session"},{value:"daily",label:"Once per day"},{value:"weekly",label:"Once per week"},{value:"always",label:"Every page view"}],_=[{value:"newsletter",label:"ðŸ“§ Newsletter Signup"},{value:"exit_intent",label:"ðŸšª Exit Intent"},{value:"timed",label:"â±ï¸ Timed Popup"},{value:"scroll",label:"ðŸ“œ Scroll Triggered"},{value:"click_trigger",label:"ðŸ‘† Click Trigger"},{value:"content_locker",label:"ðŸ”’ Content Locker"}],w=[{value:"draft",label:"Draft"},{value:"published",label:"Published"},{value:"paused",label:"Paused"}],k=[{value:"center",label:"Center"},{value:"top",label:"Top"},{value:"bottom",label:"Bottom"},{value:"corner",label:"Bottom Right Corner"}],C=[{value:"sm",label:"Small"},{value:"md",label:"Medium"},{value:"lg",label:"Large"},{value:"xl",label:"Extra Large"},{value:"full",label:"Full Width"}],S=[{value:"fade",label:"âœ¨ Fade In"},{value:"slide",label:"â¬†ï¸ Slide Up"},{value:"zoom",label:"ðŸ” Zoom In"},{value:"bounce",label:"ðŸ€ Bounce In"},{value:"rotate",label:"ðŸ”„ Rotate In"},{value:"flip",label:"ðŸ”ƒ Flip In"}];function T(){I()}let a=!0,g;function B(o){D("12blf0f",o,t=>{t.title(e=>{e.push("<title>Create Popup | Revolution Admin</title>")})}),o.push('<div class="max-w-5xl mx-auto"><div class="mb-6"><h1 class="text-3xl font-bold text-gray-900">Create New Popup</h1> <p class="text-gray-600 mt-1">Design and configure your popup</p></div> <form><div class="space-y-6">'),p(o,{children:t=>{t.push('<h2 class="text-xl font-semibold mb-4">Basic Information</h2> <div class="space-y-4"><div>'),i(t,{id:"popup-name",label:"Internal Name *",placeholder:"e.g., Exit Intent - Newsletter",error:n.name,get value(){return l.name},set value(e){l.name=e,a=!1}}),t.push('<!----> <p class="text-xs text-gray-500 mt-1">For your reference only, not shown to users</p></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div>'),c(t,{id:"popup-type",label:"Popup Type *",options:_,get value(){return l.type},set value(e){l.type=e,a=!1}}),t.push("<!----></div> <div>"),c(t,{id:"popup-status",label:"Status *",options:w,get value(){return l.status},set value(e){l.status=e,a=!1}}),t.push("<!----></div></div> <div>"),i(t,{id:"popup-priority",label:"Priority (1-100)",type:"number",min:"1",max:"100",get value(){return l.priority},set value(e){l.priority=e,a=!1}}),t.push('<!----> <p class="text-xs text-gray-500 mt-1">Higher priority popups are shown first</p></div></div>')}}),o.push("<!----> "),p(o,{children:t=>{t.push('<h2 class="text-xl font-semibold mb-4">Content</h2> <div class="space-y-4"><div>'),i(t,{id:"popup-title",label:"Title *",placeholder:"e.g., Wait! Don't Leave Yet",error:n.title,get value(){return l.title},set value(s){l.title=s,a=!1}}),t.push(`<!----></div> <div><label for="popup-content" class="block text-sm font-medium text-gray-700 mb-1">Content *</label> <textarea id="popup-content"${P(`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${L(n.content?" border-red-500":"")}`)} rows="4" placeholder="Enter your message (HTML allowed)">`);const e=d(l.content);e&&t.push(`${e}`),t.push("</textarea> "),n.content?(t.push("<!--[-->"),t.push(`<p class="text-xs text-red-600 mt-1">${d(n.content)}</p>`)):t.push("<!--[!-->"),t.push('<!--]--> <p class="text-xs text-gray-500 mt-1">HTML is supported for formatting</p></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div>'),i(t,{id:"popup-cta-text",label:"Call-to-Action Text",placeholder:"e.g., Get Started",get value(){return l.cta_text},set value(s){l.cta_text=s,a=!1}}),t.push("<!----></div> <div>"),i(t,{id:"popup-cta-url",label:"CTA URL",placeholder:"/subscribe",get value(){return l.cta_url},set value(s){l.cta_url=s,a=!1}}),t.push(`<!----></div></div> <div class="flex items-center gap-2"><input type="checkbox" id="cta_new_tab"${u("checked",l.cta_new_tab,!0)} class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"/> <label for="cta_new_tab" class="text-sm text-gray-700">Open CTA link in new tab</label></div></div>`)}}),o.push("<!----> "),p(o,{children:t=>{t.push('<h2 class="text-xl font-semibold mb-4">Trigger Settings</h2> <div class="space-y-4">'),l.type==="timed"?(t.push("<!--[-->"),t.push("<div>"),i(t,{id:"popup-delay-milliseconds-8",label:"Delay (milliseconds)",type:"number",min:"0",step:"1000",get value(){return b},set value(e){b=e,a=!1}}),t.push(`<!----> <p class="text-xs text-gray-500 mt-1">Show popup after ${d((b/1e3).toFixed(0))} seconds</p></div>`)):(t.push("<!--[!-->"),l.type==="scroll"?(t.push("<!--[-->"),t.push("<div>"),i(t,{id:"popup-scroll-depth-9",label:"Scroll Depth (%)",type:"number",min:"0",max:"100",get value(){return v},set value(e){v=e,a=!1}}),t.push(`<!----> <p class="text-xs text-gray-500 mt-1">Show popup when user scrolls ${d(v)}% down the page</p></div>`)):(t.push("<!--[!-->"),l.type==="click_trigger"?(t.push("<!--[-->"),t.push("<div>"),i(t,{id:"popup-css-selector-10",label:"CSS Selector",placeholder:"[data-popup-trigger]",get value(){return x},set value(e){x=e,a=!1}}),t.push('<!----> <p class="text-xs text-gray-500 mt-1">Show popup when elements matching this selector are clicked</p></div>')):(t.push("<!--[!-->"),l.type==="exit_intent"?(t.push("<!--[-->"),t.push(`<div class="bg-blue-50 border border-blue-200 rounded-md p-4"><p class="text-sm text-blue-800">Exit intent popups trigger when the user's mouse moves toward the browser's top edge
								(leaving the page).</p></div>`)):(t.push("<!--[!-->"),l.type==="newsletter"?(t.push("<!--[-->"),t.push(`<div class="bg-blue-50 border border-blue-200 rounded-md p-4"><p class="text-sm text-blue-800">Newsletter popups display immediately or can be combined with timing/scroll
								settings.</p></div>`)):t.push("<!--[!-->"),t.push("<!--]-->")),t.push("<!--]-->")),t.push("<!--]-->")),t.push("<!--]-->")),t.push("<!--]--></div>")}}),o.push("<!----> "),p(o,{children:t=>{t.push('<h2 class="text-xl font-semibold mb-4">Display Settings</h2> <div class="space-y-4"><div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div>'),c(t,{id:"popup-position",label:"Position",options:k,get value(){return l.position},set value(e){l.position=e,a=!1}}),t.push("<!----></div> <div>"),c(t,{id:"popup-size",label:"Size",options:C,get value(){return l.size},set value(e){l.size=e,a=!1}}),t.push("<!----></div> <div>"),c(t,{id:"popup-animation",label:"Animation",options:S,get value(){return l.animation},set value(e){l.animation=e,a=!1}}),t.push("<!----></div></div> <div>"),i(t,{id:"auto-close",label:"Auto Close After (seconds)",type:"number",min:"0",placeholder:"Leave empty for manual close only",get value(){return l.auto_close_after},set value(e){l.auto_close_after=e,a=!1}}),t.push(`<!----></div> <div class="space-y-2"><div class="flex items-center gap-2"><input type="checkbox" id="show_close_button"${u("checked",l.show_close_button,!0)} class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"/> <label for="show_close_button" class="text-sm text-gray-700">Show close button (X)</label></div> <div class="flex items-center gap-2"><input type="checkbox" id="close_on_overlay_click"${u("checked",l.close_on_overlay_click,!0)} class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"/> <label for="close_on_overlay_click" class="text-sm text-gray-700">Close when clicking outside popup</label></div></div></div>`)}}),o.push("<!----> "),p(o,{children:t=>{t.push('<h2 class="text-xl font-semibold mb-4">Frequency &amp; Targeting</h2> <div class="space-y-4"><div>'),c(t,{id:"show-frequency",label:"Show Frequency",options:y,get value(){return l.frequency_rules.frequency},set value(e){l.frequency_rules.frequency=e,a=!1}}),t.push(`<!----></div> <div><span class="block text-sm font-medium text-gray-700 mb-2">Target Devices</span> <div class="flex gap-4"><label class="flex items-center gap-2"><input type="checkbox" value="desktop"${u("checked",l.display_rules.devices.includes("desktop"),!0)} class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"/> <span class="text-sm text-gray-700">Desktop</span></label> <label class="flex items-center gap-2"><input type="checkbox" value="tablet"${u("checked",l.display_rules.devices.includes("tablet"),!0)} class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"/> <span class="text-sm text-gray-700">Tablet</span></label> <label class="flex items-center gap-2"><input type="checkbox" value="mobile"${u("checked",l.display_rules.devices.includes("mobile"),!0)} class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"/> <span class="text-sm text-gray-700">Mobile</span></label></div></div></div>`)}}),o.push("<!----> "),p(o,{children:t=>{t.push('<h2 class="text-xl font-semibold mb-4">ðŸŽ¨ Design Customization</h2> <div class="space-y-6"><div><h3 class="text-sm font-semibold text-gray-800 mb-3">Popup Colors</h3> <div class="grid grid-cols-2 md:grid-cols-3 gap-4"><div>'),i(t,{id:"bg-color",label:"Background Color",type:"color",get value(){return l.design.backgroundColor},set value(e){l.design.backgroundColor=e,a=!1}}),t.push("<!----></div> <div>"),i(t,{id:"title-color",label:"Title Color",type:"color",get value(){return l.design.titleColor},set value(e){l.design.titleColor=e,a=!1}}),t.push("<!----></div> <div>"),i(t,{id:"text-color",label:"Text Color",type:"color",get value(){return l.design.textColor},set value(e){l.design.textColor=e,a=!1}}),t.push('<!----></div></div></div> <div><h3 class="text-sm font-semibold text-gray-800 mb-3">Button Styling</h3> <div class="grid grid-cols-2 md:grid-cols-3 gap-4"><div>'),i(t,{id:"button-color",label:"Button Color",type:"color",get value(){return l.design.buttonColor},set value(e){l.design.buttonColor=e,a=!1}}),t.push("<!----></div> <div>"),i(t,{id:"button-text-color",label:"Button Text Color",type:"color",get value(){return l.design.buttonTextColor},set value(e){l.design.buttonTextColor=e,a=!1}}),t.push("<!----></div> <div>"),i(t,{id:"button-radius",label:"Button Border Radius (px)",type:"number",min:"0",max:"50",placeholder:"8",get value(){return l.design.buttonBorderRadius},set value(e){l.design.buttonBorderRadius=e,a=!1}}),t.push('<!----></div></div></div> <div><h3 class="text-sm font-semibold text-gray-800 mb-3">Button Effects</h3> <div class="space-y-3"><div><label for="button-shadow" class="block text-sm font-medium text-gray-700 mb-1">Button Shadow</label> '),t.select({id:"button-shadow",value:l.design.buttonShadow,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},e=>{e.option({value:""},s=>{s.push("None")}),e.option({value:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"},s=>{s.push("Subtle")}),e.option({value:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},s=>{s.push("Default")}),e.option({value:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"},s=>{s.push("Medium")}),e.option({value:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},s=>{s.push("Large")}),e.option({value:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},s=>{s.push("Extra Large")})}),t.push(' <p class="text-xs text-gray-500 mt-1">Shadow adds depth to the button</p></div> <div><label for="button-padding" class="block text-sm font-medium text-gray-700 mb-1">Button Padding</label> '),t.select({id:"button-padding",value:l.design.buttonPadding,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},e=>{e.option({value:"0.5rem 1rem"},s=>{s.push("Small (0.5rem 1rem)")}),e.option({value:"0.875rem 1.5rem"},s=>{s.push("Default (0.875rem 1.5rem)")}),e.option({value:"1rem 2rem"},s=>{s.push("Medium (1rem 2rem)")}),e.option({value:"1.25rem 2.5rem"},s=>{s.push("Large (1.25rem 2.5rem)")}),e.option({value:"1.5rem 3rem"},s=>{s.push("Extra Large (1.5rem 3rem)")})}),t.push(' <p class="text-xs text-gray-500 mt-1">Adjust button size and spacing</p></div></div></div></div>')}}),o.push('<!----> <div class="flex justify-end gap-3">'),r(o,{type:"button",variant:"ghost",onclick:T,disabled:h,children:t=>{t.push("<!---->Cancel")}}),o.push("<!----> "),r(o,{type:"submit",disabled:h,children:t=>{t.push(`<!---->${d("Create Popup")}`)}}),o.push("<!----></div></div></form></div>")}do a=!0,g=m.copy(),B(g);while(!a);m.subsume(g)})}export{W as default};
