import{k as b,e as l,d as m,a as f,f as v}from"../../../../../chunks/vendor-svelte.js";import{P as y,a as r}from"../../../../../chunks/PeriodSelector.js";function k(p,F){p.component(t=>{let n=[],o=!0,a=null,u="30d",h=null;async function c(){o=!0,a=null;try{n=(await r.getFunnels(u)).funnels||[]}catch(s){a=s instanceof Error?s.message:"Failed to load funnels"}finally{o=!1}}function d(s){u=s,c()}function x(s){return s?s<60?`${s.toFixed(0)}s`:s<3600?`${(s/60).toFixed(0)}m`:`${(s/3600).toFixed(1)}h`:"-"}if(b("12higth",t,s=>{s.title(i=>{i.push("<title>Conversion Funnels | Analytics</title>")})}),t.push('<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><div class="flex items-center justify-between mb-8"><div><h1 class="text-2xl font-bold text-gray-900">Conversion Funnels</h1> <p class="text-sm text-gray-500 mt-1">Track and optimize user conversion journeys</p></div> <div class="flex items-center gap-4">'),y(t,{value:u,onchange:d}),t.push('<!----> <button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium">Create Funnel</button></div></div> '),o)t.push("<!--[-->"),t.push('<div class="flex items-center justify-center py-20"><div class="w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"></div></div>');else{if(t.push("<!--[!-->"),a)t.push("<!--[-->"),t.push(`<div class="bg-red-50 border border-red-200 rounded-xl p-6 text-center"><p class="text-red-600">${l(a)}</p> <button class="mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700">Retry</button></div>`);else{if(t.push("<!--[!-->"),n.length===0)t.push("<!--[-->"),t.push('<div class="bg-white rounded-xl border border-gray-200 p-12 text-center"><div class="text-4xl mb-4">ðŸ”»</div> <h3 class="text-lg font-medium text-gray-900 mb-2">No Funnels Yet</h3> <p class="text-gray-500 mb-6">Create your first funnel to track user conversion journeys</p> <button class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 inline-block">Create Your First Funnel</button></div>');else{t.push("<!--[!-->"),t.push('<div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"><!--[-->');const s=m(n);for(let i=0,g=s.length;i<g;i++){let e=s[i];t.push(`<button${f(`text-left bg-white rounded-xl border border-gray-200 p-6 hover:shadow-lg transition-shadow ${v(h?.key===e.key?"ring-2 ring-blue-500":"")}`)}><div class="flex items-center justify-between mb-4"><h3 class="font-semibold text-gray-900">${l(e.name)}</h3> <span class="text-2xl font-bold text-blue-600">${l(e.overall_conversion.toFixed(1))}%</span></div> `),e.description?(t.push("<!--[-->"),t.push(`<p class="text-sm text-gray-500 mb-4">${l(e.description)}</p>`)):t.push("<!--[!-->"),t.push(`<!--]--> <div class="flex items-center gap-2 text-sm text-gray-500"><span>${l(e.steps.length)} steps</span> `),e.avg_completion_time?(t.push("<!--[-->"),t.push(`<span>Â·</span> <span>Avg time: ${l(x(e.avg_completion_time))}</span>`)):t.push("<!--[!-->"),t.push("<!--]--></div></button>")}t.push("<!--]--></div> "),t.push("<!--[!-->"),t.push("<!--]-->")}t.push("<!--]-->")}t.push("<!--]-->")}t.push("<!--]--></div> "),t.push("<!--[!-->"),t.push("<!--]-->")})}export{k as default};
