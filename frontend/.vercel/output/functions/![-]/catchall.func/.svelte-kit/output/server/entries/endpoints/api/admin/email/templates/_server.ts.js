import{json as t}from"@sveltejs/kit";let a=[{id:1,name:"Welcome Email",slug:"welcome-email",subject:"Welcome to Revolution Trading Pros!",email_type:"transactional",is_active:!0,body_html:"<h1>Welcome!</h1><p>Thank you for joining Revolution Trading Pros.</p>",body_text:"Welcome! Thank you for joining Revolution Trading Pros.",created_at:"2024-01-15T10:00:00Z",updated_at:"2024-01-15T10:00:00Z"},{id:2,name:"Password Reset",slug:"password-reset",subject:"Reset Your Password",email_type:"transactional",is_active:!0,body_html:"<h1>Password Reset</h1><p>Click the link below to reset your password.</p>",body_text:"Password Reset - Click the link below to reset your password.",created_at:"2024-01-15T10:00:00Z",updated_at:"2024-01-15T10:00:00Z"},{id:3,name:"Subscription Confirmation",slug:"subscription-confirmation",subject:"Your Subscription is Active",email_type:"transactional",is_active:!0,body_html:"<h1>Subscription Confirmed</h1><p>Your subscription is now active.</p>",body_text:"Subscription Confirmed - Your subscription is now active.",created_at:"2024-01-15T10:00:00Z",updated_at:"2024-01-15T10:00:00Z"},{id:4,name:"Weekly Newsletter",slug:"weekly-newsletter",subject:"This Week in Trading",email_type:"marketing",is_active:!0,body_html:"<h1>Weekly Newsletter</h1><p>Here are this week's trading insights.</p>",body_text:"Weekly Newsletter - Here are this week's trading insights.",created_at:"2024-01-15T10:00:00Z",updated_at:"2024-01-15T10:00:00Z"}];const n=async()=>{try{return t({success:!0,data:a,total:a.length})}catch{return t({success:!1,error:"Failed to load email templates",data:[]},{status:500})}},c=async({request:s})=>{try{const e=await s.json();if(!e.name||!e.subject)return t({success:!1,error:"Name and subject are required"},{status:400});const r={id:Math.max(...a.map(i=>i.id),0)+1,name:e.name,slug:e.slug||e.name.toLowerCase().replace(/\s+/g,"-"),subject:e.subject,email_type:e.email_type||"transactional",is_active:e.is_active!==!1,body_html:e.body_html||"",body_text:e.body_text||"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return a.push(r),t({success:!0,data:r,message:"Template created successfully"})}catch{return t({success:!1,error:"Failed to create template"},{status:500})}};export{n as GET,c as POST};
