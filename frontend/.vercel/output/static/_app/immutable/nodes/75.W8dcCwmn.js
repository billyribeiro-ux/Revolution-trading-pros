import{p as Me,a3 as He,f as T,a9 as je,D as Ge,h as f,j as Ue,F as Ce,as as We,e as l,q as a,d as q,aX as o,g as t,aP as E,i as R,w as z,bJ as Xe,bO as de,c0 as ue,bG as ke,v as Se,at as Je,H as k,r,bI as Ke,bH as N,O as Ye,x as Z,c as M,k as Q,bK as Pe}from"../chunks/C_QN0JMx.js";import{C as H,B as Te,I as w,S as j,a as ve}from"../chunks/ButKoJq5.js";import"../chunks/l0sNRNKZ.js";import"../chunks/Div_5PT3.js";import{popupsApi as Ze}from"../chunks/Dzv9ULNB.js";var Qe=T('<h2 class="text-xl font-semibold mb-4">Basic Information</h2> <div class="space-y-4"><div><!> <p class="text-xs text-gray-500 mt-1">For your reference only, not shown to users</p></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><!></div> <div><!></div></div> <div><!> <p class="text-xs text-gray-500 mt-1">Higher priority popups are shown first</p></div></div>',1),Ve=T('<p class="text-xs text-red-600 mt-1"> </p>'),et=T('<h2 class="text-xl font-semibold mb-4">Content</h2> <div class="space-y-4"><div><!></div> <div><label for="popup-content" class="block text-sm font-medium text-gray-700 mb-1">Content *</label> <textarea id="popup-content" rows="4" placeholder="Enter your message (HTML allowed)"></textarea> <!> <p class="text-xs text-gray-500 mt-1">HTML is supported for formatting</p></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><!></div> <div><!></div></div> <div class="flex items-center gap-2"><input type="checkbox" id="cta_new_tab" class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"/> <label for="cta_new_tab" class="text-sm text-gray-700">Open CTA link in new tab</label></div></div>',1),tt=T('<div><!> <p class="text-xs text-gray-500 mt-1"> </p></div>'),at=T('<div><!> <p class="text-xs text-gray-500 mt-1"> </p></div>'),rt=T('<div><!> <p class="text-xs text-gray-500 mt-1">Show popup when elements matching this selector are clicked</p></div>'),lt=T(`<div class="bg-blue-50 border border-blue-200 rounded-md p-4"><p class="text-sm text-blue-800">Exit intent popups trigger when the user's mouse moves toward the browser's top edge
								(leaving the page).</p></div>`),ot=T(`<div class="bg-blue-50 border border-blue-200 rounded-md p-4"><p class="text-sm text-blue-800">Newsletter popups display immediately or can be combined with timing/scroll
								settings.</p></div>`),st=T('<h2 class="text-xl font-semibold mb-4">Trigger Settings</h2> <div class="space-y-4"><!></div>',1),it=T('<h2 class="text-xl font-semibold mb-4">Display Settings</h2> <div class="space-y-4"><div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div><!></div> <div><!></div> <div><!></div></div> <div><!></div> <div class="space-y-2"><div class="flex items-center gap-2"><input type="checkbox" id="show_close_button" class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"/> <label for="show_close_button" class="text-sm text-gray-700">Show close button (X)</label></div> <div class="flex items-center gap-2"><input type="checkbox" id="close_on_overlay_click" class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"/> <label for="close_on_overlay_click" class="text-sm text-gray-700">Close when clicking outside popup</label></div></div></div>',1),nt=T('<h2 class="text-xl font-semibold mb-4">Frequency & Targeting</h2> <div class="space-y-4"><div><!></div> <div><span class="block text-sm font-medium text-gray-700 mb-2">Target Devices</span> <div class="flex gap-4"><label class="flex items-center gap-2"><input type="checkbox" class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"/> <span class="text-sm text-gray-700">Desktop</span></label> <label class="flex items-center gap-2"><input type="checkbox" class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"/> <span class="text-sm text-gray-700">Tablet</span></label> <label class="flex items-center gap-2"><input type="checkbox" class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"/> <span class="text-sm text-gray-700">Mobile</span></label></div></div></div>',1),dt=T('<h2 class="text-xl font-semibold mb-4">ðŸŽ¨ Design Customization</h2> <div class="space-y-6"><div><h3 class="text-sm font-semibold text-gray-800 mb-3">Popup Colors</h3> <div class="grid grid-cols-2 md:grid-cols-3 gap-4"><div><!></div> <div><!></div> <div><!></div></div></div> <div><h3 class="text-sm font-semibold text-gray-800 mb-3">Button Styling</h3> <div class="grid grid-cols-2 md:grid-cols-3 gap-4"><div><!></div> <div><!></div> <div><!></div></div></div> <div><h3 class="text-sm font-semibold text-gray-800 mb-3">Button Effects</h3> <div class="space-y-3"><div><label for="button-shadow" class="block text-sm font-medium text-gray-700 mb-1">Button Shadow</label> <select id="button-shadow" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"><option>None</option><option>Subtle</option><option>Default</option><option>Medium</option><option>Large</option><option>Extra Large</option></select> <p class="text-xs text-gray-500 mt-1">Shadow adds depth to the button</p></div> <div><label for="button-padding" class="block text-sm font-medium text-gray-700 mb-1">Button Padding</label> <select id="button-padding" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"><option>Small (0.5rem 1rem)</option><option>Default (0.875rem 1.5rem)</option><option>Medium (1rem 2rem)</option><option>Large (1.25rem 2.5rem)</option><option>Extra Large (1.5rem 3rem)</option></select> <p class="text-xs text-gray-500 mt-1">Adjust button size and spacing</p></div></div></div></div>',1),ut=T('<div class="max-w-5xl mx-auto"><div class="mb-6"><h1 class="text-3xl font-bold text-gray-900">Create New Popup</h1> <p class="text-gray-600 mt-1">Design and configure your popup</p></div> <form><div class="space-y-6"><!> <!> <!> <!> <!> <!> <div class="flex justify-end gap-3"><!> <!></div></div></form></div>');function bt(Be,De){Me(De,!1);const V=[];let e=E({name:"",type:"exit_intent",status:"draft",title:"",content:"",cta_text:"",cta_url:"",cta_new_tab:!1,priority:10,position:"center",size:"md",animation:"zoom",show_close_button:!0,close_on_overlay_click:!0,auto_close_after:null,has_form:!1,form_id:null,trigger_rules:{},frequency_rules:{frequency:"once_per_session"},display_rules:{devices:["desktop","tablet","mobile"]},design:{backgroundColor:"#ffffff",titleColor:"#1f2937",textColor:"#4b5563",buttonColor:"#3b82f6",buttonTextColor:"#ffffff",buttonBorderRadius:8,buttonShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",buttonPadding:"0.875rem 1.5rem"}}),G=E(!1),S=E({}),J=E(5e3),K=E(50),ee=E("[data-popup-trigger]");const qe=[{value:"once",label:"Once (never show again)"},{value:"once_per_session",label:"Once per session"},{value:"daily",label:"Once per day"},{value:"weekly",label:"Once per week"},{value:"always",label:"Every page view"}],Oe=[{value:"newsletter",label:"ðŸ“§ Newsletter Signup"},{value:"exit_intent",label:"ðŸšª Exit Intent"},{value:"timed",label:"â±ï¸ Timed Popup"},{value:"scroll",label:"ðŸ“œ Scroll Triggered"},{value:"click_trigger",label:"ðŸ‘† Click Trigger"},{value:"content_locker",label:"ðŸ”’ Content Locker"}],Ie=[{value:"draft",label:"Draft"},{value:"published",label:"Published"},{value:"paused",label:"Paused"}],Le=[{value:"center",label:"Center"},{value:"top",label:"Top"},{value:"bottom",label:"Bottom"},{value:"corner",label:"Bottom Right Corner"}],Fe=[{value:"sm",label:"Small"},{value:"md",label:"Medium"},{value:"lg",label:"Large"},{value:"xl",label:"Extra Large"},{value:"full",label:"Full Width"}],ze=[{value:"fade",label:"âœ¨ Fade In"},{value:"slide",label:"â¬†ï¸ Slide Up"},{value:"zoom",label:"ðŸ” Zoom In"},{value:"bounce",label:"ðŸ€ Bounce In"},{value:"rotate",label:"ðŸ”„ Rotate In"},{value:"flip",label:"ðŸ”ƒ Flip In"}];function Ae(){return M(S,{}),t(e).name?.trim()||o(S,t(S).name="Name is required"),t(e).title?.trim()||o(S,t(S).title="Title is required"),t(e).content?.trim()||o(S,t(S).content="Content is required"),Object.keys(t(S)).length===0}async function Ee(){if(!Ae()){ve({type:"error",message:"Please fix the errors"});return}const c={};switch(t(e).type){case"timed":c.delay=t(J);break;case"scroll":c.scroll_depth=t(K);break;case"click_trigger":c.selector=t(ee);break}o(e,t(e).trigger_rules=c);try{M(G,!0),await Ze.create(t(e)),ve({type:"success",message:"Popup created successfully!"}),Ce("/admin/popups")}catch(O){ve({type:"error",message:O.response?.data?.message||"Failed to create popup"})}finally{M(G,!1)}}function Re(){Ce("/admin/popups")}He();var te=ut();je("12blf0f",c=>{We(()=>{Je.title="Create Popup | Revolution Admin"})});var ae=l(a(te),2),pe=a(ae),ce=a(pe);H(ce,{children:(c,O)=>{var v=Qe(),h=l(q(v),2),g=a(h),C=a(g);w(C,{id:"popup-name",label:"Internal Name *",placeholder:"e.g., Exit Intent - Newsletter",get error(){return t(S).name},get value(){return t(e).name},set value(s){o(e,t(e).name=s)},$$legacy:!0}),k(2),r(g);var y=l(g,2),d=a(y),b=a(d);j(b,{id:"popup-type",label:"Popup Type *",get options(){return Oe},get value(){return t(e).type},set value(s){o(e,t(e).type=s)},$$legacy:!0}),r(d);var m=l(d,2),x=a(m);j(x,{id:"popup-status",label:"Status *",get options(){return Ie},get value(){return t(e).status},set value(s){o(e,t(e).status=s)},$$legacy:!0}),r(m),r(y);var _=l(y,2),u=a(_);w(u,{id:"popup-priority",label:"Priority (1-100)",type:"number",min:"1",max:"100",get value(){return t(e).priority},set value(s){o(e,t(e).priority=s)},$$legacy:!0}),k(2),r(_),r(h),f(c,v)},$$slots:{default:!0}});var ge=l(ce,2);H(ge,{children:(c,O)=>{var v=et(),h=l(q(v),2),g=a(h),C=a(g);w(C,{id:"popup-title",label:"Title *",placeholder:"e.g., Wait! Don't Leave Yet",get error(){return t(S).title},get value(){return t(e).title},set value(i){o(e,t(e).title=i)},$$legacy:!0}),r(g);var y=l(g,2),d=l(a(y),2);Ke(d);var b=l(d,2);{var m=i=>{var n=Ve(),L=a(n,!0);r(n),z(()=>Z(L,t(S).content)),f(i,n)};R(b,i=>{t(S).content&&i(m)})}k(2),r(y);var x=l(y,2),_=a(x),u=a(_);w(u,{id:"popup-cta-text",label:"Call-to-Action Text",placeholder:"e.g., Get Started",get value(){return t(e).cta_text},set value(i){o(e,t(e).cta_text=i)},$$legacy:!0}),r(_);var s=l(_,2),p=a(s);w(p,{id:"popup-cta-url",label:"CTA URL",placeholder:"/subscribe",get value(){return t(e).cta_url},set value(i){o(e,t(e).cta_url=i)},$$legacy:!0}),r(s),r(x);var B=l(x,2),P=a(B);N(P),k(2),r(B),r(h),z(()=>Ye(d,1,`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${t(S).content?" border-red-500":""}`)),Xe(d,()=>t(e).content,i=>o(e,t(e).content=i)),de(P,()=>t(e).cta_new_tab,i=>o(e,t(e).cta_new_tab=i)),f(c,v)},$$slots:{default:!0}});var _e=l(ge,2);H(_e,{children:(c,O)=>{var v=st(),h=l(q(v),2),g=a(h);{var C=d=>{var b=tt(),m=a(b);w(m,{id:"popup-delay-milliseconds-8",label:"Delay (milliseconds)",type:"number",min:"0",step:"1000",get value(){return t(J)},set value(u){M(J,u)},$$legacy:!0});var x=l(m,2),_=a(x);r(x),r(b),z(u=>Z(_,`Show popup after ${u??""} seconds`),[()=>(t(J)/1e3).toFixed(0)]),f(d,b)},y=d=>{var b=Q(),m=q(b);{var x=u=>{var s=at(),p=a(s);w(p,{id:"popup-scroll-depth-9",label:"Scroll Depth (%)",type:"number",min:"0",max:"100",get value(){return t(K)},set value(i){M(K,i)},$$legacy:!0});var B=l(p,2),P=a(B);r(B),r(s),z(()=>Z(P,`Show popup when user scrolls ${t(K)??""}% down the page`)),f(u,s)},_=u=>{var s=Q(),p=q(s);{var B=i=>{var n=rt(),L=a(n);w(L,{id:"popup-css-selector-10",label:"CSS Selector",placeholder:"[data-popup-trigger]",get value(){return t(ee)},set value(A){M(ee,A)},$$legacy:!0}),k(2),r(n),f(i,n)},P=i=>{var n=Q(),L=q(n);{var A=D=>{var I=lt();f(D,I)},Y=D=>{var I=Q(),U=q(I);{var W=F=>{var X=ot();f(F,X)};R(U,F=>{t(e).type==="newsletter"&&F(W)},!0)}f(D,I)};R(L,D=>{t(e).type==="exit_intent"?D(A):D(Y,!1)},!0)}f(i,n)};R(p,i=>{t(e).type==="click_trigger"?i(B):i(P,!1)},!0)}f(u,s)};R(m,u=>{t(e).type==="scroll"?u(x):u(_,!1)},!0)}f(d,b)};R(g,d=>{t(e).type==="timed"?d(C):d(y,!1)})}r(h),f(c,v)},$$slots:{default:!0}});var be=l(_e,2);H(be,{children:(c,O)=>{var v=it(),h=l(q(v),2),g=a(h),C=a(g),y=a(C);j(y,{id:"popup-position",label:"Position",get options(){return Le},get value(){return t(e).position},set value(n){o(e,t(e).position=n)},$$legacy:!0}),r(C);var d=l(C,2),b=a(d);j(b,{id:"popup-size",label:"Size",get options(){return Fe},get value(){return t(e).size},set value(n){o(e,t(e).size=n)},$$legacy:!0}),r(d);var m=l(d,2),x=a(m);j(x,{id:"popup-animation",label:"Animation",get options(){return ze},get value(){return t(e).animation},set value(n){o(e,t(e).animation=n)},$$legacy:!0}),r(m),r(g);var _=l(g,2),u=a(_);w(u,{id:"auto-close",label:"Auto Close After (seconds)",type:"number",min:"0",placeholder:"Leave empty for manual close only",get value(){return t(e).auto_close_after},set value(n){o(e,t(e).auto_close_after=n)},$$legacy:!0}),r(_);var s=l(_,2),p=a(s),B=a(p);N(B),k(2),r(p);var P=l(p,2),i=a(P);N(i),k(2),r(P),r(s),r(h),de(B,()=>t(e).show_close_button,n=>o(e,t(e).show_close_button=n)),de(i,()=>t(e).close_on_overlay_click,n=>o(e,t(e).close_on_overlay_click=n)),f(c,v)},$$slots:{default:!0}});var me=l(be,2);H(me,{children:(c,O)=>{var v=nt(),h=l(q(v),2),g=a(h),C=a(g);j(C,{id:"show-frequency",label:"Show Frequency",get options(){return qe},get value(){return t(e).frequency_rules.frequency},set value(p){o(e,t(e).frequency_rules.frequency=p)},$$legacy:!0}),r(g);var y=l(g,2),d=l(a(y),2),b=a(d),m=a(b);N(m),m.value=m.__value="desktop",k(2),r(b);var x=l(b,2),_=a(x);N(_),_.value=_.__value="tablet",k(2),r(x);var u=l(x,2),s=a(u);N(s),s.value=s.__value="mobile",k(2),r(u),r(d),r(y),r(h),ue(V,[],m,()=>t(e).display_rules.devices,p=>o(e,t(e).display_rules.devices=p)),ue(V,[],_,()=>t(e).display_rules.devices,p=>o(e,t(e).display_rules.devices=p)),ue(V,[],s,()=>t(e).display_rules.devices,p=>o(e,t(e).display_rules.devices=p)),f(c,v)},$$slots:{default:!0}});var xe=l(me,2);H(xe,{children:(c,O)=>{var v=dt(),h=l(q(v),2),g=a(h),C=l(a(g),2),y=a(C),d=a(y);w(d,{id:"bg-color",label:"Background Color",type:"color",get value(){return t(e).design.backgroundColor},set value($){o(e,t(e).design.backgroundColor=$)},$$legacy:!0}),r(y);var b=l(y,2),m=a(b);w(m,{id:"title-color",label:"Title Color",type:"color",get value(){return t(e).design.titleColor},set value($){o(e,t(e).design.titleColor=$)},$$legacy:!0}),r(b);var x=l(b,2),_=a(x);w(_,{id:"text-color",label:"Text Color",type:"color",get value(){return t(e).design.textColor},set value($){o(e,t(e).design.textColor=$)},$$legacy:!0}),r(x),r(C),r(g);var u=l(g,2),s=l(a(u),2),p=a(s),B=a(p);w(B,{id:"button-color",label:"Button Color",type:"color",get value(){return t(e).design.buttonColor},set value($){o(e,t(e).design.buttonColor=$)},$$legacy:!0}),r(p);var P=l(p,2),i=a(P);w(i,{id:"button-text-color",label:"Button Text Color",type:"color",get value(){return t(e).design.buttonTextColor},set value($){o(e,t(e).design.buttonTextColor=$)},$$legacy:!0}),r(P);var n=l(P,2),L=a(n);w(L,{id:"button-radius",label:"Button Border Radius (px)",type:"number",min:"0",max:"50",placeholder:"8",get value(){return t(e).design.buttonBorderRadius},set value($){o(e,t(e).design.buttonBorderRadius=$)},$$legacy:!0}),r(n),r(s),r(u);var A=l(u,2),Y=l(a(A),2),D=a(Y),I=l(a(D),2);z(()=>{t(e),Pe(()=>{})});var U=a(I);U.value=U.__value="";var W=l(U);W.value=W.__value="0 1px 2px 0 rgba(0, 0, 0, 0.05)";var F=l(W);F.value=F.__value="0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)";var X=l(F);X.value=X.__value="0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)";var re=l(X);re.value=re.__value="0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)";var he=l(re);he.value=he.__value="0 25px 50px -12px rgba(0, 0, 0, 0.25)",r(I),k(2),r(D);var $e=l(D,2),le=l(a($e),2);z(()=>{t(e),Pe(()=>{})});var oe=a(le);oe.value=oe.__value="0.5rem 1rem";var se=l(oe);se.value=se.__value="0.875rem 1.5rem";var ie=l(se);ie.value=ie.__value="1rem 2rem";var ne=l(ie);ne.value=ne.__value="1.25rem 2.5rem";var we=l(ne);we.value=we.__value="1.5rem 3rem",r(le),k(2),r($e),r(Y),r(A),r(h),ke(I,()=>t(e).design.buttonShadow,$=>o(e,t(e).design.buttonShadow=$)),ke(le,()=>t(e).design.buttonPadding,$=>o(e,t(e).design.buttonPadding=$)),f(c,v)},$$slots:{default:!0}});var fe=l(xe,2),ye=a(fe);Te(ye,{type:"button",variant:"ghost",onclick:Re,get disabled(){return t(G)},children:(c,O)=>{k();var v=Se("Cancel");f(c,v)},$$slots:{default:!0}});var Ne=l(ye,2);Te(Ne,{type:"submit",get disabled(){return t(G)},children:(c,O)=>{k();var v=Se();z(()=>Z(v,t(G)?"Creating...":"Create Popup")),f(c,v)},$$slots:{default:!0}}),r(fe),r(pe),r(ae),r(te),Ge("submit",ae,Ee),f(Be,te),Ue()}export{bt as component};
