import{z as ce,p as ve,o as de,a3 as ke,f as p,a9 as ye,q as n,R as _e,e as y,cQ as pe,N as q,w as _,h as c,j as ue,c as O,aP as B,as as be,at as ge,H as fe,r as i,Q as J,g as e,x as E,i as I,K as m,bH as K,cF as L,k as U,d as V,bI as he,b_ as me}from"../chunks/C_QN0JMx.js";var we=p('<input class="svelte-1ws2oik"/>'),xe=p('<textarea rows="3" class="svelte-1ws2oik"></textarea>'),Se=p('<input type="checkbox" class="svelte-1ws2oik"/>'),Oe=p('<div class="field svelte-1ws2oik"><label class="svelte-1ws2oik"> </label> <!></div>'),je=p('<div class="setting-group svelte-1ws2oik"><h2 class="svelte-1ws2oik"> </h2> <div class="fields svelte-1ws2oik"></div></div>'),De=p('<div class="settings-page svelte-1ws2oik"><header class="page-header svelte-1ws2oik"><div><h1 class="svelte-1ws2oik">SEO Settings</h1> <p class="svelte-1ws2oik">Configure SEO plugin settings and preferences</p></div> <div class="header-actions svelte-1ws2oik"><button class="btn-secondary svelte-1ws2oik"><!> Reset</button> <button class="btn-primary svelte-1ws2oik"><!> </button></div></header> <div class="settings-content svelte-1ws2oik"></div></div>');function Ne(W,X){ve(X,!1);let v={},j=B(!1),w=B(!1);const Y=[{name:"General",key:"general",fields:[{key:"site_name",label:"Site Name",type:"text"},{key:"site_description",label:"Site Description",type:"textarea"},{key:"default_og_image",label:"Default OG Image URL",type:"url"}]},{name:"Robots",key:"robots",fields:[{key:"noindex_default",label:"NoIndex by Default",type:"checkbox"},{key:"nofollow_default",label:"NoFollow by Default",type:"checkbox"}]},{name:"Sitemap",key:"sitemap",fields:[{key:"sitemap_submit_google",label:"Submit to Google",type:"checkbox"},{key:"sitemap_submit_bing",label:"Submit to Bing",type:"checkbox"}]}];de(()=>{A()});async function A(){O(j,!0);try{v=(await(await fetch("/api/seo/settings/grouped")).json()).data||{}}catch{}finally{O(j,!1)}}async function Z(){O(w,!0);try{const s=Object.entries(v).flatMap(([a,o])=>Object.entries(o).map(([b,T])=>({key:b,value:T,group:a})));await fetch("/api/seo/settings/bulk-update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:s})}),alert("Settings saved successfully!")}catch{alert("Failed to save settings")}finally{O(w,!1)}}function D(s,a,o=""){return v[s]?.[a]??o}function F(s,a,o){v[s]||(v[s]={}),v[s][a]=o}ke();var N=De();ye("1ws2oik",s=>{be(()=>{ge.title="SEO Settings | Admin"})});var R=n(N),H=y(n(R),2),u=n(H);u.__click=A;var $=n(u);_e($,{size:18}),fe(),i(u);var x=y(u,2);x.__click=Z;var M=n(x);pe(M,{size:18});var ee=y(M);i(x),i(H),i(R);var P=y(R,2);q(P,5,()=>Y,J,(s,a)=>{var o=je(),b=n(o),T=n(b,!0);i(b);var Q=y(b,2);q(Q,5,()=>e(a).fields,J,(te,t)=>{var G=Oe(),S=n(G),ae=n(S,!0);i(S);var se=y(S,2);{var ie=d=>{var r=we();K(r),r.__input=g=>F(e(a).key,e(t).key,g.currentTarget.value),_(g=>{m(r,"id",e(t).key),m(r,"type",e(t).type),L(r,g)},[()=>D(e(a).key,e(t).key)]),c(d,r)},oe=d=>{var r=U(),g=V(r);{var re=k=>{var l=xe();he(l),l.__input=f=>F(e(a).key,e(t).key,f.currentTarget.value),_(f=>{m(l,"id",e(t).key),L(l,f)},[()=>D(e(a).key,e(t).key)]),c(k,l)},ne=k=>{var l=U(),f=V(l);{var le=z=>{var h=Se();K(h),h.__change=C=>F(e(a).key,e(t).key,C.currentTarget.checked),_(C=>{m(h,"id",e(t).key),me(h,C)},[()=>D(e(a).key,e(t).key,!1)]),c(z,h)};I(f,z=>{e(t).type==="checkbox"&&z(le)},!0)}c(k,l)};I(g,k=>{e(t).type==="textarea"?k(re):k(ne,!1)},!0)}c(d,r)};I(se,d=>{e(t).type==="text"||e(t).type==="url"?d(ie):d(oe,!1)})}i(G),_(()=>{m(S,"for",e(t).key),E(ae,e(t).label)}),c(te,G)}),i(Q),i(o),_(()=>E(T,e(a).name)),c(s,o)}),i(P),i(N),_(()=>{u.disabled=e(j),x.disabled=e(w),E(ee,` ${e(w)?"Saving...":"Save Changes"}`)}),c(W,N),ue()}ce(["click","input","change"]);export{Ne as component};
