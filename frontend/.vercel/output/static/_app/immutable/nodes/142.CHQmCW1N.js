import{z as wt,p as Qa,a as kt,f as i,q as d,i as l,r,h as a,j as Ua,w as _,x,k as o,d as f,cG as qt,e as b,K as Fa,cA as F,N as Fe,g as t,Q as De,bI as St,n as re,O as Ja,H as Ft,bH as Ct,_ as Na,cF as Et,b_ as At,v as Ga,s as de,A as Ka,o as Xa,c as V,bh as Mt,D as Vt,a9 as jt,E as Dt,aN as zt,at as It,B as Lt,aa as Pt}from"../chunks/C_QN0JMx.js";import{s as Tt,q as Ht}from"../chunks/C9E1rr7k.js";import{c as Ot}from"../chunks/SRGU3HV7.js";const Rt=!1,Gi=Object.freeze(Object.defineProperty({__proto__:null,prerender:Rt},Symbol.toStringTag,{value:"Module"}));var Bt=i('<h3 class="field-heading svelte-1udgyah"> </h3>'),Wt=i('<hr class="field-divider svelte-1udgyah"/>'),Gt=i('<div class="field-html svelte-1udgyah"><!></div>'),Kt=i('<span class="required svelte-1udgyah">*</span>'),Nt=i('<div class="field-help svelte-1udgyah"> </div>'),Qt=i("<input/>"),Ut=i("<input/>"),Yt=i("<input/>"),Jt=i("<input/>"),Xt=i("<input/>"),Zt=i("<textarea></textarea>"),pt=i("<option> </option>"),$t=i("<select><option>-- Select --</option><!></select>"),ei=i('<label class="radio-label svelte-1udgyah"><input/> <span> </span></label>'),ai=i('<div class="radio-group svelte-1udgyah"><!></div>'),ti=i('<label class="checkbox-label svelte-1udgyah"><input/> <span> </span></label>'),ii=i('<div class="checkbox-group svelte-1udgyah"><!></div>'),li=i('<small class="field-help svelte-1udgyah"> </small>'),ri=i("<input/> <!>",1),di=i("<input/>"),ni=i("<input/>"),vi=i("<input/>"),si=i('<div class="range-wrapper svelte-1udgyah"><input/> <output class="range-value svelte-1udgyah"> </output></div>'),fi=i("<input/>"),oi=i("<input/>"),ui=i('<button type="button">â˜…</button>'),ci=i('<div class="rating-wrapper svelte-1udgyah"></div>'),_i=i('<div class="signature-wrapper svelte-1udgyah"><canvas class="signature-canvas svelte-1udgyah" width="400" height="150"></canvas> <button type="button" class="btn-clear-signature svelte-1udgyah">Clear</button></div>'),mi=i('<a target="_blank" rel="noopener noreferrer" class="privacy-link svelte-1udgyah">Privacy Policy</a>'),gi=i('<div class="newsletter-subscribe-wrapper svelte-1udgyah"><label class="newsletter-checkbox-label svelte-1udgyah"><input/> <span class="newsletter-checkbox-text svelte-1udgyah"> </span></label> <!></div>'),yi=i('<span class="category-icon svelte-1udgyah"> </span>'),hi=i('<span class="category-description svelte-1udgyah"> </span>'),bi=i('<label class="category-card svelte-1udgyah"><input type="checkbox" class="svelte-1udgyah"/> <div class="category-content svelte-1udgyah"><!> <div class="category-text svelte-1udgyah"><span class="category-label svelte-1udgyah"> </span> <!></div></div></label>'),xi=i('<small class="category-hint svelte-1udgyah"><!></small>'),wi=i('<div class="newsletter-categories-wrapper svelte-1udgyah"><!> <!></div>'),ki=i("<option> </option>"),qi=i("<option>Daily Digest</option> <option>Weekly Summary</option> <option>Bi-Weekly Updates</option> <option>Monthly Newsletter</option>",1),Si=i("<select><!></select>"),Fi=i('<p class="svelte-1udgyah"> </p>'),Ci=i('<div class="field-error svelte-1udgyah"></div>'),Ei=i('<label class="field-label svelte-1udgyah"> <!></label> <!> <!> <!>',1),Ai=i('<div class="form-field svelte-1udgyah"><!></div>');function Mi(Ze,e){Qa(e,!0);let s=kt(e,"value",3,"");function g(k){const u=k.target;let q;if(u instanceof HTMLInputElement)if(u.type==="checkbox")if(e.field.field_type==="checkbox"){const I=Array.isArray(s())?s():[];u.checked?q=[...I,u.value]:q=I.filter($=>$!==u.value)}else q=u.checked;else u.type==="file"?q=u.files?.[0]||null:u.type==="number"||u.type==="range"?q=u.value?parseFloat(u.value):null:q=u.value;else q=u.value;e.onchange?.(q)}function Z(k,u){const q=Array.isArray(s())?s():[],I=u?[...q,k]:q.filter($=>$!==k);e.onchange?.(I)}function G(k){return Array.isArray(s())&&s().includes(k)}function m(){const k="form-input",u=e.error&&e.error.length>0?"input-error":"";return`${k} ${u}`.trim()}var p=Ai(),pe=d(p);{var ne=k=>{var u=Bt(),q=d(u,!0);r(u),_(()=>x(q,e.field.label)),a(k,u)},$e=k=>{var u=o(),q=f(u);{var I=y=>{var L=Wt();a(y,L)},$=y=>{var L=o(),ea=f(L);{var ze=C=>{var E=Gt(),O=d(E);qt(O,()=>Ot(e.field.placeholder||"")),r(E),a(C,E)},aa=C=>{var E=Ei(),O=f(E),ge=d(O),ye=b(ge);{var ta=c=>{var A=Kt();a(c,A)};l(ye,c=>{e.field.required&&c(ta)})}r(O);var ba=b(O,2);{var v=c=>{var A=Nt(),U=d(A,!0);r(A),_(()=>x(U,e.field.help_text)),a(c,A)};l(ba,c=>{e.field.help_text&&c(v)})}var n=b(ba,2);{var h=c=>{var A=Qt();F(A,U=>({type:"text",id:`field-${e.field.name}`,name:e.field.name,placeholder:e.field.placeholder||"",value:s(),required:e.field.required,class:U,oninput:g,...e.field.attributes||{}}),[m],void 0,void 0,"svelte-1udgyah",!0),a(c,A)},P=c=>{var A=o(),U=f(A);{var he=ee=>{var ia=Ut();F(ia,Ca=>({type:"email",id:`field-${e.field.name}`,name:e.field.name,placeholder:e.field.placeholder||"",value:s(),required:e.field.required,class:Ca,oninput:g,...e.field.attributes||{}}),[m],void 0,void 0,"svelte-1udgyah",!0),a(ee,ia)},Ce=ee=>{var ia=o(),Ca=f(ia);{var Za=Ie=>{var la=Yt();F(la,Ea=>({type:"number",id:`field-${e.field.name}`,name:e.field.name,placeholder:e.field.placeholder||"",value:s()||"",required:e.field.required,class:Ea,oninput:g,min:e.field.validation?.min,max:e.field.validation?.max,step:typeof e.field.validation?.step=="number"||typeof e.field.validation?.step=="string"?e.field.validation.step:"any",...e.field.attributes||{}}),[m],void 0,void 0,"svelte-1udgyah",!0),a(Ie,la)},pa=Ie=>{var la=o(),Ea=f(la);{var $a=Le=>{var ra=Jt();F(ra,Aa=>({type:"tel",id:`field-${e.field.name}`,name:e.field.name,placeholder:e.field.placeholder||"",value:s(),required:e.field.required,class:Aa,oninput:g,...e.field.attributes||{}}),[m],void 0,void 0,"svelte-1udgyah",!0),a(Le,ra)},et=Le=>{var ra=o(),Aa=f(ra);{var at=Pe=>{var da=Xt();F(da,Ma=>({type:"url",id:`field-${e.field.name}`,name:e.field.name,placeholder:e.field.placeholder||"",value:s(),required:e.field.required,class:Ma,oninput:g,...e.field.attributes||{}}),[m],void 0,void 0,"svelte-1udgyah",!0),a(Pe,da)},tt=Pe=>{var da=o(),Ma=f(da);{var it=Te=>{var He=Zt();St(He),F(He,(Va,ja)=>({id:`field-${e.field.name}`,name:e.field.name,placeholder:e.field.placeholder||"",value:s(),required:e.field.required,class:Va,oninput:g,rows:ja,minlength:e.field.validation?.min_length,maxlength:e.field.validation?.max_length,...e.field.attributes||{}}),[m,()=>typeof e.field.attributes?.rows=="number"?e.field.attributes.rows:typeof e.field.attributes?.rows=="string"?parseInt(e.field.attributes.rows,10):5],void 0,void 0,"svelte-1udgyah"),a(Te,He)},lt=Te=>{var He=o(),Va=f(He);{var ja=Oe=>{var Ee=$t();F(Ee,K=>({id:`field-${e.field.name}`,name:e.field.name,value:s(),required:e.field.required,class:K,onchange:g,...e.field.attributes||{}}),[m],void 0,void 0,"svelte-1udgyah");var na=d(Ee);na.value=na.__value="";var Da=b(na);{var za=K=>{var ve=o(),va=f(ve);Fe(va,17,()=>e.field.options,De,(sa,se)=>{var D=pt(),ae=d(D,!0);r(D);var be={};_(()=>{x(ae,t(se)),be!==(be=t(se))&&(D.value=(D.__value=t(se))??"")}),a(sa,D)}),a(K,ve)};l(Da,K=>{e.field.options&&K(za)})}r(Ee),a(Oe,Ee)},rt=Oe=>{var Ee=o(),na=f(Ee);{var Da=K=>{var ve=ai(),va=d(ve);{var sa=se=>{var D=o(),ae=f(D);Fe(ae,17,()=>e.field.options,De,(be,Ae)=>{var fe=ei(),N=d(fe);F(N,()=>({type:"radio",name:e.field.name,value:t(Ae),checked:s()===t(Ae),required:e.field.required,onchange:g,...e.field.attributes||{}}),void 0,void 0,void 0,"svelte-1udgyah",!0);var te=b(N,2),xe=d(te,!0);r(te),r(fe),_(()=>x(xe,t(Ae))),a(be,fe)}),a(se,D)};l(va,se=>{e.field.options&&se(sa)})}r(ve),a(K,ve)},za=K=>{var ve=o(),va=f(ve);{var sa=D=>{var ae=ii(),be=d(ae);{var Ae=fe=>{var N=o(),te=f(N);Fe(te,17,()=>e.field.options,De,(xe,ie)=>{const Me=re(()=>typeof t(ie)=="string"?t(ie):t(ie).value),H=re(()=>typeof t(ie)=="string"?t(ie):t(ie).label);var R=ti(),we=d(R),Ia=oe=>Z(t(Me),oe.currentTarget.checked);F(we,oe=>({type:"checkbox",value:t(Me),checked:oe,onchange:Ia,...e.field.attributes||{}}),[()=>G(t(Me))],void 0,void 0,"svelte-1udgyah",!0);var xa=b(we,2),ke=d(xa,!0);r(xa),r(R),_(()=>x(ke,t(H))),a(xe,R)}),a(fe,N)};l(be,fe=>{e.field.options&&fe(Ae)})}r(ae),a(D,ae)},se=D=>{var ae=o(),be=f(ae);{var Ae=N=>{var te=ri(),xe=f(te);F(xe,H=>({type:"file",id:`field-${e.field.name}`,name:e.field.name,required:e.field.required,class:H,onchange:g,accept:typeof e.field.validation?.accept=="string"?e.field.validation.accept:void 0,...e.field.attributes||{}}),[m],void 0,void 0,"svelte-1udgyah",!0);var ie=b(xe,2);{var Me=H=>{var R=li(),we=d(R);r(R),_(()=>x(we,`Maximum file size: ${e.field.validation.max_size??""}`)),a(H,R)};l(ie,H=>{e.field.validation?.max_size&&H(Me)})}a(N,te)},fe=N=>{var te=o(),xe=f(te);{var ie=H=>{var R=di();F(R,we=>({type:"date",id:`field-${e.field.name}`,name:e.field.name,value:s(),required:e.field.required,class:we,oninput:g,min:e.field.validation?.min,max:e.field.validation?.max,...e.field.attributes||{}}),[m],void 0,void 0,"svelte-1udgyah",!0),a(H,R)},Me=H=>{var R=o(),we=f(R);{var Ia=ke=>{var oe=ni();F(oe,La=>({type:"time",id:`field-${e.field.name}`,name:e.field.name,value:s(),required:e.field.required,class:La,oninput:g,...e.field.attributes||{}}),[m],void 0,void 0,"svelte-1udgyah",!0),a(ke,oe)},xa=ke=>{var oe=o(),La=f(oe);{var dt=Re=>{var fa=vi();F(fa,Pa=>({type:"datetime-local",id:`field-${e.field.name}`,name:e.field.name,value:s(),required:e.field.required,class:Pa,oninput:g,...e.field.attributes||{}}),[m],void 0,void 0,"svelte-1udgyah",!0),a(Re,fa)},nt=Re=>{var fa=o(),Pa=f(fa);{var vt=Be=>{var We=si(),wa=d(We);F(wa,()=>({type:"range",id:`field-${e.field.name}`,name:e.field.name,value:s()||e.field.validation?.min||0,required:e.field.required,class:"form-range",oninput:g,min:e.field.validation?.min||0,max:e.field.validation?.max||100,step:typeof e.field.validation?.step=="number"||typeof e.field.validation?.step=="string"?e.field.validation.step:1,...e.field.attributes||{}}),void 0,void 0,void 0,"svelte-1udgyah",!0);var ka=b(wa,2),Ta=d(ka,!0);r(ka),r(We),_(()=>x(Ta,s()||e.field.validation?.min||0)),a(Be,We)},st=Be=>{var We=o(),wa=f(We);{var ka=Ge=>{var oa=fi();F(oa,()=>({type:"color",id:`field-${e.field.name}`,name:e.field.name,value:s(),required:e.field.required,class:"form-color",oninput:g,...e.field.attributes||{}}),void 0,void 0,void 0,"svelte-1udgyah",!0),a(Ge,oa)},Ta=Ge=>{var oa=o(),ft=f(oa);{var ot=Ke=>{var ua=oi();F(ua,()=>({type:"hidden",name:e.field.name,value:s(),...e.field.attributes||{}}),void 0,void 0,void 0,"svelte-1udgyah",!0),a(Ke,ua)},ut=Ke=>{var ua=o(),ct=f(ua);{var _t=Ne=>{var Qe=ci();Fe(Qe,21,()=>Array(e.field.validation?.max||5),De,(Ha,Ya,ca)=>{var Y=ui();let ue;Y.__click=()=>e.onchange?.(ca+1),Fa(Y,"aria-label",`Rate ${ca+1} stars`),_(()=>ue=Ja(Y,1,"star-button svelte-1udgyah",null,ue,{active:s()>ca})),a(Ha,Y)}),r(Qe),a(Ne,Qe)},mt=Ne=>{var Qe=o(),Ha=f(Qe);{var Ya=Y=>{var ue=_i(),Oa=d(ue);Ft(2),r(ue),_(()=>Fa(Oa,"id",`field-${e.field.name}`)),a(Y,ue)},ca=Y=>{var ue=o(),Oa=f(ue);{var gt=Ue=>{var Ye=gi(),_a=d(Ye),qa=d(_a),Ra=J=>e.onchange?.(J.currentTarget.checked);F(qa,()=>({type:"checkbox",id:`field-${e.field.name}`,name:e.field.name,checked:s()===!0||s()==="1"||s()==="yes"||s()==="on",onchange:Ra,...e.field.attributes||{}}),void 0,void 0,void 0,"svelte-1udgyah",!0);var ce=b(qa,2),qe=d(ce,!0);r(ce),r(_a);var Je=b(_a,2);{var ma=J=>{var _e=mi();_(()=>Fa(_e,"href",e.field.options?.privacy_url||"/privacy-policy")),a(J,_e)};l(Je,J=>{e.field.options?.show_privacy_link!==!1&&J(ma)})}r(Ye),_(()=>x(qe,e.field.options?.checkbox_label||"Yes, I want to receive newsletters")),a(Ue,Ye)},yt=Ue=>{var Ye=o(),_a=f(Ye);{var qa=ce=>{var qe=wi(),Je=d(qe);{var ma=me=>{var Se=o(),ga=f(Se);Fe(ga,17,()=>e.field.options,De,(Q,w)=>{const j=re(()=>typeof t(w)=="string"?t(w):t(w).value),B=re(()=>typeof t(w)=="string"?t(w):t(w).label),z=re(()=>typeof t(w)=="object"?t(w).description:""),le=re(()=>typeof t(w)=="object"?t(w).icon:null),Xe=re(()=>typeof t(w)=="object"?t(w).color:null);var M=bi(),W=d(M);Ct(W),W.__change=X=>Z(t(j),X.currentTarget.checked);var Ve=b(W,2),Sa=d(Ve);{var ya=X=>{var je=yi(),Wa=d(je,!0);r(je),_(()=>x(Wa,t(le))),a(X,je)};l(Sa,X=>{t(le)&&X(ya)})}var ha=b(Sa,2),Ba=d(ha),ht=d(Ba,!0);r(Ba);var bt=b(Ba,2);{var xt=X=>{var je=hi(),Wa=d(je,!0);r(je),_(()=>x(Wa,t(z))),a(X,je)};l(bt,X=>{t(z)&&X(xt)})}r(ha),r(Ve),r(M),_(X=>{Na(M,t(Xe)?`border-left-color: ${t(Xe)}`:""),Et(W,t(j)),At(W,X),x(ht,t(B))},[()=>G(t(j))]),a(Q,M)}),a(me,Se)};l(Je,me=>{e.field.options&&Array.isArray(e.field.options)&&me(ma)})}var J=b(Je,2);{var _e=me=>{var Se=xi(),ga=d(Se);{var Q=j=>{var B=Ga();_(()=>x(B,`Select between ${e.field.attributes.min_selections??""} and ${e.field.attributes.max_selections??""} topics`)),a(j,B)},w=j=>{var B=o(),z=f(B);{var le=M=>{var W=Ga();_(()=>x(W,`Select at least ${e.field.attributes.min_selections??""} topic(s)`)),a(M,W)},Xe=M=>{var W=o(),Ve=f(W);{var Sa=ya=>{var ha=Ga();_(()=>x(ha,`Select up to ${e.field.attributes.max_selections??""} topics`)),a(ya,ha)};l(Ve,ya=>{e.field.attributes.max_selections&&ya(Sa)},!0)}a(M,W)};l(z,M=>{e.field.attributes.min_selections?M(le):M(Xe,!1)},!0)}a(j,B)};l(ga,j=>{e.field.attributes.min_selections&&e.field.attributes.max_selections?j(Q):j(w,!1)})}r(Se),a(me,Se)};l(J,me=>{(e.field.attributes?.min_selections||e.field.attributes?.max_selections)&&me(_e)})}r(qe),a(ce,qe)},Ra=ce=>{var qe=o(),Je=f(qe);{var ma=J=>{var _e=Si();F(_e,Q=>({id:`field-${e.field.name}`,name:e.field.name,value:s()||e.field.default_value||"weekly",required:e.field.required,class:Q,onchange:g,...e.field.attributes||{}}),[m],void 0,void 0,"svelte-1udgyah");var me=d(_e);{var Se=Q=>{var w=o(),j=f(w);Fe(j,17,()=>e.field.options,De,(B,z)=>{const le=re(()=>typeof t(z)=="string"?t(z):t(z).value),Xe=re(()=>typeof t(z)=="string"?t(z):t(z).label);var M=ki(),W=d(M,!0);r(M);var Ve={};_(()=>{x(W,t(Xe)),Ve!==(Ve=t(le))&&(M.value=(M.__value=t(le))??"")}),a(B,M)}),a(Q,w)},ga=Q=>{var w=qi(),j=f(w);j.value=j.__value="daily";var B=b(j,2);B.value=B.__value="weekly";var z=b(B,2);z.value=z.__value="biweekly";var le=b(z,2);le.value=le.__value="monthly",a(Q,w)};l(me,Q=>{e.field.options&&Array.isArray(e.field.options)?Q(Se):Q(ga,!1)})}r(_e),a(J,_e)};l(Je,J=>{e.field.field_type==="newsletter_frequency"&&J(ma)},!0)}a(ce,qe)};l(_a,ce=>{e.field.field_type==="newsletter_categories"?ce(qa):ce(Ra,!1)},!0)}a(Ue,Ye)};l(Oa,Ue=>{e.field.field_type==="newsletter_subscribe"?Ue(gt):Ue(yt,!1)},!0)}a(Y,ue)};l(Ha,Y=>{e.field.field_type==="signature"?Y(Ya):Y(ca,!1)},!0)}a(Ne,Qe)};l(ct,Ne=>{e.field.field_type==="rating"?Ne(_t):Ne(mt,!1)},!0)}a(Ke,ua)};l(ft,Ke=>{e.field.field_type==="hidden"?Ke(ot):Ke(ut,!1)},!0)}a(Ge,oa)};l(wa,Ge=>{e.field.field_type==="color"?Ge(ka):Ge(Ta,!1)},!0)}a(Be,We)};l(Pa,Be=>{e.field.field_type==="range"?Be(vt):Be(st,!1)},!0)}a(Re,fa)};l(La,Re=>{e.field.field_type==="datetime"?Re(dt):Re(nt,!1)},!0)}a(ke,oe)};l(we,ke=>{e.field.field_type==="time"?ke(Ia):ke(xa,!1)},!0)}a(H,R)};l(xe,H=>{e.field.field_type==="date"?H(ie):H(Me,!1)},!0)}a(N,te)};l(be,N=>{e.field.field_type==="file"?N(Ae):N(fe,!1)},!0)}a(D,ae)};l(va,D=>{e.field.field_type==="checkbox"?D(sa):D(se,!1)},!0)}a(K,ve)};l(na,K=>{e.field.field_type==="radio"?K(Da):K(za,!1)},!0)}a(Oe,Ee)};l(Va,Oe=>{e.field.field_type==="select"?Oe(ja):Oe(rt,!1)},!0)}a(Te,He)};l(Ma,Te=>{e.field.field_type==="textarea"?Te(it):Te(lt,!1)},!0)}a(Pe,da)};l(Aa,Pe=>{e.field.field_type==="url"?Pe(at):Pe(tt,!1)},!0)}a(Le,ra)};l(Ea,Le=>{e.field.field_type==="tel"?Le($a):Le(et,!1)},!0)}a(Ie,la)};l(Ca,Ie=>{e.field.field_type==="number"?Ie(Za):Ie(pa,!1)},!0)}a(ee,ia)};l(U,ee=>{e.field.field_type==="email"?ee(he):ee(Ce,!1)},!0)}a(c,A)};l(n,c=>{e.field.field_type==="text"?c(h):c(P,!1)})}var S=b(n,2);{var T=c=>{var A=Ci();Fe(A,21,()=>e.error,De,(U,he)=>{var Ce=Fi(),ee=d(Ce,!0);r(Ce),_(()=>x(ee,t(he))),a(U,Ce)}),r(A),a(c,A)};l(S,c=>{e.error&&e.error.length>0&&c(T)})}_(()=>{Fa(O,"for",`field-${e.field.name}`),x(ge,`${e.field.label??""} `)}),a(C,E)};l(ea,C=>{e.field.field_type==="html"?C(ze):C(aa,!1)},!0)}a(y,L)};l(q,y=>{e.field.field_type==="divider"?y(I):y($,!1)},!0)}a(k,u)};l(pe,k=>{e.field.field_type==="heading"?k(ne):k($e,!1)})}r(p),a(Ze,p),Ua()}wt(["click","change"]);var Vi=i('<div class="form-description svelte-9dmrhn"><p class="svelte-9dmrhn"> </p></div>'),ji=i('<div class="alert alert-success svelte-9dmrhn" role="alert"> </div>'),Di=i('<div class="alert alert-error svelte-9dmrhn" role="alert"> </div>'),zi=i('<div class="field-wrapper svelte-9dmrhn"><!></div>'),Ii=i('<div><!> <!> <!> <form class="form-fields svelte-9dmrhn"><div class="fields-container svelte-9dmrhn"><!></div> <div class="form-actions svelte-9dmrhn"><button type="submit" class="btn btn-primary svelte-9dmrhn"> </button></div></form></div>');function Li(Ze,e){Qa(e,!0);let s=de(Ka({})),g=de(Ka({})),Z=de(!1),G=de(!1),m=de(""),p=de(Ka(new Set));Xa(()=>{e.form.fields&&(e.form.fields.forEach(v=>{v.default_value&&(t(s)[v.name]=v.default_value)}),ne())});function pe(v){if(!v.conditional_logic)return!0;const n=v.conditional_logic,h=[];n.rules.forEach(S=>{const T=t(s)[S.field];let c=!1;switch(S.operator){case"equals":c=T==S.value;break;case"not_equals":c=T!=S.value;break;case"contains":c=String(T||"").includes(String(S.value));break;case"greater_than":c=parseFloat(String(T))>parseFloat(String(S.value));break;case"less_than":c=parseFloat(String(T))<parseFloat(String(S.value));break;case"is_empty":c=!T||T==="";break;case"is_not_empty":c=!!T&&T!=="";break}h.push(c)});const P=n.logic==="all"?!h.includes(!1):h.includes(!0);return n.action==="show"?P:!P}function ne(){if(!e.form.fields)return;const v=new Set;e.form.fields.forEach(n=>{n.id&&pe(n)&&v.add(n.id)}),V(p,v,!0)}function $e(v,n){if(t(s)[v]=n,ne(),t(g)[v]){const{[v]:h,...P}=t(g);V(g,P,!0)}}async function k(v){if(v.preventDefault(),!t(Z)){V(g,{},!0),V(Z,!0),V(G,!1),V(m,"");try{const n=await Tt(e.form.slug,t(s));n.success?(V(G,!0),V(m,n.message||"Form submitted successfully!",!0),V(s,{},!0),e.form.fields&&e.form.fields.forEach(h=>{h.default_value&&(t(s)[h.name]=h.default_value)}),ne(),e.onSuccess&&n.submission_id&&e.onSuccess(n.submission_id),n.redirect_url&&(window.location.href=n.redirect_url)):n.errors&&(V(g,n.errors,!0),V(m,"Please correct the errors below."),e.onError&&e.onError(t(m)))}catch(n){const h=n instanceof Error?n.message:"Submission failed. Please try again.";V(m,h,!0),e.onError&&e.onError(h)}finally{V(Z,!1)}}}function u(){const v="revolution-form",n=e.form.styles?.form_class||"";return`${v} ${n}`.trim()}function q(){if(!e.form.styles)return"";const v=[];return e.form.styles.background_color&&v.push(`background-color: ${e.form.styles.background_color}`),e.form.styles.padding&&v.push(`padding: ${e.form.styles.padding}`),e.form.styles.border_radius&&v.push(`border-radius: ${e.form.styles.border_radius}`),v.join("; ")}var I=Ii(),$=d(I);{var y=v=>{var n=Vi(),h=d(n),P=d(h,!0);r(h),r(n),_(()=>x(P,e.form.description)),a(v,n)};l($,v=>{e.form.description&&v(y)})}var L=b($,2);{var ea=v=>{var n=ji(),h=d(n,!0);r(n),_(()=>x(h,t(m))),a(v,n)};l(L,v=>{t(G)&&t(m)&&v(ea)})}var ze=b(L,2);{var aa=v=>{var n=Di(),h=d(n,!0);r(n),_(()=>x(h,t(m))),a(v,n)};l(ze,v=>{!t(G)&&t(m)&&v(aa)})}var C=b(ze,2),E=d(C),O=d(E);{var ge=v=>{var n=o(),h=f(n);Fe(h,17,()=>e.form.fields.sort((P,S)=>P.order-S.order),P=>P.id,(P,S)=>{var T=o(),c=f(T);{var A=U=>{var he=zi(),Ce=d(he);Mi(Ce,{get field(){return t(S)},get value(){return t(s)[t(S).name]},get error(){return t(g)[t(S).name]},onchange:ee=>$e(t(S).name,ee)}),r(he),_(()=>Na(he,`width: ${t(S).width??""}%`)),a(U,he)};l(c,U=>{t(S).id&&t(p).has(t(S).id)&&U(A)})}a(P,T)}),a(v,n)};l(O,v=>{e.form.fields&&v(ge)})}r(E);var ye=b(E,2),ta=d(ye),ba=d(ta,!0);r(ta),r(ye),r(C),r(I),_((v,n)=>{Ja(I,1,v,"svelte-9dmrhn"),Na(I,n),ta.disabled=t(Z),x(ba,t(Z)?"Submitting...":e.form.settings?.submit_text||"Submit")},[()=>Mt(u()),q]),Vt("submit",C,k),a(Ze,I),Ua()}var Pi=i('<meta name="robots" content="noindex, nofollow"/>'),Ti=i('<div class="loading-state svelte-rrqa1v"><div class="spinner svelte-rrqa1v"></div> <p>Loading form...</p></div>'),Hi=i('<div class="error-state svelte-rrqa1v"><p> </p></div>'),Oi=i('<div class="embed-container svelte-rrqa1v"><!></div>');function Ki(Ze,e){Qa(e,!0);const s=()=>Lt(Pt,"$page",g),[g,Z]=Dt();let G=de(null),m=de(!0),p=de(""),pe=de(!1),ne=re(()=>s().params.slug);Xa(async()=>{try{V(G,await Ht(t(ne)),!0)}catch(y){V(p,y instanceof Error?y.message:"Form not found",!0)}finally{V(m,!1)}});function $e(y){V(pe,!0),window.parent!==window&&window.parent.postMessage({type:"form-submitted",submissionId:y,formSlug:t(ne)},"*")}function k(y){window.parent!==window&&window.parent.postMessage({type:"form-error",error:y,formSlug:t(ne)},"*")}var u=Oi();jt("rrqa1v",y=>{var L=Pi();zt(()=>{It.title=(t(G)?.title||"Form")??""}),a(y,L)});var q=d(u);{var I=y=>{var L=Ti();a(y,L)},$=y=>{var L=o(),ea=f(L);{var ze=C=>{var E=Hi(),O=d(E),ge=d(O,!0);r(O),r(E),_(()=>x(ge,t(p))),a(C,E)},aa=C=>{var E=o(),O=f(E);{var ge=ye=>{Li(ye,{get form(){return t(G)},onSuccess:$e,onError:k})};l(O,ye=>{t(G)&&ye(ge)},!0)}a(C,E)};l(ea,C=>{t(p)?C(ze):C(aa,!1)},!0)}a(y,L)};l(q,y=>{t(m)?y(I):y($,!1)})}r(u),a(Ze,u),Ua(),Z()}export{Ki as component,Gi as universal};
