import{z as Pe,p as $e,o as Ee,f as m,a9 as Me,q as c,e as n,N as X,i as b,bJ as Y,g as t,h as u,j as Ae,E as Se,c as r,s as _,as as Be,at as Ne,r as l,bH as Le,Q as Ie,n as $,B as Z,w as E,O as je,x as M,d as Oe,bI as De,K as Re}from"../chunks/C_QN0JMx.js";import{B as Je,f as Ue,D as Fe,h as He,i as qe,j as Qe,k as Ke,T as Ge,l as Ve,m as We,n as Xe,o as Ye,p as ee,s as te,q as Ze,r as et,u as tt,v as at}from"../chunks/3r80v9Z5.js";const st=!1,rt=!1,_t=Object.freeze(Object.defineProperty({__proto__:null,prerender:st,ssr:rt},Symbol.toStringTag,{value:"Module"}));var nt=m('<span class="count svelte-nz9rup"> </span>'),ot=m('<span class="count svelte-nz9rup"> </span>'),lt=m("<button> <!></button>"),it=m('<div class="empty-state svelte-nz9rup"><p class="svelte-nz9rup">No templates found matching your criteria.</p> <button class="btn btn-secondary svelte-nz9rup">Clear Filters</button></div>'),ct=m('<div class="templates-grid svelte-nz9rup"></div> <!>',1),vt=m('<div class="preview-controls svelte-nz9rup"><span class="svelte-nz9rup">Preview Mode Active</span> <button class="btn btn-secondary btn-sm svelte-nz9rup">Cancel</button> <button class="btn btn-primary btn-sm svelte-nz9rup">Apply This Template</button></div>'),pt=m('<div class="modal-backdrop svelte-nz9rup" role="button" tabindex="0"><div class="modal svelte-nz9rup" role="dialog" aria-modal="true" tabindex="-1"><h3 class="svelte-nz9rup">Import Configuration</h3> <p class="svelte-nz9rup">Paste your exported JSON configuration:</p> <textarea class="import-textarea svelte-nz9rup" rows="10"></textarea> <div class="modal-actions svelte-nz9rup"><button class="btn btn-secondary svelte-nz9rup">Cancel</button> <button class="btn btn-primary svelte-nz9rup">Import</button></div></div></div>'),dt=m('<div class="notification svelte-nz9rup"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m9 12 2 2 4-4"></path><circle cx="12" cy="12" r="10"></circle></svg> </div>'),ut=m('<div class="templates-page svelte-nz9rup"><header class="page-header svelte-nz9rup"><div class="header-content"><h1 class="svelte-nz9rup">Banner Templates</h1> <p class="svelte-nz9rup">Choose from 20 pre-built templates or create your own</p></div> <div class="header-actions svelte-nz9rup"><button class="btn btn-secondary svelte-nz9rup"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg> Export</button> <button class="btn btn-secondary svelte-nz9rup"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg> Import</button> <button class="btn btn-primary svelte-nz9rup"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14"></path><path d="M12 5v14"></path></svg> Create New</button></div></header> <div class="filters svelte-nz9rup"><div class="search-box svelte-nz9rup"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-nz9rup"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg> <input type="text" placeholder="Search templates..." class="svelte-nz9rup"/></div> <div class="category-tabs svelte-nz9rup"></div></div> <!> <!> <!> <!> <!> <!></div>');function ft(ae,se){$e(se,!0);const A=()=>Z(Xe,"$allTemplates",D),O=()=>Z(Ke,"$isPreviewMode",D),[D,re]=Se();let z=_("all"),w=_(""),g=_(!1),y=_(null),C=_(!1),x=_(!1),k=_(""),P=_("");const ne='{"activeConfig": {...}, "customTemplates": [...]}';let oe=$(()=>["all",...Qe()]),R=$(()=>A().filter(e=>{const a=t(z)==="all"||e.category===t(z),s=!t(w)||e.name.toLowerCase().includes(t(w).toLowerCase())||e.description.toLowerCase().includes(t(w).toLowerCase());return a&&s})),le=$(()=>Ze().templateId);Ee(()=>{qe()});function ie(e){te(e.id),h(`"${e.name}" is now active`)}function ce(e){ee(e)}function ve(e){r(y,e,!0),r(C,!1),r(g,!0)}function pe(e){confirm(`Are you sure you want to delete "${e.name}"?`)&&(Ye(e.id),h(`"${e.name}" deleted`))}function de(){const e=Ue.find(a=>a.id===Fe);r(y,{...JSON.parse(JSON.stringify(e)),id:`custom-${Date.now().toString(36)}`,name:"My Custom Template",description:"A custom template created from scratch",category:"custom",isEditable:!0},!0),r(C,!0),r(g,!0)}function ue(e){t(C)?(et(e.name),h(`"${e.name}" created successfully`)):(te(e.id),h(`"${e.name}" saved`)),r(g,!1),r(y,null)}function me(){r(g,!1),r(y,null)}function he(e){ee(e)}function _e(){const e=He(),a=new Blob([e],{type:"application/json"}),s=URL.createObjectURL(a),o=document.createElement("a");o.href=s,o.download="consent-templates-export.json",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(s),h("Configuration exported")}function fe(){r(x,!0)}function be(){at(t(k))?(h("Configuration imported successfully"),r(x,!1),r(k,"")):h("Failed to import configuration")}function h(e){r(P,e,!0),setTimeout(()=>{r(P,"")},3e3)}function we(){tt(),h("Template applied")}var S=ut();Me("nz9rup",e=>{Be(()=>{Ne.title="Banner Templates | Admin"})});var B=c(S),J=n(c(B),2),U=c(J);U.__click=_e;var F=n(U,2);F.__click=fe;var ge=n(F,2);ge.__click=de,l(J),l(B);var N=n(B,2),L=c(N),H=n(c(L),2);Le(H),l(L);var q=n(L,2);X(q,21,()=>t(oe),Ie,(e,a)=>{var s=lt();let o;s.__click=()=>r(z,t(a),!0);var d=c(s),p=n(d);{var i=T=>{var f=nt(),I=c(f,!0);l(f),E(()=>M(I,A().length)),u(T,f)},v=T=>{var f=ot(),I=c(f,!0);l(f),E(j=>M(I,j),[()=>A().filter(j=>j.category===t(a)).length]),u(T,f)};b(p,T=>{t(a)==="all"?T(i):T(v,!1)})}l(s),E(()=>{o=je(s,1,"category-tab svelte-nz9rup",null,o,{active:t(z)===t(a)}),M(d,`${(t(a)==="all"?"All Templates":t(a))??""} `)}),u(e,s)}),l(q),l(N);var Q=n(N,2);{var ye=e=>{var a=ct(),s=Oe(a);X(s,21,()=>t(R),p=>p.id,(p,i)=>{{let v=$(()=>t(i).id===t(le));Ge(p,{get template(){return t(i)},get isActive(){return t(v)},onSelect:()=>ie(t(i)),onPreview:()=>ce(t(i)),onEdit:()=>ve(t(i)),onDelete:()=>pe(t(i))})}}),l(s);var o=n(s,2);{var d=p=>{var i=it(),v=n(c(i),2);v.__click=()=>{r(w,""),r(z,"all")},l(i),u(p,i)};b(o,p=>{t(R).length===0&&p(d)})}u(e,a)};b(Q,e=>{t(g)||e(ye)})}var K=n(Q,2);{var xe=e=>{Ve(e,{get template(){return t(y)},get isNew(){return t(C)},onSave:ue,onCancel:me,onPreview:he})};b(K,e=>{t(g)&&t(y)&&e(xe)})}var G=n(K,2);{var Te=e=>{var a=vt(),s=n(c(a),2);s.__click=function(...d){We?.apply(this,d)};var o=n(s,2);o.__click=we,l(a),u(e,a)};b(G,e=>{O()&&e(Te)})}var V=n(G,2);Je(V,{get forceShow(){return O()}});var W=n(V,2);{var ze=e=>{var a=pt();a.__click=()=>r(x,!1),a.__keydown=v=>v.key==="Escape"&&r(x,!1);var s=c(a);s.__click=v=>v.stopPropagation(),s.__keydown=v=>v.stopPropagation();var o=n(c(s),4);De(o),Re(o,"placeholder",ne);var d=n(o,2),p=c(d);p.__click=()=>r(x,!1);var i=n(p,2);i.__click=be,l(d),l(s),l(a),Y(o,()=>t(k),v=>r(k,v)),u(e,a)};b(W,e=>{t(x)&&e(ze)})}var Ce=n(W,2);{var ke=e=>{var a=dt(),s=n(c(a));l(a),E(()=>M(s,` ${t(P)??""}`)),u(e,a)};b(Ce,e=>{t(P)&&e(ke)})}l(S),Y(H,()=>t(w),e=>r(w,e)),u(ae,S),Ae(),re()}Pe(["click","keydown"]);export{ft as component,_t as universal};
