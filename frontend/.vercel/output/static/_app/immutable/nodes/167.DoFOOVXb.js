import{z as ss,p as as,o as ts,a3 as rs,f,d as is,al as ae,i as b,c2 as ls,M as os,w as _,D as te,bJ as M,g as a,h as c,j as ns,e as l,q as t,c as r,aP as p,aX as re,r as i,H as k,bH as D,bI as cs,O as P,v as T,x as E}from"../chunks/C_QN0JMx.js";import{s as vs}from"../chunks/C9E1rr7k.js";import{popupsApi as us,recordPopupImpression as ds}from"../chunks/Dzv9ULNB.js";import{S as ps}from"../chunks/BttL13M3.js";var bs=f("<div> </div>"),gs=f('<span class="error-text svelte-1gyuab2"> </span>'),ms=f('<span class="error-text svelte-1gyuab2"> </span>'),ys=f('<span class="error-text svelte-1gyuab2"> </span>'),_s=f("<div> </div>"),fs=f("<div> </div>"),hs=f('<div class="popup-overlay svelte-1gyuab2" role="button" tabindex="0"><div class="popup-content svelte-1gyuab2" role="dialog" tabindex="-1"><button class="popup-close svelte-1gyuab2" aria-label="Close">Ã—</button> <div class="popup-header svelte-1gyuab2"><h3 class="svelte-1gyuab2">ðŸŽ‰ Special Offer!</h3> <p class="svelte-1gyuab2">Subscribe to our newsletter and get exclusive trading insights</p></div> <form class="popup-form svelte-1gyuab2"><input type="email" placeholder="Enter your email" required class="popup-input svelte-1gyuab2"/> <!> <button type="submit" class="popup-button svelte-1gyuab2"><!></button></form></div></div>'),ws=f('<!> <div class="test-page svelte-1gyuab2"><div class="container svelte-1gyuab2"><header class="page-header svelte-1gyuab2"><h1 class="svelte-1gyuab2">Backend Integration Test</h1> <p class="subtitle svelte-1gyuab2">Testing Forms, Popups, and SEO Features</p></header> <div class="status-grid svelte-1gyuab2"><div class="status-card svelte-1gyuab2"><div class="status-icon success svelte-1gyuab2"><!></div> <h3 class="svelte-1gyuab2">Backend Connected</h3> <p class="svelte-1gyuab2">Laravel API running on localhost:8000</p></div> <div class="status-card svelte-1gyuab2"><div class="status-icon success svelte-1gyuab2"><!></div> <h3 class="svelte-1gyuab2">SEO Configured</h3> <p class="svelte-1gyuab2">Meta tags and structured data active</p></div> <div class="status-card svelte-1gyuab2"><div class="status-icon success svelte-1gyuab2"><!></div> <h3 class="svelte-1gyuab2">Forms Ready</h3> <p class="svelte-1gyuab2">Contact and newsletter forms active</p></div></div> <section class="section newsletter-section svelte-1gyuab2"><div class="section-content svelte-1gyuab2"><h2 class="svelte-1gyuab2">Newsletter Signup Test</h2> <p class="svelte-1gyuab2">Test the newsletter subscription endpoint</p> <form class="newsletter-form svelte-1gyuab2"><div class="form-group svelte-1gyuab2"><input type="email" placeholder="Enter your email" required class="input-field svelte-1gyuab2"/> <button type="submit" class="btn-primary svelte-1gyuab2"><!></button></div> <!></form></div></section> <section class="section contact-section svelte-1gyuab2"><div class="section-content svelte-1gyuab2"><h2 class="svelte-1gyuab2">Contact Form Test</h2> <p class="svelte-1gyuab2">Test form submission and validation</p> <form class="contact-form svelte-1gyuab2"><div class="form-row svelte-1gyuab2"><div class="form-group svelte-1gyuab2"><label for="name" class="svelte-1gyuab2"><!> Name</label> <input id="name" type="text" placeholder="Your name" required/> <!></div> <div class="form-group svelte-1gyuab2"><label for="email" class="svelte-1gyuab2"><!> Email</label> <input id="email" type="email" placeholder="your@email.com" required/> <!></div></div> <div class="form-group svelte-1gyuab2"><label for="message" class="svelte-1gyuab2">Message</label> <textarea id="message" placeholder="Your message..." required rows="5"></textarea> <!></div> <!> <button type="submit" class="btn-submit svelte-1gyuab2"><!></button></form></div></section> <section class="section api-section svelte-1gyuab2"><div class="section-content svelte-1gyuab2"><h2 class="svelte-1gyuab2">Available API Endpoints</h2> <div class="endpoints-grid svelte-1gyuab2"><div class="endpoint-card svelte-1gyuab2"><span class="method post svelte-1gyuab2">POST</span> <code class="svelte-1gyuab2">/api/newsletter/subscribe</code> <p class="svelte-1gyuab2">Subscribe to newsletter</p></div> <div class="endpoint-card svelte-1gyuab2"><span class="method get svelte-1gyuab2">GET</span> <code class="svelte-1gyuab2">/api/posts</code> <p class="svelte-1gyuab2">Get blog posts</p></div> <div class="endpoint-card svelte-1gyuab2"><span class="method post svelte-1gyuab2">POST</span> <code class="svelte-1gyuab2">/api/forms/:slug/submit</code> <p class="svelte-1gyuab2">Submit a form</p></div> <div class="endpoint-card svelte-1gyuab2"><span class="method post svelte-1gyuab2">POST</span> <code class="svelte-1gyuab2">/api/register</code> <p class="svelte-1gyuab2">User registration</p></div> <div class="endpoint-card svelte-1gyuab2"><span class="method post svelte-1gyuab2">POST</span> <code class="svelte-1gyuab2">/api/login</code> <p class="svelte-1gyuab2">User login</p></div> <div class="endpoint-card svelte-1gyuab2"><span class="method get svelte-1gyuab2">GET</span> <code class="svelte-1gyuab2">/api/indicators</code> <p class="svelte-1gyuab2">Get indicators</p></div></div></div></section></div></div> <!>',1);function Ts(Se,xe){as(xe,!1);let v=p({name:"",email:"",message:""}),u=p("idle"),h=p(""),d=p({}),N=p(!1),j=p(""),g=p("idle"),w=p(""),A=p(""),m=p("idle"),S=p("");ts(async()=>{try{const e=await us.getActive("/test-backend");e.length>0&&setTimeout(()=>{r(N,!0),ds(e[0].id)},3e3)}catch{}});async function ke(e){e.preventDefault(),r(u,"submitting"),r(d,{}),r(h,"");try{const s=await vs("contact",a(v));s.success?(r(u,"success"),r(h,s.message||"Thank you! Your message has been sent successfully."),r(v,{name:"",email:"",message:""})):(r(u,"error"),r(d,s.errors||{}),r(h,"Please fix the errors below."))}catch(s){r(u,"error"),r(h,s instanceof Error?s.message:"Failed to submit form. Please try again.")}}async function Pe(e){e.preventDefault(),r(m,"submitting"),r(S,"");try{const s=await fetch("http://localhost:8000/api/newsletter/subscribe",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:a(A)})}),o=await s.json();s.ok?(r(m,"success"),r(S,o.message||"Successfully subscribed to newsletter!"),r(A,"")):(r(m,"error"),r(S,o.message||"Failed to subscribe. Please try again."))}catch{r(m,"error"),r(S,"Network error. Please try again.")}}async function Te(e){e.preventDefault(),r(g,"submitting"),r(w,"");try{const s=await fetch("http://localhost:8000/api/newsletter/subscribe",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:a(j)})}),o=await s.json();s.ok?(r(g,"success"),r(w,o.message||"Successfully subscribed!"),r(j,""),setTimeout(()=>{r(N,!1)},2e3)):(r(g,"error"),r(w,o.message||"Failed to subscribe."))}catch{r(g,"error"),r(w,"Network error. Please try again.")}}function I(){r(N,!1)}const Ee={"@context":"https://schema.org","@type":"WebPage",name:"Backend Test Page",description:"Testing forms, popups, and SEO integration with Laravel backend",url:"https://revolutiontradingpros.com/test-backend"};rs();var ie=ws(),le=is(ie);ps(le,{title:"Backend Test - Forms, Popups & SEO",description:"Testing forms, popups, and SEO integration with Laravel backend. Newsletter signup, contact forms, and popup functionality.",canonical:"/test-backend",ogType:"website",get schema(){return Ee}});var B=l(le,2),oe=t(B),G=l(t(oe),2),H=t(G),ne=t(H),Oe=t(ne);ae(Oe,{size:24}),i(ne),k(4),i(H);var J=l(H,2),ce=t(J),Ce=t(ce);ae(Ce,{size:24}),i(ce),k(4),i(J);var ve=l(J,2),ue=t(ve),Fe=t(ue);ae(Fe,{size:24}),i(ue),k(4),i(ve),i(G);var L=l(G,2),de=t(L),U=l(t(de),4),Y=t(U),q=t(Y);D(q);var R=l(q,2),Me=t(R);{var Ne=e=>{var s=T("Subscribing...");c(e,s)},je=e=>{var s=T("Subscribe");c(e,s)};b(Me,e=>{a(m)==="submitting"?e(Ne):e(je,!1)})}i(R),i(Y);var Ae=l(Y,2);{var qe=e=>{var s=bs();let o;var x=t(s,!0);i(s),_(()=>{o=P(s,1,"message svelte-1gyuab2",null,o,{success:a(m)==="success",error:a(m)==="error"}),E(x,a(S))}),c(e,s)};b(Ae,e=>{a(S)&&e(qe)})}i(U),i(de),i(L);var pe=l(L,2),be=t(pe),W=l(t(be),4),X=t(W),K=t(X),Q=t(K),ze=t(Q);ls(ze,{size:18}),k(),i(Q);var O=l(Q,2);D(O);let ge;var De=l(O,2);{var Ie=e=>{var s=gs(),o=t(s,!0);i(s),_(()=>E(o,a(d).name[0])),c(e,s)};b(De,e=>{a(d).name&&e(Ie)})}i(K);var me=l(K,2),V=t(me),Be=t(V);os(Be,{size:18}),k(),i(V);var C=l(V,2);D(C);let ye;var Ge=l(C,2);{var He=e=>{var s=ms(),o=t(s,!0);i(s),_(()=>E(o,a(d).email[0])),c(e,s)};b(Ge,e=>{a(d).email&&e(He)})}i(me),i(X);var Z=l(X,2),F=l(t(Z),2);cs(F);let _e;var Je=l(F,2);{var Le=e=>{var s=ys(),o=t(s,!0);i(s),_(()=>E(o,a(d).message[0])),c(e,s)};b(Je,e=>{a(d).message&&e(Le)})}i(Z);var fe=l(Z,2);{var Ue=e=>{var s=_s();let o;var x=t(s,!0);i(s),_(()=>{o=P(s,1,"message svelte-1gyuab2",null,o,{success:a(u)==="success",error:a(u)==="error"}),E(x,a(h))}),c(e,s)};b(fe,e=>{a(h)&&e(Ue)})}var $=l(fe,2),Ye=t($);{var Re=e=>{var s=T("Sending...");c(e,s)},We=e=>{var s=T("Send Message");c(e,s)};b(Ye,e=>{a(u)==="submitting"?e(Re):e(We,!1)})}i($),i(W),i(be),i(pe),k(2),i(oe),i(B);var Xe=l(B,2);{var Ke=e=>{var s=hs();s.__click=I,s.__keydown=n=>n.key==="Escape"&&I();var o=t(s);o.__click=n=>n.stopPropagation(),o.__keydown=n=>n.stopPropagation();var x=t(o);x.__click=I;var ee=l(x,4),z=t(ee);D(z);var he=l(z,2);{var Qe=n=>{var y=fs();let we;var es=t(y,!0);i(y),_(()=>{we=P(y,1,"popup-message svelte-1gyuab2",null,we,{success:a(g)==="success",error:a(g)==="error"}),E(es,a(w))}),c(n,y)};b(he,n=>{a(w)&&n(Qe)})}var se=l(he,2),Ve=t(se);{var Ze=n=>{var y=T("Subscribing...");c(n,y)},$e=n=>{var y=T("Subscribe Now");c(n,y)};b(Ve,n=>{a(g)==="submitting"?n(Ze):n($e,!1)})}i(se),i(ee),i(o),i(s),_(()=>{z.disabled=a(g)==="submitting",se.disabled=a(g)==="submitting"}),te("submit",ee,Te),M(z,()=>a(j),n=>r(j,n)),c(e,s)};b(Xe,e=>{a(N)&&e(Ke)})}_(()=>{q.disabled=a(m)==="submitting",R.disabled=a(m)==="submitting",O.disabled=a(u)==="submitting",ge=P(O,1,"input-field svelte-1gyuab2",null,ge,{error:a(d).name}),C.disabled=a(u)==="submitting",ye=P(C,1,"input-field svelte-1gyuab2",null,ye,{error:a(d).email}),F.disabled=a(u)==="submitting",_e=P(F,1,"input-field svelte-1gyuab2",null,_e,{error:a(d).message}),$.disabled=a(u)==="submitting"}),te("submit",U,Pe),M(q,()=>a(A),e=>r(A,e)),te("submit",W,ke),M(O,()=>a(v).name,e=>re(v,a(v).name=e)),M(C,()=>a(v).email,e=>re(v,a(v).email=e)),M(F,()=>a(v).message,e=>re(v,a(v).message=e)),c(Se,ie),ns()}ss(["click","keydown"]);export{Ts as component};
