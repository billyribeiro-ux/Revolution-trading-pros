import{z as G,p as H,B as J,o as M,a3 as N,f as v,a9 as R,i as g,h as r,j as C,E as D,aa as I,as as K,c as f,aP as _,at as Q,q as l,g as o,r as c,k as U,d as h,w as y,x as b,e as x,cG as V,F as W}from"../chunks/C_QN0JMx.js";import{b as X}from"../chunks/lN6oCIqA.js";import{s as Y}from"../chunks/SRGU3HV7.js";var Z=v('<p class="text-muted svelte-syxq9c">Loading preview...</p>'),aa=v('<p class="alert alert-error svelte-syxq9c"> </p>'),ea=v('<h2 class="subject svelte-syxq9c"> </h2> <div class="body svelte-syxq9c"><!></div> <button class="btn-secondary svelte-syxq9c">Back to List</button>',1),sa=v('<div class="preview-page svelte-syxq9c"><!></div>');function ia(q,w){H(w,!1);const $=()=>J(I,"$page",k),[k,P]=D();let u=_(!0),n=_(""),p=_(null);const j=$().params.id;M(async()=>{try{f(p,await X(`/admin/email/templates/${j}/preview`,{method:"POST",body:JSON.stringify({})}))}catch(a){f(n,a.message)}finally{f(u,!1)}}),N();var m=sa();R("syxq9c",a=>{K(()=>{Q.title="Template Preview | Admin | Revolution Trading Pros"})});var T=l(m);{var z=a=>{var i=Z();r(a,i)},B=a=>{var i=U(),F=h(i);{var L=e=>{var s=aa(),t=l(s,!0);c(s),y(()=>b(t,o(n))),r(e,s)},O=e=>{var s=ea(),t=h(s),S=l(t,!0);c(t);var d=x(t,2),A=l(d);V(A,()=>Y(o(p)?.body_html??"","rich")),c(d);var E=x(d,2);E.__click=()=>W("/admin/email/templates"),y(()=>b(S,o(p)?.subject??"")),r(e,s)};g(F,e=>{o(n)?e(L):e(O,!1)},!0)}r(a,i)};g(T,a=>{o(u)?a(z):a(B,!1)})}c(m),r(q,m),C(),P()}G(["click"]);export{ia as component};
