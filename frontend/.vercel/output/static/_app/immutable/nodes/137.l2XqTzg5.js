import{z as vt,p as _t,o as ct,s as I,A as pt,k as bt,a9 as ht,d as M,i as m,h as n,j as ut,E as ft,f as _,as as mt,B as N,F as wt,at as yt,e as i,q as s,N as gt,g as r,r as a,bV as xt,w as E,O as kt,d5 as O,e1 as G,x as Y,al as Pt,H as D,c as w,bM as Mt}from"../chunks/C_QN0JMx.js";import{isAuthenticated as Dt,authStore as zt}from"../chunks/D3S43Cfl.js";var At=_('<meta name="robots" content="noindex, nofollow"/>'),$t=_('<p class="payment-card__title svelte-1thwb5t"> </p> <p class="payment-card__detail svelte-1thwb5t"> </p>',1),Ct=_('<p class="payment-card__title svelte-1thwb5t">PayPal</p> <p class="payment-card__detail svelte-1thwb5t"> </p>',1),St=_('<span class="default-badge svelte-1thwb5t"><!> Default</span>'),Et=_('<button class="action-btn svelte-1thwb5t">Set as Default</button>'),Yt=_('<div><div class="payment-card__icon svelte-1thwb5t"><!></div> <div class="payment-card__info svelte-1thwb5t"><!> <!></div> <div class="payment-card__actions svelte-1thwb5t"><!> <button class="action-btn action-btn--danger svelte-1thwb5t"><!></button></div></div>'),jt=_(`<div class="add-form-overlay svelte-1thwb5t" role="button" tabindex="0" aria-label="Close modal"><div class="add-form svelte-1thwb5t" role="dialog" aria-modal="true" tabindex="-1"><h3 class="svelte-1thwb5t">Add Payment Method</h3> <div class="payment-options svelte-1thwb5t"><button class="payment-option svelte-1thwb5t"><!> <span class="svelte-1thwb5t">Credit/Debit Card</span></button> <button class="payment-option svelte-1thwb5t"><!> <span class="svelte-1thwb5t">PayPal</span></button></div> <p class="add-form__note svelte-1thwb5t">You'll be redirected to securely add your payment method.</p> <div class="add-form__actions svelte-1thwb5t"><button class="cancel-btn svelte-1thwb5t">Cancel</button></div></div></div>`),Bt=_('<header class="dashboard__header svelte-1thwb5t"><h1 class="dashboard__page-title svelte-1thwb5t">Payment Methods</h1> <p class="dashboard__page-subtitle svelte-1thwb5t">Manage your saved payment methods</p></header> <div class="dashboard__content svelte-1thwb5t"><div class="dashboard__content-main svelte-1thwb5t"><div class="payment-methods-list svelte-1thwb5t"></div> <button class="add-method-btn svelte-1thwb5t"><!> Add Payment Method</button> <!></div></div>',1),Ft=_('<div class="loading-state svelte-1thwb5t"><p>Redirecting to login...</p></div>');function Vt(J,K){_t(K,!0);const j=()=>N(Dt,"$isAuthenticated",B),L=()=>N(zt,"$authStore",B),[B,Q]=ft();ct(()=>{!j()&&!L().isInitializing&&wt("/login?redirect=/dashboard/payment-methods",{replaceState:!0})});let y=I(pt([{id:"pm_1",type:"card",brand:"Visa",last4:"4242",expMonth:12,expYear:2027,isDefault:!0},{id:"pm_2",type:"paypal",email:"john@example.com",isDefault:!1}])),g=I(!1);function U(l){w(y,r(y).map(d=>({...d,isDefault:d.id===l})),!0)}function W(l){w(y,r(y).filter(d=>d.id!==l),!0)}var F=bt();ht("1thwb5t",l=>{var d=At();mt(()=>{yt.title="Payment Methods | Revolution Trading Pros"}),n(l,d)});var X=M(F);{var Z=l=>{var d=Bt(),R=i(M(d),2),T=s(R),z=s(T);gt(z,21,()=>r(y),p=>p.id,(p,e)=>{var v=Yt();let u;var b=s(v),A=s(b);{var k=t=>{O(t,{size:32})},$=t=>{G(t,{size:32})};m(A,t=>{r(e).type==="card"?t(k):t($,!1)})}a(b);var f=i(b,2),P=s(f);{var h=t=>{var o=$t(),c=M(o),S=s(c);a(c);var H=i(c,2),nt=s(H);a(H),E(()=>{Y(S,`${r(e).brand??""} ending in ${r(e).last4??""}`),Y(nt,`Expires ${r(e).expMonth??""}/${r(e).expYear??""}`)}),n(t,o)},rt=t=>{var o=Ct(),c=i(M(o),2),S=s(c,!0);a(c),E(()=>Y(S,r(e).email)),n(t,o)};m(P,t=>{r(e).type==="card"?t(h):t(rt,!1)})}var lt=i(P,2);{var ot=t=>{var o=St(),c=s(o);Pt(c,{size:12}),D(),a(o),n(t,o)};m(lt,t=>{r(e).isDefault&&t(ot)})}a(f);var V=i(f,2),q=s(V);{var it=t=>{var o=Et();o.__click=()=>U(r(e).id),n(t,o)};m(q,t=>{r(e).isDefault||t(it)})}var C=i(q,2);C.__click=()=>W(r(e).id);var dt=s(C);xt(dt,{size:16}),a(C),a(V),a(v),E(()=>u=kt(v,1,"payment-card svelte-1thwb5t",null,u,{"is-default":r(e).isDefault})),n(p,v)}),a(z);var x=i(z,2);x.__click=()=>w(g,!0);var at=s(x);Mt(at,{size:20}),D(),a(x);var et=i(x,2);{var st=p=>{var e=jt();e.__click=()=>w(g,!1),e.__keydown=h=>h.key==="Escape"&&w(g,!1);var v=s(e);v.__click=h=>h.stopPropagation(),v.__keydown=h=>h.stopPropagation();var u=i(s(v),2),b=s(u),A=s(b);O(A,{size:24}),D(2),a(b);var k=i(b,2),$=s(k);G($,{size:24}),D(2),a(k),a(u);var f=i(u,4),P=s(f);P.__click=()=>w(g,!1),a(f),a(v),a(e),n(p,e)};m(et,p=>{r(g)&&p(st)})}a(T),a(R),n(l,d)},tt=l=>{var d=Ft();n(l,d)};m(X,l=>{j()?l(Z):l(tt,!1)})}n(J,F),ut(),Q()}vt(["click","keydown"]);export{Vt as component};
