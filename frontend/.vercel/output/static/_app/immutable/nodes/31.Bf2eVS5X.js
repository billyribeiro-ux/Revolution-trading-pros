import{p as G,A as K,f as M,a9 as O,aM as Q,i as R,db as V,w as D,D as W,bJ as r,h as z,j as X,as as Y,q as o,e as a,at as Z,H as E,r as s,g as v,s as H,bH as i,x as J,c as d,F as ee}from"../chunks/C_QN0JMx.js";import{c as te}from"../chunks/L2eW2QSs.js";var ae=M('<div class="error-banner svelte-koooct"> </div>'),oe=M('<div class="new-contact-page svelte-koooct"><div class="page-header svelte-koooct"><a href="/admin/contacts" class="back-link svelte-koooct"><!> Back to Contacts</a> <h1 class="svelte-koooct">Add New Contact</h1></div> <form class="contact-form svelte-koooct"><!> <div class="form-row svelte-koooct"><div class="form-group svelte-koooct"><label for="first_name" class="svelte-koooct">First Name *</label> <input type="text" id="first_name" required class="svelte-koooct"/></div> <div class="form-group svelte-koooct"><label for="last_name" class="svelte-koooct">Last Name *</label> <input type="text" id="last_name" required class="svelte-koooct"/></div></div> <div class="form-group svelte-koooct"><label for="email" class="svelte-koooct">Email Address *</label> <input type="email" id="email" required class="svelte-koooct"/></div> <div class="form-group svelte-koooct"><label for="phone" class="svelte-koooct">Phone Number</label> <input type="tel" id="phone" class="svelte-koooct"/></div> <div class="form-group svelte-koooct"><label for="job_title" class="svelte-koooct">Job Title</label> <input type="text" id="job_title" class="svelte-koooct"/></div> <div class="form-actions svelte-koooct"><a href="/admin/contacts" class="btn-secondary svelte-koooct">Cancel</a> <button type="submit" class="btn-primary svelte-koooct"><!> </button></div></form></div>');function re(P,S){G(S,!0);let t=K({first_name:"",last_name:"",email:"",phone:"",job_title:""}),c=H(!1),n=H(null);async function B(e){e.preventDefault(),d(c,!0),d(n,null);try{await te.createContact({first_name:t.first_name,last_name:t.last_name,email:t.email,phone:t.phone||void 0,job_title:t.job_title||void 0}),ee("/admin/contacts")}catch(l){d(n,l instanceof Error?l.message:"Failed to create contact",!0),d(c,!1)}}var m=oe();O("koooct",e=>{Y(()=>{Z.title="New Contact - Admin"})});var _=o(m),y=o(_),I=o(y);Q(I,{size:18}),E(),s(y),E(2),s(_);var p=a(_,2),x=o(p);{var L=e=>{var l=ae(),U=o(l,!0);s(l),D(()=>J(U,v(n))),z(e,l)};R(x,e=>{v(n)&&e(L)})}var f=a(x,2),u=o(f),j=a(o(u),2);i(j),s(u);var C=a(u,2),w=a(o(C),2);i(w),s(C),s(f);var b=a(f,2),A=a(o(b),2);i(A),s(b);var k=a(b,2),N=a(o(k),2);i(N),s(k);var h=a(k,2),q=a(o(h),2);i(q),s(h);var F=a(h,2),g=a(o(F),2),$=o(g);V($,{size:18});var T=a($);s(g),s(F),s(p),s(m),D(()=>{g.disabled=v(c),J(T,` ${v(c)?"Creating...":"Create Contact"}`)}),W("submit",p,B),r(j,()=>t.first_name,e=>t.first_name=e),r(w,()=>t.last_name,e=>t.last_name=e),r(A,()=>t.email,e=>t.email=e),r(N,()=>t.phone,e=>t.phone=e),r(q,()=>t.job_title,e=>t.job_title=e),z(P,m),X()}export{re as component};
