import{ab as Ze,ac as W,z as es,p as ss,o as as,a3 as ts,f as u,a9 as is,b5 as vs,q as s,e as a,i as S,w as A,h as l,j as rs,E as ls,c as ds,aP as ns,as as os,dQ as J,g as r,at as cs,H as ke,r as e,B as xe,O as F,k as us,d as ye,U as _s,aR as ps,aY as gs,P as we,x as c,aH as hs,N as $e,_ as De,Q as Pe,K as bs}from"../chunks/C_QN0JMx.js";import{a as y}from"../chunks/1Dlf-fUy.js";const js=W(null),Se=W(null),V=W(!1);Ze(js,_=>_?{engagement:_.engagement_score,intent:_.intent_score,friction:_.friction_score,churnRisk:_.churn_risk_score}:null);class ms{async sendEvents(t){return y.post("/admin/behavior/events",t)}async getSession(t){return y.get(`/admin/behavior/sessions/${t}`)}async getDashboard(t="7d"){return y.get("/admin/behavior/dashboard",{params:{period:t}})}async getFrictionPoints(t){return y.get("/admin/behavior/friction-points",{params:t})}async getIntentSignals(t){return y.get("/admin/behavior/intent-signals",{params:t})}async resolveFrictionPoint(t,z){return y.patch(`/admin/behavior/friction-points/${t}/resolve`,{notes:z})}}const fs=new ms;var ks=u('<meta name="description" content="Enterprise behavioral analytics dashboard"/>'),xs=u('<div class="loading-state svelte-e70euj"><div class="spinner svelte-e70euj"></div> <p class="text-gray-400 mt-4">Loading behavior data...</p></div>'),ys=u('<div class="friction-item svelte-e70euj"><div class="friction-info svelte-e70euj"><div class="friction-url svelte-e70euj"> </div> <div class="friction-meta svelte-e70euj"><span class="badge badge-orange svelte-e70euj"> </span> <span class="text-gray-400"> </span></div></div> <div class="friction-bar svelte-e70euj"><div class="friction-fill svelte-e70euj"></div></div></div>'),ws=u('<div class="section svelte-e70euj"><div class="section-header svelte-e70euj"><h2 class="section-title svelte-e70euj">Friction Heatmap</h2> <p class="section-subtitle svelte-e70euj">Pages with highest friction</p></div> <div class="friction-list svelte-e70euj"></div></div>'),$s=u('<div class="timeline-bar svelte-e70euj"><div class="bar-fill svelte-e70euj"></div> <div class="bar-label svelte-e70euj"> </div></div>'),Ds=u('<div class="section svelte-e70euj"><div class="section-header svelte-e70euj"><h2 class="section-title svelte-e70euj">Session Activity</h2> <p class="section-subtitle svelte-e70euj">Daily session volume and engagement</p></div> <div class="timeline-chart svelte-e70euj"></div></div>'),Ps=u('<div class="kpi-grid svelte-e70euj"><div class="kpi-card svelte-e70euj"><div class="kpi-icon bg-blue-500/20 svelte-e70euj"><!></div> <div class="kpi-content svelte-e70euj"><div class="kpi-label svelte-e70euj">Total Sessions</div> <div class="kpi-value svelte-e70euj"> </div></div></div> <div class="kpi-card svelte-e70euj"><div class="kpi-icon bg-green-500/20 svelte-e70euj"><!></div> <div class="kpi-content svelte-e70euj"><div class="kpi-label svelte-e70euj">Avg Engagement</div> <div class="kpi-value svelte-e70euj"> </div></div></div> <div class="kpi-card svelte-e70euj"><div class="kpi-icon bg-yellow-500/20 svelte-e70euj"><!></div> <div class="kpi-content svelte-e70euj"><div class="kpi-label svelte-e70euj">Avg Intent</div> <div class="kpi-value svelte-e70euj"> </div></div></div> <div class="kpi-card svelte-e70euj"><div class="kpi-icon bg-orange-500/20 svelte-e70euj"><!></div> <div class="kpi-content svelte-e70euj"><div class="kpi-label svelte-e70euj">Avg Friction</div> <div class="kpi-value svelte-e70euj"> </div></div></div> <div class="kpi-card critical svelte-e70euj"><div class="kpi-icon bg-red-500/20 svelte-e70euj"><!></div> <div class="kpi-content svelte-e70euj"><div class="kpi-label svelte-e70euj">High Churn Risk</div> <div class="kpi-value svelte-e70euj"> </div></div></div></div> <!> <!>',1),Ss=u('<div class="empty-state svelte-e70euj"><!> <h3 class="text-xl font-semibold text-gray-400 mt-4">No Behavior Data</h3> <p class="text-gray-500 mt-2">Start tracking user behavior to see insights</p></div>'),As=u('<div class="behavior-dashboard svelte-e70euj"><div class="dashboard-header svelte-e70euj"><div class="header-content svelte-e70euj"><div class="header-title svelte-e70euj"><!> <div><h1 class="text-3xl font-bold text-white">Behavior Analytics</h1> <p class="text-gray-400 mt-1">RevolutionBehavior-L8-System</p></div></div> <div class="period-selector svelte-e70euj"><button>24h</button> <button>7d</button> <button>30d</button> <button>90d</button></div></div></div> <!></div>');function Bs(_,t){ss(t,!1);const z=()=>xe(V,"$isLoading",X),i=()=>xe(Se,"$dashboardData",X),[X,Ae]=ls();let b=ns("7d");as(()=>{Z()});async function Z(){J(V,!0);try{const v=await fs.getDashboard(r(b));J(Se,v)}catch{}finally{J(V,!1)}}function P(v){ds(b,v),Z()}ts();var B=As();is("e70euj",v=>{var j=ks();os(()=>{cs.title="Behavior Analytics | Revolution Trading Pros"}),l(v,j)});var L=s(B),ee=s(L),R=s(ee),Fe=s(R);vs(Fe,{size:32,class:"text-purple-400"}),ke(2),e(R);var se=a(R,2),C=s(se);let ae;C.__click=()=>P("24h");var E=a(C,2);let te;E.__click=()=>P("7d");var H=a(E,2);let ie;H.__click=()=>P("30d");var ve=a(H,2);let re;ve.__click=()=>P("90d"),e(se),e(ee),e(L);var ze=a(L,2);{var Be=v=>{var j=xs();l(v,j)},Le=v=>{var j=us(),Re=ye(j);{var Ce=m=>{var f=Ps(),w=ye(f),I=s(w),T=s(I),He=s(T);_s(He,{size:24,class:"text-blue-400"}),e(T);var le=a(T,2),de=a(s(le),2),Ie=s(de,!0);e(de),e(le),e(I);var M=a(I,2),U=s(M),Te=s(U);ps(Te,{size:24,class:"text-green-400"}),e(U);var ne=a(U,2),oe=a(s(ne),2),Me=s(oe);e(oe),e(ne),e(M);var N=a(M,2),Q=s(N),Ue=s(Q);gs(Ue,{size:24,class:"text-yellow-400"}),e(Q);var ce=a(Q,2),ue=a(s(ce),2),Ne=s(ue);e(ue),e(ce),e(N);var q=a(N,2),K=s(q),Qe=s(K);we(Qe,{size:24,class:"text-orange-400"}),e(K);var _e=a(K,2),pe=a(s(_e),2),qe=s(pe);e(pe),e(_e),e(q);var ge=a(q,2),O=s(ge),Ke=s(O);we(Ke,{size:24,class:"text-red-400"}),e(O);var he=a(O,2),be=a(s(he),2),Oe=s(be,!0);e(be),e(he),e(ge),e(w);var je=a(w,2);{var Ye=d=>{var n=ws(),p=a(s(n),2);$e(p,5,()=>i().friction_heatmap,Pe,($,o)=>{var g=ys(),h=s(g),k=s(h),Y=s(k,!0);e(k);var x=a(k,2),D=s(x),G=s(D,!0);e(D);var me=a(D,2),Ve=s(me);e(me),e(x),e(h);var fe=a(h,2),We=s(fe);e(fe),e(g),A(Xe=>{c(Y,r(o).page_url),c(G,r(o).top_friction_type),c(Ve,`${r(o).friction_count??""} issues`),De(We,`width: ${Xe??""}%`)},[()=>Math.min(r(o).friction_count/10*100,100)]),l($,g)}),e(p),e(n),l(d,n)};S(je,d=>{i().friction_heatmap&&i().friction_heatmap.length>0&&d(Ye)})}var Ge=a(je,2);{var Je=d=>{var n=Ds(),p=a(s(n),2);$e(p,5,()=>i().session_timeline,Pe,($,o)=>{var g=$s(),h=s(g),k=a(h,2),Y=s(k,!0);e(k),e(g),A((x,D,G)=>{De(h,`height: ${x??""}%`),bs(h,"title",`${r(o).sessions??""} sessions, ${D??""}% engagement`),c(Y,G)},[()=>r(o).sessions/Math.max(...i().session_timeline.map(x=>x.sessions))*100,()=>r(o).avg_engagement.toFixed(1),()=>new Date(r(o).timestamp).toLocaleDateString("en-US",{month:"short",day:"numeric"})]),l($,g)}),e(p),e(n),l(d,n)};S(Ge,d=>{i().session_timeline&&i().session_timeline.length>0&&d(Je)})}A((d,n,p,$)=>{c(Ie,d),c(Me,`${n??""}%`),c(Ne,`${p??""}%`),c(qe,`${$??""}%`),c(Oe,i().overview.high_churn_risk_count)},[()=>i().overview.total_sessions.toLocaleString(),()=>i().overview.avg_engagement_score.toFixed(1),()=>i().overview.avg_intent_score.toFixed(1),()=>i().overview.avg_friction_score.toFixed(1)]),l(m,f)},Ee=m=>{var f=Ss(),w=s(f);hs(w,{size:64,class:"text-gray-600"}),ke(4),e(f),l(m,f)};S(Re,m=>{i()?m(Ce):m(Ee,!1)},!0)}l(v,j)};S(ze,v=>{z()?v(Be):v(Le,!1)})}e(B),A(()=>{ae=F(C,1,"period-btn svelte-e70euj",null,ae,{active:r(b)==="24h"}),te=F(E,1,"period-btn svelte-e70euj",null,te,{active:r(b)==="7d"}),ie=F(H,1,"period-btn svelte-e70euj",null,ie,{active:r(b)==="30d"}),re=F(ve,1,"period-btn svelte-e70euj",null,re,{active:r(b)==="90d"})}),l(_,B),rs(),Ae()}es(["click"]);export{Bs as component};
