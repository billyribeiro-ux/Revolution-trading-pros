import{p as _t,o as xt,a3 as gt,f as d,a9 as $t,i as K,h as r,j as ht,as as bt,e as o,q as l,d as p,bV as yt,w as f,c as k,aP as H,at as wt,H as w,r as n,x as v,g as s,k as W,bx as Pt,N as kt,v as X,bL as Y,Q as Dt}from"../chunks/C_QN0JMx.js";import{B as Rt,C as u,a as U}from"../chunks/ButKoJq5.js";import{B as Z}from"../chunks/COvxyfnH.js";import{T as Tt}from"../chunks/CX5HRabs.js";import"../chunks/l0sNRNKZ.js";import"../chunks/Div_5PT3.js";import{s as z}from"../chunks/S1pMlAmp.js";var Lt=d("<!> Delete Resolved",1),St=d('<p class="text-sm text-gray-600">Total 404s</p> <p class="text-2xl font-bold mt-1"> </p>',1),At=d('<p class="text-sm text-gray-600">Unresolved</p> <p class="text-2xl font-bold mt-1 text-red-600"> </p>',1),Bt=d('<p class="text-sm text-gray-600">Resolved</p> <p class="text-2xl font-bold mt-1 text-green-600"> </p>',1),Ct=d('<p class="text-sm text-gray-600">Total Hits</p> <p class="text-2xl font-bold mt-1"> </p>',1),Ft=d('<div class="text-center py-12"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"></div> <p class="mt-4 text-gray-600">Loading 404 errors...</p></div>'),jt=d('<div class="text-center py-12"><!> <p class="text-gray-500">No 404 errors found. Great job!</p></div>'),qt=d('<tr><td class="font-mono text-sm max-w-md truncate"> </td><td><!></td><td><!></td><td class="text-gray-600 text-sm"> </td><td class="text-gray-600 text-sm"> </td></tr>'),Et=d('<h3 class="text-lg font-bold text-gray-900 mb-4">Recommended Actions</h3> <ul class="space-y-2 text-gray-700"><li class="flex items-start gap-2"><span class="text-blue-600 mt-1">→</span> <span>Review high-traffic 404s and create redirects to relevant content</span></li> <li class="flex items-start gap-2"><span class="text-blue-600 mt-1">→</span> <span>Check internal links that may be pointing to these broken URLs</span></li> <li class="flex items-start gap-2"><span class="text-blue-600 mt-1">→</span> <span>Consider creating content for frequently accessed missing pages</span></li></ul>',1),Ht=d("<!> <!>",1),Ut=d('<div><div class="flex items-center justify-between mb-6"><div><h1 class="text-3xl font-bold text-gray-900">404 Error Monitor</h1> <p class="text-gray-600 mt-1">Track and fix broken links on your site</p></div> <!></div> <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"><!> <!> <!> <!></div> <!></div>');function Kt(O,tt){_t(tt,!1);let D=H([]),R=H(!0),x=H({total:0,resolved:0,unresolved:0,total_hits:0});xt(async()=>{await M(),await N()});async function M(){try{k(R,!0),k(D,await z.list404s()||[])}catch{U({type:"error",message:"Failed to load 404 errors"})}finally{k(R,!1)}}async function N(){try{const t=await z.get404Stats();k(x,t)}catch{}}async function et(t=!0){if(confirm(t?"Delete all resolved 404 errors?":"Delete all 404 errors? This action cannot be undone."))try{await z.bulkDelete404s(t),U({type:"success",message:"404 errors deleted successfully"}),await M(),await N()}catch{U({type:"error",message:"Failed to delete 404 errors"})}}gt();var T=Ut();$t("1b5w1ws",t=>{bt(()=>{wt.title="404 Errors | Revolution Admin"})});var L=l(T),at=o(l(L),2);Rt(at,{variant:"danger",onclick:()=>et(!0),children:(t,i)=>{var e=Lt(),a=p(e);yt(a,{size:20}),w(),r(t,e)},$$slots:{default:!0}}),n(L);var S=o(L,2),G=l(S);u(G,{children:(t,i)=>{var e=St(),a=o(p(e),2),c=l(a,!0);n(a),f(()=>v(c,s(x).total)),r(t,e)},$$slots:{default:!0}});var Q=o(G,2);u(Q,{children:(t,i)=>{var e=At(),a=o(p(e),2),c=l(a,!0);n(a),f(()=>v(c,s(x).unresolved)),r(t,e)},$$slots:{default:!0}});var V=o(Q,2);u(V,{children:(t,i)=>{var e=Bt(),a=o(p(e),2),c=l(a,!0);n(a),f(()=>v(c,s(x).resolved)),r(t,e)},$$slots:{default:!0}});var st=o(V,2);u(st,{children:(t,i)=>{var e=Ct(),a=o(p(e),2),c=l(a,!0);n(a),f(()=>v(c,s(x).total_hits)),r(t,e)},$$slots:{default:!0}}),n(S);var rt=o(S,2);{var ot=t=>{u(t,{children:(i,e)=>{var a=Ft();r(i,a)},$$slots:{default:!0}})},lt=t=>{var i=W(),e=p(i);{var a=_=>{u(_,{children:(P,A)=>{var g=jt(),$=l(g);Pt($,{size:48,class:"mx-auto text-green-500 mb-4"}),w(2),n(g),r(P,g)},$$slots:{default:!0}})},c=_=>{var P=Ht(),A=p(P);u(A,{padding:!1,children:($,nt)=>{Tt($,{headers:["URL","Hit Count","Status","First Seen","Last Seen"],children:(B,zt)=>{var I=W(),dt=p(I);kt(dt,1,()=>s(D),Dt,(it,m)=>{var C=qt(),F=l(C),ct=l(F,!0);n(F);var j=o(F),vt=l(j);{let h=Y(()=>s(m).hit_count>10?"danger":"warning");Z(vt,{get variant(){return s(h)},children:(b,ft)=>{w();var y=X();f(()=>v(y,`${s(m).hit_count??""} hits`)),r(b,y)},$$slots:{default:!0}})}n(j);var q=o(j),pt=l(q);{let h=Y(()=>s(m).is_resolved?"success":"danger");Z(pt,{get variant(){return s(h)},children:(b,ft)=>{w();var y=X();f(()=>v(y,s(m).is_resolved?"Resolved":"Active")),r(b,y)},$$slots:{default:!0}})}n(q);var E=o(q),ut=l(E,!0);n(E);var J=o(E),mt=l(J,!0);n(J),n(C),f((h,b)=>{v(ct,s(m).url),v(ut,h),v(mt,b)},[()=>new Date(s(m).first_seen_at).toLocaleDateString(),()=>new Date(s(m).last_seen_at).toLocaleDateString()]),r(it,C)}),r(B,I)},$$slots:{default:!0}})},$$slots:{default:!0}});var g=o(A,2);u(g,{class:"mt-6",children:($,nt)=>{var B=Et();w(2),r($,B)},$$slots:{default:!0}}),r(_,P)};K(e,_=>{s(D).length===0?_(a):_(c,!1)},!0)}r(t,i)};K(rt,t=>{s(R)?t(ot):t(lt,!1)})}n(T),r(O,T),ht()}export{Kt as component};
