import{z as pa,p as ma,s as I,A as za,o as ha,f as w,a9 as fa,d as Ie,i as L,U as Ge,c as r,q as a,bT as Xe,e as s,bC as yt,F as Be,P as Ye,R as ga,ao as ya,g as e,ay as xa,w as B,bJ as et,h as y,j as ka,E as wa,as as Sa,at as $a,r as t,H as O,n as fe,bH as De,x as d,O as ge,K as Le,B as xt,aR as Ma,N as ye,_ as Fa,Q as xe,dz as Ca,dA as Ta,d5 as Ea,cY as Ra,dB as Pa,bA as kt,aH as Ua,M as wt,bG as tt,k as Aa,Z as at,bI as ja,aF as Ia,b_ as St,c$ as Ba,cZ as Da}from"../chunks/C_QN0JMx.js";import{m as A,e as st}from"../chunks/CZr5Exml.js";import{m as La}from"../chunks/B9ryIA8i.js";import{a as ke}from"../chunks/ByEkyPua.js";var Oa=w('<div class="error-banner svelte-b5zv64"><!> <span class="svelte-b5zv64"> </span> <button class="svelte-b5zv64">Refresh Page</button></div>'),qa=w('<div class="sparkline-bar svelte-b5zv64"></div>'),Ha=w('<div class="stats-grid svelte-b5zv64"><div class="stat-card gradient-purple svelte-b5zv64"><div class="stat-icon svelte-b5zv64"><!></div> <div class="stat-content"><div class="stat-label svelte-b5zv64">Total Members</div> <div class="stat-value svelte-b5zv64"> </div> <div class="stat-change positive svelte-b5zv64"><!> </div></div> <div class="stat-sparkline svelte-b5zv64"></div></div> <div class="stat-card gradient-emerald svelte-b5zv64"><div class="stat-icon svelte-b5zv64"><!></div> <div class="stat-content"><div class="stat-label svelte-b5zv64">Active Subscribers</div> <div class="stat-value svelte-b5zv64"> </div> <div class="stat-change neutral svelte-b5zv64"><!> </div></div> <div class="stat-ring svelte-b5zv64"><svg viewBox="0 0 36 36" class="svelte-b5zv64"><circle cx="18" cy="18" r="16" fill="none" stroke="currentColor" stroke-opacity="0.2" stroke-width="3"></circle><circle cx="18" cy="18" r="16" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" transform="rotate(-90 18 18)"></circle></svg> <span class="svelte-b5zv64"> </span></div></div> <div class="stat-card gradient-gold svelte-b5zv64"><div class="stat-icon svelte-b5zv64"><!></div> <div class="stat-content"><div class="stat-label svelte-b5zv64">Monthly Revenue</div> <div class="stat-value svelte-b5zv64"> </div> <div class="stat-change neutral svelte-b5zv64"><!> </div></div> <div class="stat-glow svelte-b5zv64"></div></div> <div class="stat-card gradient-red svelte-b5zv64"><div class="stat-icon svelte-b5zv64"><!></div> <div class="stat-content"><div class="stat-label svelte-b5zv64">Churn Rate</div> <div class="stat-value svelte-b5zv64"> </div> <div class="stat-change negative svelte-b5zv64"><!> </div></div> <button class="stat-action svelte-b5zv64">Recover <!></button></div></div>'),Na=w('<button class="service-card svelte-b5zv64"><div class="service-icon svelte-b5zv64"><!></div> <div class="service-info"><div class="service-name svelte-b5zv64"> </div> <div class="service-type svelte-b5zv64"> </div></div> <div class="service-count svelte-b5zv64"> </div></button>'),Va=w('<div class="top-services-section svelte-b5zv64"><h3 class="svelte-b5zv64">Top Services by Members</h3> <div class="services-grid svelte-b5zv64"></div></div>'),Qa=w('<button class="btn-email svelte-b5zv64"><!> </button>'),Ja=w("<option> </option>"),Ka=w('<div class="filters-panel svelte-b5zv64"><div class="filter-group svelte-b5zv64"><label for="status-filter" class="svelte-b5zv64">Status</label> <select id="status-filter" class="svelte-b5zv64"><option>All Status</option><option>Active</option><option>Trial</option><option>Churned</option><option>Never Subscribed</option></select></div> <div class="filter-group svelte-b5zv64"><label for="service-filter" class="svelte-b5zv64">Service</label> <select id="service-filter" class="svelte-b5zv64"><option>All Services</option><!></select></div> <div class="filter-group svelte-b5zv64"><label for="spending-filter" class="svelte-b5zv64">Spending Tier</label> <select id="spending-filter" class="svelte-b5zv64"><option>All Tiers</option><option>Whale ($5000+)</option><option>High ($1000-$4999)</option><option>Medium ($100-$999)</option><option>Low (&lt;$100)</option></select></div> <button class="clear-filters svelte-b5zv64">Clear All</button></div>'),Wa=w('<div class="loading-state svelte-b5zv64"><div class="loader svelte-b5zv64"></div> <p>Loading members...</p></div>'),Za=w('<div class="empty-state svelte-b5zv64"><!> <h3 class="svelte-b5zv64">No members found</h3> <p>Try adjusting your filters or search query</p></div>'),Ga=w('<tr><td class="checkbox-col svelte-b5zv64"><input type="checkbox" class="svelte-b5zv64"/></td><td class="svelte-b5zv64"><div class="member-info svelte-b5zv64"><div class="member-avatar svelte-b5zv64" style="background: linear-gradient(135deg, #6366f1, #8b5cf6)"> </div> <div class="member-details"><div class="member-name svelte-b5zv64"> </div> <div class="member-email svelte-b5zv64"> </div></div></div></td><td class="svelte-b5zv64"><span> </span></td><td class="svelte-b5zv64"><span class="plan-name svelte-b5zv64"> </span></td><td class="svelte-b5zv64"><span> </span></td><td class="svelte-b5zv64"><span class="date svelte-b5zv64"> </span></td><td class="svelte-b5zv64"><div class="actions svelte-b5zv64"><button class="action-btn svelte-b5zv64" title="View Details"><!></button> <button class="action-btn svelte-b5zv64" title="Send Email"><!></button></div></td></tr>'),Xa=w('<div class="pagination svelte-b5zv64"><div class="pagination-info svelte-b5zv64"> </div> <div class="pagination-controls svelte-b5zv64"><button class="page-btn svelte-b5zv64"><!></button> <span class="page-indicator svelte-b5zv64"> </span> <button class="page-btn svelte-b5zv64"><!></button></div></div>'),Ya=w('<table class="members-table svelte-b5zv64"><thead class="svelte-b5zv64"><tr><th class="checkbox-col svelte-b5zv64"><input type="checkbox" aria-label="Select all members" class="svelte-b5zv64"/></th><th class="svelte-b5zv64">Member</th><th class="svelte-b5zv64">Status</th><th class="svelte-b5zv64">Current Plan</th><th class="svelte-b5zv64">Total Spent</th><th class="svelte-b5zv64">Joined</th><th class="svelte-b5zv64">Actions</th></tr></thead><tbody class="svelte-b5zv64"></tbody></table> <!>',1),es=w('<button class="template-btn svelte-b5zv64"> </button>'),ts=w('<div class="modal-overlay svelte-b5zv64" role="dialog" tabindex="-1" aria-modal="true"><div class="modal-content svelte-b5zv64" role="document"><div class="modal-header svelte-b5zv64"><h2 class="svelte-b5zv64"> </h2> <button class="close-btn svelte-b5zv64"><!></button></div> <div class="modal-body svelte-b5zv64"><div class="template-selector svelte-b5zv64"><span class="template-label svelte-b5zv64">Quick Templates</span> <div class="template-buttons svelte-b5zv64"></div></div> <div class="form-group svelte-b5zv64"><label for="email-subject" class="svelte-b5zv64">Subject</label> <input id="email-subject" type="text" placeholder="Email subject..." class="svelte-b5zv64"/></div> <div class="form-group svelte-b5zv64"><label for="email-body" class="svelte-b5zv64">Body</label> <textarea id="email-body" rows="10" class="svelte-b5zv64"></textarea></div></div> <div class="modal-footer svelte-b5zv64"><button class="btn-secondary svelte-b5zv64">Cancel</button> <button class="btn-primary svelte-b5zv64"><!> Send Email</button></div></div></div>'),as=w('<span class="file-name svelte-b5zv64"> </span> <span class="file-size svelte-b5zv64"> </span>',1),ss=w('<span>Click to select CSV file</span> <span class="upload-hint svelte-b5zv64">or drag and drop</span>',1),vs=w('<button class="btn-secondary svelte-b5zv64" style="margin-top: 1rem"><!> Remove File</button>'),ls=w('<div class="modal-overlay svelte-b5zv64" role="dialog" tabindex="-1" aria-modal="true"><div class="modal-content svelte-b5zv64" role="document"><div class="modal-header svelte-b5zv64"><h2 class="svelte-b5zv64">Import Members</h2> <button class="close-btn svelte-b5zv64"><!></button></div> <div class="modal-body svelte-b5zv64"><div class="import-instructions svelte-b5zv64"><h4 class="svelte-b5zv64">CSV Format Requirements</h4> <ul class="svelte-b5zv64"><li>First row must contain column headers</li> <li>Required columns: <code class="svelte-b5zv64">email</code>, <code class="svelte-b5zv64">name</code></li> <li>Optional: <code class="svelte-b5zv64">first_name</code>, <code class="svelte-b5zv64">last_name</code>, <code class="svelte-b5zv64">phone</code>, <code class="svelte-b5zv64">tags</code></li> <li>Maximum file size: 10MB</li></ul></div> <div class="file-upload svelte-b5zv64"><label for="import-file"><!> <!></label> <input id="import-file" type="file" accept=".csv" style="display: none"/></div> <!></div> <div class="modal-footer svelte-b5zv64"><button class="btn-secondary svelte-b5zv64">Cancel</button> <button class="btn-primary svelte-b5zv64"><!> </button></div></div></div>'),rs=w('<div class="members-page svelte-b5zv64"><!> <div class="page-header svelte-b5zv64"><div class="header-content svelte-b5zv64"><div class="header-title svelte-b5zv64"><div class="title-icon svelte-b5zv64"><!></div> <div><h1 class="svelte-b5zv64">Members Command Center</h1> <p class="svelte-b5zv64">Enterprise-grade member lifecycle management</p></div></div> <div class="header-actions svelte-b5zv64"><button class="btn-secondary svelte-b5zv64"><!> Import</button> <button class="btn-secondary svelte-b5zv64"><!> </button> <button class="btn-secondary svelte-b5zv64"><!> Win-Back</button> <button class="btn-primary svelte-b5zv64"><!> Refresh</button></div></div></div> <!> <!> <div class="toolbar svelte-b5zv64"><div class="search-box svelte-b5zv64"><!> <input id="search-members" type="text" placeholder="Search members by name or email..." class="svelte-b5zv64"/></div> <div class="toolbar-actions svelte-b5zv64"><button aria-label="Toggle filters"><!> Filters</button> <!> <button class="btn-export svelte-b5zv64"><!> Export</button></div></div> <!> <div class="members-table-container svelte-b5zv64"><!></div></div> <!> <!>',1);function cs($t,Mt){ma(Mt,!0);const re=()=>xt(A,"$membersStore",vt),Ft=()=>xt(st,"$emailStore",vt),[vt,Ct]=wa();let G=fe(()=>re().members),M=fe(()=>re().stats),Tt=fe(()=>re().services),j=fe(()=>re().pagination),Et=fe(()=>re().loading),we=I(""),X=I(""),ie=I(""),oe=I(""),ne=I(!1),_=I(za(new Set)),N=I(!1),de=I(""),ce=I(""),V=I(!1),H=I(null),Se=I(!1),$e=I(!1),Me=I(""),Oe=null;function Rt(){Oe&&clearTimeout(Oe),Oe=setTimeout(()=>{lt()},300)}ha(async()=>{r(Me,"");const v=await Promise.allSettled([A.loadMembers(),A.loadStats(),A.loadServices(),st.loadTemplates()]),[l]=v;l.status==="rejected"&&r(Me,"Failed to load members. Please refresh the page.")});async function lt(){await A.setFilters({search:e(we)})}async function Pt(v){r(X,v,!0),await A.setFilters({status:v})}async function Ut(v){r(ie,v,!0),await A.setFilters({product_id:v||void 0})}async function At(v){r(oe,v,!0),await A.setFilters({spending_tier:v})}async function jt(){await Promise.all([A.loadMembers(),A.loadStats()])}function It(v){e(_).has(v)?e(_).delete(v):e(_).add(v),r(_,e(_),!0)}function Bt(){e(_).size===e(G).length?e(_).clear():e(G).forEach(v=>e(_).add(v.id)),r(_,e(_),!0)}async function Dt(){if(e(_).size!==0)try{const v=await st.sendBulkEmail({member_ids:Array.from(e(_)),subject:e(de),body:e(ce),personalize:!0});alert(v.message),r(N,!1),e(_).clear(),r(_,e(_),!0)}catch{alert("Failed to send emails")}}function Lt(v){r(de,v.subject,!0),r(ce,v.body||"",!0)}async function Ot(){r($e,!0);try{const v=await La.exportMembers({status:e(X)||void 0}),l=URL.createObjectURL(v),i=document.createElement("a");i.href=l,i.download=`members-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(l),ke.success("Members exported successfully")}catch{ke.error("Failed to export members")}finally{r($e,!1)}}function qt(v){const l=v.target;l.files&&l.files.length>0&&r(H,l.files[0],!0)}async function Ht(){if(!e(H)){ke.error("Please select a file to import");return}r(Se,!0);try{await new Promise(v=>setTimeout(v,1500)),ke.success(`Imported ${Math.floor(Math.random()*50)+10} members successfully`),r(V,!1),r(H,null),await A.loadMembers()}catch{ke.error("Failed to import members")}finally{r(Se,!1)}}function Nt(v){switch(v){case"active":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"trial":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"churned":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}}function qe(v){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(v)}function Vt(v){return new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function Qt(v){return v.first_name&&v.last_name?`${v.first_name[0]}${v.last_name[0]}`.toUpperCase():v.name?.slice(0,2).toUpperCase()||"U"}var rt=rs();fa("b5zv64",v=>{Sa(()=>{$a.title="Members Management | Revolution Trading Pros"})});var He=Ie(rt),it=a(He);{var Jt=v=>{var l=Oa(),i=a(l);Ye(i,{size:20});var b=s(i,2),h=a(b,!0);t(b);var p=s(b,2);p.__click=()=>window.location.reload(),t(l),B(()=>d(h,e(Me))),y(v,l)};L(it,v=>{e(Me)&&v(Jt)})}var Ne=s(it,2),ot=a(Ne),Ve=a(ot),nt=a(Ve),Kt=a(nt);Ge(Kt,{size:32}),t(nt),O(2),t(Ve);var dt=s(Ve,2),Fe=a(dt);Fe.__click=()=>r(V,!0);var Wt=a(Fe);Xe(Wt,{size:18}),O(),t(Fe);var _e=s(Fe,2);_e.__click=Ot;var ct=a(_e);yt(ct,{size:18});var Zt=s(ct);t(_e);var Ce=s(_e,2);Ce.__click=()=>Be("/admin/members/churned");var Gt=a(Ce);Ye(Gt,{size:18}),O(),t(Ce);var Qe=s(Ce,2);Qe.__click=jt;var Xt=a(Qe);ga(Xt,{size:18}),O(),t(Qe),t(dt),t(ot),t(Ne);var _t=s(Ne,2);{var Yt=v=>{var l=Ha(),i=a(l),b=a(i),h=a(b);Ge(h,{size:28}),t(b);var p=s(b,2),u=s(a(p),2),S=a(u,!0);t(u);var f=s(u,2),x=a(f);Ma(x,{size:14});var C=s(x);t(f),t(p);var $=s(p,2);ye($,21,()=>e(M).growth_trend.slice(-6),xe,(he,W)=>{var le=qa();B(Z=>Fa(le,`height: ${Z??""}%`),[()=>e(W).new/Math.max(...e(M).growth_trend.map(Z=>Z.new))*100]),y(he,le)}),t($),t(i);var U=s(i,2),T=a(U),R=a(T);Ca(R,{size:28}),t(T);var F=s(T,2),o=s(a(F),2),g=a(o,!0);t(o);var P=s(o,2),c=a(P);Ta(c,{size:14});var k=s(c);t(P),t(F);var m=s(F,2),n=a(m),z=s(a(n));t(n);var E=s(n,2),q=a(E);t(E),t(m),t(U);var D=s(U,2),Q=a(D),ee=a(Q);Ea(ee,{size:28}),t(Q);var Ee=s(Q,2),J=s(a(Ee),2),be=a(J,!0);t(J);var Re=s(J,2),te=a(Re);Ra(te,{size:14});var Pe=s(te);t(Re),t(Ee),O(2),t(D);var Ue=s(D,2),K=a(Ue),ue=a(K);Pa(ue,{size:28}),t(K);var ae=s(K,2),pe=s(a(ae),2),me=a(pe);t(pe);var ze=s(pe,2),Ae=a(ze);Ye(Ae,{size:14});var je=s(Ae);t(ze),t(ae);var se=s(ae,2);se.__click=()=>Be("/admin/members/churned");var ve=s(a(se));kt(ve,{size:14}),t(se),t(Ue),t(l),B((he,W,le,Z,Ze)=>{d(S,he),d(C,` +${e(M).overview.new_this_month??""} this month`),d(g,W),d(k,` ${e(M).subscriptions.trial??""} in trial`),Le(z,"stroke-dasharray",`${e(M).subscriptions.active/e(M).overview.total_members*100} 100`),d(q,`${le??""}%`),d(be,Z),d(Pe,` ${Ze??""} avg LTV`),d(me,`${e(M).subscriptions.churn_rate??""}%`),d(je,` ${e(M).subscriptions.churned??""} churned`)},[()=>e(M).overview.total_members.toLocaleString(),()=>e(M).subscriptions.active.toLocaleString(),()=>Math.round(e(M).subscriptions.active/e(M).overview.total_members*100),()=>qe(e(M).revenue.mrr),()=>qe(e(M).revenue.avg_ltv)]),y(v,l)};L(_t,v=>{e(M)&&v(Yt)})}var bt=s(_t,2);{var ea=v=>{var l=Va(),i=s(a(l),2);ye(i,21,()=>e(M).top_services,xe,(b,h)=>{var p=Na();p.__click=()=>Be(`/admin/members/service/${e(h).id}`);var u=a(p),S=a(u);Ua(S,{size:20}),t(u);var f=s(u,2),x=a(f),C=a(x,!0);t(x);var $=s(x,2),U=a($,!0);t($),t(f);var T=s(f,2),R=a(T,!0);t(T),t(p),B(()=>{d(C,e(h).name),d(U,e(h).type),d(R,e(h).members_count)}),y(b,p)}),t(i),t(l),y(v,l)};L(bt,v=>{e(M)?.top_services&&e(M).top_services.length>0&&v(ea)})}var Je=s(bt,2),Ke=a(Je),ut=a(Ke);ya(ut,{size:18});var Te=s(ut,2);De(Te),Te.__input=Rt,Te.__keydown=v=>v.key==="Enter"&&lt(),t(Ke);var pt=s(Ke,2),Y=a(pt);let mt;Y.__click=()=>r(ne,!e(ne));var ta=a(Y);xa(ta,{size:18}),O(),t(Y);var zt=s(Y,2);{var aa=v=>{var l=Qa();l.__click=()=>r(N,!0);var i=a(l);wt(i,{size:18});var b=s(i);t(l),B(()=>d(b,` Email (${e(_).size??""})`)),y(v,l)};L(zt,v=>{e(_).size>0&&v(aa)})}var We=s(zt,2);We.__click=()=>Be("/admin/members/export");var sa=a(We);yt(sa,{size:18}),O(),t(We),t(pt),t(Je);var ht=s(Je,2);{var va=v=>{var l=Ka(),i=a(l),b=s(a(i),2);b.__change=()=>Pt(e(X));var h=a(b);h.value=h.__value="";var p=s(h);p.value=p.__value="active";var u=s(p);u.value=u.__value="trial";var S=s(u);S.value=S.__value="churned";var f=s(S);f.value=f.__value="never_subscribed",t(b),t(i);var x=s(i,2),C=s(a(x),2);C.__change=()=>Ut(e(ie));var $=a(C);$.value=$.__value="";var U=s($);ye(U,17,()=>e(Tt),xe,(m,n)=>{var z=Ja(),E=a(z,!0);t(z);var q={};B(()=>{d(E,e(n).name),q!==(q=e(n).id)&&(z.value=(z.__value=e(n).id)??"")}),y(m,z)}),t(C),t(x);var T=s(x,2),R=s(a(T),2);R.__change=()=>At(e(oe));var F=a(R);F.value=F.__value="";var o=s(F);o.value=o.__value="whale";var g=s(o);g.value=g.__value="high";var P=s(g);P.value=P.__value="medium";var c=s(P);c.value=c.__value="low",t(R),t(T);var k=s(T,2);k.__click=()=>{r(X,""),r(ie,""),r(oe,""),r(we,""),A.setFilters({status:void 0,product_id:void 0,spending_tier:void 0,search:void 0})},t(l),tt(b,()=>e(X),m=>r(X,m)),tt(C,()=>e(ie),m=>r(ie,m)),tt(R,()=>e(oe),m=>r(oe,m)),y(v,l)};L(ht,v=>{e(ne)&&v(va)})}var ft=s(ht,2),la=a(ft);{var ra=v=>{var l=Wa();y(v,l)},ia=v=>{var l=Aa(),i=Ie(l);{var b=p=>{var u=Za(),S=a(u);Ge(S,{size:64,stroke:1}),O(4),t(u),y(p,u)},h=p=>{var u=Ya(),S=Ie(u),f=a(S),x=a(f),C=a(x),$=a(C);De($),$.__change=Bt,t(C),O(6),t(x),t(f);var U=s(f);ye(U,21,()=>e(G),xe,(F,o)=>{var g=Ga();let P;var c=a(g),k=a(c);De(k),k.__change=()=>It(e(o).id),t(c);var m=s(c),n=a(m),z=a(n),E=a(z,!0);t(z);var q=s(z,2),D=a(q),Q=a(D,!0);t(D);var ee=s(D,2),Ee=a(ee,!0);t(ee),t(q),t(n),t(m);var J=s(m),be=a(J),Re=a(be,!0);t(be),t(J);var te=s(J),Pe=a(te),Ue=a(Pe,!0);t(Pe),t(te);var K=s(te),ue=a(K);let ae;var pe=a(ue,!0);t(ue),t(K);var me=s(K),ze=a(me),Ae=a(ze,!0);t(ze),t(me);var je=s(me),se=a(je),ve=a(se);ve.__click=()=>A.loadMember(e(o).id);var he=a(ve);kt(he,{size:16}),t(ve);var W=s(ve,2);W.__click=()=>{e(_).clear(),e(_).add(e(o).id),r(_,e(_),!0),r(N,!0)};var le=a(W);wt(le,{size:16}),t(W),t(se),t(je),t(g),B((Z,Ze,ca,_a,ba,ua)=>{P=ge(g,1,"svelte-b5zv64",null,P,Z),St(k,Ze),Le(k,"aria-label",`Select ${e(o).name??""}`),d(E,ca),d(Q,e(o).name),d(Ee,e(o).email),ge(be,1,`status-badge ${_a??""}`,"svelte-b5zv64"),d(Re,e(o).status_label),d(Ue,e(o).current_plan||"-"),ae=ge(ue,1,"spending svelte-b5zv64",null,ae,{whale:e(o).total_spent>=5e3,high:e(o).total_spent>=1e3&&e(o).total_spent<5e3}),d(pe,ba),d(Ae,ua)},[()=>({selected:e(_).has(e(o).id)}),()=>e(_).has(e(o).id),()=>Qt(e(o)),()=>Nt(e(o).status),()=>qe(e(o).total_spent),()=>Vt(e(o).joined_at)]),y(F,g)}),t(U),t(S);var T=s(S,2);{var R=F=>{var o=Xa(),g=a(o),P=a(g);t(g);var c=s(g,2),k=a(c);k.__click=()=>A.goToPage(e(j).current_page-1);var m=a(k);Ba(m,{size:18}),t(k);var n=s(k,2),z=a(n);t(n);var E=s(n,2);E.__click=()=>A.goToPage(e(j).current_page+1);var q=a(E);Da(q,{size:18}),t(E),t(c),t(o),B(D=>{d(P,`Showing ${(e(j).current_page-1)*e(j).per_page+1} to ${D??""} of ${e(j).total??""} members`),k.disabled=e(j).current_page===1,d(z,`Page ${e(j).current_page??""} of ${e(j).last_page??""}`),E.disabled=e(j).current_page===e(j).last_page},[()=>Math.min(e(j).current_page*e(j).per_page,e(j).total)]),y(F,o)};L(T,F=>{e(j)&&F(R)})}B(()=>St($,e(_).size===e(G).length&&e(G).length>0)),y(p,u)};L(i,p=>{e(G).length===0?p(b):p(h,!1)},!0)}y(v,l)};L(la,v=>{e(Et)?v(ra):v(ia,!1)})}t(ft),t(He);var gt=s(He,2);{var oa=v=>{var l=ts();l.__click=()=>r(N,!1),l.__keydown=c=>c.key==="Escape"&&r(N,!1);var i=a(l);i.__click=c=>c.stopPropagation(),i.__keydown=c=>c.stopPropagation();var b=a(i),h=a(b),p=a(h);t(h);var u=s(h,2);u.__click=()=>r(N,!1);var S=a(u);at(S,{size:20}),t(u),t(b);var f=s(b,2),x=a(f),C=s(a(x),2);ye(C,5,()=>Ft().presetTemplates,xe,(c,k)=>{var m=es();m.__click=()=>Lt(e(k));var n=a(m,!0);t(m),B(()=>d(n,e(k).name)),y(c,m)}),t(C),t(x);var $=s(x,2),U=s(a($),2);De(U),t($);var T=s($,2),R=s(a(T),2);ja(R),Le(R,"placeholder",`Email body... Use ${{name}} for personalization`),t(T),t(f);var F=s(f,2),o=a(F);o.__click=()=>r(N,!1);var g=s(o,2);g.__click=Dt;var P=a(g);Ia(P,{size:18}),O(),t(g),t(F),t(i),t(l),B(()=>{d(p,`Send Email to ${e(_).size??""} Member${e(_).size>1?"s":""}`),g.disabled=!e(de)||!e(ce)}),et(U,()=>e(de),c=>r(de,c)),et(R,()=>e(ce),c=>r(ce,c)),y(v,l)};L(gt,v=>{e(N)&&v(oa)})}var na=s(gt,2);{var da=v=>{var l=ls();l.__click=()=>r(V,!1),l.__keydown=n=>n.key==="Escape"&&r(V,!1);var i=a(l);i.__click=n=>n.stopPropagation(),i.__keydown=n=>n.stopPropagation();var b=a(i),h=s(a(b),2);h.__click=()=>r(V,!1);var p=a(h);at(p,{size:20}),t(h),t(b);var u=s(b,2),S=s(a(u),2),f=a(S);let x;var C=a(f);Xe(C,{size:32});var $=s(C,2);{var U=n=>{var z=as(),E=Ie(z),q=a(E,!0);t(E);var D=s(E,2),Q=a(D);t(D),B(ee=>{d(q,e(H).name),d(Q,`${ee??""} KB`)},[()=>(e(H).size/1024).toFixed(1)]),y(n,z)},T=n=>{var z=ss();O(2),y(n,z)};L($,n=>{e(H)?n(U):n(T,!1)})}t(f);var R=s(f,2);R.__change=qt,t(S);var F=s(S,2);{var o=n=>{var z=vs();z.__click=()=>r(H,null);var E=a(z);at(E,{size:16}),O(),t(z),y(n,z)};L(F,n=>{e(H)&&n(o)})}t(u);var g=s(u,2),P=a(g);P.__click=()=>r(V,!1);var c=s(P,2);c.__click=Ht;var k=a(c);Xe(k,{size:18});var m=s(k);t(c),t(g),t(i),t(l),B(()=>{x=ge(f,1,"upload-zone svelte-b5zv64",null,x,{"has-file":e(H)}),c.disabled=!e(H)||e(Se),d(m,` ${e(Se)?"Importing...":"Import Members"}`)}),y(v,l)};L(na,v=>{e(V)&&v(da)})}B(()=>{_e.disabled=e($e),d(Zt,` ${e($e)?"Exporting...":"Export"}`),mt=ge(Y,1,"filter-toggle svelte-b5zv64",null,mt,{active:e(ne)}),Le(Y,"aria-expanded",e(ne))}),et(Te,()=>e(we),v=>r(we,v)),y($t,rt),ka(),Ct()}pa(["click","input","keydown","change"]);export{cs as component};
