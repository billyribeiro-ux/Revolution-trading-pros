import{z as ns,p as ps,o as os,a3 as _s,f as m,a9 as xs,dG as ms,q as e,R as qs,e as s,i as N,w as T,h as x,j as us,c as g,aP as z,as as gs,at as hs,r as a,H as l,g as t,v as bs,d as ge,ba as fs,N as he,Q as be,aW as ys,l as I,aK as ws,be as Cs,aQ as $s,aH as ks,x as v,O as q,_ as M,aZ as zs,Z as Ps,P as Ds,al as fe}from"../chunks/C_QN0JMx.js";import{a as ye}from"../chunks/ByEkyPua.js";import{b as Ra}from"../chunks/BDmrMC8S.js";var Ss=m("<!> Warm Caches",1),Fs=m('<div class="skeleton skeleton-metric svelte-1a1rpqx"></div>'),As=m('<div class="loading-grid svelte-1a1rpqx"></div>'),Rs=m('<div class="empty-state svelte-1a1rpqx"><!> <h3 class="svelte-1a1rpqx">All Good!</h3> <p class="svelte-1a1rpqx">No immediate optimizations recommended</p></div>'),Ls=m('<div class="rec-implementation svelte-1a1rpqx"><strong class="svelte-1a1rpqx">How to fix:</strong> </div>'),Ws=m('<div class="recommendation-card svelte-1a1rpqx"><div> </div> <div class="rec-content svelte-1a1rpqx"><div class="rec-header svelte-1a1rpqx"><h4 class="svelte-1a1rpqx"> </h4> <span class="rec-category svelte-1a1rpqx"> </span></div> <p class="rec-description svelte-1a1rpqx"> </p> <div class="rec-details svelte-1a1rpqx"><div class="rec-impact svelte-1a1rpqx"><strong class="svelte-1a1rpqx">Impact:</strong> </div> <!></div></div></div>'),Gs=m('<div class="recommendations-list svelte-1a1rpqx"></div>'),Ns=m(`<div class="section svelte-1a1rpqx"><h2 class="section-title svelte-1a1rpqx"><!> Core Web Vitals</h2> <p class="section-description svelte-1a1rpqx">Google's metrics for user experience. Aim for "Good" on all metrics to boost search rankings.</p> <div class="vitals-grid svelte-1a1rpqx"><div class="vital-card svelte-1a1rpqx"><div class="vital-header svelte-1a1rpqx"><span class="vital-name svelte-1a1rpqx">LCP</span> <span class="vital-label svelte-1a1rpqx">Largest Contentful Paint</span></div> <div class="vital-value svelte-1a1rpqx"> </div> <div><!> </div> <div class="vital-target svelte-1a1rpqx">Target: &lt; 2.5s</div></div> <div class="vital-card svelte-1a1rpqx"><div class="vital-header svelte-1a1rpqx"><span class="vital-name svelte-1a1rpqx">FID</span> <span class="vital-label svelte-1a1rpqx">First Input Delay</span></div> <div class="vital-value svelte-1a1rpqx"> </div> <div><!> </div> <div class="vital-target svelte-1a1rpqx">Target: &lt; 100ms</div></div> <div class="vital-card svelte-1a1rpqx"><div class="vital-header svelte-1a1rpqx"><span class="vital-name svelte-1a1rpqx">CLS</span> <span class="vital-label svelte-1a1rpqx">Cumulative Layout Shift</span></div> <div class="vital-value svelte-1a1rpqx"> </div> <div><!> </div> <div class="vital-target svelte-1a1rpqx">Target: &lt; 0.1</div></div> <div class="vital-card svelte-1a1rpqx"><div class="vital-header svelte-1a1rpqx"><span class="vital-name svelte-1a1rpqx">INP</span> <span class="vital-label svelte-1a1rpqx">Interaction to Next Paint</span></div> <div class="vital-value svelte-1a1rpqx"> </div> <div><!> </div> <div class="vital-target svelte-1a1rpqx">Target: &lt; 200ms</div></div></div></div> <div class="metrics-grid svelte-1a1rpqx"><div class="metric-card svelte-1a1rpqx"><div class="metric-header svelte-1a1rpqx"><div class="metric-icon server svelte-1a1rpqx"><!></div> <h3 class="svelte-1a1rpqx">Server</h3></div> <div class="metric-content svelte-1a1rpqx"><div class="metric-row svelte-1a1rpqx"><span class="svelte-1a1rpqx">CPU Usage</span> <div class="metric-bar-container svelte-1a1rpqx"><div></div></div> <span class="metric-value svelte-1a1rpqx"> </span></div> <div class="metric-row svelte-1a1rpqx"><span class="svelte-1a1rpqx">Memory</span> <div class="metric-bar-container svelte-1a1rpqx"><div></div></div> <span class="metric-value svelte-1a1rpqx"> </span></div> <div class="metric-row svelte-1a1rpqx"><span class="svelte-1a1rpqx">Disk</span> <div class="metric-bar-container svelte-1a1rpqx"><div></div></div> <span class="metric-value svelte-1a1rpqx"> </span></div> <div class="metric-row svelte-1a1rpqx"><span class="svelte-1a1rpqx">Uptime</span> <span class="metric-value svelte-1a1rpqx"> </span></div></div></div> <div class="metric-card svelte-1a1rpqx"><div class="metric-header svelte-1a1rpqx"><div class="metric-icon database svelte-1a1rpqx"><!></div> <h3 class="svelte-1a1rpqx">Database</h3></div> <div class="metric-content svelte-1a1rpqx"><div class="metric-stat svelte-1a1rpqx"><span class="stat-value svelte-1a1rpqx"> </span> <span class="stat-label svelte-1a1rpqx">Total Queries</span></div> <div class="metric-stat svelte-1a1rpqx"><span class="stat-value svelte-1a1rpqx"> </span> <span class="stat-label svelte-1a1rpqx">Slow Queries</span></div> <div class="metric-stat svelte-1a1rpqx"><span class="stat-value svelte-1a1rpqx"> </span> <span class="stat-label svelte-1a1rpqx">Connection Pool</span></div> <div class="metric-stat svelte-1a1rpqx"><span class="stat-value svelte-1a1rpqx"> </span> <span class="stat-label svelte-1a1rpqx">Avg Query Time</span></div></div></div> <div class="metric-card svelte-1a1rpqx"><div class="metric-header svelte-1a1rpqx"><div class="metric-icon cache svelte-1a1rpqx"><!></div> <h3 class="svelte-1a1rpqx">Cache</h3></div> <div class="metric-content svelte-1a1rpqx"><div class="metric-row svelte-1a1rpqx"><span class="svelte-1a1rpqx">Hit Rate</span> <div class="metric-bar-container svelte-1a1rpqx"><div class="metric-bar success svelte-1a1rpqx"></div></div> <span class="metric-value svelte-1a1rpqx"> </span></div> <div class="metric-stat svelte-1a1rpqx"><span class="stat-value svelte-1a1rpqx"> </span> <span class="stat-label svelte-1a1rpqx">Memory Used</span></div> <div class="metric-stat svelte-1a1rpqx"><span class="stat-value svelte-1a1rpqx"> </span> <span class="stat-label svelte-1a1rpqx">Cached Keys</span></div> <div class="metric-stat svelte-1a1rpqx"><span class="stat-value svelte-1a1rpqx"> </span> <span class="stat-label svelte-1a1rpqx">Evictions</span></div></div></div></div> <div class="section svelte-1a1rpqx"><h2 class="section-title svelte-1a1rpqx"><!> Optimization Recommendations</h2> <!></div>`,1),Ts=m('<div class="performance-page svelte-1a1rpqx"><div class="page-header svelte-1a1rpqx"><div class="header-content svelte-1a1rpqx"><div class="header-title svelte-1a1rpqx"><div class="title-icon svelte-1a1rpqx"><!></div> <div class="svelte-1a1rpqx"><h1 class="svelte-1a1rpqx">Performance Dashboard</h1> <p class="subtitle svelte-1a1rpqx">Monitor and optimize your website performance</p></div></div> <div class="header-actions svelte-1a1rpqx"><button class="btn-secondary svelte-1a1rpqx"><!> Refresh</button> <button class="btn-primary svelte-1a1rpqx"><!></button></div></div></div> <!></div>');function Hs(we,Ce){ps(Ce,!1);let Q=z(!0),i=z(null),d=z(null),H=z([]),P=z(!1);os(async()=>{await U()});async function U(){g(Q,!0);try{const[r,p]=await Promise.all([Ra.getPerformanceDashboard().catch(()=>null),Ra.getRecommendations().catch(()=>({recommendations:[],cdn:null,core_web_vitals:null}))]);g(i,r),g(H,p.recommendations||[]),g(d,r?.core_web_vitals||null)}catch{}finally{g(Q,!1)}}async function $e(){g(P,!0);try{const r=await Ra.warmCaches();ye.success(`Caches warmed! Views: ${r.views}, Routes: ${r.routes}, Configs: ${r.configs}`),await U()}catch(r){ye.error(r.message||"Failed to warm caches")}finally{g(P,!1)}}function o(r){switch(r){case"good":return{color:"emerald",icon:fe,label:"Good"};case"needs_improvement":return{color:"yellow",icon:Ds,label:"Needs Work"};case"poor":return{color:"red",icon:Ps,label:"Poor"};default:return{color:"slate",icon:zs,label:"N/A"}}}function D(r){return r?r<1e3?`${r.toFixed(0)}ms`:`${(r/1e3).toFixed(2)}s`:"-"}function S(r){return r===void 0?"-":`${r.toFixed(1)}%`}function ke(r){switch(r){case"critical":return"red";case"high":return"orange";case"medium":return"yellow";default:return"slate"}}_s();var V=Ts();xs("1a1rpqx",r=>{gs(()=>{hs.title="Performance Dashboard | Admin"})});var K=e(V),La=e(K),O=e(La),Wa=e(O),ze=e(Wa);ms(ze,{size:28}),a(Wa),l(2),a(O);var Ga=s(O,2),F=e(Ga);F.__click=U;var Pe=e(F);qs(Pe,{size:18}),l(),a(F);var A=s(F,2);A.__click=$e;var De=e(A);{var Se=r=>{var p=bs("Warming...");x(r,p)},Fe=r=>{var p=Ss(),u=ge(p);fs(u,{size:18}),l(),x(r,p)};N(De,r=>{t(P)?r(Se):r(Fe,!1)})}a(A),a(Ga),a(La),a(K);var Ae=s(K,2);{var Re=r=>{var p=As();he(p,4,()=>[1,2,3,4],be,(u,R)=>{var Z=Fs();x(u,Z)}),a(p),x(r,p)},Le=r=>{var p=Ns(),u=ge(p),R=e(u),Z=e(R);ys(Z,{size:20}),l(),a(R);var Na=s(R,4),j=e(Na),B=s(e(j),2),We=e(B,!0);a(B);var E=s(B,2),Ta=e(E);I(Ta,()=>o(t(d)?.lcp_rating).icon,(n,c)=>{c(n,{size:16})});var Ge=s(Ta);a(E),l(2),a(j);var X=s(j,2),J=s(e(X),2),Ne=e(J,!0);a(J);var Y=s(J,2),Ia=e(Y);I(Ia,()=>o(t(d)?.fid_rating).icon,(n,c)=>{c(n,{size:16})});var Te=s(Ia);a(Y),l(2),a(X);var aa=s(X,2),ea=s(e(aa),2),Ie=e(ea,!0);a(ea);var sa=s(ea,2),Ma=e(sa);I(Ma,()=>o(t(d)?.cls_rating).icon,(n,c)=>{c(n,{size:16})});var Me=s(Ma);a(sa),l(2),a(aa);var Qa=s(aa,2),ta=s(e(Qa),2),Qe=e(ta,!0);a(ta);var ra=s(ta,2),Ha=e(ra);I(Ha,()=>o(t(d)?.inp_rating).icon,(n,c)=>{c(n,{size:16})});var He=s(Ha);a(ra),l(2),a(Qa),a(Na),a(u);var va=s(u,2),ia=e(va),la=e(ia),Ua=e(la),Ue=e(Ua);ws(Ue,{size:24}),a(Ua),l(2),a(la);var Va=s(la,2),da=e(Va),ca=s(e(da),2),Ka=e(ca);let Oa;a(ca);var Za=s(ca,2),Ve=e(Za,!0);a(Za),a(da);var na=s(da,2),pa=s(e(na),2),ja=e(pa);let Ba;a(pa);var Ea=s(pa,2),Ke=e(Ea,!0);a(Ea),a(na);var oa=s(na,2),_a=s(e(oa),2),Xa=e(_a);let Ja;a(_a);var Ya=s(_a,2),Oe=e(Ya,!0);a(Ya),a(oa);var ae=s(oa,2),ee=s(e(ae),2),Ze=e(ee,!0);a(ee),a(ae),a(Va),a(ia);var xa=s(ia,2),ma=e(xa),se=e(ma),je=e(se);Cs(je,{size:24}),a(se),l(2),a(ma);var te=s(ma,2),qa=e(te),re=e(qa),Be=e(re,!0);a(re),l(2),a(qa);var ua=s(qa,2),ve=e(ua),Ee=e(ve,!0);a(ve),l(2),a(ua);var ga=s(ua,2),ie=e(ga),Xe=e(ie,!0);a(ie),l(2),a(ga);var le=s(ga,2),de=e(le),Je=e(de,!0);a(de),l(2),a(le),a(te),a(xa);var ce=s(xa,2),ha=e(ce),ne=e(ha),Ye=e(ne);$s(Ye,{size:24}),a(ne),l(2),a(ha);var pe=s(ha,2),ba=e(pe),fa=s(e(ba),2),as=e(fa);a(fa);var oe=s(fa,2),es=e(oe,!0);a(oe),a(ba);var ya=s(ba,2),_e=e(ya),ss=e(_e,!0);a(_e),l(2),a(ya);var wa=s(ya,2),xe=e(wa),ts=e(xe,!0);a(xe),l(2),a(wa);var me=s(wa,2),qe=e(me),rs=e(qe,!0);a(qe),l(2),a(me),a(pe),a(ce),a(va);var ue=s(va,2),Ca=e(ue),vs=e(Ca);ks(vs,{size:20}),l(),a(Ca);var is=s(Ca,2);{var ls=n=>{var c=Rs(),b=e(c);fe(b,{size:48,stroke:1}),l(4),a(c),x(n,c)},ds=n=>{var c=Gs();he(c,5,()=>t(H),be,(b,_)=>{var f=Ws(),h=e(f),$a=e(h,!0);a(h);var L=s(h,2),y=e(L),w=e(y),ka=e(w,!0);a(w);var W=s(w,2),za=e(W,!0);a(W),a(y);var C=s(y,2),Pa=e(C,!0);a(C);var G=s(C,2),$=e(G),Da=s(e($));a($);var Sa=s($,2);{var Fa=k=>{var Aa=Ls(),cs=s(e(Aa));a(Aa),T(()=>v(cs,` ${t(_).implementation??""}`)),x(k,Aa)};N(Sa,k=>{t(_).implementation&&k(Fa)})}a(G),a(L),a(f),T(k=>{q(h,1,`rec-priority ${k??""}`,"svelte-1a1rpqx"),v($a,t(_).priority),v(ka,t(_).title),v(za,t(_).category),v(Pa,t(_).description),v(Da,` ${t(_).impact??""}`)},[()=>ke(t(_).priority)]),x(b,f)}),a(c),x(n,c)};N(is,n=>{t(H).length===0?n(ls):n(ds,!1)})}a(ue),T((n,c,b,_,f,h,$a,L,y,w,ka,W,za,C,Pa,G,$,Da,Sa,Fa)=>{v(We,n),q(E,1,`vital-rating ${c??""}`,"svelte-1a1rpqx"),v(Ge,` ${b??""}`),v(Ne,_),q(Y,1,`vital-rating ${f??""}`,"svelte-1a1rpqx"),v(Te,` ${h??""}`),v(Ie,$a),q(sa,1,`vital-rating ${L??""}`,"svelte-1a1rpqx"),v(Me,` ${y??""}`),v(Qe,w),q(ra,1,`vital-rating ${ka??""}`,"svelte-1a1rpqx"),v(He,` ${W??""}`),Oa=q(Ka,1,"metric-bar svelte-1a1rpqx",null,Oa,{warning:(t(i)?.server?.cpu_usage||0)>70,danger:(t(i)?.server?.cpu_usage||0)>90}),M(Ka,`width: ${(t(i)?.server?.cpu_usage||0)??""}%`),v(Ve,za),Ba=q(ja,1,"metric-bar svelte-1a1rpqx",null,Ba,{warning:(t(i)?.server?.memory_usage||0)>70,danger:(t(i)?.server?.memory_usage||0)>90}),M(ja,`width: ${(t(i)?.server?.memory_usage||0)??""}%`),v(Ke,C),Ja=q(Xa,1,"metric-bar svelte-1a1rpqx",null,Ja,{warning:(t(i)?.server?.disk_usage||0)>70,danger:(t(i)?.server?.disk_usage||0)>90}),M(Xa,`width: ${(t(i)?.server?.disk_usage||0)??""}%`),v(Oe,Pa),v(Ze,t(i)?.server?.uptime||"-"),v(Be,G),v(Ee,t(i)?.database?.slow_queries||0),v(Xe,t(i)?.database?.connection_pool||0),v(Je,$),M(as,`width: ${(t(i)?.cache?.hit_rate||0)??""}%`),v(es,Da),v(ss,t(i)?.cache?.memory_used||"-"),v(ts,Sa),v(rs,Fa)},[()=>D(t(d)?.lcp),()=>o(t(d)?.lcp_rating).color,()=>o(t(d)?.lcp_rating).label,()=>D(t(d)?.fid),()=>o(t(d)?.fid_rating).color,()=>o(t(d)?.fid_rating).label,()=>t(d)?.cls?.toFixed(3)||"-",()=>o(t(d)?.cls_rating).color,()=>o(t(d)?.cls_rating).label,()=>D(t(d)?.inp),()=>o(t(d)?.inp_rating).color,()=>o(t(d)?.inp_rating).label,()=>S(t(i)?.server?.cpu_usage),()=>S(t(i)?.server?.memory_usage),()=>S(t(i)?.server?.disk_usage),()=>t(i)?.database?.query_count?.toLocaleString()||0,()=>D(t(i)?.database?.avg_query_time),()=>S(t(i)?.cache?.hit_rate),()=>t(i)?.cache?.keys_count?.toLocaleString()||0,()=>t(i)?.cache?.evictions?.toLocaleString()||0]),x(r,p)};N(Ae,r=>{t(Q)?r(Re):r(Le,!1)})}a(V),T(()=>A.disabled=t(P)),x(we,V),us()}ns(["click"]);export{Hs as component};
