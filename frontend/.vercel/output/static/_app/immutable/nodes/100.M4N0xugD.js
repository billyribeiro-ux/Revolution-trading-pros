import{p as v,o as A,b as f,a9 as M,j as z,as as k,at as R}from"../chunks/C_QN0JMx.js";import"../chunks/D3S43Cfl.js";function S($,m){v(m,!0),Intl.DateTimeFormat().resolvedOptions().timeZone;let o=[],c=[],g=[],i=[],p=[],r=[];A(async()=>{await y(),h()});async function y(){try{const[t,e,n,l,d,u]=await Promise.allSettled([fetch("/api/admin/organization/departments"),fetch("/api/admin/organization/teams"),fetch("/api/admin/users?role=manager&limit=50"),fetch("/api/admin/organization/locations"),fetch("/api/admin/organization/training-modules"),fetch("/api/admin/organization/onboarding-plans")]);if(t.status==="fulfilled"&&t.value.ok){const a=await t.value.json();o=Array.isArray(a)?a:a.data||[]}if(o.length===0&&(o=[{id:"general",name:"General"}]),e.status==="fulfilled"&&e.value.ok){const a=await e.value.json();c=Array.isArray(a)?a:a.data||[]}if(n.status==="fulfilled"&&n.value.ok){const a=await n.value.json();g=Array.isArray(a)?a:a.data||[]}if(l.status==="fulfilled"&&l.value.ok){const a=await l.value.json();i=Array.isArray(a)?a:a.data||[]}if(i.length===0&&(i=[{id:"remote",name:"Remote",timezone:"UTC"}]),d.status==="fulfilled"&&d.value.ok){const a=await d.value.json();p=Array.isArray(a)?a:a.data||[]}if(u.status==="fulfilled"&&u.value.ok){const a=await u.value.json();r=Array.isArray(a)?a:a.data||[]}r.length===0&&(r=[{id:"standard",name:"Standard Onboarding",duration:5}])}catch{o=[{id:"general",name:"General"}],i=[{id:"remote",name:"Remote",timezone:"UTC"}],r=[{id:"standard",name:"Standard Onboarding",duration:5}]}}function h(){const t=D(),e=new Date(t);e.setMonth(e.getMonth()+3),s(t),s(e);const n=new Date;n.setDate(n.getDate()+90),s(n),w()}function w(){const e=new Date().getFullYear(),n=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`EMP${e}${n}`}function s(t){return t.toISOString().split("T")[0]}function D(){const t=new Date,e=t.getDay(),n=t.getDate()-e+(e===0?-6:1)+7;return new Date(t.setDate(n))}f(()=>{}),f(()=>{}),f(()=>{}),M("17pbehi",t=>{k(()=>{R.title="Create User | Enterprise Admin"})}),z()}export{S as component};
