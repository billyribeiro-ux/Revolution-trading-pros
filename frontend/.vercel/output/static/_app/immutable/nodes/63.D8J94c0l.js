import{z as ns,p as _s,s as C,A as na,o as us,f as c,a9 as ms,d as J,i as m,h as r,j as bs,E as ps,aN as js,e as s,c as v,g as t,n as ut,at as fs,q as a,r as e,B as gs,aa as hs,k as ke,Z as _a,bH as mt,bI as bt,aF as pt,w as Q,x as o,bJ as ua,bM as ma,H as n,N as Ce,O as te,al as Ia,Q as Me,P as jt,R as ft,F as ys,aM as xs,bD as La,M as Ue,d5 as ba,az as pa,by as ks,aH as ws,aQ as Ra,K as gt,v as zs,bU as Ss,l as Ns,c2 as Es,bC as As,bA as Ts,aR as Cs,aZ as Ms,bV as Ps}from"../chunks/C_QN0JMx.js";import{m as ht}from"../chunks/B9ryIA8i.js";import{a as Pe}from"../chunks/ByEkyPua.js";var Ds=c('<div class="loading-container svelte-1ac49jo"><div class="skeleton-header svelte-1ac49jo"><div class="skeleton skeleton-avatar svelte-1ac49jo"></div> <div class="skeleton-info svelte-1ac49jo"><div class="skeleton skeleton-title svelte-1ac49jo"></div> <div class="skeleton skeleton-subtitle svelte-1ac49jo"></div></div></div> <div class="skeleton-grid svelte-1ac49jo"><div class="skeleton skeleton-card svelte-1ac49jo"></div> <div class="skeleton skeleton-card svelte-1ac49jo"></div> <div class="skeleton skeleton-card svelte-1ac49jo"></div> <div class="skeleton skeleton-card svelte-1ac49jo"></div></div></div>'),Fs=c('<div class="error-state svelte-1ac49jo"><!> <h2 class="svelte-1ac49jo">Failed to load member</h2> <p class="svelte-1ac49jo"> </p> <button class="btn-primary svelte-1ac49jo"><!> Retry</button></div>'),Os=c('<img class="svelte-1ac49jo"/>'),Hs=c('<span class="tag svelte-1ac49jo"> <button class="tag-remove svelte-1ac49jo"><!></button></span>'),Us=c('<div class="empty-timeline svelte-1ac49jo"><!> <p class="svelte-1ac49jo">No activity recorded yet</p></div>'),Is=c('<div class="timeline-item svelte-1ac49jo"><div class="timeline-icon svelte-1ac49jo"><!></div> <div class="timeline-content svelte-1ac49jo"><div class="timeline-title svelte-1ac49jo"> </div> <div class="timeline-date svelte-1ac49jo"> </div></div></div>'),Ls=c('<div class="overview-grid svelte-1ac49jo"><div class="panel timeline-panel svelte-1ac49jo"><div class="panel-header svelte-1ac49jo"><h3 class="svelte-1ac49jo">Activity Timeline</h3> <button class="btn-icon svelte-1ac49jo"><!></button></div> <div class="timeline svelte-1ac49jo"><!></div></div> <div class="panel details-panel svelte-1ac49jo"><div class="panel-header svelte-1ac49jo"><h3 class="svelte-1ac49jo">Member Details</h3> <button class="btn-icon svelte-1ac49jo"><!></button></div> <div class="details-list svelte-1ac49jo"><div class="detail-row svelte-1ac49jo"><span class="detail-label svelte-1ac49jo">Full Name</span> <span class="detail-value svelte-1ac49jo"> </span></div> <div class="detail-row svelte-1ac49jo"><span class="detail-label svelte-1ac49jo">Email</span> <span class="detail-value svelte-1ac49jo"> <!></span></div> <div class="detail-row svelte-1ac49jo"><span class="detail-label svelte-1ac49jo">Current Plan</span> <span class="detail-value svelte-1ac49jo"> </span></div> <div class="detail-row svelte-1ac49jo"><span class="detail-label svelte-1ac49jo">Last Login</span> <span class="detail-value svelte-1ac49jo"> </span></div> <div class="detail-row svelte-1ac49jo"><span class="detail-label svelte-1ac49jo">Total Orders</span> <span class="detail-value svelte-1ac49jo"> </span></div></div></div></div>'),Rs=c('<div class="empty-state svelte-1ac49jo"><!> <h4 class="svelte-1ac49jo">No Subscriptions</h4> <p class="svelte-1ac49jo">This member has no subscription history</p></div>'),Bs=c('<div class="subscription-card svelte-1ac49jo"><div class="subscription-header svelte-1ac49jo"><div class="subscription-product svelte-1ac49jo"><h4 class="svelte-1ac49jo"> </h4> <span class="subscription-plan svelte-1ac49jo"> </span></div> <span> </span></div> <div class="subscription-details svelte-1ac49jo"><div class="subscription-detail svelte-1ac49jo"><span class="label svelte-1ac49jo">Price</span> <span class="value svelte-1ac49jo"> </span></div> <div class="subscription-detail svelte-1ac49jo"><span class="label svelte-1ac49jo">Started</span> <span class="value svelte-1ac49jo"> </span></div> <div class="subscription-detail svelte-1ac49jo"><span class="label svelte-1ac49jo">Next Payment</span> <span class="value svelte-1ac49jo"> </span></div> <div class="subscription-detail svelte-1ac49jo"><span class="label svelte-1ac49jo">Total Paid</span> <span class="value svelte-1ac49jo"> </span></div></div></div>'),Vs=c('<div class="subscriptions-list svelte-1ac49jo"></div>'),Js=c('<div class="panel svelte-1ac49jo"><div class="panel-header svelte-1ac49jo"><h3 class="svelte-1ac49jo">Subscription History</h3></div> <!></div>'),Qs=c('<div class="empty-state svelte-1ac49jo"><!> <h4 class="svelte-1ac49jo">No Orders</h4> <p class="svelte-1ac49jo">This member has no order history</p></div>'),Zs=c('<tr class="svelte-1ac49jo"><td class="order-number svelte-1ac49jo"> </td><td class="svelte-1ac49jo"> </td><td class="svelte-1ac49jo"><span> </span></td><td class="order-total svelte-1ac49jo"> </td><td class="svelte-1ac49jo"><button class="btn-icon small svelte-1ac49jo"><!></button></td></tr>'),qs=c('<table class="orders-table svelte-1ac49jo"><thead class="svelte-1ac49jo"><tr class="svelte-1ac49jo"><th class="svelte-1ac49jo">Order #</th><th class="svelte-1ac49jo">Date</th><th class="svelte-1ac49jo">Status</th><th class="svelte-1ac49jo">Total</th><th class="svelte-1ac49jo">Actions</th></tr></thead><tbody class="svelte-1ac49jo"></tbody></table>'),Ks=c('<div class="panel svelte-1ac49jo"><div class="panel-header svelte-1ac49jo"><h3 class="svelte-1ac49jo">Order History</h3> <button class="btn-secondary small svelte-1ac49jo"><!> Export</button></div> <!></div>'),Xs=c('<div class="empty-state svelte-1ac49jo"><!> <h4 class="svelte-1ac49jo">No Emails Sent</h4> <p class="svelte-1ac49jo">No emails have been sent to this member yet</p></div>'),Gs=c("<!> Opened",1),Ws=c("<!> Clicked",1),Ys=c("<!> Bounced",1),$s=c("<!> Sent",1),el=c('<div class="email-item svelte-1ac49jo"><div><!></div> <div class="email-content svelte-1ac49jo"><div class="email-subject svelte-1ac49jo"> </div> <div class="email-meta svelte-1ac49jo"><span class="email-campaign svelte-1ac49jo"> </span> <span class="email-date svelte-1ac49jo"> </span></div></div> <div><!></div></div>'),al=c('<div class="email-list svelte-1ac49jo"></div>'),tl=c('<div class="panel svelte-1ac49jo"><div class="panel-header svelte-1ac49jo"><h3 class="svelte-1ac49jo">Email History</h3> <button class="btn-primary small svelte-1ac49jo"><!> Send Email</button></div> <!></div>'),sl=c('<div class="empty-state svelte-1ac49jo"><!> <h4 class="svelte-1ac49jo">No Notes</h4> <p class="svelte-1ac49jo">Add internal notes about this member</p></div>'),ll=c('<div class="note-item svelte-1ac49jo"><div class="note-content svelte-1ac49jo"> </div> <div class="note-meta svelte-1ac49jo"><span class="note-author svelte-1ac49jo"> </span> <span class="note-date svelte-1ac49jo"> </span></div> <button class="note-delete svelte-1ac49jo"><!></button></div>'),vl=c('<div class="notes-list svelte-1ac49jo"></div>'),rl=c('<div class="panel svelte-1ac49jo"><div class="panel-header svelte-1ac49jo"><h3 class="svelte-1ac49jo">Internal Notes</h3> <button class="btn-primary small svelte-1ac49jo"><!> Add Note</button></div> <!></div>'),ol=c('<div class="page-header svelte-1ac49jo"><button class="back-btn svelte-1ac49jo"><!> Back to Members</button> <div class="header-content svelte-1ac49jo"><div class="member-profile svelte-1ac49jo"><div class="member-avatar large svelte-1ac49jo"><!></div> <div class="member-info svelte-1ac49jo"><div class="member-name-row svelte-1ac49jo"><h1 class="svelte-1ac49jo"> </h1> <span> </span></div> <p class="member-email svelte-1ac49jo"> </p> <div class="member-tags svelte-1ac49jo"><!> <button class="tag-add svelte-1ac49jo"><!> Add Tag</button></div></div></div> <div class="header-actions svelte-1ac49jo"><button class="btn-secondary svelte-1ac49jo"><!> Add Note</button> <button class="btn-primary svelte-1ac49jo"><!> Send Email</button></div></div></div> <div class="stats-grid svelte-1ac49jo"><div class="stat-card svelte-1ac49jo"><div class="stat-icon purple svelte-1ac49jo"><!></div> <div class="stat-content svelte-1ac49jo"><div class="stat-value svelte-1ac49jo"> </div> <div class="stat-label svelte-1ac49jo">Lifetime Value</div></div></div> <div class="stat-card svelte-1ac49jo"><div class="stat-icon emerald svelte-1ac49jo"><!></div> <div class="stat-content svelte-1ac49jo"><div class="stat-value svelte-1ac49jo"> </div> <div class="stat-label svelte-1ac49jo">Active Subscriptions</div></div></div> <div class="stat-card svelte-1ac49jo"><div class="stat-icon blue svelte-1ac49jo"><!></div> <div class="stat-content svelte-1ac49jo"><div class="stat-value svelte-1ac49jo"> </div> <div class="stat-label svelte-1ac49jo">Member Since</div></div></div> <div class="stat-card svelte-1ac49jo"><div><!></div> <div class="stat-content svelte-1ac49jo"><div class="stat-value svelte-1ac49jo"> </div> <div> </div></div></div></div> <div class="tabs-container svelte-1ac49jo"><div class="tabs svelte-1ac49jo"><button><!> Overview</button> <button><!> Subscriptions</button> <button><!> Orders</button> <button><!> Emails</button> <button><!> Notes</button></div></div> <div class="tab-content svelte-1ac49jo"><!></div>',1),il=c('<div class="modal-overlay svelte-1ac49jo" role="dialog" tabindex="-1" aria-modal="true"><div class="modal-content svelte-1ac49jo" role="document"><div class="modal-header svelte-1ac49jo"><h2 class="svelte-1ac49jo"> </h2> <button class="close-btn svelte-1ac49jo"><!></button></div> <div class="modal-body svelte-1ac49jo"><div class="form-group svelte-1ac49jo"><label for="email-subject-detail" class="svelte-1ac49jo">Subject</label> <input id="email-subject-detail" type="text" placeholder="Email subject..." class="svelte-1ac49jo"/></div> <div class="form-group svelte-1ac49jo"><label for="email-body-detail" class="svelte-1ac49jo">Body</label> <textarea id="email-body-detail" rows="10" placeholder="Email body..." class="svelte-1ac49jo"></textarea></div></div> <div class="modal-footer svelte-1ac49jo"><button class="btn-secondary svelte-1ac49jo">Cancel</button> <button class="btn-primary svelte-1ac49jo"><!> </button></div></div></div>'),cl=c('<div class="modal-overlay svelte-1ac49jo" role="dialog" tabindex="-1" aria-modal="true"><div class="modal-content svelte-1ac49jo" role="document"><div class="modal-header svelte-1ac49jo"><h2 class="svelte-1ac49jo">Add Note</h2> <button class="close-btn svelte-1ac49jo"><!></button></div> <div class="modal-body svelte-1ac49jo"><div class="form-group svelte-1ac49jo"><label for="note-content" class="svelte-1ac49jo">Note</label> <textarea id="note-content" rows="5" placeholder="Add internal note about this member..." class="svelte-1ac49jo"></textarea></div></div> <div class="modal-footer svelte-1ac49jo"><button class="btn-secondary svelte-1ac49jo">Cancel</button> <button class="btn-primary svelte-1ac49jo"><!> Add Note</button></div></div></div>'),dl=c("<button><!> </button>"),nl=c('<div class="modal-overlay svelte-1ac49jo" role="dialog" tabindex="-1" aria-modal="true"><div class="modal-content svelte-1ac49jo" role="document"><div class="modal-header svelte-1ac49jo"><h2 class="svelte-1ac49jo">Manage Tags</h2> <button class="close-btn svelte-1ac49jo"><!></button></div> <div class="modal-body svelte-1ac49jo"><div class="available-tags svelte-1ac49jo"><span class="tags-label svelte-1ac49jo">Available Tags</span> <div class="tags-grid svelte-1ac49jo"></div></div> <div class="custom-tag svelte-1ac49jo"><span class="tags-label svelte-1ac49jo">Custom Tag</span> <div class="custom-tag-input svelte-1ac49jo"><input type="text" placeholder="Enter custom tag..." class="svelte-1ac49jo"/> <button class="btn-primary small svelte-1ac49jo">Add</button></div></div></div> <div class="modal-footer svelte-1ac49jo"><button class="btn-primary svelte-1ac49jo">Done</button></div></div></div>'),_l=c('<div class="member-detail-page svelte-1ac49jo"><!></div> <!> <!> <!>',1);function pl(yt,xt){_s(xt,!0);const kt=()=>gs(hs,"$page",wt),[wt,zt]=ps();let Ie=ut(()=>Number(kt().params.id)),i=C(null),ja=C(na([])),Le=C(0),fa=C(!0),aa=C(null),we=C(!1),fe=C(!1),De=C(!1),Ee=C(""),Fe=C(""),ta=C(!1),ge=C(na([])),ze=C(""),K=C(na([])),Ae=C(""),St=["VIP","High Value","At Risk","New","Engaged","Support Priority"],H=C("overview"),Re=C(na([]));us(async()=>{await ga()});async function ga(){v(fa,!0),v(aa,null);try{const l=await ht.getMember(t(Ie));v(i,l.member,!0),v(ja,l.timeline||[],!0),v(Le,l.engagement_score||0,!0),v(K,t(i)?.tags||[],!0),await Nt(),await Ba()}catch{v(aa,"Failed to load member details")}finally{v(fa,!1)}}async function Nt(){try{const l=await fetch(`/api/admin/members/${t(Ie)}/notes`);if(l.ok){const d=await l.json();v(ge,Array.isArray(d)?d:[],!0)}else v(ge,[],!0)}catch{v(ge,[],!0)}}async function Ba(){try{const l=await fetch(`/api/admin/members/${t(Ie)}/emails`);if(l.ok){const d=await l.json();v(Re,Array.isArray(d)?d:[],!0)}else v(Re,[],!0)}catch{v(Re,[],!0)}}async function Et(){if(!(!t(Ee)||!t(Fe))){v(ta,!0),t(Ee);try{await ht.sendEmail(t(Ie),{subject:t(Ee),body:t(Fe),campaign_type:"general"}),Pe.success("Email sent successfully"),v(we,!1),v(Ee,""),v(Fe,""),await Ba()}catch{Pe.error("Failed to send email")}finally{v(ta,!1)}}}async function At(){if(t(ze).trim())try{const l=await fetch(`/api/admin/members/${t(Ie)}/notes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:t(ze)})});if(l.ok){const d=await l.json();v(ge,[d,...t(ge)],!0),v(ze,""),v(fe,!1),Pe.success("Note added")}else v(ge,[{id:Date.now(),content:t(ze),created_at:new Date().toISOString(),author:"Admin"},...t(ge)],!0),v(ze,""),v(fe,!1),Pe.warning("Note added locally - sync pending")}catch{Pe.error("Failed to save note")}}function Tt(l){t(K).includes(l)||(v(K,[...t(K),l],!0),Pe.success(`Tag "${l}" added`))}function Va(l){v(K,t(K).filter(d=>d!==l),!0),Pe.success(`Tag "${l}" removed`)}function Ja(){t(Ae).trim()&&!t(K).includes(t(Ae).trim())&&(v(K,[...t(K),t(Ae).trim()],!0),v(Ae,""))}function Ct(l){switch(l){case"active":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"trial":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"churned":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}}function Qa(l){switch(l){case"opened":return"text-emerald-400";case"clicked":return"text-blue-400";case"bounced":return"text-red-400";default:return"text-slate-400"}}function sa(l){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(l)}function la(l){return new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function va(l){return new Date(l).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function Mt(l){switch(l){case"subscription":return ba;case"payment":return pa;case"email":return Ue;case"login":return Es;case"support":return Ue;default:return Ra}}function Pt(){return t(i)?.first_name&&t(i)?.last_name?`${t(i).first_name[0]}${t(i).last_name[0]}`.toUpperCase():t(i)?.name?.slice(0,2).toUpperCase()||"U"}function ha(l){return l>=80?{label:"Highly Engaged",color:"text-emerald-400"}:l>=60?{label:"Engaged",color:"text-blue-400"}:l>=40?{label:"Moderate",color:"text-yellow-400"}:{label:"Low Engagement",color:"text-red-400"}}var Za=_l();ms("1ac49jo",l=>{js(()=>{fs.title=`${(t(i)?.name||"Member")??""} | Revolution Trading Pros`})});var ya=J(Za),Dt=a(ya);{var Ft=l=>{var d=Ds();r(l,d)},Ot=l=>{var d=ke(),M=J(d);{var X=se=>{var y=Fs(),W=a(y);jt(W,{size:48});var U=s(W,4),I=a(U,!0);e(U);var L=s(U,2);L.__click=ga;var x=a(L);ft(x,{size:18}),n(),e(L),e(y),Q(()=>o(I,t(aa))),r(se,y)},G=se=>{var y=ke(),W=J(y);{var U=I=>{var L=ol(),x=J(L),le=a(x);le.__click=()=>ys("/admin/members");var N=a(le);xs(N,{size:20}),n(),e(le);var Te=s(le,2),_=a(Te),Y=a(_),he=a(Y);{var Z=E=>{var k=Os();Q(()=>{gt(k,"src",t(i).avatar),gt(k,"alt",t(i).name)}),r(E,k)},ra=E=>{var k=zs();Q($=>o(k,$),[Pt]),r(E,k)};m(he,E=>{t(i).avatar?E(Z):E(ra,!1)})}e(Y);var oa=s(Y,2),Be=a(oa),Ve=a(Be),ue=a(Ve,!0);e(Ve);var xa=s(Ve,2),Rt=a(xa,!0);e(xa),e(Be);var ka=s(Be,2),Bt=a(ka,!0);e(ka);var Xa=s(ka,2),Ga=a(Xa);Ce(Ga,17,()=>t(K),Me,(E,k)=>{var $=Hs(),me=a($),de=s(me);de.__click=()=>Va(t(k));var ve=a(de);_a(ve,{size:12}),e(de),e($),Q(()=>o(me,`${t(k)??""} `)),r(E,$)});var wa=s(Ga,2);wa.__click=()=>v(De,!0);var Vt=a(wa);ma(Vt,{size:14}),n(),e(wa),e(Xa),e(oa),e(_);var Wa=s(_,2),ia=a(Wa);ia.__click=()=>v(fe,!0);var Jt=a(ia);La(Jt,{size:18}),n(),e(ia);var za=s(ia,2);za.__click=()=>v(we,!0);var Qt=a(za);Ue(Qt,{size:18}),n(),e(za),e(Wa),e(Te),e(x);var Sa=s(x,2),Na=a(Sa),Ea=a(Na),Zt=a(Ea);ba(Zt,{size:24}),e(Ea);var Ya=s(Ea,2),$a=a(Ya),qt=a($a,!0);e($a),n(2),e(Ya),e(Na);var Aa=s(Na,2),Ta=a(Aa),Kt=a(Ta);pa(Kt,{size:24}),e(Ta);var et=s(Ta,2),at=a(et),Xt=a(at,!0);e(at),n(2),e(et),e(Aa);var Ca=s(Aa,2),Ma=a(Ca),Gt=a(Ma);ks(Gt,{size:24}),e(Ma);var tt=s(Ma,2),st=a(tt),Wt=a(st,!0);e(st),n(2),e(tt),e(Ca);var lt=s(Ca,2),ca=a(lt),Yt=a(ca);ws(Yt,{size:24}),e(ca);var vt=s(ca,2),Pa=a(vt),$t=a(Pa);e(Pa);var Da=s(Pa,2),es=a(Da,!0);e(Da),e(vt),e(lt),e(Sa);var Fa=s(Sa,2),rt=a(Fa),Je=a(rt);Je.__click=()=>v(H,"overview");let ot;var as=a(Je);Ra(as,{size:18}),n(),e(Je);var Qe=s(Je,2);Qe.__click=()=>v(H,"subscriptions");let it;var ts=a(Qe);ba(ts,{size:18}),n(),e(Qe);var Ze=s(Qe,2);Ze.__click=()=>v(H,"orders");let ct;var ss=a(Ze);pa(ss,{size:18}),n(),e(Ze);var qe=s(Ze,2);qe.__click=()=>v(H,"emails");let dt;var ls=a(qe);Ue(ls,{size:18}),n(),e(qe);var da=s(qe,2);da.__click=()=>v(H,"notes");let nt;var vs=a(da);La(vs,{size:18}),n(),e(da),e(rt),e(Fa);var _t=s(Fa,2),rs=a(_t);{var os=E=>{var k=Ls(),$=a(k),me=a($),de=s(a(me),2);de.__click=ga;var ve=a(de);ft(ve,{size:18}),e(de),e(me);var ye=s(me,2),Ke=a(ye);{var Xe=u=>{var A=Us(),T=a(A);Ra(T,{size:32,stroke:1}),n(2),e(A),r(u,A)},Ge=u=>{var A=ke(),T=J(A);Ce(T,17,()=>t(ja),Me,(ne,ie)=>{const pe=ut(()=>Mt(t(ie).type));var _e=Is(),je=a(_e),We=a(je);Ns(We,()=>t(pe),(Ye,Ne)=>{Ne(Ye,{size:16})}),e(je);var Oe=s(je,2),ce=a(Oe),xe=a(ce,!0);e(ce);var Se=s(ce,2),Oa=a(Se,!0);e(Se),e(Oe),e(_e),Q(Ye=>{o(xe,t(ie).title),o(Oa,Ye)},[()=>va(t(ie).date)]),r(ne,_e)}),r(u,A)};m(Ke,u=>{t(ja).length===0?u(Xe):u(Ge,!1)})}e(ye),e($);var P=s($,2),w=a(P),re=s(a(w),2),z=a(re);Ss(z,{size:18}),e(re),e(w);var be=s(w,2),D=a(be),R=s(a(D),2),ee=a(R,!0);e(R),e(D);var S=s(D,2),f=s(a(S),2),B=a(f),ae=s(B);{var V=u=>{Ia(u,{size:14,class:"verified-icon"})};m(ae,u=>{t(i).email_verified&&u(V)})}e(f),e(S);var g=s(S,2),p=s(a(g),2),oe=a(p,!0);e(p),e(g);var j=s(g,2),h=s(a(j),2),b=a(h,!0);e(h),e(j);var q=s(j,2),F=s(a(q),2),O=a(F,!0);e(F),e(q),e(be),e(P),e(k),Q(u=>{o(ee,t(i).name),o(B,`${t(i).email??""} `),o(oe,t(i).current_plan||"None"),o(b,u),o(O,t(i).orders?.length||0)},[()=>t(i).last_login?va(t(i).last_login):"Never"]),r(E,k)},is=E=>{var k=ke(),$=J(k);{var me=ve=>{var ye=Js(),Ke=s(a(ye),2);{var Xe=P=>{var w=Rs(),re=a(w);ba(re,{size:48,stroke:1}),n(4),e(w),r(P,w)},Ge=P=>{var w=Vs();Ce(w,21,()=>t(i).subscriptions,Me,(re,z)=>{var be=Bs(),D=a(be),R=a(D),ee=a(R),S=a(ee,!0);e(ee);var f=s(ee,2),B=a(f,!0);e(f),e(R);var ae=s(R,2),V=a(ae,!0);e(ae),e(D);var g=s(D,2),p=a(g),oe=s(a(p),2),j=a(oe);e(oe),e(p);var h=s(p,2),b=s(a(h),2),q=a(b,!0);e(b),e(h);var F=s(h,2),O=s(a(F),2),u=a(O,!0);e(O),e(F);var A=s(F,2),T=s(a(A),2),ne=a(T,!0);e(T),e(A),e(g),e(be),Q((ie,pe,_e,je)=>{o(S,t(z).product||"Unknown Product"),o(B,t(z).plan||"Standard"),te(ae,1,`status-badge ${t(z).status==="active"?"bg-emerald-500/20 text-emerald-400":"bg-slate-500/20 text-slate-400"}`,"svelte-1ac49jo"),o(V,t(z).status),o(j,`${ie??""}/${t(z).interval??""}`),o(q,pe),o(u,_e),o(ne,je)},[()=>sa(t(z).price),()=>t(z).start_date?la(t(z).start_date):"N/A",()=>t(z).next_payment?la(t(z).next_payment):"N/A",()=>sa(t(z).total_paid)]),r(re,be)}),e(w),r(P,w)};m(Ke,P=>{!t(i).subscriptions||t(i).subscriptions.length===0?P(Xe):P(Ge,!1)})}e(ye),r(ve,ye)},de=ve=>{var ye=ke(),Ke=J(ye);{var Xe=P=>{var w=Ks(),re=a(w),z=s(a(re),2),be=a(z);As(be,{size:16}),n(),e(z),e(re);var D=s(re,2);{var R=S=>{var f=Qs(),B=a(f);pa(B,{size:48,stroke:1}),n(4),e(f),r(S,f)},ee=S=>{var f=qs(),B=s(a(f));Ce(B,21,()=>t(i).orders,Me,(ae,V)=>{var g=Zs(),p=a(g),oe=a(p,!0);e(p);var j=s(p),h=a(j,!0);e(j);var b=s(j),q=a(b),F=a(q,!0);e(q),e(b);var O=s(b),u=a(O,!0);e(O);var A=s(O),T=a(A),ne=a(T);Ts(ne,{size:16}),e(T),e(A),e(g),Q((ie,pe)=>{o(oe,t(V).number),o(h,ie),te(q,1,`status-badge ${t(V).status==="completed"?"bg-emerald-500/20 text-emerald-400":"bg-yellow-500/20 text-yellow-400"}`,"svelte-1ac49jo"),o(F,t(V).status),o(u,pe)},[()=>la(t(V).created_at),()=>sa(t(V).total)]),r(ae,g)}),e(B),e(f),r(S,f)};m(D,S=>{!t(i).orders||t(i).orders.length===0?S(R):S(ee,!1)})}e(w),r(P,w)},Ge=P=>{var w=ke(),re=J(w);{var z=D=>{var R=tl(),ee=a(R),S=s(a(ee),2);S.__click=()=>v(we,!0);var f=a(S);pt(f,{size:16}),n(),e(S),e(ee);var B=s(ee,2);{var ae=g=>{var p=Xs(),oe=a(p);Ue(oe,{size:48,stroke:1}),n(4),e(p),r(g,p)},V=g=>{var p=al();Ce(p,21,()=>t(Re),Me,(oe,j)=>{var h=el(),b=a(h),q=a(b);Ue(q,{size:20}),e(b);var F=s(b,2),O=a(F),u=a(O,!0);e(O);var A=s(O,2),T=a(A),ne=a(T,!0);e(T);var ie=s(T,2),pe=a(ie,!0);e(ie),e(A),e(F);var _e=s(F,2),je=a(_e);{var We=ce=>{var xe=Gs(),Se=J(xe);Ia(Se,{size:16}),n(),r(ce,xe)},Oe=ce=>{var xe=ke(),Se=J(xe);{var Oa=Ne=>{var $e=Ws(),Ha=J($e);Cs(Ha,{size:16}),n(),r(Ne,$e)},Ye=Ne=>{var $e=ke(),Ha=J($e);{var cs=He=>{var ea=Ys(),Ua=J(ea);jt(Ua,{size:16}),n(),r(He,ea)},ds=He=>{var ea=$s(),Ua=J(ea);Ms(Ua,{size:16}),n(),r(He,ea)};m(Ha,He=>{t(j).status==="bounced"?He(cs):He(ds,!1)},!0)}r(Ne,$e)};m(Se,Ne=>{t(j).status==="clicked"?Ne(Oa):Ne(Ye,!1)},!0)}r(ce,xe)};m(je,ce=>{t(j).status==="opened"?ce(We):ce(Oe,!1)})}e(_e),e(h),Q((ce,xe,Se)=>{te(b,1,`email-icon ${ce??""}`,"svelte-1ac49jo"),o(u,t(j).subject),o(ne,t(j).campaign_type),o(pe,xe),te(_e,1,`email-status ${Se??""}`,"svelte-1ac49jo")},[()=>Qa(t(j).status),()=>va(t(j).sent_at),()=>Qa(t(j).status)]),r(oe,h)}),e(p),r(g,p)};m(B,g=>{t(Re).length===0?g(ae):g(V,!1)})}e(R),r(D,R)},be=D=>{var R=ke(),ee=J(R);{var S=f=>{var B=rl(),ae=a(B),V=s(a(ae),2);V.__click=()=>v(fe,!0);var g=a(V);ma(g,{size:16}),n(),e(V),e(ae);var p=s(ae,2);{var oe=h=>{var b=sl(),q=a(b);La(q,{size:48,stroke:1}),n(4),e(b),r(h,b)},j=h=>{var b=vl();Ce(b,21,()=>t(ge),Me,(q,F)=>{var O=ll(),u=a(O),A=a(u,!0);e(u);var T=s(u,2),ne=a(T),ie=a(ne,!0);e(ne);var pe=s(ne,2),_e=a(pe,!0);e(pe),e(T);var je=s(T,2),We=a(je);Ps(We,{size:14}),e(je),e(O),Q(Oe=>{o(A,t(F).content),o(ie,t(F).author),o(_e,Oe)},[()=>va(t(F).created_at)]),r(q,O)}),e(b),r(h,b)};m(p,h=>{t(ge).length===0?h(oe):h(j,!1)})}e(B),r(f,B)};m(ee,f=>{t(H)==="notes"&&f(S)},!0)}r(D,R)};m(re,D=>{t(H)==="emails"?D(z):D(be,!1)},!0)}r(P,w)};m(Ke,P=>{t(H)==="orders"?P(Xe):P(Ge,!1)},!0)}r(ve,ye)};m($,ve=>{t(H)==="subscriptions"?ve(me):ve(de,!1)},!0)}r(E,k)};m(rs,E=>{t(H)==="overview"?E(os):E(is,!1)})}e(_t),Q((E,k,$,me,de,ve)=>{o(ue,t(i).name),te(xa,1,`status-badge ${E??""}`,"svelte-1ac49jo"),o(Rt,t(i).status_label),o(Bt,t(i).email),o(qt,k),o(Xt,t(i).active_subscriptions_count),o(Wt,$),te(ca,1,`stat-icon ${me??""}`,"svelte-1ac49jo"),o($t,`${t(Le)??""}%`),te(Da,1,`stat-label ${de??""}`,"svelte-1ac49jo"),o(es,ve),ot=te(Je,1,"svelte-1ac49jo",null,ot,{active:t(H)==="overview"}),it=te(Qe,1,"svelte-1ac49jo",null,it,{active:t(H)==="subscriptions"}),ct=te(Ze,1,"svelte-1ac49jo",null,ct,{active:t(H)==="orders"}),dt=te(qe,1,"svelte-1ac49jo",null,dt,{active:t(H)==="emails"}),nt=te(da,1,"svelte-1ac49jo",null,nt,{active:t(H)==="notes"})},[()=>Ct(t(i).status),()=>sa(t(i).total_spent),()=>la(t(i).joined_at),()=>ha(t(Le)).color.replace("text-",""),()=>ha(t(Le)).color,()=>ha(t(Le)).label]),r(I,L)};m(W,I=>{t(i)&&I(U)},!0)}r(se,y)};m(M,se=>{t(aa)?se(X):se(G,!1)},!0)}r(l,d)};m(Dt,l=>{t(fa)?l(Ft):l(Ot,!1)})}e(ya);var qa=s(ya,2);{var Ht=l=>{var d=il();d.__click=()=>v(we,!1),d.__keydown=Z=>Z.key==="Escape"&&v(we,!1);var M=a(d);M.__click=Z=>Z.stopPropagation(),M.__keydown=Z=>Z.stopPropagation();var X=a(M),G=a(X),se=a(G);e(G);var y=s(G,2);y.__click=()=>v(we,!1);var W=a(y);_a(W,{size:20}),e(y),e(X);var U=s(X,2),I=a(U),L=s(a(I),2);mt(L),e(I);var x=s(I,2),le=s(a(x),2);bt(le),e(x),e(U);var N=s(U,2),Te=a(N);Te.__click=()=>v(we,!1);var _=s(Te,2);_.__click=Et;var Y=a(_);pt(Y,{size:18});var he=s(Y);e(_),e(N),e(M),e(d),Q(()=>{o(se,`Send Email to ${t(i)?.name??""}`),_.disabled=!t(Ee)||!t(Fe)||t(ta),o(he,` ${t(ta)?"Sending...":"Send Email"}`)}),ua(L,()=>t(Ee),Z=>v(Ee,Z)),ua(le,()=>t(Fe),Z=>v(Fe,Z)),r(l,d)};m(qa,l=>{t(we)&&l(Ht)})}var Ka=s(qa,2);{var Ut=l=>{var d=cl();d.__click=()=>v(fe,!1),d.__keydown=N=>N.key==="Escape"&&v(fe,!1);var M=a(d);M.__click=N=>N.stopPropagation(),M.__keydown=N=>N.stopPropagation();var X=a(M),G=s(a(X),2);G.__click=()=>v(fe,!1);var se=a(G);_a(se,{size:20}),e(G),e(X);var y=s(X,2),W=a(y),U=s(a(W),2);bt(U),e(W),e(y);var I=s(y,2),L=a(I);L.__click=()=>v(fe,!1);var x=s(L,2);x.__click=At;var le=a(x);ma(le,{size:18}),n(),e(x),e(I),e(M),e(d),Q(N=>x.disabled=N,[()=>!t(ze).trim()]),ua(U,()=>t(ze),N=>v(ze,N)),r(l,d)};m(Ka,l=>{t(fe)&&l(Ut)})}var It=s(Ka,2);{var Lt=l=>{var d=nl();d.__click=()=>v(De,!1),d.__keydown=_=>_.key==="Escape"&&v(De,!1);var M=a(d);M.__click=_=>_.stopPropagation(),M.__keydown=_=>_.stopPropagation();var X=a(M),G=s(a(X),2);G.__click=()=>v(De,!1);var se=a(G);_a(se,{size:20}),e(G),e(X);var y=s(X,2),W=a(y),U=s(a(W),2);Ce(U,21,()=>St,Me,(_,Y)=>{var he=dl();let Z;he.__click=()=>t(K).includes(t(Y))?Va(t(Y)):Tt(t(Y));var ra=a(he);{var oa=ue=>{Ia(ue,{size:14})},Be=ue=>{ma(ue,{size:14})};m(ra,ue=>{t(K).includes(t(Y))?ue(oa):ue(Be,!1)})}var Ve=s(ra);e(he),Q(ue=>{Z=te(he,1,"tag-option svelte-1ac49jo",null,Z,ue),o(Ve,` ${t(Y)??""}`)},[()=>({selected:t(K).includes(t(Y))})]),r(_,he)}),e(U),e(W);var I=s(W,2),L=s(a(I),2),x=a(L);mt(x),x.__keydown=_=>_.key==="Enter"&&Ja();var le=s(x,2);le.__click=Ja,e(L),e(I),e(y);var N=s(y,2),Te=a(N);Te.__click=()=>v(De,!1),e(N),e(M),e(d),Q(_=>le.disabled=_,[()=>!t(Ae).trim()]),ua(x,()=>t(Ae),_=>v(Ae,_)),r(l,d)};m(It,l=>{t(De)&&l(Lt)})}r(yt,Za),bs(),zt()}ns(["click","keydown"]);export{pl as component};
