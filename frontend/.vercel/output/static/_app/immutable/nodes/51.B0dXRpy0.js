import{z as ht,p as yt,s as D,A as Ut,o as Ht,f as c,q as s,e as i,i as m,bG as It,g as e,h as v,j as _t,c as d,r as a,k as ut,d as Z,w as j,x as b,N as Jt,O as Qt,K as Rt,a3 as Wt,a9 as Xt,F as q,as as Yt,at as Zt}from"../chunks/C_QN0JMx.js";import{g as $t,u as te,p as ee,d as ae,a as se,b as ie}from"../chunks/C9E1rr7k.js";var re=c('<div class="loading svelte-7ihymy">Loading forms...</div>'),le=c('<div class="error-message svelte-7ihymy"> </div>'),ne=c('<div class="empty-state svelte-7ihymy"><p>No forms found.</p> <p class="empty-hint svelte-7ihymy">Create your first form to get started!</p></div>'),oe=c('<p class="form-description-preview svelte-7ihymy"> </p>'),ve=c('<button class="btn-icon svelte-7ihymy" title="Edit">âœï¸</button>'),ce=c('<button class="btn-icon svelte-7ihymy" title="View Submissions">ğŸ“Š</button>'),de=c('<button class="btn-icon svelte-7ihymy" title="View Analytics">ğŸ“ˆ</button>'),ue=c('<button class="btn-icon svelte-7ihymy" title="Archive">ğŸ“¦</button>'),he=c('<tr class="svelte-7ihymy"><td class="form-title svelte-7ihymy"><div class="title-cell svelte-7ihymy"><strong class="svelte-7ihymy"> </strong> <!></div></td><td class="svelte-7ihymy"><span> </span></td><td class="text-center svelte-7ihymy"> </td><td class="svelte-7ihymy"> </td><td class="svelte-7ihymy"> </td><td class="svelte-7ihymy"><div class="action-buttons svelte-7ihymy"><!> <!> <!> <button class="btn-icon svelte-7ihymy"> </button> <button class="btn-icon svelte-7ihymy" title="Duplicate">ğŸ“‹</button> <!> <button class="btn-icon btn-danger svelte-7ihymy" title="Delete">ğŸ—‘ï¸</button></div></td></tr>'),ye=c('<div class="pagination svelte-7ihymy"><button class="btn-page svelte-7ihymy">Previous</button> <span class="page-info svelte-7ihymy"> </span> <button class="btn-page svelte-7ihymy">Next</button></div>'),_e=c('<div class="forms-table-container svelte-7ihymy"><table class="forms-table svelte-7ihymy"><thead class="svelte-7ihymy"><tr><th class="svelte-7ihymy">Title</th><th class="svelte-7ihymy">Status</th><th class="svelte-7ihymy">Submissions</th><th class="svelte-7ihymy">Created</th><th class="svelte-7ihymy">Published</th><th class="svelte-7ihymy">Actions</th></tr></thead><tbody class="svelte-7ihymy"></tbody></table></div> <!>',1),me=c('<div class="form-list-container svelte-7ihymy"><div class="list-header svelte-7ihymy"><h2 class="svelte-7ihymy">Forms</h2> <div class="header-actions svelte-7ihymy"><select class="filter-select svelte-7ihymy"><option>All Forms</option><option>Published</option><option>Drafts</option><option>Archived</option></select></div></div> <!></div>');function be(z,h){yt(h,!0);let g=D(Ut([])),C=D(!0),A=D(""),u=D(1),f=D(1),y=D("");Ht(()=>{_()});async function _(){d(C,!0),d(A,"");try{const t=e(y)?{status:e(y)}:void 0,r=await $t(e(u),20,t);d(g,r?.forms||[],!0),d(f,Math.ceil((r?.total||e(g).length)/(r?.perPage||20)),!0)}catch(t){d(A,t instanceof Error?t.message:"Failed to load forms",!0),d(g,[],!0)}finally{d(C,!1)}}async function B(t){if(t.id&&confirm(`Are you sure you want to delete "${t.title}"?`))try{await se(t.id),await _()}catch(r){alert(r instanceof Error?r.message:"Failed to delete form")}}async function p(t){if(t.id)try{t.status==="published"?await te(t.id):await ee(t.id),await _()}catch(r){alert(r instanceof Error?r.message:"Failed to update form status")}}async function mt(t){if(t.id&&confirm(`Archive "${t.title}"?`))try{await ie(t.id),await _()}catch(r){alert(r instanceof Error?r.message:"Failed to archive form")}}async function bt(t){if(t.id)try{await ae(t.id),await _()}catch(r){alert(r instanceof Error?r.message:"Failed to duplicate form")}}function ft(t){const r=t.target;d(y,r.value,!0),d(u,1),_()}function $(t){d(u,t,!0),_()}function pt(t){switch(t){case"published":return"badge-success";case"draft":return"badge-warning";case"archived":return"badge-secondary";default:return"badge-default"}}function tt(t){return t?new Date(t).toLocaleDateString():"N/A"}var G=me(),K=s(G),et=i(s(K),2),N=s(et);N.__change=ft;var O=s(N);O.value=O.__value="";var T=i(O);T.value=T.__value="published";var U=i(T);U.value=U.__value="draft";var at=i(U);at.value=at.__value="archived",a(N),a(et),a(K);var gt=i(K,2);{var wt=t=>{var r=re();v(t,r)},Ft=t=>{var r=ut(),xt=Z(r);{var At=k=>{var E=le(),H=s(E,!0);a(E),j(()=>b(H,e(A))),v(k,E)},kt=k=>{var E=ut(),H=Z(E);{var Et=P=>{var L=ne();v(P,L)},Pt=P=>{var L=_e(),I=Z(L),st=s(I),it=i(s(st));Jt(it,21,()=>e(g),w=>w.id,(w,l)=>{var F=he(),x=s(F),M=s(x),V=s(M),Ct=s(V,!0);a(V);var St=i(V,2);{var Nt=n=>{var o=oe(),Y=s(o,!0);a(o),j(()=>b(Y,e(l).description)),v(n,o)};m(St,n=>{e(l).description&&n(Nt)})}a(M),a(x);var J=i(x),Q=s(J),Lt=s(Q,!0);a(Q),a(J);var R=i(J),Mt=s(R,!0);a(R);var W=i(R),jt=s(W,!0);a(W);var X=i(W),qt=s(X,!0);a(X);var rt=i(X),lt=s(rt),nt=s(lt);{var zt=n=>{var o=ve();o.__click=()=>h.onEdit?.(e(l)),v(n,o)};m(nt,n=>{h.onEdit&&n(zt)})}var ot=i(nt,2);{var Bt=n=>{var o=ce();o.__click=()=>h.onViewSubmissions?.(e(l)),v(n,o)};m(ot,n=>{h.onViewSubmissions&&n(Bt)})}var vt=i(ot,2);{var Gt=n=>{var o=de();o.__click=()=>h.onViewAnalytics?.(e(l)),v(n,o)};m(vt,n=>{h.onViewAnalytics&&n(Gt)})}var S=i(vt,2);S.__click=()=>p(e(l));var Kt=s(S,!0);a(S);var ct=i(S,2);ct.__click=()=>bt(e(l));var dt=i(ct,2);{var Ot=n=>{var o=ue();o.__click=()=>mt(e(l)),v(n,o)};m(dt,n=>{e(l).status!=="archived"&&n(Ot)})}var Tt=i(dt,2);Tt.__click=()=>B(e(l)),a(lt),a(rt),a(F),j((n,o,Y)=>{b(Ct,e(l).title),Qt(Q,1,`badge ${n??""}`,"svelte-7ihymy"),b(Lt,e(l).status),b(Mt,e(l).submission_count||0),b(jt,o),b(qt,Y),Rt(S,"title",e(l).status==="published"?"Unpublish":"Publish"),b(Kt,e(l).status==="published"?"ğŸ‘ï¸":"ğŸš€")},[()=>pt(e(l).status),()=>tt(e(l).created_at),()=>tt(e(l).published_at)]),v(w,F)}),a(it),a(st),a(I);var Vt=i(I,2);{var Dt=w=>{var l=ye(),F=s(l);F.__click=()=>$(e(u)-1);var x=i(F,2),M=s(x);a(x);var V=i(x,2);V.__click=()=>$(e(u)+1),a(l),j(()=>{F.disabled=e(u)===1,b(M,`Page ${e(u)??""} of ${e(f)??""}`),V.disabled=e(u)===e(f)}),v(w,l)};m(Vt,w=>{e(f)>1&&w(Dt)})}v(P,L)};m(H,P=>{e(g).length===0?P(Et):P(Pt,!1)},!0)}v(k,E)};m(xt,k=>{e(A)?k(At):k(kt,!1)},!0)}v(t,r)};m(gt,t=>{e(C)?t(wt):t(Ft,!1)})}a(G),It(N,()=>e(y),t=>d(y,t)),v(z,G),_t()}ht(["change","click"]);var fe=c('<div class="forms-page svelte-5v9f28"><div class="page-header svelte-5v9f28"><div><h1 class="svelte-5v9f28">Forms</h1> <p class="page-description svelte-5v9f28">Create and manage your forms</p></div> <button class="btn-create svelte-5v9f28">+ Create New Form</button></div> <!></div>');function we(z,h){yt(h,!1);function g(p){q(`/admin/forms/${p.id}/edit`)}function C(p){q(`/admin/forms/${p.id}/submissions`)}function A(p){q(`/admin/forms/${p.id}/analytics`)}function u(){q("/admin/forms/create")}Wt();var f=fe();Xt("5v9f28",p=>{Yt(()=>{Zt.title="Forms - Admin Dashboard"})});var y=s(f),_=i(s(y),2);_.__click=u,a(y);var B=i(y,2);be(B,{onEdit:g,onViewSubmissions:C,onViewAnalytics:A}),a(f),v(z,f),_t()}ht(["click"]);export{we as component};
