import{z as xe,p as Ce,f as o,a9 as we,d as Re,bM as ke,ao as Le,q as r,N as F,e as d,i as g,w as f,bJ as Te,g as a,bG as pa,h as n,j as Ae,as as ze,Q as _a,bU as Se,J as $e,dn as Ie,x as u,O as Ue,K as J,n as R,c,s as k,at as Pe,H as L,r as s,bH as Me,d1 as Ne,l as Ve,bZ as Ee,bV as Fe,bD as Na,aD as Je}from"../chunks/C_QN0JMx.js";import{l as qe}from"../chunks/ChgkinvD.js";var He=o("<option> </option>"),Oe=o("<option> </option>"),Qe=o('<button type="button" class="clear-btn svelte-1rdadp7">Clear filters</button>'),je=o('<img alt="" class="svelte-1rdadp7"/>'),Ge=o('<div class="thumb-placeholder svelte-1rdadp7"><!></div>'),Ke=o('<span class="room-tag svelte-1rdadp7"> </span>'),Ze=o('<span class="room-more svelte-1rdadp7"> </span>'),Be=o('<img alt="" class="trainer-avatar svelte-1rdadp7"/>'),We=o('<div class="trainer-cell svelte-1rdadp7"><!> <span> </span></div>'),Xe=o('<span class="no-data svelte-1rdadp7">-</span>'),Ye=o('<div class="dropdown-menu svelte-1rdadp7"><button class="svelte-1rdadp7"><!> Duplicate</button> <button class="danger svelte-1rdadp7"><!> Delete</button></div>'),at=o('<tr class="svelte-1rdadp7"><td class="col-title svelte-1rdadp7"><div class="lesson-cell svelte-1rdadp7"><div class="lesson-thumb svelte-1rdadp7"><!></div> <div class="lesson-info svelte-1rdadp7"><span class="lesson-title svelte-1rdadp7"> </span> <span class="lesson-meta svelte-1rdadp7"> </span></div></div></td><td class="col-rooms svelte-1rdadp7"><div class="room-tags svelte-1rdadp7"><!> <!></div></td><td class="col-trainer svelte-1rdadp7"><!></td><td class="col-status svelte-1rdadp7"><span> </span></td><td class="col-date svelte-1rdadp7"> </td><td class="col-actions svelte-1rdadp7"><div class="actions-cell svelte-1rdadp7"><a class="action-btn svelte-1rdadp7" title="Edit"><!></a> <a class="action-btn svelte-1rdadp7" title="View" target="_blank"><!></a> <div class="dropdown svelte-1rdadp7"><button type="button" class="action-btn svelte-1rdadp7"><!></button> <!></div></div></td></tr>'),et=o('<button type="button" class="svelte-1rdadp7">Clear filters</button>'),tt=o('<a href="/admin/learning-center/create" class="svelte-1rdadp7">Create your first lesson</a>'),st=o('<tr class="svelte-1rdadp7"><td colspan="6" class="empty-state svelte-1rdadp7"><p class="svelte-1rdadp7">No lessons found</p> <!></td></tr>'),rt=o('<div class="modal-overlay svelte-1rdadp7"><div class="modal svelte-1rdadp7"><h3 class="svelte-1rdadp7">Delete Lesson?</h3> <p class="svelte-1rdadp7">This action cannot be undone. The lesson will be permanently deleted.</p> <div class="modal-actions svelte-1rdadp7"><button type="button" class="btn-cancel svelte-1rdadp7">Cancel</button> <button type="button" class="btn-delete svelte-1rdadp7">Delete</button></div></div></div>'),dt=o('<div class="admin-page svelte-1rdadp7"><header class="page-header svelte-1rdadp7"><div class="header-left"><h1 class="svelte-1rdadp7">Learning Center</h1> <p class="subtitle svelte-1rdadp7">Manage educational content for all trading rooms</p></div> <div class="header-actions svelte-1rdadp7"><a href="/admin/learning-center/modules" class="btn-secondary svelte-1rdadp7">Manage Modules</a> <a href="/admin/learning-center/create" class="btn-primary svelte-1rdadp7"><!> Add Lesson</a></div></header> <div class="stats-grid svelte-1rdadp7"><div class="stat-card svelte-1rdadp7"><span class="stat-value svelte-1rdadp7"> </span> <span class="stat-label svelte-1rdadp7">Total Lessons</span></div> <div class="stat-card svelte-1rdadp7"><span class="stat-value svelte-1rdadp7"> </span> <span class="stat-label svelte-1rdadp7">Published</span></div> <div class="stat-card svelte-1rdadp7"><span class="stat-value svelte-1rdadp7"> </span> <span class="stat-label svelte-1rdadp7">Drafts</span></div> <div class="stat-card svelte-1rdadp7"><span class="stat-value svelte-1rdadp7"> </span> <span class="stat-label svelte-1rdadp7">Videos</span></div></div> <div class="filters-bar svelte-1rdadp7"><div class="search-box svelte-1rdadp7"><!> <input type="text" placeholder="Search lessons..." class="svelte-1rdadp7"/></div> <div class="filter-group svelte-1rdadp7"><select class="svelte-1rdadp7"><option>All Rooms</option><!></select> <select class="svelte-1rdadp7"><option>All Trainers</option><!></select> <select class="svelte-1rdadp7"><option>All Status</option><option>Published</option><option>Draft</option><option>Archived</option></select></div> <!></div> <div class="table-container svelte-1rdadp7"><table class="data-table svelte-1rdadp7"><thead><tr><th class="col-title svelte-1rdadp7">Lesson</th><th class="col-rooms svelte-1rdadp7">Trading Rooms</th><th class="col-trainer svelte-1rdadp7">Trainer</th><th class="col-status svelte-1rdadp7">Status</th><th class="col-date svelte-1rdadp7">Published</th><th class="col-actions svelte-1rdadp7">Actions</th></tr></thead><tbody class="svelte-1rdadp7"></tbody></table></div></div> <!>',1);function it(Va,Ea){Ce(Ea,!0);let y=k(""),D=k(""),x=k(""),C=k(""),S=k(!1),q=k(null),I=k(null),T=R(()=>Ne(qe)),Fa=R(()=>a(T).tradingRooms.filter(e=>e.hasLearningCenter&&e.isActive)),Ja=R(()=>a(T).trainers),$=R(()=>a(T).lessons.map(t=>({...t,trainer:a(T).trainers.find(l=>l.id===t.trainerId),category:a(T).categories.find(l=>l.id===t.categoryId),tradingRooms:a(T).tradingRooms.filter(l=>t.tradingRoomIds.includes(l.id))}))),qa=R(()=>a($).filter(e=>{if(a(y)){const t=a(y).toLowerCase();if(!e.title.toLowerCase().includes(t)&&!e.description.toLowerCase().includes(t))return!1}return!(a(D)&&!e.tradingRoomIds.includes(a(D))||a(x)&&e.trainerId!==a(x)||a(C)&&e.status!==a(C))})),U=R(()=>({total:a($).length,published:a($).filter(e=>e.status==="published").length,draft:a($).filter(e=>e.status==="draft").length,videos:a($).filter(e=>e.type==="video").length}));function Ha(e){c(q,e,!0),c(S,!0),c(I,null)}async function Oa(){a(q)&&(c(S,!1),c(q,null))}function Qa(e){const t=encodeURIComponent(JSON.stringify({...e,title:`${e.title} (Copy)`,slug:`${e.slug}-copy`,id:void 0}));window.location.href=`/admin/learning-center/create?duplicate=${t}`}function ja(e){c(I,a(I)===e?null:e,!0)}function ua(){c(y,""),c(D,""),c(x,""),c(C,"")}function Ga(e){switch(e){case"video":return Je;case"article":return Na;default:return Na}}function Ka(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}var ha=dt();we("1rdadp7",e=>{ze(()=>{Pe.title="Learning Center | Admin | Revolution Trading Pros"})});var H=Re(ha),O=r(H),ba=d(r(O),2),fa=d(r(ba),2),Za=r(fa);ke(Za,{size:18}),L(),s(fa),s(ba),s(O);var Q=d(O,2),j=r(Q),ma=r(j),Ba=r(ma,!0);s(ma),L(2),s(j);var G=d(j,2),ga=r(G),Wa=r(ga,!0);s(ga),L(2),s(G);var K=d(G,2),ya=r(K),Xa=r(ya,!0);s(ya),L(2),s(K);var Da=d(K,2),xa=r(Da),Ya=r(xa,!0);s(xa),L(2),s(Da),s(Q);var Z=d(Q,2),B=r(Z),Ca=r(B);Le(Ca,{size:18});var wa=d(Ca,2);Me(wa),s(B);var W=d(B,2),P=r(W),X=r(P);X.value=X.__value="";var ae=d(X);F(ae,17,()=>a(Fa),_a,(e,t)=>{var l=He(),h=r(l,!0);s(l);var _={};f(()=>{u(h,a(t).shortName||a(t).name),_!==(_=a(t).id)&&(l.value=(l.__value=a(t).id)??"")}),n(e,l)}),s(P);var M=d(P,2),Y=r(M);Y.value=Y.__value="";var ee=d(Y);F(ee,17,()=>a(Ja),_a,(e,t)=>{var l=Oe(),h=r(l,!0);s(l);var _={};f(()=>{u(h,a(t).name),_!==(_=a(t).id)&&(l.value=(l.__value=a(t).id)??"")}),n(e,l)}),s(M);var aa=d(M,2),ea=r(aa);ea.value=ea.__value="";var ta=d(ea);ta.value=ta.__value="published";var sa=d(ta);sa.value=sa.__value="draft";var Ra=d(sa);Ra.value=Ra.__value="archived",s(aa),s(W);var te=d(W,2);{var se=e=>{var t=Qe();t.__click=ua,n(e,t)};g(te,e=>{(a(y)||a(D)||a(x)||a(C))&&e(se)})}s(Z);var ka=d(Z,2),La=r(ka),Ta=d(r(La));F(Ta,21,()=>a(qa),e=>e.id,(e,t)=>{const l=R(()=>Ga(a(t).type));var h=at(),_=r(h),A=r(_),b=r(A),z=r(b);{var le=v=>{var i=je();f(()=>J(i,"src",a(t).thumbnailUrl)),n(v,i)},ve=v=>{var i=Ge(),p=r(i);Ve(p,()=>a(l),(w,m)=>{m(w,{size:20})}),s(i),n(v,i)};g(z,v=>{a(t).thumbnailUrl?v(le):v(ve,!1)})}s(b);var Aa=d(b,2),ra=r(Aa),ie=r(ra,!0);s(ra);var za=d(ra,2),ne=r(za);s(za),s(Aa),s(A),s(_);var da=d(_),Sa=r(da),$a=r(Sa);F($a,17,()=>a(t).tradingRooms?.slice(0,2)||[],_a,(v,i)=>{var p=Ke(),w=r(p,!0);s(p),f(()=>u(w,a(i).shortName||a(i).name)),n(v,p)});var oe=d($a,2);{var ce=v=>{var i=Ze(),p=r(i);s(i),f(()=>u(p,`+${(a(t).tradingRooms?.length||0)-2}`)),n(v,i)};g(oe,v=>{(a(t).tradingRooms?.length||0)>2&&v(ce)})}s(Sa),s(da);var la=d(da),pe=r(la);{var _e=v=>{var i=We(),p=r(i);{var w=ca=>{var Ma=Be();f(()=>J(Ma,"src",a(t).trainer.thumbnailUrl)),n(ca,Ma)};g(p,ca=>{a(t).trainer.thumbnailUrl&&ca(w)})}var m=d(p,2),oa=r(m,!0);s(m),s(i),f(()=>u(oa,a(t).trainer.name)),n(v,i)},ue=v=>{var i=Xe();n(v,i)};g(pe,v=>{a(t).trainer?v(_e):v(ue,!1)})}s(la);var va=d(la),ia=r(va),he=r(ia,!0);s(ia),s(va);var na=d(va),be=r(na,!0);s(na);var Ia=d(na),Ua=r(Ia),N=r(Ua),fe=r(N);Se(fe,{size:16}),s(N);var V=d(N,2),me=r(V);$e(me,{size:16}),s(V);var Pa=d(V,2),E=r(Pa);E.__click=()=>ja(a(t).id);var ge=r(E);Ie(ge,{size:16}),s(E);var ye=d(E,2);{var De=v=>{var i=Ye(),p=r(i);p.__click=()=>Qa(a(t));var w=r(p);Ee(w,{size:14}),L(),s(p);var m=d(p,2);m.__click=()=>Ha(a(t).id);var oa=r(m);Fe(oa,{size:14}),L(),s(m),s(i),n(v,i)};g(ye,v=>{a(I)===a(t).id&&v(De)})}s(Pa),s(Ua),s(Ia),s(h),f(v=>{u(ie,a(t).title),u(ne,`${a(t).type??""} ${a(t).duration?`â€¢ ${a(t).duration}`:""}`),Ue(ia,1,`status-badge status-${a(t).status??""}`,"svelte-1rdadp7"),u(he,a(t).status),u(be,v),J(N,"href",`/admin/learning-center/${a(t).id??""}/edit`),J(V,"href",`/dashboard/${(a(t).tradingRooms?.[0]?.slug||"mastering-the-trade")??""}/learning-center/${a(t).slug??""}`)},[()=>a(t).publishedAt?Ka(a(t).publishedAt):"-"]),n(e,h)},e=>{var t=st(),l=r(t),h=d(r(l),2);{var _=b=>{var z=et();z.__click=ua,n(b,z)},A=b=>{var z=tt();n(b,z)};g(h,b=>{a(y)||a(D)||a(x)||a(C)?b(_):b(A,!1)})}s(l),s(t),n(e,t)}),s(Ta),s(La),s(ka),s(H);var re=d(H,2);{var de=e=>{var t=rt();t.__click=()=>c(S,!1);var l=r(t);l.__click=b=>b.stopPropagation();var h=d(r(l),4),_=r(h);_.__click=()=>c(S,!1);var A=d(_,2);A.__click=Oa,s(h),s(l),s(t),n(e,t)};g(re,e=>{a(S)&&e(de)})}f(()=>{u(Ba,a(U).total),u(Wa,a(U).published),u(Xa,a(U).draft),u(Ya,a(U).videos)}),Te(wa,()=>a(y),e=>c(y,e)),pa(P,()=>a(D),e=>c(D,e)),pa(M,()=>a(x),e=>c(x,e)),pa(aa,()=>a(C),e=>c(C,e)),n(Va,ha),Ae()}xe(["click"]);export{it as component};
