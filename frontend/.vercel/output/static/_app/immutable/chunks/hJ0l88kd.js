const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Dzv9ULNB.js","./C_QN0JMx.js","./D3S43Cfl.js","./ByEkyPua.js"])))=>i.map(i=>d[i]);
import{_ as l}from"./PPVm8Dsz.js";import{ab as y,ac as S}from"./C_QN0JMx.js";const b={isActive:!0,closeButton:!0,closeOnOverlayClick:!0,design:{width:"600px",maxWidth:"90vw",height:"auto",padding:"2rem",backgroundColor:"#1e293b",textColor:"#f1f5f9",borderRadius:"24px",borderWidth:"1px",borderColor:"rgba(99, 102, 241, 0.3)",borderStyle:"solid",backdropBlur:"16px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)"},animation:{entrance:"zoom",exit:"fade",duration:300,easing:"ease-out"},overlayColor:"#000000",overlayOpacity:.7,displayRules:{delaySeconds:2,showOnScroll:!1,scrollPercentage:50,showOnExit:!1,frequency:"once-per-session",pages:["/*"],excludePages:[],deviceTargeting:"all",newVisitorsOnly:!1,returningVisitorsOnly:!1,minPageViews:0},buttons:[],impressions:0,conversions:0},w="popup_state";function d(){const r=localStorage.getItem(w);if(r)try{return JSON.parse(r)}catch{}return{activePopup:null,popupHistory:[],pageViews:0,sessionStart:Date.now()}}function p(r){localStorage.setItem(w,JSON.stringify(r))}function g(){const{subscribe:r,set:h,update:a}=S(d());return{subscribe:r,show:e=>{a(t=>{const o={...t,activePopup:e};return p(o),o})},hide:()=>{a(e=>{const t={...e,activePopup:null};return p(t),t})},recordImpression:(e,t)=>{a(o=>{const s=Date.now(),n=[...o.popupHistory],i=n.find(c=>c.popupId===e);i?(i.lastShown=s,i.shownCount++):n.push({popupId:e,lastShown:s,shownCount:1});const u={...o,popupHistory:n};return p(u),l(async()=>{const{recordPopupImpression:c}=await import("./Dzv9ULNB.js");return{recordPopupImpression:c}},__vite__mapDeps([0,1,2,3]),import.meta.url).then(({recordPopupImpression:c})=>{c(e).catch(m=>{})}),u})},recordConversion:(e,t)=>{l(async()=>{const{recordPopupConversion:o}=await import("./Dzv9ULNB.js");return{recordPopupConversion:o}},__vite__mapDeps([0,1,2,3]),import.meta.url).then(({recordPopupConversion:o})=>{o(e,t).catch(s=>{})})},canShow:e=>{const t=d(),o=t.popupHistory.find(n=>n.popupId===e.id),s=Date.now();if(!o)return!0;switch(e.displayRules.frequency){case"always":return!0;case"once-per-session":return o.lastShown<t.sessionStart;case"once-per-day":const n=1440*60*1e3;return s-o.lastShown>n;case"once-per-week":const i=10080*60*1e3;return s-o.lastShown>i;case"once-ever":return o.shownCount===0;default:return!0}},incrementPageView:()=>{a(e=>{const t={...e,pageViews:e.pageViews+1};return p(t),t})},clearHistory:()=>{a(e=>{const t={...e,popupHistory:[],pageViews:0,sessionStart:Date.now()};return p(t),t})}}}const f=g();y(f,r=>r.activePopup);export{b as d,f as p};
