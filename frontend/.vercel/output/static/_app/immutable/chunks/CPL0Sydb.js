import{p as $,a as C,f as j,q as e,r as t,e as n,N as tt,i as B,g as a,w as O,O as R,_ as et,n as T,x as i,h as S,j as at}from"./C_QN0JMx.js";var rt=j('<div class="absolute -top-1 right-0 transform translate-x-full ml-16"><div class="flex items-center gap-1 text-xs text-red-500"><span>â†“</span> <span> </span> <span class="text-gray-400"> </span></div></div>'),st=j('<div class="relative"><div class="relative h-12 flex items-center"><div><div class="absolute inset-0 flex items-center justify-between px-4"><span class="text-white font-medium text-sm truncate"> </span> <span class="text-white/90 font-bold"> </span></div></div> <div class="ml-4 flex-shrink-0"><span> </span></div></div> <!></div>'),nt=j('<div class="mt-6 pt-4 border-t border-gray-100"><div class="flex justify-between text-sm"><div><span class="text-gray-500">Total Entries:</span> <span class="font-semibold ml-1"> </span></div> <div><span class="text-gray-500">Conversions:</span> <span class="font-semibold ml-1"> </span></div> <div><span class="text-gray-500">Overall Rate:</span> <span> </span></div></div></div>'),it=j('<div class="bg-white rounded-xl border border-gray-200 p-6"><h3 class="text-lg font-semibold text-gray-900 mb-6"> </h3> <div class="space-y-3"></div> <!></div>');function ot(G,p){$(p,!0);let f=C(p,"steps",19,()=>[]),H=C(p,"title",3,"Conversion Funnel"),I=C(p,"showDropOff",3,!0),J=C(p,"animated",3,!0);function L(r,s){return s===0?100:r.overall_conversion_rate}const W=["bg-blue-500","bg-blue-400","bg-cyan-400","bg-teal-400","bg-green-400","bg-emerald-500"];function b(r){return r>=1e6?(r/1e6).toFixed(1)+"M":r>=1e3?(r/1e3).toFixed(1)+"K":r.toString()}var k=it(),D=e(k),P=e(D,!0);t(D);var N=n(D,2);tt(N,23,f,r=>r.step_number,(r,s,o)=>{const x=T(()=>L(a(s),a(o)));var _=st(),l=e(_),v=e(l),h=e(v),d=e(h),y=e(d,!0);t(d);var w=n(d,2),F=e(w,!0);t(w),t(h),t(v);var c=n(v,2),u=e(c),q=e(u);t(u),t(c),t(l);var E=n(l,2);{var K=g=>{var m=rt(),z=e(m),M=n(e(z),2),V=e(M,!0);t(M);var A=n(M,2),X=e(A);t(A),t(z),t(m),O((Y,Z)=>{i(V,Y),i(X,`(${Z??""}%)`)},[()=>b(a(s).drop_off),()=>a(s).drop_off_rate.toFixed(1)]),S(g,m)};B(E,g=>{I()&&a(o)>0&&a(s).drop_off>0&&g(K)})}t(_),O((g,m)=>{R(v,1,`${W[a(o)%W.length]??""} h-full rounded-lg relative overflow-hidden
							${J()?"transition-all duration-700 ease-out":""}`),et(v,`width: ${a(x)??""}%`),i(y,a(s).name),i(F,g),R(u,1,`text-sm font-semibold ${a(s).conversion_rate>=80?"text-green-600":a(s).conversion_rate>=50?"text-yellow-600":"text-red-600"}`),i(q,`${m??""}%`)},[()=>b(a(s).count),()=>a(s).conversion_rate.toFixed(1)]),S(r,_)}),t(N);var Q=n(N,2);{var U=r=>{const s=T(()=>f()[0]),o=T(()=>f()[f().length-1]);var x=nt(),_=e(x),l=e(_),v=n(e(l),2),h=e(v,!0);t(v),t(l);var d=n(l,2),y=n(e(d),2),w=e(y,!0);t(y),t(d);var F=n(d,2),c=n(e(F),2),u=e(c);t(c),t(F),t(_),t(x),O((q,E,K)=>{i(h,q),i(w,E),R(c,1,`font-semibold ml-1 ${a(o).overall_conversion_rate>=10?"text-green-600":"text-orange-600"}`),i(u,`${K??""}%`)},[()=>b(a(s).count),()=>b(a(o).count),()=>a(o).overall_conversion_rate.toFixed(2)]),S(r,x)};B(Q,r=>{f().length>0&&r(U)})}t(k),O(()=>i(P,H())),S(G,k),at()}export{ot as F};
