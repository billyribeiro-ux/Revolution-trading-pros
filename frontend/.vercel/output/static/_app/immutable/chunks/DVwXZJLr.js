import{authStore as d}from"./D3S43Cfl.js";const l="http://localhost:8000/api";class q{async request(e,t,s,r){const u=d.getToken(),m=new URL(`${l}${t}`);r&&Object.entries(r).forEach(([i,n])=>{n!=null&&m.searchParams.append(i,String(n))});const c={"Content-Type":"application/json"};u&&(c.Authorization=`Bearer ${u}`);const a=await fetch(m.toString(),{method:e,headers:c,body:s?JSON.stringify(s):void 0,credentials:"include"});if(!a.ok){const i=await a.json().catch(()=>({message:"Request failed"}));throw new Error(i.message||`HTTP ${a.status}`)}return a.json()}async getCampaigns(e){return this.request("GET","/admin/email/campaigns",void 0,e)}async getCampaign(e){return this.request("GET",`/admin/email/campaigns/${e}`)}async createCampaign(e){return this.request("POST","/admin/email/campaigns",e)}async updateCampaign(e,t){return this.request("PUT",`/admin/email/campaigns/${e}`,t)}async deleteCampaign(e){return this.request("DELETE",`/admin/email/campaigns/${e}`)}async sendCampaign(e,t){return this.request("POST",`/admin/email/campaigns/${e}/send`,t)}async pauseCampaign(e){return this.request("POST",`/admin/email/campaigns/${e}/pause`)}async resumeCampaign(e){return this.request("POST",`/admin/email/campaigns/${e}/resume`)}async duplicateCampaign(e){return this.request("POST",`/admin/email/campaigns/${e}/duplicate`)}async sendTestEmail(e,t){return this.request("POST",`/admin/email/campaigns/${e}/test`,{emails:t})}async getTemplates(e){return this.request("GET","/admin/email/templates",void 0,e)}async getTemplate(e){return this.request("GET",`/admin/email/templates/${e}`)}async createTemplate(e){return this.request("POST","/admin/email/templates",e)}async updateTemplate(e,t){return this.request("PUT",`/admin/email/templates/${e}`,t)}async deleteTemplate(e){return this.request("DELETE",`/admin/email/templates/${e}`)}async duplicateTemplate(e){return this.request("POST",`/admin/email/templates/${e}/duplicate`)}async getSequences(e){return this.request("GET","/admin/email/sequences",void 0,e)}async getSequence(e){return this.request("GET",`/admin/email/sequences/${e}`)}async createSequence(e){return this.request("POST","/admin/email/sequences",e)}async updateSequence(e,t){return this.request("PUT",`/admin/email/sequences/${e}`,t)}async deleteSequence(e){return this.request("DELETE",`/admin/email/sequences/${e}`)}async activateSequence(e){return this.request("POST",`/admin/email/sequences/${e}/activate`)}async pauseSequence(e){return this.request("POST",`/admin/email/sequences/${e}/pause`)}async addSequenceEmail(e,t){return this.request("POST",`/admin/email/sequences/${e}/emails`,t)}async updateSequenceEmail(e,t,s){return this.request("PUT",`/admin/email/sequences/${e}/emails/${t}`,s)}async deleteSequenceEmail(e,t){return this.request("DELETE",`/admin/email/sequences/${e}/emails/${t}`)}async getAutomations(e){return this.request("GET","/admin/email/automations",void 0,e)}async getAutomation(e){return this.request("GET",`/admin/email/automations/${e}`)}async createAutomation(e){return this.request("POST","/admin/email/automations",e)}async updateAutomation(e,t){return this.request("PUT",`/admin/email/automations/${e}`,t)}async deleteAutomation(e){return this.request("DELETE",`/admin/email/automations/${e}`)}async activateAutomation(e){return this.request("POST",`/admin/email/automations/${e}/activate`)}async pauseAutomation(e){return this.request("POST",`/admin/email/automations/${e}/pause`)}async getSegments(e){return this.request("GET","/admin/email/segments",void 0,e)}async getSegment(e){return this.request("GET",`/admin/email/segments/${e}`)}async createSegment(e){return this.request("POST","/admin/email/segments",e)}async updateSegment(e,t){return this.request("PUT",`/admin/email/segments/${e}`,t)}async deleteSegment(e){return this.request("DELETE",`/admin/email/segments/${e}`)}async getSegmentSubscribers(e,t){return this.request("GET",`/admin/email/segments/${e}/subscribers`,void 0,t)}async getSubscribers(e){return this.request("GET","/admin/email/subscribers",void 0,e)}async getSubscriber(e){return this.request("GET",`/admin/email/subscribers/${e}`)}async createSubscriber(e){return this.request("POST","/admin/email/subscribers",e)}async updateSubscriber(e,t){return this.request("PUT",`/admin/email/subscribers/${e}`,t)}async deleteSubscriber(e){return this.request("DELETE",`/admin/email/subscribers/${e}`)}async addSubscriberTags(e,t){return this.request("POST",`/admin/email/subscribers/${e}/tags`,{tags:t})}async removeSubscriberTags(e,t){return this.request("DELETE",`/admin/email/subscribers/${e}/tags`,{tags:t})}async unsubscribe(e){return this.request("POST",`/admin/email/subscribers/${e}/unsubscribe`)}async resubscribe(e){return this.request("POST",`/admin/email/subscribers/${e}/resubscribe`)}async getAnalytics(e="30d"){return this.request("GET","/admin/email/analytics",void 0,{period:e})}async getCampaignStats(e){return this.request("GET",`/admin/email/campaigns/${e}/stats`)}async getSequenceStats(e){return this.request("GET",`/admin/email/sequences/${e}/stats`)}async getAutomationStats(e){return this.request("GET",`/admin/email/automations/${e}/stats`)}async getEvents(e){return this.request("GET","/admin/email/events",void 0,e)}async getDeliverabilityReport(){return this.request("GET","/admin/email/deliverability")}async checkDomainAuth(e){return this.request("GET","/admin/email/deliverability/check",void 0,{domain:e})}async generateEmailContent(e,t){return this.request("POST","/admin/email/ai/generate",{prompt:e,context:t})}async optimizeSubjectLine(e){return this.request("POST","/admin/email/ai/optimize-subject",{subject:e})}async predictSendTime(e){return this.request("GET",`/admin/email/ai/predict-send-time/${e}`)}}const h=new q;export{h as e};
