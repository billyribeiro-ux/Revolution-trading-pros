import{d as i,i as C,t as v}from"./3r80v9Z5.js";import{c as l,l as d,v as f}from"./CPVBir7Q.js";import{_ as P}from"./PPVm8Dsz.js";import{d1 as T}from"./C_QN0JMx.js";function m(){window.uetq=window.uetq||[]}function _(t){return{ad_storage:t.marketing?"granted":"denied"}}function S(t){m();const e=_(t);window.uetq.push("consent","default",{ad_storage:e.ad_storage})}function I(t){m();const e=_(t);window.uetq.push("consent","update",{ad_storage:e.ad_storage})}let g=!1;function p(t){g?I(t):(S(t),g=!0)}const A=["gclid","dclid","gclsrc","wbraid","gbraid","utm_source","utm_medium","utm_campaign","utm_term","utm_content","fbclid","msclkid","ttclid","twclid","li_fat_id","rdt_cid"];let h={};function D(t){return!t.marketing}function c(){const t={},e=new URLSearchParams(window.location.search);return A.forEach(n=>{const u=e.get(n);u&&(t[n]=u)}),h={...h,...t},Object.keys(t).length>0,t}function k(t){window.dataLayer=window.dataLayer||[],typeof window.gtag!="function"&&(window.gtag=function(...e){window.dataLayer.push(e)}),window.gtag("set","url_passthrough",t)}function U(){c(),k(!0)}function B(){k(!1)}function w(t){c(),D(t)?U():B()}let s=!1,r=!1,a=null,o=null;async function L(){if(s)return;s=!0,T(i).analytics&&await y(),o=i.subscribe(q)}async function q(t){t.analytics&&!r?await y():!t.analytics&&r&&b()}async function y(){if(!r)try{const{BehaviorTracker:t}=await P(async()=>{const{BehaviorTracker:e}=await import("./Cd62OnqS.js");return{BehaviorTracker:e}},[],import.meta.url);a=new t({apiEndpoint:"/api/behavior/events",trackScrollDepth:!0,trackRageClicks:!0,trackHoverIntent:!0,trackFormBehavior:!0,trackIdleTime:!0,sampleRate:1,maskPII:!0,respectDNT:!1,anonymizeIP:!0}),window.__behaviorTracker=a,r=!0}catch{}}function b(){if(r)try{a&&typeof a.destroy=="function"&&a.destroy(),a=null,window.__behaviorTracker=null,r=!1}catch{}}function x(){o&&(o(),o=null),b(),s=!1}function N(){const t=i.initialize();c(),l(t),p(t),w(t),d(t,f),L(),C(),t.hasInteracted||v("banner_shown");const e=i.subscribe(n=>{l(n),p(n),w(n),d(n,f)});return()=>{e(),x()}}function F(){const{exportAuditLog:t}=require("./audit-log"),{exportAnalyticsData:e}=require("./analytics"),{scanCookies:n}=require("./cookie-scanner");return JSON.stringify({exportDate:new Date().toISOString(),currentConsent:i.getState(),auditLog:JSON.parse(t()),analytics:JSON.parse(e()),cookies:n()},null,2)}export{F as e,N as i};
