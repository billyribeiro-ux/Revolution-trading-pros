import{p as bt,a as M,f as p,q as e,r as t,e as s,N as ft,i as X,g as i,n as S,w as b,O as Y,x as v,_ as pt,h as f,H as q,j as yt}from"./C_QN0JMx.js";var ht=p('<span class="absolute inset-0 flex items-center justify-center text-xs text-white font-medium"> </span>'),mt=p('<span class="absolute right-2 top-1/2 transform -translate-y-1/2 text-xs text-gray-500"> </span>'),Ft=p('<div class="space-y-2"><div class="flex items-center justify-between text-sm"><div class="flex items-center gap-2"><div></div> <span class="font-medium capitalize"> </span></div> <div class="flex items-center gap-4 text-gray-600"><span> </span> <span class="font-semibold text-gray-900"> </span></div></div> <div class="relative h-6 bg-gray-100 rounded-full overflow-hidden"><div><!></div> <!></div></div>'),wt=p('<div class="bg-white rounded-xl border border-gray-200 p-6"><div class="flex items-center justify-between mb-6"><div><h3 class="text-lg font-semibold text-gray-900"> </h3> <p class="text-sm text-gray-500"> </p></div> <div class="text-right"><div class="text-2xl font-bold text-gray-900"> </div> <div class="text-sm text-gray-500"> </div></div></div> <div class="space-y-4"></div> <div class="mt-6 pt-4 border-t border-gray-100 grid grid-cols-3 gap-4 text-center"><div><div class="text-lg font-bold text-gray-900"> </div> <div class="text-xs text-gray-500">Total Touchpoints</div></div> <div><div class="text-lg font-bold text-gray-900"> </div> <div class="text-xs text-gray-500">Assisted Conversions</div></div> <div><div class="text-lg font-bold text-gray-900"> </div> <div class="text-xs text-gray-500">Avg Conv Value</div></div></div></div>');function Ct(Z,u){bt(u,!0);let n=M(u,"channels",19,()=>[]),tt=M(u,"title",3,"Channel Attribution"),z=M(u,"model",3,"linear");const B={organic:"bg-green-500",paid:"bg-blue-500",social:"bg-purple-500",email:"bg-orange-500",direct:"bg-gray-500",referral:"bg-cyan-500",affiliate:"bg-pink-500"};let y=S(()=>n().reduce((a,r)=>a+r.attributed_conversions,0)),g=S(()=>n().reduce((a,r)=>a+r.attributed_revenue,0));function D(a){return a>=1e6?"$"+(a/1e6).toFixed(1)+"M":a>=1e3?"$"+(a/1e3).toFixed(1)+"K":"$"+a.toFixed(0)}const et={first_touch:"First Touch",last_touch:"Last Touch",linear:"Linear",time_decay:"Time Decay",position_based:"Position Based"};var h=wt(),m=e(h),F=e(m),w=e(F),at=e(w,!0);t(w);var H=s(w,2),rt=e(H);t(H),t(F);var K=s(F,2),A=e(K),it=e(A,!0);t(A);var O=s(A,2),st=e(O);t(O),t(K),t(m);var C=s(m,2);ft(C,21,n,a=>a.channel,(a,r)=>{const l=S(()=>i(g)>0?i(r).attributed_revenue/i(g)*100:0);var c=Ft(),x=e(c),j=e(x),G=e(j),I=s(G,2),nt=e(I,!0);t(I),t(j);var J=s(j,2),L=e(J),lt=e(L);t(L);var Q=s(L,2),ct=e(Q,!0);t(Q),t(J),t(x);var U=s(x,2),_=e(U),xt=e(_);{var _t=d=>{var o=ht(),N=e(o);t(o),b(k=>v(N,`${k??""}%`),[()=>i(r).revenue_share.toFixed(1)]),f(d,o)};X(xt,d=>{i(l)>15&&d(_t)})}t(_);var ut=s(_,2);{var gt=d=>{var o=mt(),N=e(o);t(o),b(k=>v(N,`${k??""}%`),[()=>i(r).revenue_share.toFixed(1)]),f(d,o)};X(ut,d=>{i(l)<=15&&d(gt)})}t(U),t(c),b((d,o)=>{Y(G,1,`w-3 h-3 rounded-full ${(B[i(r).channel]||"bg-gray-400")??""}`),v(nt,i(r).channel),v(lt,`${d??""} conv`),v(ct,o),Y(_,1,`${(B[i(r).channel]||"bg-gray-400")??""} h-full rounded-full
							transition-all duration-500 ease-out`),pt(_,`width: ${i(l)??""}%`)},[()=>i(r).attributed_conversions.toFixed(1),()=>D(i(r).attributed_revenue)]),f(a,c)}),t(C);var P=s(C,2),T=e(P),R=e(T),vt=e(R,!0);t(R),q(2),t(T);var $=s(T,2),V=e($),dt=e(V,!0);t(V),q(2),t($);var W=s($,2),E=e(W),ot=e(E,!0);t(E),q(2),t(W),t(P),t(h),b((a,r,l,c,x)=>{v(at,tt()),v(rt,`Attribution Model: ${(et[z()]||z())??""}`),v(it,a),v(st,`${r??""} conversions`),v(vt,l),v(dt,c),v(ot,x)},[()=>D(i(g)),()=>i(y).toFixed(0),()=>n().reduce((a,r)=>a+r.touchpoints,0).toLocaleString(),()=>n().reduce((a,r)=>a+r.assisted_conversions,0).toLocaleString(),()=>i(y)>0?(i(g)/i(y)).toFixed(0):0]),f(Z,h),yt()}export{Ct as A};
