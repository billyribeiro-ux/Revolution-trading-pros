import{z as ke,p as Le,a as u,o as Me,C as De,f as H,q as f,i as w,e as h,N as B,a$ as m,w as c,K as o,g as t,s as C,h as v,Q as O,n as s,r as x,x as P,m as Ee,D as ze,j as Pe,c as S,k as Se,d as oe,_ as Te}from"./C_QN0JMx.js";var Ve=H('<h3 class="text-lg font-semibold text-gray-900 mb-4"> </h3>'),je=m('<line stroke="#E5E7EB" stroke-dasharray="4 4"></line>'),Be=m('<text text-anchor="end" dominant-baseline="middle" class="text-xs fill-gray-500"> </text>'),Ce=m('<text text-anchor="middle" class="text-xs fill-gray-500"> </text>'),Oe=m("<path></path>"),Re=m('<path fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>'),Xe=m('<circle r="3" stroke="white" stroke-width="2"></circle>'),Ae=m('<line stroke-width="1" stroke-dasharray="4 4" opacity="0.5"></line><circle r="5" stroke="white" stroke-width="2"></circle>',1),We=H('<div class="absolute pointer-events-none bg-gray-900 text-white px-3 py-2 rounded-lg text-sm shadow-lg z-10 transform -translate-x-1/2"><div class="font-medium"> </div> <div class="text-gray-400 text-xs"> </div></div>'),Ye=H('<div class="bg-white rounded-xl border border-gray-200 p-4"><!> <div class="relative" role="img" aria-label="Time series chart"><svg class="overflow-visible"><!><!><!><!><!><!><!></svg> <!></div></div>');function Fe(ie,d){Le(d,!0);let i=u(d,"data",19,()=>[]),I=u(d,"title",3,""),b=u(d,"color",3,"#3B82F6"),ne=u(d,"fillOpacity",3,.1),se=u(d,"showArea",3,!0),ve=u(d,"showPoints",3,!1),R=u(d,"height",3,200),K=u(d,"formatValue",3,e=>e.toLocaleString()),N=u(d,"formatDate",3,e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})),y,T=C(600),k=C(null),L=C(0),X=C(0);const n={top:20,right:20,bottom:30,left:50};let Q=s(()=>t(T)-n.left-n.right),M=s(()=>R()-n.top-n.bottom),U=s(()=>i().map(e=>e.value)),V=s(()=>Math.min(...t(U),0)),de=s(()=>Math.max(...t(U))),A=s(()=>t(de)-t(V)||1);function D(e){return n.left+e/(i().length-1||1)*t(Q)}function j(e){return n.top+t(M)-(e-t(V))/t(A)*t(M)}let Z=s(()=>i().map((e,a)=>{const r=D(a),l=j(e.value);return a===0?`M ${r} ${l}`:`L ${r} ${l}`}).join(" ")),he=s(()=>t(Z)+` L ${D(i().length-1)} ${n.top+t(M)} L ${n.left} ${n.top+t(M)} Z`),G=s(()=>[0,.25,.5,.75,1].map(e=>({value:t(V)+e*t(A),y:j(t(V)+e*t(A))}))),ce=s(()=>i().filter((e,a)=>a%Math.ceil(i().length/5)===0||a===i().length-1));function W(){y&&S(T,y.clientWidth,!0)}function ue(e){if(!y)return;const a=y.getBoundingClientRect(),r=e.clientX-a.left-n.left,l=Math.round(r/t(Q)*(i().length-1));l>=0&&l<i().length&&(S(k,l,!0),S(L,D(l),!0),S(X,j(i()[l].value),!0))}function fe(){S(k,null)}Me(()=>{W(),window.addEventListener("resize",W)}),De(()=>{window.removeEventListener("resize",W)});var Y=Ye(),J=f(Y);{var xe=e=>{var a=Ve(),r=f(a,!0);x(a),c(()=>P(r,I())),v(e,a)};w(J,e=>{I()&&e(xe)})}var E=h(J,2);E.__mousemove=ue;var z=f(E),$=f(z);B($,17,()=>t(G),O,(e,a)=>{var r=je();c(()=>{o(r,"x1",n.left),o(r,"y1",t(a).y),o(r,"x2",t(T)-n.right),o(r,"y2",t(a).y)}),v(e,r)});var ee=h($);B(ee,17,()=>t(G),O,(e,a)=>{var r=Be(),l=f(r,!0);x(r),c(g=>{o(r,"x",n.left-8),o(r,"y",t(a).y),P(l,g)},[()=>K()(t(a).value)]),v(e,r)});var te=h(ee);B(te,17,()=>t(ce),O,(e,a)=>{const r=s(()=>i().indexOf(t(a)));var l=Ce(),g=f(l,!0);x(l),c((p,_)=>{o(l,"x",p),o(l,"y",R()-8),P(g,_)},[()=>D(t(r)),()=>N()(t(a).date)]),v(e,l)});var ae=h(te);{var _e=e=>{var a=Oe();c(()=>{o(a,"d",t(he)),o(a,"fill",b()),o(a,"fill-opacity",ne())}),v(e,a)};w(ae,e=>{se()&&i().length>1&&e(_e)})}var re=h(ae);{var ge=e=>{var a=Re();c(()=>{o(a,"d",t(Z)),o(a,"stroke",b())}),v(e,a)};w(re,e=>{i().length>1&&e(ge)})}var le=h(re);{var me=e=>{var a=Se(),r=oe(a);B(r,17,i,O,(l,g,p)=>{var _=Xe();c((q,F)=>{o(_,"cx",q),o(_,"cy",F),o(_,"fill",b())},[()=>D(p),()=>j(t(g).value)]),v(l,_)}),v(e,a)};w(le,e=>{ve()&&e(me)})}var ye=h(le);{var pe=e=>{var a=Ae(),r=oe(a),l=h(r);c(()=>{o(r,"x1",t(L)),o(r,"y1",n.top),o(r,"x2",t(L)),o(r,"y2",n.top+t(M)),o(r,"stroke",b()),o(l,"cx",t(L)),o(l,"cy",t(X)),o(l,"fill",b())}),v(e,a)};w(ye,e=>{t(k)!==null&&e(pe)})}x(z);var we=h(z,2);{var be=e=>{const a=s(()=>i()[t(k)]);var r=We(),l=f(r),g=f(l,!0);x(l);var p=h(l,2),_=f(p,!0);x(p),x(r),c((q,F)=>{Te(r,`left: ${t(L)??""}px; top: ${t(X)-50}px`),P(g,q),P(_,F)},[()=>K()(t(a).value),()=>N()(t(a).date)]),v(e,r)};w(we,e=>{t(k)!==null&&e(be)})}x(E),Ee(E,e=>y=e,()=>y),x(Y),c(()=>{o(z,"width",t(T)),o(z,"height",R())}),ze("mouseleave",E,fe),v(ie,Y),Pe()}ke(["mousemove"]);export{Fe as T};
