
<!doctype html>
<html lang="en-US">
<head>
<meta charset="utf-8">
<!-- Created using Storyline 360 - http://www.articulate.com -->
<!-- version: 3.60.26947.0 -->
<title>Quickstart to Precision Trading</title>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,shrink-to-fit=no,minimal-ui"/>
<meta name="apple-mobile-web-app-capable" content="yes"/>
<style>
html, body { height: 100%; padding: 0; margin: 0 }
#app { height: 100%; width: 100%; }
</style>
<script>window.THREE = { };</script>
</head>
<body style="background: #FFFFFF" class="cs-HTML theme-classic">
<!-- 360 -->
<script>!function(e){var i=/iPhone/i,o=/iPod/i,n=/iPad/i,t=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,d=/Android/i,s=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,b=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,r=/IEMobile/i,h=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,a=/BlackBerry/i,l=/BB10/i,p=/Opera Mini/i,f=/(CriOS|Chrome)(?=.*\bMobile\b)/i,u=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,c=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),w=function(e,i){return e.test(i)},A=function(e){var A=e||navigator.userAgent,v=A.split("[FBAN");if(void 0!==v[1]&&(A=v[0]),this.apple={phone:w(i,A),ipod:w(o,A),tablet:!w(i,A)&&w(n,A),device:w(i,A)||w(o,A)||w(n,A)},this.amazon={phone:w(s,A),tablet:!w(s,A)&&w(b,A),device:w(s,A)||w(b,A)},this.android={phone:w(s,A)||w(t,A),tablet:!w(s,A)&&!w(t,A)&&(w(b,A)||w(d,A)),device:w(s,A)||w(b,A)||w(t,A)||w(d,A)},this.windows={phone:w(r,A),tablet:w(h,A),device:w(r,A)||w(h,A)},this.other={blackberry:w(a,A),blackberry10:w(l,A),opera:w(p,A),firefox:w(u,A),chrome:w(f,A),device:w(a,A)||w(l,A)||w(p,A)||w(u,A)||w(f,A)},this.seven_inch=w(c,A),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},v=function(){var e=new A;return e.Class=A,e};"undefined"!=typeof module&&module.exports&&"undefined"==typeof window?module.exports=A:"undefined"!=typeof module&&module.exports&&"undefined"!=typeof window?module.exports=v():"function"==typeof define&&define.amd?define("isMobile",[],e.isMobile=v()):e.isMobile=v()}(this);
window.isMobile.apple.tablet = window.isMobile.apple.tablet ||
(navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);
window.isMobile.apple.device = window.isMobile.apple.device || window.isMobile.apple.tablet;
window.isMobile.tablet = window.isMobile.tablet || window.isMobile.apple.tablet;
window.isMobile.any = window.isMobile.any || window.isMobile.apple.tablet;
</script>
<div id="focus-sink" tabindex="-1"></div>
<div id="preso"></div>
<script>
window.DS = {};
window.globals = {
DATA_PATH_BASE: '',
HAS_FRAME: true,
HAS_SLIDE: true,
lmsPresent: false,
tinCanPresent: false,
cmi5Present: false,
aoSupport: false,
scale: 'show all',
captureRc: false,
browserSize: 'optimal',
bgColor: '#FFFFFF',
features: 'InsertSvgPicture,MultipleQuizTracking,ThreeSixtyDegreeProgressTrackingExclusions',
themeName: 'classic',
preloaderColor: '#FFFFFF',
suppressAnalytics: false,
productChannel: 'stable',
publishSource: 'storyline',
aid: 'auth0|5d5ac71cd6a4050dc7ed1d49',
cid: '773e546d-3f90-451f-bc64-5a5354fd2efe',
playerVersion: '3.60.26947.0',
maxIosVideoElements: 10,
parseParams: function(qs) {
if (window.globals.parsedParams != null) {
return window.globals.parsedParams;
}
qs = (qs || window.location.search.substr(1)).split('+').join(' ');
var params = {},
tokens,
re = /[?&]?([^=]+)=([^&]*)/g;
while (tokens = re.exec(qs)) {
params[decodeURIComponent(tokens[1]).trim()] =
decodeURIComponent(tokens[2]).trim();
}
window.globals.parsedParams = params;
return params;
}
};
(function() {
var classTypes = [ 'desktop', 'mobile', 'phone', 'tablet' ];
var addDeviceClasses = function(prefix, testObj) {
var curr, i;
for (i = 0; i < classTypes.length; i++) {
curr = classTypes[i];
if (testObj[curr]) {
document.body.classList.add(prefix + curr);
}
}
};
var params = window.globals.parseParams(),
isDevicePreview = params.devicepreview === '1',
isPhoneOverride = params.deviceType === 'phone' || (isDevicePreview && params.phone == '1'),
isTabletOverride = (params.deviceType === 'tablet' || isDevicePreview) && !isPhoneOverride,
isMobileOverride = isPhoneOverride || isTabletOverride;
var deviceView = {
desktop: !window.isMobile.any && !isMobileOverride,
mobile: window.isMobile.any || isMobileOverride,
phone: isPhoneOverride || (window.isMobile.phone && !isTabletOverride),
tablet: isTabletOverride || window.isMobile.tablet
};
window.globals.deviceView = deviceView;
window.isMobile.desktop = !window.isMobile.any;
window.isMobile.mobile = window.isMobile.any;
addDeviceClasses('view-', deviceView);
})();
</script>
<script src='HYPERLINK "https://simpler-cdn.s3.amazonaws.com/classes/Quickstart%20to%20Precision%20Trading/story_content/user.js" \t "_blank"story_content/user.js' type=text/javascript></script>
<div class="slide-loader"></div>
<script>
if (window.globals.deviceView.isMobile) { var doc = document, loader = doc.body.querySelector('.slide-loader'); [ 1, 2, 3 ].forEach(function(n) { var d = doc.createElement('div'); d.style.backgroundColor = window.globals.preloaderColor; d.classList.add('mobile-loader-dot'); d.classList.add('dot' + n); loader.appendChild(d); }); }
</script>
<div class="mobile-load-title-overlay" style="display: none">
<div class="mobile-load-title">Quickstart to Precision Trading</div>
</div>
<div class="mobile-chrome-warning"></div>
<script>
if (window.autoSpider && window.vInterfaceObject) {
document.querySelector('.mobile-load-title-overlay').style.display = 'none';
}
</script>
<link rel="stylesheet" href="html5/data/css/output.min.css" data-noprefix/>
</body>
<script src="html5/lib/scripts/bootstrapper.min.js"></script>
</html>
