(()=>{!function(t){"use strict";t((function(){["not_deactivated_error","activate_msg","wc_am_client_error","deactivate_msg","not_activated_empty_response","api_key_check","wc_am_deactivate","not_activated_error"].forEach((function(e){let s=t(`#setting-error-${e}`);s.length>0&&s.attr("style","display:block!important").addClass("cm-notice")}));let c=t("#cs_settings_form"),n=t("#cs_step_form"),i=c.attr("action"),a=t(".custom-switch-input"),l=t("#_cs_general_target"),_=t("#cm_nonce").val(),r=t(".cm-sortable"),d=t("#cs_iab_settings"),p=(document.dir,(window.visualViewport&&"number"==typeof window.visualViewport.width?window.visualViewport.width:window.innerWidth)<860);function u(e,t){e.closest(".select-wrap").toggleClass("opened",t)}function h(e,s){let o=t.trim(e.term).toLowerCase();if(""===o)return t(".cs_select2-results__options").removeClass("cs_select2-results__searched"),s;{t(".cs_select2-results__options").addClass("cs_select2-results__searched");let e=s.text.toLowerCase();if("GDPR"===s.id||"NONGDPR"===s.id)return null;if(e.indexOf(o)>-1)return s;if(s.children&&s.children.length>0){const e=s.children.filter((e=>e.text.toLowerCase().indexOf(o)>-1));if(e.length>0){const o=t.extend({},s,!0);return o.children=e,o}}}return null}function m(e){if(!e.id)return e.text;let s=t(`<span>${e.text}</span>`);if(e.element){const t=e.element.dataset;Object.keys(t).forEach((e=>{s.attr(`data-${e}`,t[e])}))}return s}r.sortable({placeholder:"cm-sortable-placeholder",containment:".cm-sortable-body",update:function(e,s){t.ajax({url:cmpro_ajax.ajaxurl,type:"POST",data:{action:"item_sort",order:r.sortable("toArray").toString(),_wpnonce:_},success:function(e){e.success||console.log("There was an error saving the updates")}})},change:function(e,s){t.ajax({url:cmpro_ajax.ajaxurl,type:"POST",data:{action:"item_sort",order:r.sortable("toArray").toString(),_wpnonce:_},success:function(e){e.success||console.log("There was an error saving the updates")}})}}),t("select").cs_select2({width:"100%"}).on("cs_select2:open",(function(){u(t(this),!0)})).on("cs_select2:close",(function(){u(t(this),!1)})),l.cs_select2({closeOnSelect:!1,dropdownCssClass:"cs_location",allowClear:!1,matcher:h,templateResult:m}).on("cs_select2:open",(()=>{t(".cs_select2-search__field").attr("placeholder","Click to hide locations list"),t(".cs_select2-results:not(:has(a))").prepend('<div class="cs_options_button_group"><a href="#" class="selectAll">Select all</a><a href="#" class="clearAll">Clear all</a></div>')})).on("cs_select2:close",(e=>{t(".cs_select2-search__field").attr("placeholder","Click to show locations list")})).on("cs_select2:select",(function(e){let s=t(this),o=e.params.data,c=o.element.attributes[0].value;if("GDPR"==o.id||"NONGDPR"==o.id){if(s.find("option").prop("disabled",!1).prop("selected",!1).trigger("change"),s.cs_select2("destroy").find("option").prop("disabled",!1).prop("selected",!1).end().cs_select2({closeOnSelect:!1,dropdownCssClass:"cs_location",allowClear:!1,matcher:h,templateResult:m}),"GDPR"==o.id||"NONGDPR"==o.id){let n=t.grep(e.target.options,(function(e){return t(e).data("pid")==c}));n=t.map(n,(function(e){return e.value})),s.val(o.id),s.val(s.cs_select2("val").concat(n)).find("option:selected").trigger("change"),s.trigger("change"),R(t(this),!0,!1,"NONGDPR"===o.id)}s.cs_select2("open")}else R(t(this),"US"===o.id,!0,!0);t(".cs_select2-search__field").attr("placeholder","Click to hide locations list")})).on("cs_select2:unselect",(function(e){let s=t(this);R(t(this),"US"===e.params.data.id,!0,!1),s.trigger("change"),t(".cs_select2-search__field").attr("placeholder","Click to hide locations list")})),t(".cs_select2-search__field").attr("placeholder","Click to show locations list"),t(document).on("click",".clearAll",(function(e){t(this).addClass("active"),l.cs_select2("destroy").find("option").prop("disabled",!1).prop("selected",!1).end().cs_select2({closeOnSelect:!1,dropdownCssClass:"cs_location",allowClear:!1,matcher:h,templateResult:m}),l.cs_select2("open"),R(l,!0,!1,!1)})),l.on("cs_select2:clear",(function(e){t(".selectGDPR, .selectnonGDPR").removeClass("active"),t("#_cs_general_target option").each((function(){t(this).prop("disabled",!1),t(this).prop("selected",!1)}))})),t(document).on("click",".selectAll",(function(e){l.cs_select2("destroy").find("option").prop("selected","selected").end().cs_select2({closeOnSelect:!1,dropdownCssClass:"cs_location",allowClear:!1,matcher:h,templateResult:m}),t(".selectAll").addClass("active"),l.cs_select2("open"),R(l,!0,!1,!0)})),a.on("click",(function(){t(this).is(":checked")?(t(this).closest(".custom-switch__parent_wrap").removeClass("not-active"),t(this).closest(".scripts-list-item").removeClass("not-active")):(t(this).closest(".custom-switch__parent_wrap").addClass("not-active"),t(this).closest(".scripts-list-item").addClass("not-active"))})),t(".rules-wrap ._cs_enable_rule").on("change",(function(){let e=0,s="draft";t(this).is(":checked")&&(e=1,s="publish");let o=t(this).closest(".rules-wrap").data("id");"publish"==s?t(this).closest(".rules-wrap").removeClass("disabled"):t(this).closest(".rules-wrap").addClass("disabled"),t.ajax({url:cmpro_ajax.ajaxurl,type:"POST",data:{action:"predefined_rule_enable_update",id:o,active:e,_wpnonce:_},success:function(e){t.ajax({url:cmpro_ajax.ajaxurl,type:"POST",data:{action:"item_sort",order:r.sortable("toArray").toString(),_wpnonce:_},success:function(e){e.success||console.log("There was an error saving the updates")}})},error:function(e,t,s){console.log("There was an error saving the updates"),console.log(e),console.error("Error AJAX-request!"),console.error("Status:",t),console.error("Error:",s),console.error("Server respond:",e.responseText)}})})),t(".rules-wrap ._cs_no_ip_rule").on("change",(function(){let e=0;t(this).is(":checked")&&(e=1);let s=t(this).closest(".rules-wrap").data("id");t.ajax({url:cmpro_ajax.ajaxurl,type:"POST",data:{action:"no_ip_rule_update",id:s,active:e,_wpnonce:_},error:function(e,t,s){console.log("There was an error saving the updates"),console.log(e),console.error("Error AJAX-request!"),console.error("Status:",t),console.error("Error:",s),console.error("Server respond:",e.responseText)}})}));const g=t(".color-field");g.wpColorPicker({hide:!0,palettes:!1,change:function(){},clear:function(){}}),g.each((function(){const e=t(this);e.off("focus click"),e.on("focus click",(function(e){return e.preventDefault(),e.stopImmediatePropagation(),!1}))})),t(document).on("change",".card.disable-control .disable-control-switcher input",(function(){t(this).closest(".card").toggleClass("disabled",!t(this).is(":checked"))})),t(".card.disable-control").each((function(){t(this).toggleClass("disabled",!t(this).find(".disable-control-switcher input").is(":checked"))})),t(document).on("click",".card-collapse",(function(){let e=t(this);if(e.hasClass("card-toggle")){let t=e.closest(".card-header"),s=t.closest(".card"),o=s.children(".card-body");t.toggleClass("header-opened"),s.toggleClass("card-opened"),o.slideToggle(400)}e.hasClass("card-collapse-text")&&(e.find("> .first").toggleClass("translate-left"),e.find("> .second").toggleClass("translate-right"))})),t(document).on("click",".cs-modal-close, .preview_wrap .cs_popup_overlay, .preview_wrap .cs_action_btn, .preview_wrap .cs_action_purposes_btn",(function(e){e.preventDefault();let s=t(this).closest(".cs_preview_container").find(".preview_wrap");jQuery("body").removeClass("cs-barmodal-open cs-modal-open"),s.find(".cs_settings_popup").removeClass("cs-show cs-blowup"),s.find(".cs_settings_popup").addClass("cs-out"),s.find(".cs-settings-overlay").removeClass("cs-show"),s.find(".cs-popupbar-overlay").removeClass("cs-show");let o=s.find(".cs-info-bar");o.css("opacity",0),o.css("display","none"),s.hide();let c=t(".preview_wrap .cs_popup_overlay");c.css("visibility","hidden"),c.css("opacity",0)})),jQuery(document).on("click",".options_btn",(function(e){e.preventDefault();let s=t(this).closest(".cs_preview_container").find(".preview_wrap");s.find(".cs-info-bar").hasClass("cs-public-cookie-popup")||jQuery("body").addClass("cs-barmodal-open"),s.find(".cs_settings_popup").addClass("cs-show").css({opacity:0}).animate({opacity:1}),s.find(".cs_settings_popup").removeClass("cs-blowup cs-out").addClass("cs-blowup"),jQuery("body").addClass("cs-modal-open"),s.find(".cs-settings-overlay").addClass("cs-show"),s.find(".cs-info-bar").hide()})),t(".btn_next_step").on("click",(function(){let e=t(this),s=e.closest(".step-wrap").next();e.closest(".step-wrap").fadeOut(200,(function(){s.fadeIn(200)}))})),t(".btn_second_step").on("click",(function(){let e=t(this);t("#cs_step_form").fadeIn(),e.closest(".step-wrap").fadeOut(200,(function(){t("#step_second").fadeIn(200)}))})),t(".btn_prev_second_step").on("click",(function(){let e=t(".cs_settings_form");t("#cs_step_form").fadeOut(200,(function(){e.fadeIn(200)}))})),t(".btn_prev_step").on("click",(function(){let e=t(this),s=e.closest(".step-wrap").prev();e.closest(".step-wrap").fadeOut(200,(function(){s.fadeIn(200)}))})),t(".delete_custom_post").on("click",(function(e){e.preventDefault();let s=t(this).data("id"),o=t(this).data("cat");t.ajax({url:i,type:"POST",data:"post_id="+s+"&data_cat="+o+"&cs_settings_ajax_update=delete_custom_post&_wpnonce="+_,success:function(e){location.reload()},error:function(e,t,s){console.log(e),console.error("Error AJAX-request!"),console.error("Status:",t),console.error("Error:",s),console.error("Server respond:",e.responseText)}})})),t(".delete_cookie_cat_button").on("click",(function(){let e=t(this).data("id"),s=t(this).closest(".script-cat-actions");t.ajax({url:i,type:"POST",data:"cs_cookie_cat_id="+e+"&cs_settings_ajax_update=delete_cookie_cat&_wpnonce="+_,beforeSend:function(){s.addClass("loading")},success:function(e){location.reload()},error:function(e,t,s){console.log(e),console.error("Error AJAX-request!"),console.error("Status:",t),console.error("Error:",s),console.error("Server respond:",e.responseText)},complete:function(){s.removeClass("loading")}})})),t("#cs_iab_settings .cs_iab_show_only_vendors").on("click",(function(){let e=t(this).closest(".card-body").find(".cs_iab_show_only_vendors_details");t(this).is(":checked")?e.slideDown(400):e.slideUp(400)})),t("#cs_iab_settings .cs_iab_show_only_additional_vendors").on("click",(function(){let e=t(this).closest(".card-body").find(".cs_iab_show_only_additional_vendors_details");t(this).is(":checked")?e.slideDown(400):e.slideUp(400)}));let f=t(".row-property .cs_consent_for_pys[type=checkbox]");function b(e){e.closest(".row-property").siblings(".row-sub-property").find(".row-sub-property-toggle").slideToggle()}function v(){let e=t(".cs_renew_consent_wrap_new_cat");e.css("opacity","0"),setTimeout((()=>{e.fadeOut(0)}),400)}function w(){let e=t(".cs_restore_defaults_design_wrap");e.css("opacity","0"),setTimeout((()=>{e.fadeOut(0)}),400)}function k(){let e=t(".cs_renew_consent_wrap");e.css("opacity","0"),setTimeout((()=>{e.fadeOut(0)}),400)}function y(){let e=t(".cs_restart_setup_wrap");e.css("opacity","0"),setTimeout((()=>{e.fadeOut(0)}),400)}f.prop("checked")||b(f),f.on("click",(function(){b(t(this))})),t(".cs_new_cat").on("click",(function(){t(".cs_new_cat_block").slideToggle(400)})),t(".cs_renew_consent_cancel_new_cat").on("click",(function(){v()})),t(".cs_renew_consent_category_new_cat").on("click",(function(){v(),setTimeout((()=>{t(".cm-settings-form").submit()}),400)})),t("#cm-restore-defaults-design-btn").on("click",(function(){t(".cs_restore_defaults_design_wrap").fadeIn(0).css("opacity","1")})),t(".cs_restore_defaults_design_cancel").on("click",(function(){w()})),t(".cs_restore_defaults_design").on("click",(function(){w(),setTimeout((()=>{t("#cm-restore-defaults-design").val(1),t(".cm-settings-form").submit()}),400)})),t(".cs_renew_consent_confirm").on("click",(function(){t(".cs_renew_consent_wrap").fadeIn(0).css("opacity","1")})),t(".cs_renew_consent_cancel").on("click",(function(){k()})),t(".cs_renew_consent").on("click",(function(){k(),setTimeout((()=>{t("#cm-renew-consent").val(1),t(".cm-settings-form").submit()}),400)})),t(".cs_restart_setup_confirm").on("click",(function(){t(".cs_restart_setup_wrap").fadeIn(0).css("opacity","1")})),t(".cs_restart_setup_cancel").on("click",(function(){y()})),t(".cs_restart_setup").on("click",(function(){y(),setTimeout((()=>{t("#cm-restart-setup").val(1),t(".cm-settings-form").submit()}),400)})),t("#add_new_ignore_ip").on("click",(function(){let e=t("#new_ignore_ip").val(),s=t(".cs-error-message"),o=s.find(".message-content"),c=t(this).closest(".add_new_ignore_ip_wrap");!function(e){const t="(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]?|0)";return!!new RegExp(`^${t}\\.${t}\\.${t}\\.${t}$`).test(e)||!!new RegExp("^\\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([ 0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4] \\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]? \\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1, 4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[ 0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f] {1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1 ,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]| 2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4 }:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}) {0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]| 2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4 }:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}) {0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]| 2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4 }:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}) {0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4] \\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}) {1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1 \\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)) {3}))|:)))(%.+)?\\s*$").test(e)}(e)?(o.text("Invalid IP address"),t(s).slideDown()):(t(".cs-error-message").slideUp(),t.ajax({url:cmpro_ajax.ajaxurl,type:"POST",data:{action:"cs_new_ignore_ip",nonce_code:cmpro_ajax.nonce,ignore_ip:e},beforeSend:function(){c.addClass("loading")},success:function(e){e.success?(t(".cs-error-message").slideUp(),location.reload()):(o.text("Duplicate IP address"),t(s).slideDown())},complete:function(){c.removeClass("loading")}}))})),t(document).on("click",".template_delete_btn, .custom_rule_delete_btn",(function(){let e=t(this).data("id"),s=t(this).closest(".action-buttons");t.ajax({url:i,type:"POST",data:"template_id="+e+"&cs_settings_ajax_update=delete_template&_wpnonce="+_,beforeSend:function(){s.addClass("loading")},success:function(e){location.reload()},error:function(e,t,s){console.log(e),console.error("Error AJAX-request!"),console.error("Status:",t),console.error("Error:",s),console.error("Server respond:",e.responseText)},complete:function(){s.removeClass("loading")}})}));let C=t("._cs_bars_type");C.on("change",(function(){let e=t("._cs_bars_type").children("option:selected").val();"popup_small"==e||"popup_large"==e||"popup_small"==t(this).val()||"popup_large"==t(this).val()?t(".cs_bars_position_wrap").hide():t(".cs_bars_position_wrap").show(),S()})),C.each((function(){"bar_small"==t(this).val()||"bar_large"==t(this).val()?t("._cs_bars_position_wrap").show():t("._cs_bars_position_wrap").hide()})),t("._cs_custom_text").on("change",(function(){t(this).is(":checked")?t(".custom_text_wrap").slideDown(400):t(".custom_text_wrap").slideUp(400)}));let x=t("._cs_bars_position");function S(){let e=t("._cs_bars_position").children("option:selected").val(),s=t("._cs_bars_type").children("option:selected").val();"multi"!==t("._cs_design_type").children("option:selected").val()||"top"!==e||"bar_small"!==s&&"bar_large"!==s?(t(".cs_top_push_wrap").slideUp(400),t("._cs_top_push").prop("checked",!1)):(t(".cs_top_push_wrap").slideDown(400),t("._cs_top_push").prop("checked",!0))}x.each((function(){"top"===t(this).val()?t(".cs_top_push_wrap").slideDown(400):t(".cs_top_push_wrap").slideUp(400)})),x.on("change",(function(){S()}));let j=t("._cs_type");j.children("option:selected").val();function A(){let e=t(".cs_deactivation_db_clear_wrap");e.css("opacity","0"),setTimeout((()=>{e.fadeOut(0)}),400)}function T(){let e=t(".cs_delete_proof_consent_wrap");e.css("opacity","0"),setTimeout((()=>{e.fadeOut(0)}),400)}function D(e=!1,s,o,c,n){let i=s.find(".popup-message"),a=i.find(".message-content");void 0===n&&(n=0),void 0===c&&(c="undefined");let l={limit:c,offset:n,submit:e,nonce_code:cmpro_ajax.nonce,action:"cs_export_proof_consent"};0==n&&(a.html("Export processing"),i.slideDown(400),o.addClass("loading")),t.ajax({type:"POST",data:l,url:cmpro_ajax.ajaxurl,success:function(c){if(1==c.loop&&(D(e,s,o,c.limit,c.offset),a.html("Exported "+c.offset+" items")),0==c.loop){a.html("Exported completed");let e=c.file_url;window.open(e,"_blank"),setTimeout((function(){T()}),1500),o.removeClass("loading"),t.ajax({url:cmpro_ajax.ajaxurl,type:"POST",data:{action:"cs_export_proof_consent_done",nonce_code:cmpro_ajax.nonce},error:function(e,t,s){console.log(e),console.error("Error AJAX-request!"),console.error("Status:",t),console.error("Error:",s),console.error("Server respond:",e.responseText)}})}},error:function(e,t,s){console.log(e),console.error("Error AJAX-request!"),console.error("Status:",t),console.error("Error:",s),console.error("Server respond:",e.responseText),a.html("Something went wrong"),i.slideDown(400),setTimeout((function(){T()}),1500),o.removeClass("loading")}})}function O(){let e=t(".cs_restore_translations_wrap");e.css("opacity","0"),setTimeout((()=>{e.fadeOut(0)}),400)}function E(e,s,o){let c=e.params.data,n=s.attr("data-plugin-name"),i=s.attr("data-render"),a=s.attr("data-field");s.attr("data-lang",c.id),"renderSelectStandardInput"==i?t("#"+o).attr("name","cs["+n+"]["+a+"]["+c.id+"]"):"renderWpEditorByTerm"!=i&&t("#"+o).attr("name","cs["+n+"][text]["+a+"]["+c.id+"]")}function P(){t(".preview_wrap .cs_popup_overlay").css({visibility:"visible",opacity:1})}function I(){let e=t('input[type="checkbox"][name="cs[consent-magic][cs_plugin_activation]"]');e.length>0&&t(".general-sub-settings").toggleClass("disabled",!e.prop("checked"))}function R(e,s,o,c){if(s){if(e.find('optgroup[id="cs_target_states_group"] option').each((function(){t(this).prop("selected",c)})),e.cs_select2({closeOnSelect:!1,dropdownCssClass:"cs_location",allowClear:!1,matcher:h,templateResult:m}),e.cs_select2("open"),o){let e=t(".cs_select2-dropdown"),s=e.find(".cs_select2-results__option[aria-selected] > span[data-country=US]");if(s.length){let t=e.find(".cs_select2-results > .cs_select2-results__options");t.scrollTop(s[0].offsetParent.offsetTop-t.height()/2)}}e.trigger("change")}let n=e.find('optgroup[id="cs_target_states_group"] option:selected'),i=e.find('option[class="country"]:selected'),a=n.map((function(){return t(this).data("value")})).get();a=a.join(","),t("#cs_states_target").val(a);let l=i.map((function(){return t(this).val()})).get();l=l.join(","),t("#cs_countries_target").val(l)}t("._cs_design_type").on("change",(function(){let e=t("._cs_bars_type");"single"==t(this).val()?(e.val("popup_large").change(),e.addClass("disabled"),e.parent().addClass("disabled")):(e.val("bar_small").change(),e.removeClass("disabled"),e.parent().removeClass("disabled")),S()})),j.on("change",(function(){!function(e){t("._cs_bars_position").val("bottom").change();let s=t("._cs_sticky"),o=t("._cs_bars_type"),c=t(".cs_custom_button_block"),n=t(".cs_custom_button_block_categories"),i=t("._cs_close_on_scroll"),a=t("._cs_refresh_after_consent"),l=t("._cs_deny_consent_for_close"),_=t("._cs_smart_sticky"),r=t("._cs_smart_sticky_mobile"),d=t(".sticky-list-container"),p=t("._cs_design_type"),u=t("._cs_custom_text"),h=t(".cs_custom_text"),m=t("._cs_native_scripts"),g=t("._cs_use_meta_ldu"),f=t("._cs_google_consent_mode"),b=t("._cs_bing_consent_mode"),v=t("._cs_reddit_ldu");"just_inform"==e&&(p.val("multi").change(),p.removeClass("disabled"),o.val("bar_small").change(),o.removeClass("disabled"),t("._cs_privacy_link").prop("checked",!0).closest(".list-item").show(),i.prop("checked",!0).closest(".list-item").show(),i.closest(".list-item").find(".cs_showing_line").show(),a.prop("checked",!1).closest(".list-item").hide(),t("._cs_deny_all_btn").prop("checked",!1).closest(".list-item").hide(),t("._cs_hide_close_btn").prop("checked",!1).closest(".list-item").hide(),t("._cs_custom_button").prop("checked",!1).closest(".list-item").hide(),t("._cs_track_analytics").prop("checked",!1).closest(".list-item").hide(),t("._cs_block_content").prop("checked",!1).closest(".list-item").hide(),t("._cs_mobile_side_sticky").prop("checked",!1).closest(".list-item").hide(),t("._cs_showing_rule_until_express_consent").prop("checked",!1).closest(".list-item").hide(),l.prop("checked",!1).closest(".list-item").hide(),_.prop("checked",!1).closest(".list-item").hide(),r.prop("checked",!1).closest(".list-item").hide(),t(".cs_design_type_wrap").hide(),h.show(),m.prop("checked",!1).closest(".list-item").hide(),g.prop("checked",!1).closest(".list-item").hide(),f.prop("checked",!1).closest(".list-item").hide(),f.closest(".list-item").find(".cs_showing_line").hide(),d.hide().addClass("disabled"),n.addClass("disabled"),b.prop("checked",!1).closest(".list-item").hide(),v.prop("checked",!1).closest(".list-item").hide(),s.closest(".primary-switch").removeClass("disabled"),s.prop({checked:!1}).closest(".list-item").hide(),s.closest(".list-item").find(".categories_list>div:not(.dimmy_checkbox) .small-switch input[type=checkbox]").each((function(e,s){t(s).prop("checked",!1)})),c.find(".categories_list>div:not(.dimmy_checkbox) .small-switch input[type=checkbox]").each((function(e,s){t(s).prop("checked",!1)}))),"inform_and_opiout"==e&&(p.val("multi").change(),p.removeClass("disabled"),o.val("bar_small").change(),o.removeClass("disabled"),t("._cs_privacy_link").prop("checked",!0).closest(".list-item").show(),t("._cs_block_content").prop("checked",!1).closest(".list-item").show(),i.prop("checked",!1).closest(".list-item").show(),i.closest(".list-item").find(".cs_showing_line").hide(),t("._cs_deny_all_btn").prop("checked",!1).closest(".list-item").show(),t("._cs_hide_close_btn").prop("checked",!1).closest(".list-item").show(),t("._cs_custom_button").prop("checked",!1).closest(".list-item").show(),t("._cs_track_analytics").prop("checked",!1).closest(".list-item").hide(),a.closest(".list-item").show(),t("._cs_mobile_side_sticky").prop("checked",!1).closest(".list-item").show(),t("._cs_showing_rule_until_express_consent").prop("checked",!1).closest(".list-item").show(),a.closest(".list-item").find(".cs_showing_line").hide(),_.prop("checked",!1).closest(".list-item").show(),r.prop("checked",!1).closest(".list-item").show(),l.prop("checked",!1).closest(".list-item").hide(),t(".cs_design_type_wrap").show(),h.show(),m.prop("checked",!1).closest(".list-item").hide(),g.prop("checked",!0).closest(".list-item").show(),f.prop("checked",!0).closest(".list-item").show(),f.closest(".list-item").find(".cs_showing_line").hide(),d.show().addClass("disabled"),n.addClass("disabled"),b.prop("checked",!0).closest(".list-item").show(),v.prop("checked",!0).closest(".list-item").show(),s.closest(".primary-switch").removeClass("disabled"),s.prop({checked:!1}).closest(".list-item").show(),s.closest(".list-item").find(".categories_list>div:not(.dimmy_checkbox) .small-switch input[type=checkbox]").each((function(e,s){t(s).prop("checked",!0)})),c.find(".categories_list>div:not(.dimmy_checkbox) .small-switch input[type=checkbox]").each((function(e,s){t(s).prop("checked",!0)}))),"ask_before_tracking"==e&&(p.val("multi").change(),p.removeClass("disabled"),o.val("bar_small").change(),o.removeClass("disabled"),t("._cs_privacy_link").prop("checked",!0).closest(".list-item").show(),t("._cs_block_content").prop("checked",!0).closest(".list-item").show(),i.prop("checked",!1).closest(".list-item").show(),i.closest(".list-item").find(".cs_showing_line").hide(),t("._cs_deny_all_btn").prop("checked",!0).closest(".list-item").show(),t("._cs_hide_close_btn").prop("checked",!0).closest(".list-item").show(),t("._cs_custom_button").prop("checked",!1).closest(".list-item").show(),t("._cs_track_analytics").prop("checked",!1).closest(".list-item").show(),a.prop("checked",!0).closest(".list-item").show(),t("._cs_mobile_side_sticky").prop("checked",!1).closest(".list-item").show(),t("._cs_showing_rule_until_express_consent").prop("checked",!1).closest(".list-item").hide(),a.closest(".list-item").find(".cs_showing_line").show(),_.prop("checked",!1).closest(".list-item").show(),r.prop("checked",!1).closest(".list-item").show(),l.prop("checked",!1).closest(".list-item").show(),t(".cs_design_type_wrap").show(),h.show(),m.prop("checked",!1).closest(".list-item").hide(),g.prop("checked",!1).closest(".list-item").show(),f.prop("checked",!0).closest(".list-item").show(),f.closest(".list-item").find(".cs_showing_line").hide(),d.show().removeClass("disabled"),n.addClass("disabled"),b.prop("checked",!0).closest(".list-item").show(),v.prop("checked",!1).closest(".list-item").show(),s.closest(".primary-switch").removeClass("disabled"),s.prop({checked:!0}).closest(".list-item").show(),s.closest(".list-item").find(".categories_list>div:not(.dimmy_checkbox) .small-switch input[type=checkbox]").each((function(e,s){t(s).prop("checked",!0)})),c.find(".categories_list>div:not(.dimmy_checkbox) .small-switch input[type=checkbox]").each((function(e,s){t(s).prop("checked",!0)}))),"iab"==e&&(p.val("single").change(),p.addClass("disabled"),o.val("popup_large").change(),o.addClass("disabled"),t("._cs_privacy_link").prop("checked",!0).closest(".list-item").hide(),t("._cs_block_content").prop("checked",!0).closest(".list-item").show(),i.prop("checked",!1).closest(".list-item").hide(),i.closest(".list-item").find(".cs_showing_line").show(),t("._cs_deny_all_btn").prop("checked",!0).closest(".list-item").show(),t("._cs_hide_close_btn").prop("checked",!0).closest(".list-item").show(),t("._cs_custom_button").prop("checked",!1).closest(".list-item").hide(),t("._cs_track_analytics").prop("checked",!1).closest(".list-item").hide(),a.prop("checked",!0).closest(".list-item").show(),t("._cs_mobile_side_sticky").prop("checked",!1).closest(".list-item").show(),t("._cs_showing_rule_until_express_consent").prop("checked",!1).closest(".list-item").hide(),a.closest(".list-item").find(".cs_showing_line").show(),_.prop("checked",!1).closest(".list-item").hide(),r.prop("checked",!1).closest(".list-item").hide(),l.prop("checked",!1).closest(".list-item").show(),t(".cs_design_type_wrap").show(),u.prop("checked",!1),h.hide(),m.prop("checked",!0).closest(".list-item").show(),g.prop("checked",!1).closest(".list-item").hide(),f.prop("checked",!0).closest(".list-item").show(),f.closest(".list-item").find(".cs_showing_line").show(),d.hide().addClass("disabled"),n.addClass("disabled"),b.prop("checked",!0).closest(".list-item").show(),v.prop("checked",!1).closest(".list-item").hide(),s.closest(".primary-switch").addClass("disabled"),s.prop({checked:!0}).closest(".list-item").show(),s.closest(".list-item").find(".categories_list>div:not(.dimmy_checkbox) .small-switch input[type=checkbox]").each((function(e,s){t(s).prop("checked",!0)})),c.find(".categories_list>div:not(.dimmy_checkbox) .small-switch input[type=checkbox]").each((function(e,s){t(s).prop("checked",!0)})))}(t("._cs_type").children("option:selected").val()),t(".select-wrap").each((function(e,s){let o=t(s).find("> select").hasClass("disabled");t(this).toggleClass("disabled",o)}))})),t(".preview_size_btn").on("click",(function(){let e=t(".cs_admin_preview_container"),s=e.find(".preview_wrap"),o=t(this).data("template"),c="cs_d_consent-magic_cs_d_sb_";switch(s.html(""),e.removeClass("bar_small bar_large popup_small popup_large").addClass(o),o){case"bar_small":c="cs_d_consent-magic_cs_d_sb_";break;case"bar_large":c="cs_d_consent-magic_cs_d_lb_";break;case"popup_small":c="cs_d_consent-magic_cs_d_sp_";break;case"popup_large":c="cs_d_consent-magic_cs_d_lp_"}let n=t(this).closest(".cs_preview_design_block").find(".cm-loader-wrap"),i=t('input[id^="'+c+'min_height"]').val(),a=t('input[id^="'+c+'padding_top"]').val(),l=t('input[id^="'+c+'padding_bottom"]').val(),r=t('input[id^="'+c+'padding_left"]').val(),d=t('input[id^="'+c+'padding_right"]').val(),p=t('input[id^="'+c+'font_size"]').val(),u=t("#"+c+"font_weight").children("option:selected").val(),h=t('input[id^="'+c+'btn_pd_t"]').val(),m=t('input[id^="'+c+'btn_pd_bt"]').val(),g=t('input[id^="'+c+'btn_pd_l"]').val(),f=t('input[id^="'+c+'btn_pd_r"]').val(),b=t('input[id^="'+c+'btn_mg_t"]').val(),v=t('input[id^="'+c+'btn_mg_bt"]').val(),w=t('input[id^="'+c+'btn_mg_l"]').val(),k=t('input[id^="'+c+'btn_mg_r"]').val(),y=t('input[id^="'+c+'btn_font_size"]').val(),C=t("#"+c+"btn_font_weight").children("option:selected").val(),x=t('input[id^="cs_d_consent-magic_cs_d_op_min_height"]').val(),S=t('input[id^="cs_d_consent-magic_cs_d_op_padding_top"]').val(),j=t('input[id^="cs_d_consent-magic_cs_d_op_padding_bottom"]').val(),A=t('input[id^="cs_d_consent-magic_cs_d_op_padding_left"]').val(),T=t('input[id^="cs_d_consent-magic_cs_d_op_padding_right"]').val(),D=t('input[id^="cs_d_consent-magic_cs_d_op_font_size"]').val(),O=t("#cs_d_consent-magic_cs_d_op_font_weight").children("option:selected").val(),E=t('input[id^="cs_d_consent-magic_cs_d_op_btn_pd_t"]').val(),I=t('input[id^="cs_d_consent-magic_cs_d_op_btn_pd_bt"]').val(),R=t('input[id^="cs_d_consent-magic_cs_d_op_btn_pd_l"]').val(),$=t('input[id^="cs_d_consent-magic_cs_d_op_btn_pd_r"]').val(),z=t('input[id^="cs_d_consent-magic_cs_d_op_btn_mg_t"]').val(),X=t('input[id^="cs_d_consent-magic_cs_d_op_btn_mg_bt"]').val(),N=t('input[id^="cs_d_consent-magic_cs_d_op_btn_mg_l"]').val(),q=t('input[id^="cs_d_consent-magic_cs_d_op_btn_mg_r"]').val(),F=t('input[id^="cs_d_consent-magic_cs_d_op_btn_font_size"]').val(),J=t('input[id^="cs_d_consent-magic_cs_d_op_titles_font_size"]').val(),L=t('input[id^="cs_d_consent-magic_cs_d_op_subtitles_font_size"]').val(),U=t("#cs_d_consent-magic_cs_d_op_btn_font_weight").children("option:selected").val(),B=t("#cs_d_consent-magic_cs_d_op_titles_font_weight").children("option:selected").val(),Q=t("#cs_d_consent-magic_cs_d_op_subtitles_font_weight").children("option:selected").val();t.ajax({url:cmpro_ajax.ajaxurl,type:"POST",data:{action:"cs_preview_size_show",bar_type:o,min_height:i,pd_top:a,pd_bottom:l,pd_left:r,pd_right:d,font_s:p,font_w:u,btn_pd_t:h,btn_pd_b:m,btn_pd_l:g,btn_pd_r:f,btn_mg_t:b,btn_mg_b:v,btn_mg_r:k,btn_mg_l:w,btn_font_s:y,btn_font_w:C,op_min_height:x,op_pd_top:S,op_pd_bottom:j,op_pd_left:A,op_pd_right:T,op_font_s:D,op_font_w:O,op_btn_pd_t:E,op_btn_pd_b:I,op_btn_pd_l:R,op_btn_pd_r:$,op_btn_mg_t:z,op_btn_mg_b:X,op_btn_mg_l:N,op_btn_mg_r:q,op_btn_font_s:F,op_title_f_s:J,op_subtitle_f_s:L,op_btn_font_w:U,op_title_f_w:B,op_subtitle_f_w:Q,_wpnonce:_},beforeSend:function(){n.addClass("loading")},success:function(e){e.success&&(s.html(e.data.html),s.find(".cs-info-bar").hasClass("cs-public-cookie-popup")&&jQuery("body").addClass("cs-barmodal-open"),s.find(".cs-popupbar-overlay").addClass("cs-show"),s.find(".cs-info-bar").css({opacity:1,display:"block"}),s.show(),P())},error:function(e,t,s){console.log(e),console.error("Error AJAX-request!"),console.error("Status:",t),console.error("Error:",s),console.error("Server respond:",e.responseText)},complete:function(){n.removeClass("loading")}})})),t(".preview_size_single_btn").on("click",(function(){let e=t(".cs_admin_preview_container"),s=e.find(".preview_wrap");s.html(""),e.addClass("popup_large");let o=t(this).closest(".cs_preview_design_block").find(".cm-loader-wrap"),c=t('input[id^="cs_d_consent-magic_cs_d_single_op_padding_top"]').val(),n=t('input[id^="cs_d_consent-magic_cs_d_single_op_padding_bottom"]').val(),i=t('input[id^="cs_d_consent-magic_cs_d_single_op_padding_left"]').val(),a=t('input[id^="cs_d_consent-magic_cs_d_single_op_padding_right"]').val(),l=t('input[id^="cs_d_consent-magic_cs_d_single_op_font_size"]').val(),r=t("#cs_d_consent-magic_cs_d_single_op_font_weight").children("option:selected").val(),d=t('input[id^="cs_d_consent-magic_cs_d_single_op_second_font_size"]').val(),p=t("#cs_d_consent-magic_cs_d_single_op_second_font_weight").children("option:selected").val(),u=t('input[id^="cs_d_consent-magic_cs_d_single_op_titles_font_size"]').val(),h=t("#cs_d_consent-magic_cs_d_single_op_titles_font_weight").children("option:selected").val(),m=t('input[id^="cs_d_consent-magic_cs_d_single_op_subtitles_font_size"]').val(),g=t("#cs_d_consent-magic_cs_d_single_op_subtitles_font_weight").children("option:selected").val(),f=t('input[id^="cs_d_consent-magic_cs_d_single_op_subsubtitles_font_size"]').val(),b=t("#cs_d_consent-magic_cs_d_single_op_subsubtitles_font_weight").children("option:selected").val(),v=t('input[id^="cs_d_consent-magic_cs_d_single_op_btn_pd_t"]').val(),w=t('input[id^="cs_d_consent-magic_cs_d_single_op_btn_pd_b"]').val(),k=t('input[id^="cs_d_consent-magic_cs_d_single_op_btn_pd_l"]').val(),y=t('input[id^="cs_d_consent-magic_cs_d_single_op_btn_pd_r"]').val(),C=t('input[id^="cs_d_consent-magic_cs_d_single_op_btn_mg_t"]').val(),x=t('input[id^="cs_d_consent-magic_cs_d_single_op_btn_mg_b"]').val(),S=t('input[id^="cs_d_consent-magic_cs_d_single_op_btn_mg_l"]').val(),j=t('input[id^="cs_d_consent-magic_cs_d_single_op_btn_mg_r"]').val(),A=t('input[id^="cs_d_consent-magic_cs_d_single_op_btn_font_size"]').val(),T=t("#cs_d_consent-magic_cs_d_single_op_btn_font_weight").children("option:selected").val();t.ajax({url:cmpro_ajax.ajaxurl,type:"POST",data:{action:"cs_preview_size_single_show",op_pd_t:c,op_pd_b:n,op_pd_l:i,op_pd_r:a,op_font_s:l,op_font_w:r,op_second_font_s:d,op_second_font_w:p,op_btn_pd_t:v,op_btn_pd_b:w,op_btn_pd_l:k,op_btn_pd_r:y,op_btn_mg_t:C,op_btn_mg_b:x,op_btn_mg_l:S,op_btn_mg_r:j,op_btn_font_s:A,op_btn_font_w:T,op_title_f_s:u,op_title_f_w:h,op_subtitle_f_s:m,op_subtitle_f_w:g,op_subsubtitle_f_s:f,op_subsubtitle_f_w:b,_wpnonce:_},beforeSend:function(){o.addClass("loading")},success:function(e){e.success&&(s.html(e.data.html),s.find(".cs-info-bar").hasClass("cs-public-cookie-popup")&&jQuery("body").addClass("cs-barmodal-open"),s.find(".cs-info-bar").css({opacity:1,display:"block"}),s.show(),s.find(".cs_settings_popup").addClass("cs-show").css({opacity:0}).animate({opacity:1}),s.find(".cs_settings_popup").removeClass("cs-blowup cs-out").addClass("cs-blowup"),P())},error:function(e,t,s){console.log(e),console.error("Error AJAX-request!"),console.error("Status:",t),console.error("Error:",s),console.error("Server respond:",e.responseText)},complete:function(){o.removeClass("loading")}})})),t(".preview_color_btn").on("click",(function(){let e=t(".cs_admin_preview_container"),s=e.find(".preview_wrap"),o=t(this).data("template"),c=t("#cs_cs_border_style").children("option:selected").val(),n=t("#cs_cs_backend_color").val(),i=t('input[id^="cs_consent-magic_cs_border_weight"]').val(),a=t("#cs_cs_border_color").val(),l=t("#cs_cs_text_block_bg").val(),r=t("#cs_cs_text_color").val(),d=t("#cs_cs_links_color").val(),p=t("#cs_cs_titles_text_color").val(),u=t("#cs_cs_subtitles_text_color").val(),h=t("#cs_cs_accept_all_buttons_bg").val(),m=t("#cs_cs_accept_all_buttons_text_color").val(),g=t("#cs_cs_custom_button_buttons_bg").val(),f=t("#cs_cs_custom_button_buttons_text_color").val(),b=t("#cs_cs_deny_all_buttons_bg").val(),v=t("#cs_cs_deny_all_buttons_text_color").val(),w=t("#cs_cs_options_buttons_text_color").val(),k=t("#cs_cs_options_buttons_bg").val(),y=t("#cs_cs_confirm_buttons_bg").val(),C=t("#cs_cs_confirm_buttons_text_color").val(),x=t("#cs_cs_sticky_bg").val(),S=t("#cs_cs_sticky_link_color").val(),j=t("#cs_cs_logo_size").children("option:selected").val(),A=t("#cs_cs_logo").val(),T=t("#cs_cs_position_vertical_list").children("option:selected").val(),D=t("#cs_cs_position_horizontal_list").children("option:selected").val(),O=t("#cs_cs_cat_color").val(),E=t("#cs_active_toggle_text_color").val(),I=t("#cs_cs_active_toggle_color").val(),R=t("#cs_cs_shortcodes_text_color").val(),$=t("#cs_cs_tab_buttons_bg").val(),z=t("#cs_cs_tab_buttons_text_color").val(),X=t(this).closest(".cs_preview_design_block").find(".cm-loader-wrap");s.html(""),e.removeClass("bar_small bar_large popup_small popup_large").addClass(o),null==c&&(c=t("#cs_d_consent-magic_cs_border_style").children("option:selected").val()),t.ajax({url:cmpro_ajax.ajaxurl,type:"POST",data:{action:"cs_preview_color_show",cs_backend_color:n,cs_border_style:c,cs_border_weight:i,cs_border_color:a,cs_text_block_bg:l,cs_text_color:r,cs_links_color:d,cs_titles_text_color:p,cs_subtitles_text_color:u,cs_accept_all_buttons_bg:h,cs_accept_all_buttons_text_color:m,cs_custom_button_buttons_bg:g,cs_custom_button_buttons_text_color:f,cs_deny_all_buttons_bg:b,cs_deny_all_buttons_text_color:v,cs_options_buttons_text_color:w,cs_options_buttons_bg:k,cs_confirm_buttons_bg:y,cs_confirm_buttons_text_color:C,cs_sticky_bg:x,cs_sticky_link_color:S,cs_logo:A,cs_position_vertical_list:T,cs_position_horizontal_list:D,cs_logo_size:j,cs_cat_color:O,cs_active_toggle_color:I,cs_active_toggle_text_color:E,bar_type:o,cs_shortcodes_text_color:R,cs_tab_buttons_bg:$,cs_tab_buttons_text_color:z,_wpnonce:_},beforeSend:function(){X.addClass("loading")},success:function(e){e.success&&(s.html(e.data.html),s.find(".cs-info-bar").hasClass("cs-public-cookie-popup")&&jQuery("body").addClass("cs-barmodal-open"),s.find(".cs-popupbar-overlay").addClass("cs-show"),s.find(".cs-info-bar").css({opacity:1,display:"block"}),s.show(),s.find(".cs-modal")?.hasClass("cs_single_design")&&(s.find(".cs_settings_popup").addClass("cs-show").css({opacity:0}).animate({opacity:1}),s.find(".cs_settings_popup").removeClass("cs-blowup cs-out").addClass("cs-blowup")),P())},error:function(e,t,s){console.log(e),console.error("Error AJAX-request!"),console.error("Status:",t),console.error("Error:",s),console.error("Server respond:",e.responseText)},complete:function(){X.removeClass("loading")}})})),t(".btn_preview_rule_edit").on("click",(function(){let e=t(".cs_admin_preview_container"),s=e.find(".preview_wrap"),o=t("._cs_type").children("option:selected").val(),c=0,n=t("._cs_theme").children("option:selected").val(),i=t("._cs_bars_type").children("option:selected").val(),a=t("._cs_bars_position").children("option:selected").val(),l=t("._cs_design_type").children("option:selected").val(),r=0,d=0,p=0,u=0,h=t("#cs_rule_id").val(),m=t(this).closest(".preview_list_action");e.removeClass("bar_small bar_large popup_small popup_large").addClass(i),t("._cs_privacy_link").is(":checked")&&(c=1),t("._cs_deny_all_btn").is(":checked")&&(r=1),t("._cs_sticky").is(":checked")&&(u=1),t("._cs_custom_button").is(":checked")&&(p=1),t("._cs_hide_close_btn").is(":checked")&&(d=1),s.html(""),t.ajax({url:cmpro_ajax.ajaxurl,type:"POST",data:{action:"cs_preview_show",cs_type:o,cs_privacy:c,cs_sticky:u,cs_theme:n,cs_bar_type:i,cs_bar_position:a,cs_design_type:l,cs_deny_all_btn:r,cs_custom_button:p,cs_hide_close_btn:d,cs_rule_id:h,_wpnonce:_},beforeSend:function(){m.addClass("loading")},success:function(e){e.success&&(s.html(e.data.html),s.find(".cs-info-bar").hasClass("cs-public-cookie-popup")&&jQuery("body").addClass("cs-barmodal-open"),s.find(".cs-popupbar-overlay").addClass("cs-show"),s.find(".cs-info-bar").css({opacity:1,display:"block"}),s.show(),s.find(".cs-modal")?.hasClass("cs_single_design")&&(s.find(".cs_settings_popup").addClass("cs-show").css({opacity:0}).animate({opacity:1}),s.find(".cs_settings_popup").removeClass("cs-blowup cs-out").addClass("cs-blowup")),P())},error:function(e,t,s){console.log(e),console.error("Error AJAX-request!"),console.error("Status:",t),console.error("Error:",s),console.error("Server respond:",e.responseText)},complete:function(){m.removeClass("loading")}})})),t(".btn_preview_rule").on("click",(function(){t(".preview_wrap").show(),t(".cs-info-bar").hasClass("cs-public-cookie-popup")&&(jQuery("body").addClass("cs-barmodal-open"),jQuery(".cs-popupbar-overlay").addClass("cs-show")),jQuery(".cs-info-bar").css({opacity:1,display:"block"})})),t(".preview_list_action_btn").on("click",(function(){let e=t(".cs_admin_preview_container"),s=e.find(".preview_wrap"),o=t(this).data("template"),c=t(this).data("id"),n=t(this).closest(".preview_list_action");e.removeClass("bar_small bar_large popup_small popup_large").addClass(o),s.html(""),t.ajax({url:cmpro_ajax.ajaxurl,type:"POST",data:{action:"preview_list_show",cs_rule_id:c,_wpnonce:_},beforeSend:function(){n.addClass("loading")},success:function(e){e.success&&(s.html(e.data.html),s.find(".cs-info-bar").hasClass("cs-public-cookie-popup")&&jQuery("body").addClass("cs-barmodal-open"),s.find(".cs-popupbar-overlay").addClass("cs-show"),s.find(".cs-info-bar").css({opacity:1,display:"block"}),s.show(),s.find(".cs-modal")?.hasClass("cs_single_design")&&(s.find(".cs_settings_popup").addClass("cs-show").css({opacity:0}).animate({opacity:1}),s.find(".cs_settings_popup").removeClass("cs-blowup cs-out").addClass("cs-blowup")),P())},error:function(e,t,s){console.log(e),console.error("Error AJAX-request!"),console.error("Status:",t),console.error("Error:",s),console.error("Server respond:",e.responseText)},complete:function(){n.removeClass("loading")}})})),t(".preview_action_design").on("click",(function(){let e=t(".cs_admin_preview_container"),s=e.find(".preview_wrap"),o=t(this).data("template"),c=t(this).data("theme"),n=t(this).closest(".cs_preview_design_block").find(".cm-loader-wrap");e.removeClass("bar_small bar_large popup_small popup_large").addClass(o),s.html(""),t.ajax({url:cmpro_ajax.ajaxurl,type:"POST",data:{action:"preview_design_show",cs_bars_type:o,cs_theme:c,_wpnonce:_},beforeSend:function(){n.addClass("loading")},success:function(e){e.success&&(s.html(e.data.html),s.find(".cs-info-bar").hasClass("cs-public-cookie-popup")&&jQuery("body").addClass("cs-barmodal-open"),s.find(".cs-popupbar-overlay").addClass("cs-show"),s.find(".cs-info-bar").css({opacity:1,display:"block"}),s.show(),s.find(".cs-modal")?.hasClass("cs_single_design")&&(s.find(".cs_settings_popup").addClass("cs-show").css({opacity:0}).animate({opacity:1}),s.find(".cs_settings_popup").removeClass("cs-blowup cs-out").addClass("cs-blowup")),P())},error:function(e,t,s){console.log(e),console.error("Error AJAX-request!"),console.error("Status:",t),console.error("Error:",s),console.error("Server respond:",e.responseText)},complete:function(){n.removeClass("loading")}})})),t(".cs_tab__script_block li").on("click",(function(){let e=t(this).attr("data-target"),s=t(this).closest(".cs_tab_header"),o=s.siblings(".cs_tab_container");localStorage.setItem("activeSubTabScriptBlock",e),s.find("li").removeClass("active"),t(this).addClass("active"),o.find(".cs_tab_content").hide(),o.find('.cs_tab_content[data-id="'+e+'"]').fadeIn()})),t(".open_target_tab").on("click",(function(e){let s=t(this).attr("data-target");e.preventDefault(),t(".cs_tab ").find("[data-target='"+s+"']").trigger("click"),t("html, body").animate({scrollTop:0},1500)})),t(".cs_tab__script_block").each((function(){let e=localStorage.getItem("activeSubTabScriptBlock"),s=t(this).find("[data-target='"+e+"']");null==e&&(e=t(this).find("li:eq(0)").attr("data-target"),s=t(this).find("[data-target='"+e+"']")),s.trigger("click")})),t(".templates_tab li").on("click",(function(){let e=t(this).attr("data-target"),s=t(this).closest(".cs_tab_header"),o=s.siblings(".cs_tab_container");localStorage.setItem("activeSubTabTemplate",e),s.find("li").removeClass("active"),t(this).addClass("active"),o.find(".cs_tab_content").hide(),o.find('.cs_tab_content[data-id="'+e+'"]').fadeIn()})),t(".templates_tab").each((function(){let e=localStorage.getItem("activeSubTabTemplate"),s=t(this).find("[data-target='"+e+"']");null==e&&(e=t(this).find("li:eq(0)").attr("data-target"),s=t(this).find("[data-target='"+e+"']")),s.trigger("click")})),t(".cs_force_update").on("click",(function(){let e=t(this).closest(".geolocation-buttons");e.find(".cs_message_db_update .message").slideUp(400),t.ajax({url:cmpro_ajax.ajaxurl,type:"POST",data:{action:"cs_force_update",nonce_code:cmpro_ajax.nonce},beforeSend:function(){e.addClass("loading")},success:function(e){},error:function(e,t,s){console.log(e),console.error("Error AJAX-request!"),console.error("Status:",t),console.error("Error:",s),console.error("Server respond:",e.responseText)},complete:function(t){let s=e.find(".cs_message_db_update"),o=t.responseJSON;if("error"===o?.data?.type){let e=s.find(".geolocation-warning-message");e.find(".message-content").html(o.data.message),e.slideDown(400)}else if("success"===o?.data?.type){let e=s.find(".geolocation-info-message");s.find(".message-content").html(o.data.message),e.slideDown(400)}else{let e=s.find(".geolocation-warning-message");s.find(".message-content").html("Something went wrong"),e.slideDown(400)}e.removeClass("loading")}})})),n.on("submit",(function(e){let s=t("#cs_update_action").val(),o=t(this).serialize(),c=t(this).attr("action"),n=t(this).find('button[type="submit"]');var i;e.preventDefault(),(i=n).css({opacity:".5",cursor:"default"}).prop("disabled",!0),t(i).siblings(".cm-loader-wrap").toggleClass("loading"),t.ajax({url:c,type:"POST",data:o+"&cs_settings_ajax_update="+s+"&_wpnonce="+_,success:function(e){window.location=c}})})),t(".cs_deactivation_db_clear").on("change",(function(){t(this).is(":checked")&&t(".cs_deactivation_db_clear_wrap").fadeIn(0).css("opacity","1")})),t(".cs_deactivation_db_clear_wrap_cancel").on("click",(function(){A(),t(".cs_deactivation_db_clear").prop("checked",!1)})),t(".cs_deactivation_db_clear_ok").on("click",(function(){A(),setTimeout((()=>{t(".cm-settings-form").submit()}),400)})),t("#cm-delete-consent").on("click",(function(){t(".cs_delete_proof_consent_wrap").fadeIn(0).css("opacity","1")})),t(".delete_proof_consent_close").on("click",(function(){T()})),t(".export_proof_consent").on("click",(function(e){e.preventDefault();let s=t(this).closest(".cm-modal"),o=s.find(".modal-buttons");D(!0,s,o)})),t(".delete_proof_consent").on("click",(function(e){e.preventDefault(),T(),setTimeout((()=>{t("#cm-delete-proof-consent").val(1),t(".cm-settings-form").submit()}),400)})),t("#cm-export-consent").on("click",(function(e){e.preventDefault(),D(!1,t(".export-info"),t(".export-consent-button"))})),t(".restore_translations").on("click",(function(){t(".cs_restore_translations_wrap").fadeIn(0).css("opacity","1")})),t(".restore_translations_cancel").on("click",(function(){O()})),t(".restore_translations_ok").on("click",(function(){O(),setTimeout((()=>{t("#cm-restore-default-translations").val(1),t(".cm-settings-form").submit()}),400)})),t(".cs_delete_license").on("click",(function(){let e=t(this);e.css({opacity:".5",cursor:"default"}).prop("disabled",!0),t.ajax({url:cmpro_ajax.ajaxurl,type:"POST",data:{action:"cs_instance_update",nonce_code:cmpro_ajax.nonce_code},success:function(t){e.css({opacity:"1",cursor:"pointer"}).prop("disabled",!1),window.location="/wp-admin/admin.php?page=cs-license"},error:function(e,t,s){console.log(e),console.error("Error AJAX-request!"),console.error("Status:",t),console.error("Error:",s),console.error("Server respond:",e.responseText)}})})),t(".cs_multi_select").each((function(){const e=t(this);e.cs_select2({placeholder:e.attr("placeholder")}).on("cs_select2:open",(function(){u(t(this),!0)})).on("cs_select2:close",(function(){u(t(this),!1)}))})),t(".cs_multi_select_tags").each((function(){const e=t(this);e.cs_select2({placeholder:e.attr("placeholder"),tags:!0}).on("cs_select2:open",(function(){u(t(this),!0)})).on("cs_select2:close",(function(){u(t(this),!1)}))})),t(document).on("click",".cs_img_upload",(function(e){e.preventDefault();let s=wp.media({title:"Insert image",library:{type:"image"},button:{text:"Use this image"},multiple:!1}).on("select",(function(){let e=s.state().get("selection").first().toJSON(),o=t(".cs_logo_img_wrap");o.find("img").remove(),o.append('<img src="'+e.sizes.full.url+'" alt="">'),t(".img_recommender").css("display","block"),t(".cs_img_upload_rmv").css("display","block"),t("#cs_cs_logo").val(e.id)})).open()})),t(document).on("click",".cs_img_upload_rmv",(function(e){e.preventDefault(),t(".cs_logo_img_wrap").find("img").remove(),t("#cs_cs_logo").val(""),t(this).css("display","none"),t(".img_recommender").css("display","none")})),t(".form-control-lang").cs_select2({closeOnSelect:!0,allowClear:!1}).on("cs_select2:select",(function(e){let s=t(this).closest(".language_item").find(".js-control-element").attr("id");E(e,t(this),s)})).on("cs_select2:open",(function(){u(t(this),!0)})).on("cs_select2:close",(function(){u(t(this),!1)})),t(".add_new_lang_action").on("click",(function(s){s.preventDefault();let o=t(this).siblings(".add_new_lang").clone(),c=t(this).attr("data-key"),n=t(this).attr("data-render"),i=c+"_"+(new Date).getTime(),a=c+"_lang_"+(new Date).getTime(),l=t(this).closest(".card-body").find(".language_list");if(o.find(".cs_select2-container").remove(),o.find(".form-control-lang-add, .form-control-lang-add-term").addClass("form-control-lang-new").attr("id",a),"renderWpEditor"==n||"renderWpEditorByTerm"==n){let s,a="cs["+t(this).attr("data-plugin-name")+"]["+c+"_0]",_=t(this).closest(".language_list_block").find("> .input_row_default .cs_data_render_wrap textarea").attr("class"),r="";o.find('.cs_data_render_wrap:not([class*="cs_data_render_wrap_editor"])').addClass("cs_data_render_wrap_editor"),void 0!==_&&(_.split(/\s+/),r=_),s="renderWpEditorByTerm"==n?'<textarea id="'+i+'" name="'+a+'" class="cs_cookie_cat_description'+r+'"></textarea>':'<textarea id="'+i+'" name="'+a+'" class="'+r+'"></textarea>',o.find(".cs_data_render").append(s),l.append(o.html()),e(i)}else if("renderTextInput"==n){let e="cs["+t(this).attr("data-plugin-name")+"]["+c+"_0]";o.find('.cs_data_render_wrap:not([class*="cs_data_render_wrap_input"])').addClass("cs_data_render_wrap_input");let s=t(this).closest(".language_list_block").find(".input_row_default .cs_data_render_wrap input").attr("class"),n="";void 0!==s&&(s.split(/\s+/),n=s);let a='<input type="text" id="'+i+'" name="'+e+'" class="'+n+'">';o.find(".cs_data_render").append(a),l.append(o.html())}else if("renderSelectStandardInput"==n){let e="cs["+t(this).attr("data-plugin-name")+"]["+c+"][new]";o.find('.cs_data_render_wrap:not([class*="cs_data_render_wrap_select"])').addClass("cs_data_render_wrap_select");let s=[],n=t(".add_new_lang_wrap .select_default_data select");n&&n.find("option").each((function(){s.push({value:t(this).val(),text:t(this).text().trim()})}));let a=t(this).closest(".language_list_block").find(".select_row_default .cs_data_render_wrap select").attr("class"),_="";void 0!==a&&(a.split(/\s+/),_=a);let r='<select id="'+i+'" name="'+e+'" class="'+_+'">';s.forEach((e=>{r+='<option value="'+e.value+'">'+e.text+"</option>"})),r+="</select>",o.find(".cs_data_render").append(r),l.append(o.html()),function(){let e=t(".settings-policy-pages .language_list").find(".language_item");e.length<=1?e.find(".cs-delete-page").addClass("button-hidden"):e.find(".cs-delete-page").removeClass("button-hidden")}(),t("#"+i).cs_select2({width:"100%"}).on("cs_select2:open",(function(){u(t(this),!0)})).on("cs_select2:close",(function(){u(t(this),!1)}))}t("#"+a).cs_select2({closeOnSelect:!0,allowClear:!1}).on("cs_select2:select",(function(e){E(e,t(this),i)})).on("cs_select2:open",(function(){u(t(this),!0)})).on("cs_select2:close",(function(){u(t(this),!1)})),l.find(".language-message").slideUp(400),l.find(" .language_item:last-child ").slideDown(400)})),t(document).on("click",".cs-delete-lang",(function(){t(this).closest(".language_item").slideUp(400,(function(){t(this).remove()}))})),t("input.cs_geolocation").on("change",(function(){t(".geolocation-settings").toggleClass("disabled",!t(this).is(":checked"))})),t(".cs_activate_geo_license").on("click",(function(){let e=t("#cs_cs_geo_licence_key").val(),s=t("#cs_cs_geo_licence_account_id").val(),o=t(".cs_geo_license_message"),c=t(this),n=c.attr("data-activate"),i=c.attr("data-deactivate"),a=c.attr("data-action"),l=t(this).closest(".geolocation-buttons");t.ajax({url:cmpro_ajax.ajaxurl,type:"POST",data:{key:e,account_id:s,license_action:a,action:"cs_check_geo_license",_wpnonce:_},beforeSend:function(){l.addClass("loading")},success:function(e){1==e.data.status&&1==e.data.license_action?(o.addClass("cs_geo_license_message_activated"),c.html(i),c.attr("data-action",0)):(o.removeClass("cs_geo_license_message_activated"),c.html(n),c.attr("data-action",1)),o.html(e.data.message)},error:function(e,t,s){console.log(e),console.error("Error AJAX-request!"),console.error("Status:",t),console.error("Error:",s),console.error("Server respond:",e.responseText)},complete:function(){l.removeClass("loading")}})})),t(".cs_load_langs").on("click",(function(s){t(this).removeClass("cs_load_langs");let o=t(this).attr("data-render"),c=t(this).closest(".card"),n=c.find(".card-body .add_new_lang"),i=c.find(".add_new_lang_action"),a=t(this).attr("data-key"),l=c.find(".card-body .language_list"),_=t(this).attr("data-option-type"),r=c.find(".language_list_container .cm-loader-wrap");t.ajax({url:cmpro_ajax.ajaxurl,type:"POST",data:{action:"cs_load_langs",current_lang:t(this).attr("data-current-lang"),key:a,term:_,nonce_code:cmpro_ajax.nonce},beforeSend:function(){r.addClass("loading")},success:async function(s){let _=s.data.lang_list;if("object"==typeof _&&Object.keys(_).length>0)for(let s in _){n.find('.cs_data_render_wrap:not([class*="cs_data_render_wrap_editor"])').addClass("cs_data_render_wrap_editor"),l.append(n.html());let c=l.parent().find(".language_list > .language_item:last-child");c.css("display","flex"),c.find(".cs_select2-container").remove(),c.find(".form-control-lang-add").addClass("form-control-lang-new"),0==_[s].enable&&c.css("display","none");let r=c.find(".form-control-lang-new");r.val(s),r.attr("data-lang",s),r.attr("id","cs_edit_cat_description_"+(new Date).getTime());let d="";if(d="renderWpEditorByTerm"==o?"cs["+i.attr("data-plugin-name")+"][categories]["+a+"]["+s+"][description]":"cs["+i.attr("data-plugin-name")+"][text]["+a+"]["+s+"]","renderWpEditor"==o||"renderWpEditorByTerm"==o){let n,l;if("renderWpEditorByTerm"==o){let e=c.find(".cs_cookie_cat_title");e.val(_[s].value.name),e.attr("name","cs["+i.attr("data-plugin-name")+"][categories]["+a+"]["+s+"][title]"),n="cs_edit_cat_description_"+(new Date).getTime(),l='<textarea id="'+n+'" name="'+d+'" class="cs_cookie_cat_description">'+_[s].value.descr+"</textarea>"}else n=a+"_"+(new Date).getTime(),l='<textarea id="'+n+'" name="'+d+'" class="js-control-element">'+_[s].value+"</textarea>";c.addClass("language_item_textarea"),c.find(".cs_data_render").append(l),e(n);let r=i.closest(".language_list_block").find(".input_row_default .cs_data_render_wrap textarea").attr("class");void 0!==r&&(r.split(/\s+/),t("#"+n).addClass(r))}else if("renderTextInput"==o){let e=a+"_"+(new Date).getTime(),o='<input type="text" class="js-control-element input-full" id="'+e+'" name="'+d+'" value="'+_[s].value+'">',n=i.closest(".language_list_block").find(".input_row_default .cs_data_render_wrap input").attr("class").split(/\s+/);c.addClass("language_item_input"),t("#"+e).addClass(n),c.find(".cs_data_render").append(o)}r.cs_select2({closeOnSelect:!0,allowClear:!1}).on("cs_select2:select",(function(e){let s=t(this).closest(".language_item").find(".js-control-element").attr("id");E(e,t(this),s)})).on("cs_select2:open",(function(){u(t(this),!0)})).on("cs_select2:close",(function(){u(t(this),!1)})).attr("data-option-type")}else void 0!==s.data.message&&c.find(".language_list").html(s.data.message);s.success&&c.find(".cs_input_language_control").val("1"),setTimeout((function(){c.find(".language_list_block .language_list").slideDown(400)}),500)},error:function(e,t,s){console.log(e),console.error("Error AJAX-request!"),console.error("Status:",t),console.error("Error:",s),console.error("Server respond:",e.responseText)},complete:function(){setTimeout((function(){r.removeClass("loading")}),500)}}),t(this).unbind(s)})),t(document).on("change",".form-control-lang-add-term",(function(e){let s=t(this).closest(".language_item"),o=t(this).attr("data-rule"),c=t(this).val();s.find("input.cs_cookie_cat_title").attr("name","cs[consent-magic][categories]["+o+"]["+c+"][title]"),s.find("textarea.cs_cookie_cat_description").attr("name","cs[consent-magic][categories]["+o+"]["+c+"][description]")})),t("#cs_search_vendor").on("input",(function(){let e=t("#cs_vendor_list .cs_iab_vendor_container"),s=t(this).val().toLowerCase();e.length>0&&e.each((function(e,o){-1!==t(o).find(".cs_vendor_name").html().toLowerCase().indexOf(s)?t(o).show():t(o).hide()}))})),t("#cs_search_additional_vendor").on("input",(function(){let e=t("#cs_additional_vendor_list .cs_iab_vendor_container"),s=t(this).val().toLowerCase();e.length>0&&e.each((function(e,o){-1!==t(o).find(".cs_vendor_name").html().toLowerCase().indexOf(s)?t(o).show():t(o).hide()}))})),t("#cs_iab_settings .cs_iab_show_only_vendors_details .cs-vendor-input").on("change",(function(){let e=t("#cs_iab_settings #cs_iab_vendor_settings"),s=e.val(),o=t(this).data("vendor_id");s=s?JSON.parse(s):{},s[o]=+t(this).prop("checked"),e.val(JSON.stringify(s))})),t("#cs_iab_settings .cs_iab_show_only_additional_vendors_details .cs-additional-vendor-input").on("change",(function(){let e=t("#cs_iab_settings #cs_iab_additional_vendor_settings"),s=e.val(),o=t(this).data("vendor_id");s=s?JSON.parse(s):{},s[o]=+t(this).prop("checked"),e.val(JSON.stringify(s))})),d.on("click.cs_click_url",".cs_vendor_cookie_details",(function(e){e.preventDefault();let o=t(this),c=parseInt(t(this).data("vendorid")),n=CS_Admin_Data.cs_vendor_list.vendors[c].deviceStorageDisclosureUrl,i=t(this).closest(".cs_vendor_cookie_details_wrap").find(".cs_vendor_description_data"),a=t(this).closest(".cs_vendor_cookie_details_inner");o.removeClass("cs_vendor_cookie_details"),t.ajax({url:n,type:"GET",beforeSend:function(){a.addClass("loading")},success:function(e){if(Object.keys(e.disclosures).length>0){let t='<table><thead><tr><th class="cs_item_description_data_table_col_1">'+CS_Admin_Data.cs_translations.cs_iab_name+'</th><th class="cs_item_description_data_table_col_2">'+CS_Admin_Data.cs_translations.cs_iab_domain+'</th><th class="cs_item_description_data_table_col_3">'+CS_Admin_Data.cs_translations.cs_iab_purposes+'</th><th class="cs_item_description_data_table_col_4">'+CS_Admin_Data.cs_translations.cs_iab_expiry+'</th><th class="cs_item_description_data_table_col_5">'+CS_Admin_Data.cs_translations.cs_iab_type+"</th></tr></thead><tbody>";e.disclosures.forEach((e=>{t+='<tr><td class="cs_item_description_data_table_col_1"> '+e.identifier+'</td><td class="cs_item_description_data_table_col_2">',e.domains&&"object"==typeof e.domains?e.domains.forEach((e=>{t+=e})):e.domain&&"string"==typeof e.domain&&(t+=e.domain),t+='</td><td class="cs_item_description_data_table_col_3">',e.purposes&&(t+="<ul>",e.purposes.forEach((e=>{t+="<li>"+CS_Admin_Data.cs_vendor_list.purposes[e].name+"</li>"})),t+="</ul>"),t+='</td><td class="cs_item_description_data_table_col_4">'+s(e.maxAgeSeconds)+'</td><td class="cs_item_description_data_table_col_5">'+e.type+"</td></tr>"})),t+="</tbody></table>",i.prepend(t)}else i.prepend(CS_Admin_Data.cs_translations.cs_iab_nodata)},error:function(e,t,s){console.log(e),console.error("Error AJAX-request!"),console.error("Status:",t),console.error("Error:",s),console.error("Server respond:",e.responseText),i.prepend(CS_Admin_Data.cs_translations.cs_iab_nodata)},complete:function(){o.find("a").html(CS_Admin_Data.cs_translations.cs_iab_cookie_details+":"),a.removeClass("loading"),i.slideDown(400)}})})),t(document).on("click",".cs_preview_container .cs_sub_tab__popup_content li",(function(){let e=t(this).attr("data-target"),s=t(this).closest(".cs-modal-content"),o=s.find(".cs_sub_tab_container"),c=t(".cs-tab-footer .cs_more_options_btn"),n=t(".cs-tab-footer .cs_setting_save_button");s.find(".cs_sub_tab > li").removeClass("active"),t(this).addClass("active"),o.find(".cs_sub_tab_content_iab").hide(),o.find('.cs_sub_tab_content_iab[data-id="'+e+'"]').fadeIn(),"consent"==e?(c.show(),n.hide()):(c.hide(),n.show())})),t(document).on("click","#cs_preview_popup .cs_more_options_btn",(function(e){e.preventDefault(),t("#cs_preview_popup .cs_sub_tab__popup_content li[data-target=options]").trigger("click")})),t(document).on("click",".cs_preview_container .cs_card-header",(function(){let e=t(this).closest(".cs_card_single").find(".cs_card-body"),s=t(this).find(".cs_card_arrow");e.hasClass("show")?(e.slideUp(600).removeClass("show"),s.removeClass("opened")):(e.slideDown(600).addClass("show"),s.addClass("opened"))})),d.on("click",".cs_iab_vendor_details",(function(){if(!t(this).data("cs-built")){let e=CS_Admin_Data.cs_vendor_list;if(0===Object.keys(e).length)return;let o,c,n="",i=t(this),a=i.closest(".cs_iab_vendor_container"),l=a.find(".list-item-description"),_=parseInt(a.find(".cs-vendor-input").data("vendor_id"));if(Object.keys(e.vendors[_].urls).length>1&&CS_Admin_Data.cs_iab.current_iab_lang){let t=e.vendors[_].urls.map((e=>e.langId)).indexOf(CS_Admin_Data.cs_iab.current_iab_lang);-1!==t?(o=e.vendors[_].urls[t].hasOwnProperty("privacy")?e.vendors[_].urls[t].privacy:"",c=e.vendors[_].urls[t].hasOwnProperty("legIntClaim")?e.vendors[_].urls[t].legIntClaim:""):(o=e.vendors[_].urls[0].hasOwnProperty("privacy")?e.vendors[_].urls[0].privacy:"",c=e.vendors[_].urls[0].hasOwnProperty("legIntClaim")?e.vendors[_].urls[0].legIntClaim:"")}else o=e.vendors[_].urls[0].hasOwnProperty("privacy")?e.vendors[_].urls[0].privacy:"",c=e.vendors[_].urls[0].hasOwnProperty("legIntClaim")?e.vendors[_].urls[0].legIntClaim:"";o.length>0&&(n+="<div>",n+='<h4 class="font-semibold-type2 text-small">'+CS_Admin_Data.cs_translations.cs_iab_privacy_policy+"</h4>",n+='<div class="cs_vendor_link_wrap">',n+='<a href="'+o+'" target="_blank" class="link link-small">'+o+"</a>",n+="</div></div>"),c.length>0&&(n+="<div>",n+='<h4 class="font-semibold-type2 text-small">'+CS_Admin_Data.cs_translations.cs_iab_legitimate_interest+"</h4>",n+='<div class="cs_vendor_link_wrap">',n+='<a href="'+c+'" target="_blank" class="link link-small">'+c+"</a>",n+="</div></div>"),Object.keys(e.vendors[_].purposes).length>0&&(n+="<div>",n+='<h4 class="font-semibold-type2 text-small">'+CS_Admin_Data.cs_translations.cs_iab_purposes+"</h4>",n+='<ul class="cs_iab_purposes_list">',e.vendors[_].purposes.forEach((t=>{if(void 0!==e.purposes[t]){let s=void 0!==e.vendors[_].dataRetention.purposes[t]?e.vendors[_].dataRetention.purposes[t]:e.vendors[_].dataRetention.hasOwnProperty("stdRetention")?e.vendors[_].dataRetention.stdRetention:0;n+="<li>"+e.purposes[t].name+" "+(s?" ("+CS_Admin_Data.cs_translations.cs_iab_days.replace("%",s)+")":"")+"</li>"}})),n+="</ul>",n+="</div>"),Object.keys(e.vendors[_].legIntPurposes).length>0&&(n+="<div>",n+='<h4 class="font-semibold-type2 text-small">'+CS_Admin_Data.cs_translations.cs_iab_purposes+" ("+CS_Admin_Data.cs_translations.cs_iab_legitimate_interest+")</h4>",n+='<ul class="cs_iab_purposes_list">',e.vendors[_].legIntPurposes.forEach((t=>{if(void 0!==e.purposes[t]){let s=void 0!==e.vendors[_].dataRetention.purposes[t]?e.vendors[_].dataRetention.purposes[t]:e.vendors[_].dataRetention.hasOwnProperty("stdRetention")?e.vendors[_].dataRetention.stdRetention:0;n+="<li>"+e.purposes[t].name+" "+(s?" ("+CS_Admin_Data.cs_translations.cs_iab_days.replace("%",s)+")":"")+"</li>"}})),n+="</ul>",n+="</div>"),Object.keys(e.vendors[_].specialPurposes).length>0&&(n+="<div>",n+='<h4 class="font-semibold-type2 text-small">'+CS_Admin_Data.cs_translations.cs_iab_special_purposes+"</h4>",n+='<ul class="cs_iab_purposes_list">',e.vendors[_].specialPurposes.forEach((t=>{if(void 0!==e.specialPurposes[t]){let s=void 0!==e.vendors[_].dataRetention.specialPurposes[t]?e.vendors[_].dataRetention.specialPurposes[t]:e.vendors[_].dataRetention.hasOwnProperty("stdRetention")?e.vendors[_].dataRetention.stdRetention:0;n+="<li>"+e.specialPurposes[t].name+" "+(s?" ("+CS_Admin_Data.cs_translations.cs_iab_days.replace("%",s)+")":"")+"</li>"}})),n+="</ul>",n+="</div>"),Object.keys(e.vendors[_].features).length>0&&(n+="<div>",n+='<h4 class="font-semibold-type2 text-small">'+CS_Admin_Data.cs_translations.cs_iab_features+"</h4>",n+='<ul class="cs_iab_purposes_list">',e.vendors[_].features.forEach((t=>{void 0!==e.features[t]&&(n+="<li>"+e.features[t].name+"</li>")})),n+="</ul>",n+="</div>"),Object.keys(e.vendors[_].specialFeatures).length>0&&(n+="<div>",n+='<h4 class="font-semibold-type2 text-small">'+CS_Admin_Data.cs_translations.cs_iab_special_features+"</h4>",n+='<ul class="cs_iab_purposes_list">',e.vendors[_].specialFeatures.forEach((t=>{void 0!==e.specialFeatures[t]&&(n+="<li>"+e.specialFeatures[t].name+"</li>")})),n+="</ul>",n+="</div>"),void 0!==e.vendors[_].dataDeclaration&&Object.keys(e.vendors[_].dataDeclaration).length>0&&(n+="<div>",n+='<h4 class="font-semibold-type2 text-small">'+CS_Admin_Data.cs_translations.cs_iab_data_categories+"</h4>",n+='<ul class="cs_iab_purposes_list">',e.vendors[_].dataDeclaration.forEach((t=>{void 0!==e.dataCategories[t]&&(n+="<li>"+e.dataCategories[t].name+"</li>")})),n+="</ul>",n+="</div>");let r=[];if(e.vendors[_].cookieMaxAgeSeconds&&(r.cookieMaxAgeSeconds=s(e.vendors[_].cookieMaxAgeSeconds)),e.vendors[_].cookieRefresh&&(r.cookieRefresh=CS_Admin_Data.cs_translations.cs_iab_cookie_refreshed),e.vendors[_].usesCookies||e.vendors[_].usesNonCookieAccess){let t=CS_Admin_Data.cs_translations.cs_iab_storage_methods+":&nbsp;";e.vendors[_].usesCookies?t+=CS_Admin_Data.cs_translations.cs_iab_cookies_and_others:!e.vendors[_].usesCookies&&e.vendors[_].usesNonCookieAccess&&(t+=CS_Admin_Data.cs_translations.cs_iab_other_methods),r.cookies=t}if(Object.keys(r).length>0){n+="<div>",n+='<h4 class="font-semibold-type2 text-small">'+CS_Admin_Data.cs_translations.cs_iab_consent_preferences+"</h4>",n+='<ul class="cs_iab_purposes_list">';for(let e in r)n+="<li>"+r[e]+"</li>";n+="</ul>",n+="</div>"}Object.keys(e.vendors[_].deviceStorageDisclosureUrl).length>0&&(n+='<div class="cs_vendor_cookie_details_wrap mb-16">',n+='<div class="cs_vendor_cookie_details_inner">',n+='<h4 class="font-semibold-type2 text-small cs_vendor_cookie_details_item cs_vendor_cookie_details" data-vendorid="'+_+' ">',n+='<a class="link link-small">'+CS_Admin_Data.cs_translations.cs_iab_show_cookie_details+"</a>",n+="</h4>",n+='<div class="cm-loader-wrap"><svg class="cm-loader" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" width="200" height="200" style="shape-rendering: auto; display: block;" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g>\n        <circle stroke-dasharray="164.93361431346415 56.97787143782138" r="35" stroke-width="10" stroke="#0172cb" fill="none" cy="50" cx="50">\n            <animateTransform keyTimes="0;1" values="0 50 50;360 50 50" dur="1s" repeatCount="indefinite" type="rotate" attributeName="transform"></animateTransform>\n        </circle>\n    </g>\n</svg></div>',n+="</div>",n+='<div class="cs_vendor_description_data text-small"></div>',n+="</div>"),l.append(n),i.attr("data-cs-built",1)}})),d.on("click",".cs_iab_additional_vendor_details",(function(){if(!t(this).data("cs-built")){let e="",s=t(this),o=s.closest(".cs_iab_vendor_container"),c=o.find(".list-item-description"),n=CS_Admin_Data.cs_vendor_list,i=parseInt(o.find(".cs-additional-vendor-input").data("vendor_id"));n.additional_vendors[i].privacy_policy.length>0&&(e+='<div class="cs_sub_sub_card_item_description">',e+='<h4 class="font-semibold-type2 text-small">'+CS_Admin_Data.cs_translations.cs_iab_privacy_policy+"</h4>",e+='<div class="cs_vendor_link_wrap">',e+='<a href="'+n.additional_vendors[i].privacy_policy+'" target="_blank" class="link link-small">'+n.additional_vendors[i].privacy_policy+"</a>",e+="</div></div>"),c.append(e),s.attr("data-cs-built",1)}})),t(document).on("click","#cs_preview_popup .cs_sub_sub_tab__popup_content li",(function(){let e=t(this).attr("data-target"),s=t(this).closest(".cs_card-body"),o=s.find(".cs_sub_tab_container");s.find(".cs_sub_sub_tab > li").removeClass("active-type2"),t(this).addClass("active-type2"),o.find(".cs_sub_sub_tab_content_iab").hide(),o.find('.cs_sub_sub_tab_content_iab[data-id="'+e+'"]').fadeIn()})),t(document).on("click","#cs_preview_popup .cs_more_options_btn",(function(e){e.preventDefault(),t("#cs_preview_popup .cs_sub_tab__popup_content li[data-target=details]").trigger("click")})),t(document).on("click","#cs_preview_popup .cs_open_vendors",(function(e){e.preventDefault(),e.target.matches(".open")&&t(".options_btn").trigger("click"),e.target.matches(".current")||t('#cs_preview_popup .cs_sub_tab__popup_content li[data-target="options"]').trigger("click");let s=t("#cs_card-header-vendors");s.closest(".cs_card_single").find(".cs_card-body").fadeIn().addClass("show"),s.find("i").removeClass("icon-chevron-right-arrow").addClass("icon-chevron-down-arrow");let o=document.getElementById("cs_card-header-vendors").offsetTop;t("#cs-modal-body").animate({scrollTop:o-90},1500)})),t("#cs_export_settings .cs_export_all_settings").on("click",(function(){let e=t("#cs_export_settings input[type=checkbox]");t(this).is(":checked")?e.prop("checked",!0):e.prop("checked",!1)})),t(".cs_export_settings").on("click",(function(e){e.preventDefault();let s={iab_settings:t("input[type=checkbox].cs_export_iab_settings").prop("checked"),general_settings:t("input[type=checkbox].cs_export_general_settings").prop("checked"),geolocation_settings:t("input[type=checkbox].cs_export_geolocation_settings").prop("checked"),default_rules:t("input[type=checkbox].cs_export_default_rules").prop("checked"),custom_rules:t("input[type=checkbox].cs_export_custom_rules").prop("checked"),predefined_scripts:t("input[type=checkbox].cs_export_predefined_scripts").prop("checked"),custom_scripts:t("input[type=checkbox].cs_export_custom_scripts").prop("checked"),design_settings:t("input[type=checkbox].cs_export_design_settings").prop("checked"),script_types:t("input[type=checkbox].cs_export_script_types").prop("checked"),text:t("input[type=checkbox].cs_export_text").prop("checked"),nonce_code:cmpro_ajax.nonce,action:"cs_export_settings"},o=t(".cs_settings_message"),c=o.find(".message-content"),n=t(".cs_export_settings_buttons");t.ajax({type:"POST",data:s,url:cmpro_ajax.ajaxurl,beforeSend:function(){n.addClass("loading"),c.html("Export processing"),o.slideDown(400)},success:function(e){let t=document.createElement("a");t.href="data:text/json;charset=utf-8,"+encodeURIComponent(e),t.download="export.json",document.body.appendChild(t),t.click(),c.html("Export completed")},error:function(e,t,s){console.log(e),console.error("Error AJAX-request!"),console.error("Status:",t),console.error("Error:",s),console.error("Server respond:",e.responseText),c.html("Something went wrong")},complete:function(){n.removeClass("loading")}})})),t("#cs_import_settings").on("change",(function(){let e=new FormData,s=t(".cs_settings_message"),o=s.find(".message-content"),c=t(".cs_export_settings_buttons");e.append("nonce_code",cmpro_ajax.nonce),e.append("action","cs_import_settings"),e.append(t(this).attr("name"),t(this).prop("files")[0]),t.ajax({url:cmpro_ajax.ajaxurl,data:e,processData:!1,contentType:!1,type:"POST",beforeSend:function(){c.addClass("loading"),o.html("Import processing"),s.slideDown(400)},success:function(e){e.success,o.html(e.data)},error:function(e,t,s){console.log(e),console.error("Error AJAX-request!"),console.error("Status:",t),console.error("Error:",s),console.error("Server respond:",e.responseText),o.html("Something went wrong")},complete:function(){c.removeClass("loading")}})})),t('select[name="cs[consent-magic][cs_user_default_language]"]').on("change",(function(){let e=t(this).find(":selected").val(),s=t('input[name="cs[consent-magic][cs_language_availability]['+e+']"]').closest(".cs_available_lang_container"),o=t("#cs_language_message").html();t(".cs_available_lang_container").each((function(){t(this).css({opacity:"1","pointer-events":"auto"}),t(this).find(".cs_language_message").html("")})),s.css({opacity:"0.5","pointer-events":"none"}),s.find(".custom-switch-input").prop("checked",!0),s.find(".cs_language_message").html(o)})),t("#cm-save-settings").on("click",(function(){void 0!==window.tinyMCE&&window.tinyMCE.triggerSave();let e=t(".cm-settings-form"),s=e.find('input[name="cs[consent-magic][new_category][title]"]'),o=e.find('textarea[name="cs[consent-magic][new_category][description]"]');s.length>0&&""!==s.val().trim()&&o.length>0&&""!==o.val().trim()?t(".cs_renew_consent_wrap_new_cat").fadeIn(0).css("opacity","1"):(t(this).unbind("click"),e.submit())})),t(".cs_plugin_activation").on("click",(function(){I()})),I(),t("body").on("change","._cs_sticky",(function(){t(".sticky-list-container").toggleClass("disabled",!t(this).is(":checked"))})),t("._cs_smart_sticky, ._cs_smart_sticky_mobile").on("change",(function(){let e=t(this).closest(".sticky-list").find(".checkbox-item");e.toggleClass("dimmy_checkbox",!t(this).is(":checked")),e.find("input[type=checkbox]").prop("disabled",!t(this).is(":checked"))})),t("body").on("change","._cs_custom_button",(function(){t(".cs_custom_button_block_categories").toggleClass("disabled",!t(this).is(":checked"))})),t("body").on("click",".cs_script_action",(function(){if(t(this).closest(".facebook_term_group").length>0){let e=t(".facebook_term_group_switchers");t(this).is(":checked")?e.find(".cs_script_action").prop("checked",!0).prop("disabled",!1):e.find(".cs_script_action").prop("checked",!1).prop("disabled",!0)}})),t("input.cs_customer_email_consent_for_wc_orders").on("change",(function(){t(".privacy-options-text-wrap").toggleClass("disabled",!t(this).is(":checked"))})),t("input.cs_consent_for_pys").on("change",(function(){t(".consent_expressed_for_pys").toggleClass("disabled",!t(this).is(":checked"))}));function $(e,t){if(!e.is(":disabled")){let s=Number(e.val());isNaN(s)&&(s=0),s+=+t;const o=e.attr("max"),c=e.attr("min");void 0!==o&&s>Number(o)?s=Number(o):void 0!==c&&s<Number(c)?s=Number(c):s<0&&(s=0),e.val(s).attr("value",s)}}t(".input-number-wrapper").each((function(){!function(e){const t=e.find("input"),s=Number(t.attr("step"))||1;e.find(".increase").on("click",(function(e){e.preventDefault(),$(t,s)})),e.find(".decrease").on("click",(function(e){e.preventDefault(),$(t,-s)}))}(t(this))})),t(".cm-license-action").on("click",(function(e){let s=t(this).attr("name"),o=t("#cs_settings_form"),c=o.data("type"),n=t("#product_id"),i=t("#api_key"),a=t(".license-loader .cm-loader-wrap"),l=t(p?".license-key-action":".deactivate-button"),_=p?"loading":"hidden-block";"deactivate"==s?(t("#"+c+"_consent_magic_pro_deactivate_checkbox").val("deactivate"),i.removeAttr("required"),n.length>0&&n.removeAttr("required"),a.addClass("loading"),l.addClass(_),o.submit()):"activate"==s&&(t("#"+c+"_consent_magic_pro_deactivate_checkbox").val("reactivate"),i.val().length>0&&(a.addClass("loading"),l.addClass(_),o.submit()))})),t(".activate-license-action").on("click",(function(e){let s=t(".license-loader .cm-loader-wrap"),o=t("#api_key"),c=t("#product_id");s&&o.val().length>0&&(!c.length||c.val().length>0)&&(s.addClass("loading"),p&&t(this).addClass("loading"))}));const z=t(".cm-general-menu-mobile"),X=t(".cm-dropdown-toggle"),N=t(".cm-dropdown-menu");X.on("click",(function(){z.toggleClass("open"),z.hasClass("open")?N.slideDown(400):N.slideUp(400)})),t(document).on("click",".settings-policy-pages .cs-delete-page",(function(){let e=t(this).closest(".language_list"),s=t(this).closest(".language_item"),o=e.find(".language_item");o.length<=2?o.find(".cs-delete-page").addClass("button-hidden"):o.find(".cs-delete-page").removeClass("button-hidden"),s.slideUp(400,(function(){s.remove()}))})),setTimeout((()=>{new o({containerSelector:".language_list_block_wrap",scrollSelector:".mce-stack-layout-item[role=toolbar]",breakpoint:640}),new o({containerSelector:".script-description-inner",scrollSelector:".mce-stack-layout-item[role=toolbar]",breakpoint:860}),new o({containerSelector:".pre-defined-scripts-bar .input_row_default",scrollSelector:".mce-stack-layout-item[role=toolbar]",breakpoint:860})}),2e3);new o({containerSelector:".pre-defined-scripts-bar",scrollSelector:".cs_tab_header_draggable",breakpoint:860}),new o({containerSelector:".pre-defined-scripts-bar .language_list_block",scrollSelector:".mce-stack-layout-item[role=toolbar]",breakpoint:860})}));class o{constructor({containerSelector:e,scrollSelector:s,breakpoint:o=640}){this.$container=t(e),this.scrollSelector=s,this.breakpoint=o,this.isDown=!1,this.startX=0,this.scrollLeft=0,this.touchStartX=0,this.touchScrollLeft=0,this.isDesktop=(window.visualViewport&&"number"==typeof window.visualViewport.width?window.visualViewport.width:window.innerWidth)>=this.breakpoint,this.namespace=`.dragScroll-${Math.random().toString(36).substr(2,5)}`,this.init()}init(){this.enableDragIfNeeded(),t(window).on(`resize${this.namespace}`,(()=>this.onResize()))}enableDragIfNeeded(){if(this.isDesktop)return;const e=this.$container.find(this.scrollSelector);this.$container.on(`mousedown${this.namespace}`,this.scrollSelector,(e=>{this.isDown=!0,this.startX=e.pageX-t(e.currentTarget).offset().left,this.scrollLeft=e.currentTarget.scrollLeft,t(e.currentTarget).addClass("dragging")})),t(document).on(`mouseup${this.namespace}`,(()=>{this.isDown=!1,e.removeClass("dragging")})),this.$container.on(`mouseleave${this.namespace}`,this.scrollSelector,(e=>{this.isDown=!1,t(e.currentTarget).removeClass("dragging")})),this.$container.on(`mousemove${this.namespace}`,this.scrollSelector,(e=>{if(!this.isDown)return;e.preventDefault();const s=2*(e.pageX-t(e.currentTarget).offset().left-this.startX);e.currentTarget.scrollLeft=this.scrollLeft-s})),this.$container.on(`touchstart${this.namespace}`,this.scrollSelector,(e=>{this.touchStartX=e.originalEvent.touches[0].pageX,this.touchScrollLeft=e.currentTarget.scrollLeft})),this.$container.on(`touchmove${this.namespace}`,this.scrollSelector,(e=>{const t=2*(e.originalEvent.touches[0].pageX-this.touchStartX);e.currentTarget.scrollLeft=this.touchScrollLeft-t}))}onResize(){const e=this.$container.find(this.scrollSelector);this.isDesktop?(this.$container.off(this.namespace),t(document).off(this.namespace),t(window).off(`resize${this.namespace}`),e.removeClass("dragging")):this.enableDragIfNeeded()}destroy(){const e=this.$container.find(this.scrollSelector);this.$container.off(this.namespace),t(document).off(this.namespace),t(window).off(`resize${this.namespace}`),e.removeClass("dragging")}}}(jQuery);const e=function(e){wp.editor.initialize(e,{tinymce:{wpautop:!0,skin:"lightgray",relative_urls:!1,remove_script_host:!1,convert_urls:!1,browser_spellcheck:!0,fix_list_elements:!0,resize:"vertical",body_class:"",preview_styles:"font-family font-size font-weight font-style text-decoration text-transform",wpeditimage_disable_captions:!1,wpeditimage_html5_captions:!0,toolbar1:"bold,italic,underline,blockquote,strikethrough,bullist,numlist,alignleft,aligncenter,alignright,undo,redo,link,spellchecker,fullscreen",setup:function(e){e.on("init",(function(){e.getBody().style.fontFamily='"Noto Sans", sans-serif, serif'}))}},quicktags:!0,mediaButtons:!1})};window.init_wp_editor=e||function(){};window.copyShortcode=function(e,t){navigator.clipboard.writeText(e);let s=t.querySelector(".tooltip");s.classList.add("show"),setTimeout((function(){s.classList.remove("show")}),1500)}||function(){};const t={set:function(e,t,s){let o;if(s){let e=new Date;e.setTime(e.getTime()+24*s*60*60*1e3),o="; expires="+e.toGMTString()}else o="";document.cookie=e+"="+t+o+"; path=/"},read:function(e){let t=e+"=",s=document.cookie.split(";");for(let e=0;e<s.length;e++){let o=s[e];for(;" "==o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null},erase:function(e){this.set(e,"",-10)},exists:function(e){return null!==this.read(e)}};window.CS_Cookie=t||{};const s=function(e){let t="";window.dayjs.extend(window.dayjs_plugin_duration);let s=window.dayjs.duration(1e3*e),o=s.years();t+=0!==o?CS_Admin_Data.cs_translations.cs_iab_years.replace("%",o)+"&nbsp;":"";let c=s.months();t+=0!==c?CS_Admin_Data.cs_translations.cs_iab_months.replace("%",c)+"&nbsp;":"";let n=s.days();t+=0!==n?CS_Admin_Data.cs_translations.cs_iab_days.replace("%",n)+"&nbsp;":"";let i=s.hours();t+=0!==i?CS_Admin_Data.cs_translations.cs_iab_hours.replace("%",i)+"&nbsp;":"";let a=s.minutes();return t+=0!==a?CS_Admin_Data.cs_translations.cs_iab_minutes.replace("%",a)+"&nbsp;":"",t};function o(){const e=document.getElementById("adminmenuwrap"),t=document.querySelector(".save-settings"),s="rtl"===document.dir;e&&t&&(s?t.style.right=`${e.offsetWidth}px`:t.style.left=`${e.offsetWidth}px`)}window.getTimeInterval=s||function(){},window.cs_store_settings_btn_click=function(e){document.getElementById("cs_update_action").value=e},window.addEventListener("load",o);const c=document.getElementById("adminmenuwrap");if(c){new ResizeObserver((e=>{for(let t of e)o()})).observe(c)}})();